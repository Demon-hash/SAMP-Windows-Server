#include <a_samp>
#include <float>
#include <a_http>
#include <PME>
#include <foreach>

#define debug_mode 0
#define SERVER_UPDATE "10.11.2020"

#if debug_mode == 0
	#include <discord-connector>
#endif

#include <sscanf2>
#include <dc_cmd>
#include <a_mysql>
#include <streamer>

#include <date>
#include <a_json>
#include <jit>
#include <a_actor>
#include <strlib>
#include <pawn_raknet>
#include <gravity>

/******************************************************************************/

#define SERVER_BUILD "16"
#define SERVER_DEFINING_ROLE "707277359958458427"
#define SERVER_DEFINING_BUILD "16"

#define AC_MAX_REPORTS 3

#if !defined IsValidVehicle
native IsValidVehicle(vehicleid);
#endif

#define GOLD_VIP_PRICE 10
#define SILVER_VIP_PRICE 7
#define BRONZE_VIP_PRICE 4

/*

#define SERVER_BUILD "20"
#define SERVER_DEFINING_ROLE "707265103619162152" //BUILD 20
#define SERVER_DEFINING_BUILD "20"

*/

/******************************************************************************/

native SendClientCheck(playerid, actionid, memaddr, memOffset, bytesCount);

#pragma dynamic 15000 // Because of classes... ~1.07 MBF

#if debug_mode == 0
#define SQL_HOST "db3.myarena.ru"//"151.80.47.109" //"db3.myarena.ru"
#define SQL_USER "u9764_taxa"//"gs29089"//"u9764_taxa"
#define SQL_PASS "d@u87Ud!KA87Rj"//"2Ti7ysazcu"//"d@u87Ud!KA87Rj"
#define SQL_DB "u9764_taxa"//"gs29089"//"u9764_taxa"
#else
#define SQL_HOST "127.0.0.1"
#define SQL_USER "root"
#define SQL_PASS ""
#define SQL_DB "zasamp"
#endif

#define MAX_SELLING_INFO 9

#define min(%0,%1) (%1 > %0) ? %0 : %1
#define max(%0,%1) (%1 > %0) ? %1 : %0

#define KEY_AIM 128
#define MIN_RECONNECT_TIME 5000

#undef MAX_PLAYERS
#define MAX_PLAYERS 50

#undef MAX_VEHICLES
#define MAX_VEHICLES 180

#define GetUnlockedSlot(%0,%1) (%0) >> (1 * (%1)) & 1
#define SetUnlockedSlot(%0,%1,%2) (%0) = ((%0) & (~0 ^ (1 << (1 * (%1))))) | ((%2) << (1 * (%1)))

#define fun%0(%1) forward%0(%1);public%0(%1)

#define MAX_MAP_TIME 300
#define MAX_RESTART_TIME 5000
#define MAX_MAPUPDATE_TIME 5000
#define MAX_SHOW_CP_TIME 1000
#define MAX_END_TIME 60000
#define MAX_BALANCERUPDATE_TIME 10000
#if !defined isnull
    #define isnull(%1) \
                ((!(%1[0])) || (((%1[0]) == '\1') && (!(%1[1]))))
#endif

#define KEY(%0) (((newkeys & (%0)) == (%0)) && ((oldkeys & (%0)) != (%0)))

#define NAME "...|| ZOMBIE APOCALYPSE ||..."
#define SITE "sampzdm.net"
#define FORUM "sampzdm.net"
#define DISCORD "discord.gg/mPNKjC5"

/// SetPlayerColor()
#define COLOR_HUMAN 0x00CCCCFF
#define COLOR_ZOMBIE 0x99CC00FF
#define COLOR_INFECTED 0xE68687FF
#define COLOR_EVACUATED 0xF2EF5BFF
///In-Chat colors
#define COLOR_GREY "{C0BFBF}"
#define COLOR_LIGHTBLUE "{33CCFF}"
#define COLOR_ABILITY "{009900}"
#define COLOR_ADMIN_CHAT "{6A8EE2}"
#define COLOR_MEDIC_CURE "{B2F558}"
#define COLOR_ACHS_UN "{66ccff}"
#define COLOR_ACHS_LO "{d5d5c3}"

///Formats
#define SendClientMessageFormat(%0,%1,%2,%3) do{new str[196];format(str,sizeof(str),%2,%3);SendClientMessage(%0,%1,str);}while(NeededforDefine)
#define SendMessageFormatToAll(%0,%1,%2) do{new str[196];format(str,sizeof(str),%1,%2);SendClientMessageToAll(%0,str);}while(NeededforDefine)
#define GetPlayerCountry(%0) Player[%0][p_Country]
///GetPlayerTeamEx()
#define TEAM_HUMAN 0
#define TEAM_ZOMBIE 1

#define ZOMBIEFAN 89999
#define DOCTOR 87421

enum
{
    CIVILIAN = 0, 															// 0
	POLICEMAN, 																// 500
	MEDIC, 																	// 1,500
	SCOUT, 																	// 1,500
	HEAVYSUPPORT, 															// 5,000
	ENGINEER,  																// 7,500
	ATHLETE, 																// 12,000
	MI7, 																	// 15,000
	SWAT, 																	// 15,000
	SCAVENGER,                                                        		// 20,000
	FIREMANIAC, 															// 25,000
	ADVANCEDENGINEER, 														// 35,000
	RUNNER, 																// 50,000
	TOUGHIE, 																// 60,000
	TERRORIST, 																// 70,000
	TOURIST,                                                          		// 100,000
	ROCKETMAN, 																// 180,000
	SHARPSHOOTER,                                                     		// 250,000
	IRONMAN, 																// 600,000
	ADVANCEDENGINEER_2,                                                     // 850,000
	HUMANQUEEN, 															// 1,500,000
};

enum
{
	STANDARDZOMBIE = 0, 													// 0
	FLESHERZOMBIE, 															// 500
	BLINDZOMBIE, 															// 1,500
	REAPERZOMBIE, 															// 5,000
	BOOMERZOMBIE, 															// 8,000
	FASTZOMBIE, 															// 15,000
	STOMPERZOMBIE, 															// 30,000
	REMOVER,                                                           		// 40,000
	ROGUEZOMBIE, 															// 50,000
	MEGAJUMPERZOMBIE, 														// 90,000
	RADIOACTIVEZOMBIE,                                                		// 100,000
	SLOWZOMBIE,                                                       		// 150,000
	RISENDEAD,                                                        		// 200,000
	SPACEBREAKERZOMBIE,                                               		// 350,000
	SLENDERZOMBIE,                                                   		// 500,000
};

#define VIPHUMAN 5000 // 1
#define ASSASSIN 5001 // 3 lvl of VIP (headshots)

#define SCREAMERZOMBIE 5000 // 1
#define TANKZOMBIE 5001 // 2 lvl of VIP (300 HP)

///Dialogs

enum
{
    DIALOG_REGISTER_STEP_0,
    DIALOG_REGISTER_STEP_1,
    DIALOG_REGISTER_STEP_2,
    DIALOG_REGISTER_STEP_3,
    DIALOG_LOGIN,

    DIALOG_RESTORE_ACCESS_0,
    DIALOG_RESTORE_ACCESS_1,
    
    DIALOG_ZOMBIE_CLASSES,
    DIALOG_HUMAN_CLASSES,
    DIALOG_CLASSES,
    
    DIALOG_SECURITY,
	DIALOG_CRAFT,
	DIALOG_CRAFT_ACCEPT,
	DIALOG_CRAFT_DO1,
	DIALOG_CRAFT_DO2,
	DIALOG_CRAFT_DO3,
	DIALOG_CRAFT_DO4,
	DIALOG_CRAFT_BERSERKER,
	DIALOG_GAME_HELP,
	DIALOG_GAME_HELP_GANGS,
	DIALOG_GAME_HELP_GPROCESS,
	DIALOG_UPGRADE_SKILLS,
	DIALOG_UPGRADE_SKILL,
    
    DIALOG_SHOP_ITEMS,
	DIALOG_INV_SELECT,
	DIALOG_INV_DROP,
	DIALOG_OPEN_ITEM,
	DIALOG_TROPHYS,
	DIALOG_TROPHYS_DO,
	DIALOG_TROPHYS_UPGRADE,
	DIALOG_TROPHYS_DROP,
    
    DIALOG_LANGUAGE,
	DIALOG_INFO,
	DIALOG_SHOP,
	DIALOG_SETTINGS,
	DIALOG_GANG_SETTINGS,
	DIALOG_GANG_TYPE,
	DIALOG_GANG_TROPHY,
	DIALOG_WARNED,
	DIALOG_INFO_ACH,

	DIALOG_CHAOS,
	DIALOG_CHAOS_BUY,
	DIALOG_CHAOS_BUY_OFCOURSE,

	DIALOG_GANG_FOREMAN,
	DIALOG_GANG_MEMBERS_LIST,
	DIALOG_GANG_MEMBERS_ACTION,
	DIALOG_GANG_MEMBERS_ACCEPTING,

	DIALOG_VALIENTINE_DAY,
	DIALOG_VALIENTINE_SHOP,
	DIALOG_VALIENTINE_QUEST,
	DIALOG_VALIENTINE_QUEST_2,

	DIALOG_COLLECTIONS,
	DIALOG_INFO_DIAL,
	DIALOG_AUCTION_START,
	DIALOG_AUCTION_SELL,
	DIALOG_AUCTION_BUY,

	DIALOG_AUCTION_SELL_COUNT,
	DIALOG_AUCTION_SELL_PRICE,
	DIALOG_AUCTION_CONFRIM,
	DIALOG_AUCTION_BUY_COMFIRM,
	DIALOG_AUCTION_BUY_COUNT,
	DIALOG_AUCTION_EDIT,
	DIALOG_AUCTION_DELETE,

	DIALOG_WEAPON_BUFFS,
	DIALOG_WEAPON_RESET_BUFFS,

	DIALOG_DONATE_ACTIONS,
	DIALOG_VIP_SHOP,

	DIALOG_COLLECTIONS_EXCHANGE,

	DIALOG_ATTACH_INDEX,
	DIALOG_ATTACH_INDEX_SELECTION,
	DIALOG_ATTACH_EDITREPLACE,
	DIALOG_ATTACH_MODEL_SELECTION,
	DIALOG_ATTACH_BONE_SELECTION,

	DIALOG_INV,
	DIALOG_PET_NAME,
	DIALOG_PETS,
	DIALOG_USE_VIP_STONE,
	DIALOG_PETS_ACTIONS,
	DIALOG_PETS_ACTIONS_SELL,
    
    DIALOG_REGISTER_LANGUAGE,
    DIALOG_BUY_CLASS,
    DIALOG_ZOMBIE_SHOP,
    DIALOG_SPECIALITES,
    DIALOG_SPECIALITES_CONFIRM,
    
    DIALOG_JOIN_GANG,
    DIALOG_CREATE_MAIL,
    
    DIALOG_TROPHY_SELL,
    DIALOG_TROPHY_SHOW,
    DIALOG_SHOW_OFFLINE_MEMBERS,
    DIALOG_CARDS,
    DIALOG_UNLOCK_CARD_EFFECT,
    DIALOG_SPECIALITES_LEVEL_UP,
    DIALOG_BUY_FROM_MERCHANT,
    DIALOG_UPGRADE_WEAPONS,
    DIALOG_UPGRADE_WEAPONS_SELECT,
    DIALOG_UPGRADE_WEAPONS_CONFIRM,
    DIALOG_SELL_WEAPON,
    DIALOG_SELL_WEAPON_CONFIRM,
    
    DIALOG_UPGRADE_CHAR,
    DIALOG_UPGRADE_CHAR_SELECT,
    DIALOG_UPGRADE_CHAR_CONFIRM,
    DIALOG_SELL_CHAR,
    DIALOG_SELL_CHAR_CONFIRM,
    
    DIALOG_VIP_MENU,
};

#define WEAPON_UNARMED 0
#define WEAPON_VEHICLE_M4 19
#define WEAPON_VEHICLE_MINIGUN 20
#define WEAPON_PISTOLWHIP 48
#define WEAPON_HELIBLADES 50
#define WEAPON_EXPLOSION 51
#define WEAPON_CARPARK 52
#define WEAPON_UNKNOWN 55

#define  COLT_DELAY_HIT     200
#define  SILENCE_HIT_DELAY  400
#define  DEAGLE_HIT_DELAY   400 // 400
#define  SHOTGUN_HIT_DELAY  0
#define  RIFLE_HIT_DELAY    0
#define  SNIPER_HIT_DELAY   0

#define GANG_WARS_DAY 5
#define GANG_CUPS_DAY 1
#define GANG_MAX_ALLIANCES 2
#define GANG_MAX_WARS 30
#define GANG_TAXPERCENT 45
#define GANG_ENABLE_MAPBUFF 1
#define GANG_MIN_RANK 10

new bool:UseNewBalance = false;
new EventFilterScript[128] = "\0";
new FirstPerson[MAX_PLAYERS];
new TimesJumped[MAX_PLAYERS]= {0, ...};
new TormentTime[MAX_PLAYERS] = {0, ...};
new ARDestructionTime[MAX_PLAYERS] = {0, ...};
new DoctorTimes[MAX_PLAYERS] = 0, VipTeamSelected[MAX_PLAYERS];

new bool:IsInCoffin[MAX_PLAYERS]={false, ...};

static PR_VirtualWorldForPlayer[MAX_PLAYERS] = {0, ...};
new bool:Invisible[MAX_PLAYERS] = {false, ...};
new bool:FatalAttack[MAX_PLAYERS] = {false, ...};
new bool:GravityMode[MAX_PLAYERS] = {false, ...};
new bool:GravityReset[MAX_PLAYERS] = {false, ...};

new WeaponSkill[MAX_PLAYERS][39] = {0, ...};
new CharacterSkill[MAX_PLAYERS][4] = {0, ...};

new WeaponModule[MAX_PLAYERS][39][8];

static const WeaponModuleName[][] =
{
	"Pointer",
	"Barrel",
	"Sight",
	"Underbarrel",
	"Grip",
	"Stock",
	"Ammo",
	"Magazine"
};

static const WeaponModuleNameEx[][] =
{
	/// Указатели
	"Laser", // 0
	"Flashlight", // 1
	"Knife", // 2
	
	/// На дуло
	"Muffler", // 3
	"Compensator", // 4
	
	/// Прицелы
	"Regular sight", // 5
	"Collimator sight", // 6
	"Assault sight", // 7
	"Sniper scope", // 8
	
	/// Тактический блок
	"Underbarrel grenade launcher", // 9
	"Tactical unit", // 10
	"Chock Bor", // 11
	
	/// Рукоятки
	"Vertical forward grip", // 12
	"Angled fore grip", // 13
	
	/// Приклады
	"Folding stock", // 14
	"Fixed stock", // 15
	"Short stock", // 16
	"Polymer stock", // 17
	"Wooden stock", // 18
	
	/// Патроны
	"Uses Fire Ammo", // 19
	"Uses Poisoned Ammo", // 20
	"Uses Radioactive Ammo", // 21
	"Uses Holy Ammo", // 22
	"Uses Bloody Ammo", // 23
	"Uses Default Ammo", // 24
	
	/// Магазин
	"Default Magazine", // 25
	"Enlarged Magazine", // 26
	
	"Uses Gas Ammo", // 27
	"Uses Electro Ammo" // 28
};

GiveWeaponPointer(weaponid) return -1;
GiveWeaponMuffler(weaponid)
{
	switch(weaponid)
	{
		case 23: return 3;
	}
	return -1;
}
GiveWeaponScope(weaponid)
{
    switch(weaponid)
	{
		case 31: return 6;
		case 34: return 8;
	}
	return 5;
}
GiveWeaponTacticalUnit(weaponid) return -1;
GiveWeaponGrip(weaponid) return -1;
GiveWeaponStock(weaponid)
{
    switch(weaponid)
	{
		case 25: return 17;
		case 29: return 16;
		case 30: return 15;
		case 31: return 15;
		case 33: return 18;
		case 34: return 18;
	}
	return -1;
}
GiveWeaponAmmoModule(weaponid) return 24;
GiveWeaponMagazine(weaponid) return 25;

new
	PlayerSelectWeaponToUpgrade[MAX_PLAYERS] = {0, ...},
    PlayerSelectUpgraderToWeapon[MAX_PLAYERS] = {0, ...},
    
    PlayerSelectStatToUpgrade[MAX_PLAYERS] = {0, ...},
    PlayerSelectUpgraderToStat[MAX_PLAYERS] = {0, ...};



new AdminActivityWait = 0;
/*******************************************************************************/

new GangsSettings[] = {GANG_WARS_DAY, GANG_CUPS_DAY, GANG_MAX_ALLIANCES, GANG_MAX_WARS, GANG_TAXPERCENT, GANG_ENABLE_MAPBUFF, GANG_MIN_RANK};
new GangTimer[] = {0, 0};
new JumpTimes[MAX_PLAYERS] = {0, 0};
new KSList[3] = {-1, -1, -1}, KSListKS[3] = {0, 0, 0}, alreadyNotificated[MAX_PLAYERS] = {-1, ...};

new CanJumpTwice[MAX_PLAYERS] = {0, ...};
new already_skipped = false;
new PlayerShowHisTrophyID[MAX_PLAYERS] = {-10, ...};
new AccountsToAccept[MAX_PLAYERS][30] = {-1, ...};
new CardEffectToUnlock[MAX_PLAYERS] = {-1, ...};
new drugs[MAX_PLAYERS] = {5, ...};
new TempSpeciality[MAX_PLAYERS] = {-1, };

new IsPlayerControlledBy[MAX_PLAYERS] = {-1, ...};
new PlayerControllPlayer[MAX_PLAYERS] = {-1, ...};
//new SpiderObject[MAX_PLAYERS][25];

new Text:CheatShow[2][10],CheaterID[2][10];
new Text:DisplayAlerts[3][MAX_PLAYERS];
new Text:DisplayInfo[2][MAX_PLAYERS];

new Text:DayStars[10][MAX_PLAYERS];
new Text:DayReward[4][MAX_PLAYERS];
new DayRewards[MAX_PLAYERS][3] = {{2061, 11738, 1313}, ...};
new bool:SelectReward[MAX_PLAYERS] = {true, ...};

new pActionsSelected[MAX_PLAYERS][6] = {{-1,-1},...};
new byingClass[MAX_PLAYERS][2] = {{-1,-1}, ...};
new CanPay = true;
new PHS_SelID[MAX_PLAYERS] = {-1, ...};

//Damage System 2.5

new KilledBy[MAX_PLAYERS] = {INVALID_PLAYER_ID, ...},
	KilledByWeapon[MAX_PLAYERS] = {0, ...},
	DamageApplyType[MAX_PLAYERS][2] = {{0, 0}, ...};

/********************************************************************************************/
new HeadshotsInCount[MAX_PLAYERS][MAX_PLAYERS];
new bool:SuspectForAIM[MAX_PLAYERS] = {false, ...};

//////////////////////////////////////////////////
enum e_PicksInfo
{
	bool:epi_PickCanDestroy,
	epi_EventID,
	e_ID,
    e_Time,
    e_ForPlayer,
    e_ItemID,
    e_DropperID
};

new Pickups[MAX_PICKUPS][e_PicksInfo];
/////////////////////////////////////////////////

#define SERVER_TECH_WORK 0
#define MERCHANT_COMING_DAY 0
#define MERCHANT_STAY_DAYS 3
#define EVENT_TYPE 0
new EVENT_TIME  = 0;
#define EVENT_DAY 0

new ServerConfigs[] = {0, 0, 0, 0, 0, 0};
new isMerchantCame[2], serverEventType = 0;

new hasFlowers[MAX_PLAYERS] = {false,...};
new Float:ValintinePoses[][4] =
{
    {627.9654,-571.9291,17.4529,266.6493},
	{-1310.6614,490.7129,11.1953,357.9190},
	{201.7479,1869.6241,13.1406,272.2892},
	{-1128.2435,1066.3752,1345.7410,278.2426},
	{-2108.9517,-206.5345,35.4849,89.3008},
	{2840.2466,-2462.8276,14.5998,355.6133},
	{230.5688,165.0568,1003.0234,271.3260},
	{-1478.4833,2020.4100,47.8078,83.0903},
	{-378.0181,2242.1223,42.6185,102.7743},
	{1723.2554,209.0338,1476.3109,0.9400},
	{1256.0568,-804.4778,1084.0151,267.9027},
	{370.9403,172.9361,1019.9844,359.9999},
	{959.2861,2143.7561,1011.0197,179.2284},
	{2247.9043,-1193.7892,1029.7969,49.8204},
	{-1999.9260,1076.3101,55.5703,341.8499},
	{2659.4204,823.9785,10.9545,359.7101},
	{1333.1100,2194.6519,11.0234,176.1185},
	{2457.3784,1994.2200,10.8203,181.5343},
	{1496.7406,-1649.6396,14.0469,355.6132},
	{1930.8553,-2419.8669,28.4279,358.8916},
	{237.4460,-1833.0127,6.3750,184.2183},
	{-1962.6941,753.0615,84.6016,161.2153},
	{1928.5610,-1396.8236,13.8569,18.9048},
	{-2648.9045,1291.8594,14.8217,330.6042},
	{-2758.7019,-351.6682,7.1875,22.0611},
	{1475.8500,-2293.4604,35.1416,72.4619},
	{2567.2100,2745.5542,18.0688,180.2492},
	{2488.8000,-2119.6631,15.0847,0.7062},
	{-458.8312,-1316.7429,903.4645,75.7228},
	{-1255.9987,959.5889,44.8493,339.9464},
	{1753.5800,-1919.3542,13.5712,189.1739},
	{1246.3184,716.4943,10.8203,246.3225},
	{-1359.8077,403.6438,7.1875,273.0126},
	{-1614.4623,-697.1750,37.5041,98.9906},
	{-1138.6548,-1028.9642,129.2188,14.3322},
	{734.3846,-1661.8281,12.4103,19.5080},
	{2613.6138,-1547.6500,11.8490,9.8179},
	{-1905.0833,-1568.9437,109.0201,118.8820},
	{1180.0181,-2034.6903,69.9809,11.8023},
	{-2062.2271,-784.8137,32.1642,2.9244},
	{-2063.0352,-176.0878,36.2189,269.9417},
	{543.2719,-2275.4382,4.8597,179.7272},
	{1023.9852,-287.5745,73.9931,169.1782},
	{799.7844,-2801.5613,4.6066,182.6747},
	{-246.0490,-1473.8176,4.9496,164.7594},
	{-1130.7219,-944.3814,129.9326,257.8524},
	{-1818.0983,1074.0240,47.6219,273.1827},
	{1984.9520,-1153.0079,21.4692,173.4109},
	{83.9282,1966.5420,1005.8217,194.4773},
	{-40.4319,2510.3486,16.4844,181.1079},
	{-555.0320,2614.7615,75.8554,266.6491},
	{-509.2581,-1681.3636,18.9186,303.6228},
	{1861.1589,-2091.5591,15.0313,181.4064},
	{-1090.9935,-975.2624,129.3889,212.5809},
	{-2245.3052,576.8738,35.2741,134.9665},
	{2599.6348,626.5381,11.3562,280.9346},
	{301.7433,-2282.9546,2.3571,349.3381},
	{321.2712,2562.9294,16.9469,216.1783},
	{2390.6792,-1713.6241,13.6217,178.6827},
	{-1866.7546,-1624.4531,21.8875,269.9682},
	{-613.1480,-478.9449,26.7972,238.6922},
	{2698.3777,-2191.8389,13.5469,182.8841},
	{2119.2473,-2278.6013,13.5000,219.9387},
	{-134.2134,-325.8992,13.6693,257.0979},
	{-1694.0764,1377.5687,14.7814,233.8531},
	{1203.5570,-1135.1548,16.7987,182.9542},
	{-1915.2371,207.7244,35.1563,128.3401},
	{-1299.6265,1300.8027,11.7049,348.5109},
	{-2673.5315,627.9048,14.4531,268.9468},
	{598.8031,-1212.9486,324.6560,87.9394},
	{-1905.6431,736.4999,115.2483,44.3803},
	{1801.7317,-1423.5723,13.7970,78.5198},
	{641.9006,886.5863,-42.8918,263.4113},
	{-2271.9832,-1617.9200,553.2525,308.5757},
	{1155.1824,2295.8406,16.7188,352.7351},
	{1739.9982,-2242.6973,5.2622,170.0698},
	{1242.8074,-872.1039,46.6406,264.7695},
	{-2502.8010,-1769.4126,1268.0687,338.8785},
	{-25.7842,1656.9420,17.6617,348.5342}
};

new Valintine[sizeof(ValintinePoses)];
new Merchants[5];
new ZombieMerchant[5];
new SpawnZoneTimer[MAX_PLAYERS] = {5, ...};

fun Float:random_range(Float: v1, Float: v2)
{
    new rand = floor(v1) + random(floor((v2 - v1) + v1));
	return float(rand);
}

fun bool:IsNearMerchant(playerid)
{
	new i, Float:x, Float:y, Float:z;
 	for( i = 0; i < sizeof(Merchants); i++)
  	{
   		GetActorPos(Merchants[i], x, y, z);
     	if(IsPlayerInRangeOfPoint(playerid, 2.5, x, y, z)) return true;
   	}
   	return false;
}

new ValintineText[][][] =
{
	{
	    "{F1C40F}According to the Golden legend:\n\n",
		"{ECF0F1}\tThe imperious and cruel Roman emperor {E67E22}Claudius II{ECF0F1} came to the conclusion that a single man, not burdened with his wife and family\n",
		"{ECF0F1}would rather fight on the battlefield for the glory of Caesar, and forbade men to marry and women and girls to marry beloved men.\n",
		"{ECF0F1}And St. Valentine was an ordinary field doctor and priest, who sympathized with the unfortunate lover and secretly from everyone\n",
		"{ECF0F1}in the middle of the night he consecrated the marriage of loving men and women. Soon, the activities of St. Valentine became known\n",
		"{ECF0F1}to the authorities, and he was put in prison, sentenced to death. In conclusion, St. Valentine met the beautiful daughter of the\n",
		"{ECF0F1}overseer - Julia. A loving priest before his death wrote to his beloved girl a declaration of love - a Valentine, where he told about\n",
		"{ECF0F1}his love and signed it «Your Valentine». It was read after he was executed, and the execution itself took place on February 14, 269.\n\n",
		"{ECF0F1}To get 1 love, bring Julia {E74C3C}2 Valentines{ECF0F1} and give she {E74C3C}200 experience"
	},
	{
	    "{F1C40F}Согласно Золотой легенде:\n\n",
		"{ECF0F1}\tВластный и жестокий римский император {E67E22}Клавдий II{ECF0F1} пришёл к мысли, что одинокий мужчина, не обременённый женой и семьёй лучше будет\n",
		"{ECF0F1}сражаться на поле битвы во славу Цезаря, и запретил мужчинам жениться а женщинам и девушкам — выходить замуж за любимых мужчин\n",
	 	"{ECF0F1}А святой Валентин был обычным полевым врачом и священником, который сочувствовал несчастным влюблённым и тайком от всех, под покровом ночи\n",
	 	"{ECF0F1}освящал брак любящих мужчин и женщин. Вскоре деятельность святого Валентина стала известна властям, и его посадили в темницу, приговорив\n",
	 	"{ECF0F1}к смертной казни. В заключении святой Валентин познакомился с прекрасной дочерью надзирателя — Юлией. Влюблённый священник перед смертью\n",
	 	"{ECF0F1}написал любимой девушке признание в любви — валентинку, где рассказал о своей любви, и подписал её «Твой Валентин».\n",
	 	"{ECF0F1}Прочитано оно было уже после того, как его казнили, а сама казнь произошла 14 февраля 269 года.\n\n",
		"{ECF0F1}Чтобы получить 1 любовь, принесите Юлии {E74C3C}2 Валентинки{ECF0F1} и подарите ей {E74C3C}200 опыта"
	},
	{
	    "{F1C40F}Segun la leyenda dorada:\n\n",
		"{ECF0F1}\tEl imperio romano cruel e imperioso {E67E22}Claudio II{ECF0F1} llego a la conclusion de que un hombre solitario, no cargado con su esposa y su familia\n",
		"{ECF0F1}preferiria luchar en el campo de batalla por la gloria de Cesar, y prohibio a los hombres casarse, y las mujeres y las ninas a casarse con hombres\n",
		"{ECF0F1}amados. Y San Valentin era un medico de campo y sacerdote ordinario, que simpatizaba con el desafortunado amante y secretamente de todos, en medio\n",
		"{ECF0F1}de la noche bendecia el matrimonio de hombres y mujeres amorosos. Pronto, las actividades de San Valentin se dieron a conocer a las autoridades\n",
		"{ECF0F1}y lo encarcelaron y lo condenaron a muerte. En conclusion, San Valentin conocio a la bella hija del capataz, Julia. Antes de su muerte, un sacerdote\n",
		"{ECF0F1}amoroso escribio una declaracion de amor a su amada nina, una Valentine, donde le conto sobre su amor y la firmo «Your Valentine». Fue leido despues\n",
		"{ECF0F1}de que fue ejecutado y la ejecucion en si tuvo lugar el 14 de febrero de 269.\n\n",
		"{ECF0F1}Para obtener 1 amor, trae a Julia {E74C3C}2 Valentines{ECF0F1} y dale {E74C3C}200 de experiencia"
	}
};

/*#define MAX_RESULTS 16
#define YDIALOG 18450

#define YOUR_WEBSITE "sampzdm.net"
#define COLOR_RED 0xFF0000FF
#define COLOR_YELLOW 0xFFDD00FF
#define COLOR_ORANGE 0xFFA500FF
#define COLOR_BLUE 0x0000FFFF

new Results_Links[MAX_PLAYERS][MAX_RESULTS][128];
new Results_Names[MAX_PLAYERS][MAX_RESULTS][128];
new Videos_Found[MAX_PLAYERS];
new Dialog_String[MAX_RESULTS * 128];
new Last_Search[MAX_PLAYERS][128]
new Request_Type[MAX_PLAYERS];*/

static bool:IsUsingProxy[MAX_PLAYERS char] = {false, ...};
stock IsPlayerUsingProxy(playerid) return IsUsingProxy{playerid};

new gIP[MAX_PLAYERS][16], gTime[MAX_PLAYERS], MusicPlayTime = 0;
new PlayerGuitarTime[MAX_PLAYERS] = {0, ...};
new IsPlayerDeadByWarMember[MAX_PLAYERS] = {INVALID_PLAYER_ID, ...};

new MyFantom[MAX_PLAYERS] = {-1, ...};
new Float:MyFantomHP[MAX_PLAYERS] = {100.0, ...};
new MyFantomCreatedBy[MAX_PLAYERS] = {-1, ...};

new GlobalGsPolicy[2] = {0, 0};

static LastShotTime[MAX_PLAYERS];
static gLastShotTime[MAX_PLAYERS];
new bool:Registered[MAX_PLAYERS char];

static ZombieSpawnProtection[MAX_PLAYERS];
#define         FAKEKILL_DELAY            4000
#define         FAKEKILL_LIMIT            10

new GangPanelIDs[MAX_PLAYERS][50];
new GangPanelIDSelected[MAX_PLAYERS] = {-1, ...};
new GangPanelName[MAX_PLAYERS][MAX_PLAYER_NAME];
new LasDeadTime[MAX_PLAYERS];

new HeroFieldTime[MAX_PLAYERS][2];
new IsPlayerDead[MAX_PLAYERS];

new ZombieMoveTime[MAX_PLAYERS] = {0, ...};

enum CommandFloodTime
{
	ShowGangMembers,
};

static const DonateInfo[] = {
	"Bronze VIP (4 ZAPs):\n\
	- Bronze Tag In-Game\n\
	- VIP Human (30 days)\n\
	- Screamer Zombie (30 days)\n\
	- x1.2 EXP multiplier\n\n\
	Silver VIP (7 ZAPs):\n\
	- Silver Tag In-Game\n\
	- Tank Zombie (30 days)\n\
	- /vipmenu (Choosing between starting commands)\n\
	- x1.5 EXP multiplier\n\n\
	Gold VIP (10 ZAPs):\n\
	- Gold Tag In-Game\n\
	- Assassin (30 days)\n\
	- /music\n\
	- /kickback\n\
	- x2 EXP multiplier\n\n\n\
	FOR ALL VIPs:\n\n\
	- 50% '/. Armour for all the human classes\n\
	- Can use /skin\n\
	- Free /changename\n"
};

static const CharAr_Name[][] =
{
	"Increased absorption", // 0
	"Increased evasion", // 1
	"Increased accuracy", // 2
	"Regeneration", // 3
	"Reducing critical damage", // 4
	"Reduced critical hit chance", // 5
	"Damage increase", // 6
	"Increased critical hit chance", // 7
	"Increased critical damage", // 8
	"Reducing human damage", // 9
	"Increased damage to humans", // 10
	"Reducing enemy health", // 11
	"Effects protection" // 12
};

static const chs_n[][] = {"Helmet", "Armor", "Gloves", "Boots"};

static const PHS_ReqForCreat[][] =
{
    {1, 2},
    {3, 3},
	{5, 3},
	{5, 3},
	{3, 4},
	{5, 5},
	{5, 2},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{5, 5},
	{10, 10}
};

static const PHS_Desc[][] =
{
	"You do not lose orientation in space",
	"Poisoned meat cannot infect you",
	"Reduces Chainsaw Damage",
	"Explosions no longer affect you",
	"You see all the hidden zombies / humans",
	"Now the armor sits firmly on you",
	"You can cure a human who is protected from curing",
	"Capillary infection no longer spreads to you",
	"Reduced damage from this type of infection",
	"Your ammo cannot be stolen",
	"Your life under a protection shell",
	"The Taser no longer affects you",
	"Capillary infection no longer spreads to you",
	"Your weapons cannot be taken",
	"The poision no longer affects you",
	"You can no longer be stung",
	"Shotgun damage reduced to normal",
	"You can use abilities",
	"You can't be stomped",
	"A fly can't do you damage",
	"You are taking a dose of coffee",
	"Gives full immunity against infections"
};

static const questions[][][] =
{
	{
	    "Random Question: for %d EXP: What is the name of the planet closest to the sun?",
	    "Random Question: for %d EXP: Which country has a plain green flag?",
	    "Random Question: for %d EXP: What causes craters on the moon?",
	    "Random Question: for %d EXP: The sunniest figure in geometry?",
	    "Random Question: for %d EXP: This month is called summer sunset. Which one?",
	    "Random Question: for %d EXP: What chemical element caused the death of Napoleon?",
	    "Random Question: for %d EXP: The name of this flightless bird from Australia consists of two notes. What kind of bird is this?",
	    "Random Question: for %d EXP: Where did the accordion first appear?",
	    "Random Question: for %d EXP: The deepest freshwater lake in the world?",
	    "Random Question: for %d EXP: What is the name of the water shell of the earth?",
	    "Random Question: for %d EXP: Which bird is called the forest doctor?",
	    "Random Question: for %d EXP: The highest point, above sea level, in Africa?",
	    "Random Question: for %d EXP: Gas, which is formed during photosynthesis of plants?",
	    "Random Question: for %d EXP: What month does Australia start in autumn?",
	    "Random Question: for %d EXP: What besides flags often fans wave in the stands?",
	    "Random Question: for %d EXP: Which US president wrote his own story about Sherlock Holmes?",
		"Random Question: for %d EXP: Which of the famous artists in his life sold just one painting?",
		"Random Question: for %d EXP: How many eyes does an ordinary fly have?",
		"Random Question: for %d EXP: Every day, the Earth adds 400 tons in weight. Due to what?",
		"Random Question: for %d EXP: How to write the word \"mousetrap\" in three letters?",
		"Random Question: for %d EXP: What stones are not in the sea?",
		"Random Question: for %d EXP: Which wheel does not spin in a right turn?"
	},
	{
	    "Случайный Вопрос: на %d ОПЫТА: Как называется планета, ближайшая к Солнцу?",
	    "Случайный Вопрос: на %d ОПЫТА: Какая страна имеет зеленый флаг?",
	    "Случайный Вопрос: на %d ОПЫТА: Что вызывает кратеры на луне?",
	    "Случайный Вопрос: на %d ОПЫТА: Самая солнечная фигура в геометрии?",
	    "Случайный Вопрос: на %d ОПЫТА: Этот месяц называется летним закатом. Который из?",
	    "Случайный Вопрос: на %d ОПЫТА: Какой химический элемент вызвал смерть Наполеона?",
	    "Случайный Вопрос: на %d ОПЫТА: Название этой нелетающей птицы из Австралии состоит из двух звуков. Что это за птица?",
	    "Случайный Вопрос: на %d ОПЫТА: Где впервые появился аккордеон?",
	    "Случайный Вопрос: на %d ОПЫТА: Самое глубокое пресноводное озеро в мире?",
	    "Случайный Вопрос: на %d ОПЫТА: Как называется водная оболочка земли?",
	    "Случайный Вопрос: на %d ОПЫТА: Какую птицу называют лесным врачом?",
	    "Случайный Вопрос: на %d ОПЫТА: Самая высокая точка над уровнем моря в Африке?",
	    "Случайный Вопрос: на %d ОПЫТА: Газ, который образуется при фотосинтезе растений?",
	    "Случайный Вопрос: на %d ОПЫТА: Какой месяц в Австралии начинается осенью?",
	    "Случайный Вопрос: на %d ОПЫТА: Чем помимо флагов часто фанаты машут на трибунах?",
	    "Случайный Вопрос: на %d ОПЫТА: Какой президент США написал свой собственный рассказ о Шерлоке Холмсе?",
		"Случайный Вопрос: на %d ОПЫТА: Кто из известных художников в своей жизни продал только одну картину?",
		"Случайный Вопрос: на %d ОПЫТА: Сколько глаз у обычной мухи?",
		"Случайный Вопрос: на %d ОПЫТА: Каждый день Земля прибавляет в весе 400 тонн. Из-за чего?",
		"Случайный Вопрос: на %d ОПЫТА: Как написать слово \"мышеловка\" тремя буквами?",
		"Случайный Вопрос: на %d ОПЫТА: Какие камни не в море?",
		"Случайный Вопрос: на %d ОПЫТА: Какое колесо не вращается при правом развороте?"
	},
	{
	    "Pregunta Aleatoria: por %d EXP: їCuбl es el nombre del planeta mбs cercano al sol?",
	    "Pregunta Aleatoria: por %d EXP: їQuй paнs tiene una bandera verde lisa?",
	    "Pregunta Aleatoria: por %d EXP: їQuй causa los crбteres en la luna?",
	    "Pregunta Aleatoria: por %d EXP: їLa figura mбs soleada en geometrнa?",
	    "Pregunta Aleatoria: por %d EXP: Este mes se llama atardecer de verano. їCъal?",
	    "Pregunta Aleatoria: por %d EXP: їQuй elemento quнmico causу la muerte de Napoleуn?",
	    "Pregunta Aleatoria: por %d EXP: El nombre de esta ave no voladora de Australia consta de dos notas. їQuй clase de pбjaro es este?",
	    "Pregunta Aleatoria: por %d EXP: їDуnde apareciу por primera vez el acordeуn?",
	    "Pregunta Aleatoria: por %d EXP: їEl lago de agua dulce mбs profundo del mundo?",
	    "Pregunta Aleatoria: por %d EXP: їCuбl es el nombre de la capa de agua de la tierra?",
	    "Pregunta Aleatoria: por %d EXP: їQuй pбjaro se llama el doctor del bosque?",
	    "Pregunta Aleatoria: por %d EXP: їEl punto mбs alto, sobre el nivel del mar, en Бfrica?",
	    "Pregunta Aleatoria: por %d EXP: Gas, que se forma durante la fotosнntesis de las plantas?",
	    "Pregunta Aleatoria: por %d EXP: їEn quй mes comienza Australia en otoсo?",
	    "Pregunta Aleatoria: por %d EXP: їQuй, ademбs de las banderas, a menudo los fanбticos agitan en las gradas?",
	    "Pregunta Aleatoria: por %d EXP: їQuй presidente de los Estados Unidos escribiу su propia historia sobre Sherlock Holmes?",
		"Pregunta Aleatoria: por %d EXP: їCuбl de los artistas famosos de su vida vendiу solo una pintura?",
		"Pregunta Aleatoria: por %d EXP: їCuбntos ojos tiene una mosca comъn?",
		"Pregunta Aleatoria: por %d EXP: Todos los dнas, la Tierra agrega 400 toneladas de peso. їPor quй?",
		"Pregunta Aleatoria: por %d EXP: їCуmo escribir la palabra \"ratonera\" de una manera diferente?",
		"Pregunta Aleatoria: por %d EXP: їQuй piedras no estбn en el mar?",
		"Pregunta Aleatoria: por %d EXP: їQuй rueda no gira en un giro a la derecha?"
	}
};

static const questions_answers[][][] =
{
	{
		"Mercury", "Libya", "Meteorites", "Beam", "August", "Arsenic",
		"Dodo", "Australia", "Baikal", "Hydrosphere", "Woodpecker", "Kilimanjaro", "Oxygen", "March", "Scarves",
		"Franklin Roosevelt", "Vincent Van Gogh", "Five", "cosmic dust", "Cat", "Dry", "Spare wheel"
	},
	{
	    "Меркурий", "Ливия", "Метеориты", "Луч", "Август", "Мышьяк",
		"Додо", "Австралия", "Байкал", "гидросфера", "Дятел", "Килиманджаро", "кислород", "март", "шарфы",
		"Франклин Рузвельт", "Винсент Ван Гог", "Пять", "космическая пыль", "Кот", "Сухие", "Запасное"
	},
	{
	    "Mercurio", "Libia", "Meteoritos", "Haz", "agosto", "Arsйnico",
		"Dodo", "Australia", "Baikal", "Hidrosfera", "Pбjaro carpintero", "Kilimanjaro", "Oxнgeno", "marzo", "Bufandas",
		"Franklin Roosevelt", "Vincent Van Gogh", "Cinco", "polvo cуsmico", "Gato", "Seco", "Rueda de repuesto"
	}
};

new CommandFloodTimer[MAX_PLAYERS][CommandFloodTime];

/*enum WeapEnc:(<<=1)
{
	we_MoreDamage = 0,
	we_CriticalDamage,
	we_MoreAmmo,
	we_Bleeding,
};

enum CharEnc:(<<=1)
{
	ce_LessDamage = 0,
	ce_AddArmour,
	ce_AddHealth,
	ce_Uklon,
};

new WeapEnc:WeapEnchantments[MAX_PLAYERS][42];
new CharEnc:CharEnchantments[MAX_PLAYERS];*/

new Iterator:Players<MAX_PLAYERS>;

enum srst
{
	cn_Ru,
	cn_Sp,
	cn_En
};

new ServerStats[srst];

enum
{
	PS_BLOCK_PMS = 0,
	PS_DING,
	PS_BLOCK_DUELS,
	PS_ABILITY_READY,
	PS_AUTO_LOGIN,
	PS_HIDDEN,
	PS_SHOW_EXP,
 	PS_SHOW_PET,
	PS_IAP,
	PS_VOICE,
	PS_MUSIC,
	PS_TICK,
	PS_FPS,
	PS_ALERTS,
};

static Float:s_WeaponDamage[] =
{
    1.0, // 0 - Fist
	1.0, // 1 - Brass knuckles
	1.0, // 2 - Golf club
	1.0, // 3 - Nitestick
	1.0, // 4 - Knife
	1.0, // 5 - Bat
	1.0, // 6 - Shovel
	1.0, // 7 - Pool cue
	1.0, // 8 - Katana
	1.0, // 9 - Chainsaw
	1.0, // 10 - Dildo
	1.0, // 11 - Dildo 2
	1.0, // 12 - Vibrator
	1.0, // 13 - Vibrator 2
	1.0, // 14 - Flowers
	1.0, // 15 - Cane
	82.5, // 16 - Grenade
	0.0, // 17 - Teargas
	1.0, // 18 - Molotov
	9.9, // 19 - Vehicle M4 (custom)
	46.2, // 20 - Vehicle minigun (custom)
	0.0, // 21
	8.25, // 22 - Colt 45
	13.2, // 23 - Silenced
	46.2, // 24 - Deagle
	3.3, // 25 - Shotgun
	3.3, // 26 - Sawed-off
	4.95, // 27 - Spas
	6.6, // 28 - UZI
	8.25, // 29 - MP5
	9.9, // 30 - AK47
	9.9, // 31 - M4
	6.6, // 32 - Tec9
	24.75, // 33 - Cuntgun
	41.25, // 34 - Sniper
	82.5, // 35 - Rocket launcher
	82.5, // 36 - Heatseeker
	1.0, // 37 - Flamethrower
	46.2, // 38 - Minigun
	82.5, // 39 - Satchel
	0.0, // 40 - Detonator
	0.33, // 41 - Spraycan
	0.33, // 42 - Fire extinguisher
	0.0, // 43 - Camera
};

enum FAKEKILLINFO
{
    DeathCount,
    LastDeathTime,
};
static FakekillData[MAX_PLAYERS][FAKEKILLINFO];

new Text:XP[MAX_PLAYERS], lmrf[MAX_PLAYERS] = {INVALID_PLAYER_ID, ...};
new Text:APanel[MAX_PLAYERS][8], reportsCount;
new Text:ServerIntro[MAX_PLAYERS][5], MaybeBH[MAX_PLAYERS];
new Time, mapid = 0, current_map, mapvar[3] = {-1,-1, -1}, playerOnline, Text:GreenScreen[MAX_PLAYERS], Text:Poision[MAX_PLAYERS], Text:Stun[MAX_PLAYERS], Text: Blidnes[MAX_PLAYERS];
new Text:Infected[MAX_PLAYERS], Text:SpawnProtection[MAX_PLAYERS], Text3D:ZombieSpawnMerchants[5], Text3D: SpawnMerchants[5], Text3D: SpawnPoints[5], Text: Blind[MAX_PLAYERS], Text3D: GangHouseText[29], Text3D: GangHouseExitText[29];
new Text:TimeLeft, Text:FPS_Info[MAX_PLAYERS], Text:AliveInfo[MAX_PLAYERS], CBugTimes[MAX_PLAYERS] = 0;
new Text:UntillEvac[2][MAX_PLAYERS], bool:MapStarted, humansEvacuated = 0, bool:reconnect[MAX_PLAYERS];
new Float: playerStats[MAX_PLAYERS][4], Float:LastHealth[MAX_PLAYERS][2];
new bool: PlayerShotPlayer[MAX_PLAYERS][MAX_PLAYERS], bool:FirstBlood, bool:LastHumanKilled, bool:ZombieBoss, bool:HumanBoss, bool:Healer[MAX_PLAYERS], bool:RoundHealer;

static MySQL: Base;

new box[MAX_PLAYERS][18], Portals[MAX_PLAYERS] = {-1, ...}, Float:PortalsHealth[MAX_PLAYERS] = {400.0,...}, Text3D:FantomHelp[MAX_PLAYERS] = { Text3D:-1, ...}, Text3D: PortalsText[MAX_PLAYERS], Text3D: boxText[MAX_PLAYERS][18];
new AFK[MAX_PLAYERS] = -1;//, MybeBH[MAX_PLAYERS];
new mapGate = -1, mapGate2 = -1, attemptsToLog[MAX_PLAYERS] = -1, Suspecting[MAX_PLAYERS] = 0;
new bool: NeededforDefine, bool: IsEvacuated[MAX_PLAYERS];
new bool: lastHuman[MAX_PLAYERS], bool: LastAlive, bool:HumanZombieBoss[MAX_PLAYERS], bool:HumanHumanBoss[MAX_PLAYERS];
new NM[MAX_PLAYERS][MAX_PLAYER_NAME], meatDrops[MAX_PICKUPS] = -1, meatDropsID[MAX_PICKUPS] = {-1,...}, infectedMeat[MAX_PLAYERS] = {-1, ...};
new Fly[MAX_PLAYERS] = {-1,...}, FlyObjects[MAX_PLAYERS][10];
new bool: CockroachAbility[MAX_PLAYERS], bool: IsOnRegister[MAX_PLAYERS];
new voites, bool:kick_player[MAX_PLAYERS], bool:already_vote[MAX_PLAYERS], bool:votekick, votekick_max_voices, VoteKickTimer;
new Float:TAXES = 0.35, AdminVeh[MAX_PLAYERS] = {-1,...}, RegisterTimer[MAX_PLAYERS];
new bool:IsSpecing[MAX_PLAYERS]={false,...}, bool:IsBeingSpeced[MAX_PLAYERS]={false,...},spectatorid[MAX_PLAYERS]= {-1, ...};
new bool:isReported[MAX_PLAYERS][MAX_PLAYERS];
new MapObjects[9], maps = 1, LastMessage[MAX_PLAYERS][144], LastMessageTime[MAX_PLAYERS], LastMessagesTryed[MAX_PLAYERS] = {0,...}, Text:AIR[MAX_PLAYERS];

new
	bool: IsPlayerOnDuel[MAX_PLAYERS], DuelerID[MAX_PLAYERS],
	bool: DuelReceived[MAX_PLAYERS], DuelerWeapon[MAX_PLAYERS],
	DuelEXP[MAX_PLAYERS], DuelRules[2][MAX_PLAYERS];

new bool:QuizStarted, QuizIndex = 0, QuizType, QuizXp, QuizTextAnswer[11], QuizRealAnswer, GangAction[MAX_PLAYERS], restartTimes = -1;
new S0beitSuspecting[MAX_PLAYERS] = 0;
new Float:OldPos[MAX_PLAYERS][4], AntiPlayerTP[MAX_PLAYERS], AntiPlayerSpeedHack[MAX_PLAYERS], AntiPlayerSlap[MAX_PLAYERS], p_FallingCheck[MAX_PLAYERS char], p_FallingTime[MAX_PLAYERS];
new SilentAimCount[MAX_PLAYERS],TintaApasata[MAX_PLAYERS];
new BanRequest[MAX_PLAYERS] = -1, BanReason[MAX_PLAYERS][64];
new AntiSobeit[MAX_PLAYERS] = {0,...}, AimOff[MAX_PLAYERS] = { 0, ... };
new SobeitTime[MAX_PLAYERS], bool:lotteryStarted, lotteryNumber[MAX_PLAYERS] = {-1,...}, LotteryTime = -1, LotteryWon = -1;
new PlayerText[MAX_PLAYERS][128], PlayerTextType[MAX_PLAYERS], bool:AntiCheatAlertMode = true;
new Text3D:IsPlayerAcceleratedText[MAX_PLAYERS]={Text3D:-1,...}, Float:NewSpawnPoints[2][6] = { {0.0,...}, {0.0, ...} }, Text3D: NewSpawnPointsText[2], NewSpawnsCreators[2];
new Text3D:GangName[MAX_PLAYERS]={Text3D:-1,...};
new FakeData[MAX_PLAYERS][9];
new ProAimCount[MAX_PLAYERS];
new DayliMission[MAX_PLAYERS] = {255,...};
new Text3D:DefenderText[MAX_PLAYERS] = {Text3D:-1,...};

new Float:gw_fts[][4] = {
	{2881.6553,2215.1970,10.8849,182.1226},
	{2876.4126,2215.2073,10.8849,182.1225},
	{2871.4863,2215.2747,10.8849,180.8691},
	{2871.8076,2202.9900,10.8203,181.4958},
	{2876.9438,2196.7627,10.8203,178.6758},
	{2882.1055,2203.5500,10.8203,178.9890},
	{2889.2207,2203.0374,10.8203,178.9890},
	{2895.3040,2202.9927,10.8130,171.4690}
};

new Float:gw_sds[][4] = {
	{2890.8230,1986.3545,10.8203,359.1809},
	{2895.0098,1986.6465,10.8203,359.1809},
	{2894.8872,1978.3883,10.8203,356.9875},
	{2890.2888,1978.9817,10.8203,356.9875},
	{2883.2334,2013.6542,10.8203,263.0099},
	{2882.8044,2006.9163,10.8203,263.0099},
	{2882.4519,2000.7271,10.8203,263.0099},
	{2901.8845,1998.0273,10.8203,81.6117}
};

new Float:gw_rnm[][4] = {
	{2916.9397,2073.5146,10.8130,356.6042},
	{2927.0134,2084.2571,12.3442,89.6650},
	{2905.2424,2106.1536,10.8203,87.7850},
	{2906.7595,2101.9575,10.8203,83.0850},
	{2899.2197,2113.2764,10.8203,180.2193},
	{2876.4976,2106.2832,10.8203,86.2417},
	{2868.4944,2100.9543,10.8203,355.0609},
	{2873.1558,2142.0181,10.8203,181.7859},
	{2871.8940,2132.4221,10.8203,270.4601},
	{2877.6621,2132.3135,13.3016,267.9533},
	{2879.5886,2127.9897,13.3016,271.4000},
	{2933.1819,2133.3606,13.9514,97.8352},
	{2929.3667,2138.0786,13.6191,85.3017},
	{2929.0950,2166.9143,13.7957,86.5550},
	{2929.2307,2163.1584,13.8002,83.7350},
	{2929.1008,2158.6956,13.5794,72.1415},
	{2927.7063,2150.6465,13.2158,72.7682},
	{2911.7300,2153.0400,10.8203,89.0617},
	{2901.2932,2140.7332,10.8203,78.4082}
};

new Float:rnd_mh_as[][4] =
{
	{-125.3988,654.1352,53.3618,90.4332},
	{-158.8549,654.0405,53.3618,275.2782},
	{-166.8058,671.3253,53.3618,266.8181},
	{-182.9758,642.8298,53.3618,269.9515},
	{-146.0629,621.4814,53.3618,344.2123},
	{-127.6918,629.2707,53.3618,22.7527},
	{-121.1668,670.8829,53.3618,108.6068},
	{-141.4678,681.5541,53.3618,156.8606}
};

new Float:rnd_mhs[][4] =
{
	{-96.9268,628.9993,76.7560,90.7789},
	{-92.6925,632.9376,78.0531,87.3322},
	{-97.9036,637.0797,76.7560,87.3322},
	{-92.1632,641.8967,78.4982,87.3322},
	{-95.9869,648.8943,77.1935,87.3322},
	{-91.4615,648.6993,78.4982,87.3322},
	{-91.8640,656.7032,78.4982,89.8390},
	{-99.0400,656.7239,76.3261,89.8390},
	{-99.9432,663.3737,75.8963,89.8390},
	{-94.4635,662.9994,77.6232,89.8390},
	{-98.9420,668.0276,76.3261,89.8390},
	{-95.5270,667.6659,77.2013,89.8390},
	{-95.8644,672.0330,77.2013,89.8390},
	{-97.1861,678.3683,76.7560,89.8390},
	{-94.6948,678.4043,77.6232,89.8390},
	{-172.0150,609.3058,75.4513,0.8750},
	{-166.3951,609.2414,75.4513,358.0549},
	{-169.1675,605.8387,76.3261,358.3683},
	{-165.5791,605.2463,76.7560,358.3683},
	{-162.1709,603.3332,77.2013,1.1883},
	{-170.2870,602.2488,77.6232,358.0550},
	{-154.1388,603.1155,77.1935,359.9349},
	{-155.9752,600.6307,78.0607,359.6216},
	{-151.5748,600.9445,78.0607,359.6216},
	{-146.7276,609.0672,75.4513,359.6216},
	{-147.2854,605.1879,76.7560,359.6216},
	{-142.7600,607.9273,75.8888,359.6216},
	{-138.1794,609.3621,75.4513,359.6216},
	{-132.6760,609.3636,75.4513,359.6216},
	{-134.8568,605.8893,76.3261,359.6216},
	{-136.7572,603.4123,77.2013,359.6216},
	{-129.9612,603.3829,77.2013,359.6216},
	{-124.2164,603.2960,77.1935,359.6216},
	{-197.5469,678.3184,75.8888,270.0309},
	{-200.5576,678.6220,76.7560,270.0309},
	{-198.7323,674.3682,76.3261,270.0309},
	{-196.5505,670.7308,75.4513,270.0309},
	{-201.3611,670.6081,77.2013,270.0309},
	{-200.1186,666.3502,76.7560,270.0309},
	{-195.9961,665.1576,75.4513,270.0309},
	{-201.9156,658.5134,77.1935,270.0309},
	{-204.2777,659.9388,78.0607,270.0309},
	{-196.0878,652.2385,75.4513,270.0309},
	{-197.6229,649.2672,75.8888,270.0309},
	{-196.0056,646.1799,75.4513,270.0309},
	{-198.9740,646.0954,76.3261,270.0309},
	{-195.9901,642.0594,75.4513,270.0309},
	{-198.8655,641.9160,76.3261,270.0309},
	{-195.9425,637.4344,75.4513,270.0309},
	{-199.0490,635.2089,76.3261,270.0309},
	{-201.2695,628.2484,77.1935,270.0309},
	{-203.2433,628.4982,77.6232,270.0309},
	{-123.4821,700.7020,75.8888,179.7103},
	{-123.4505,707.1745,77.6232,179.7103},
	{-130.7701,700.9469,75.8888,179.7103},
	{-130.4362,705.3415,77.2013,179.7103},
	{-136.2414,705.3375,77.2013,179.7103},
	{-136.2736,699.6271,75.4513,179.7103},
	{-143.4453,706.6141,77.6232,181.9036},
	{-142.6800,709.9602,78.4982,181.9036},
	{-149.8101,699.7733,75.4513,181.9036},
	{-154.9268,699.8828,75.4513,180.6502},
	{-160.6292,699.6481,75.4513,180.6502},
	{-157.6691,704.0840,76.7560,180.6502},
	{-153.1850,705.1537,77.2013,180.6502},
	{-163.4257,699.5355,75.4513,180.6502},
	{-163.9777,704.0413,76.7560,180.6502},
	{-160.3892,707.2745,77.6232,180.6502},
	{-172.6935,706.5539,77.6232,180.6502}
};

enum WarInfo
{
	bool:wi_GlobalWarIsStarted,
	bool:wi_GangWarIsStarted,
	wi_TeamsInBattle[2],
	wi_TimeBeforeStart,
	wi_AttEndTime,
	bool:wi_GangSorted[30],
	wi_Members[2],
	wi_Stage,
	Float:wi_Damage[2],
	wi_StageTime[30],
	wi_StageAgainst[30],
	endSort,
	KickGang[30],
};

new War[WarInfo];
new WarSort[30][6];

new bool:AntiCheatVehicle[MAX_PLAYERS] = {false, ...};
new bool:IsBanned[MAX_PLAYERS char];
new bool:InGangHouse[MAX_PLAYERS] = {false, ...}, bool:InGangWar[MAX_PLAYERS char] = {false, ...}, bool:KilledInWar[MAX_PLAYERS char] = {false, ...}, bool:InWarDuel[MAX_PLAYERS char] = {false, ...};
new bool:InWarStage2[MAX_PLAYERS char] = {false, ...}, WarStageAgainst[MAX_PLAYERS char] = {-1, ...}, WarStageTeam[MAX_PLAYERS char] = {-1, ...};
new InGangAction[MAX_PLAYERS char] = {-1, ...};
new WasZombieTimes[MAX_PLAYERS] = {0, ...};
new WasHumanTimes[MAX_PLAYERS] = {0, ...};

new HasBottle[MAX_PLAYERS] = {0, ...};

new GangDealer[29];

new CanUseCBugTime[MAX_PLAYERS] = {0, ...}, BadNetworkTime[MAX_PLAYERS] = {0, ...};

enum DamageChecker
{
	p_ID,
	Float:p_HP,
	Times,
	uAFK,
	Float:DamageGiven,
};

new PlayerDamageChecker[MAX_PLAYERS][DamageChecker];

#define AC_MAX_BULLET_PROOF_WARNINGS 2
#define AC_MAX_COLLISION_PROOF_WARNINGS 2
#define AC_MAX_EXPLOSION_PROOF_WARNINGS 2
#define AC_MAX_TELEPORTS 1
#define AC_MAX_SPACE_BREAKS 2
#define AX_MAX_JUMPS 1

enum e_ac
{
	ac_Tick,
	Float:ac_OldHP,
	Float:ex_OldHP,
	Float:weap_OldHP,
	
	ac_break_space,
	ac_cs_warns,
	ac_ex_warns,
	ac_bp_warns,
	
	ac_teleports,
	ac_jumps,
	
	ac_weapon_hack,
	ac_parkour,
	ac_health_hack,

	ac_teleport_hack,
	ac_jump_hack,
	ac_airbreak_hack,
	weap_bp_ticks,
};

new AntiCheat[MAX_PLAYERS][e_ac];

static ProAimCountTime[MAX_PLAYERS];

#define MAX_PETS 20
#define MAX_SLOTS 50

enum PetInfo
{
	PI_Name[32],
	PI_Level,
	PI_XP,
	PI_XPM,
	PI_Score,
	PI_Type,
 	PI_VIP,
 	PI_Rare,
};

new UserPet[MAX_PLAYERS][MAX_PETS][PetInfo];
new PetUseds[MAX_PLAYERS];

enum InvInf
{
	II_ID,
	II_Count,
	II_VIP,
	II_Time,
	II_CanNotDrop,
	II_XPN,
	II_CHAOS_INDEX,
	II_CHAOS_TYPE,
	II_CHAOS_PROGRESS
};

new Inventory[MAX_PLAYERS][MAX_SLOTS][InvInf];
new GangInventory[MAX_PLAYERS][MAX_SLOTS*4][InvInf];

enum eWeaponInfo {p_iWepTints[11]}
new WeaponInfo[MAX_PLAYERS][eWeaponInfo];

#if debug_mode == 0
new DCC_Channel:DiscordChannel;
#endif

new pCurrentWeapon[MAX_PLAYERS];
new iWeaponTints[5] =
{
	0xFFFFFFFF,
	0xFFD500FF, // Purple
	0xFF6600FF, // Purple
	0xFF00FFB7, // Green
	0xFFA500FF // Gold
};

AntiDeAMX()
{
    new a[][] =
    {
        "Unarmed (Fist)",
        "Brass K"
    };
    #pragma unused a
}

new randomMessages[][][] =
{
	{
	    "{B2F558}>> Use /maps to see map list.", // 2
	    "{B2F558}>> Want to talk about something personal? Use /pm!", // 3
	    "{B2F558}>> Change your class using /class", // 5
	    "{B2F558}>> As a Human, you must survive. As a Zombie, you must kill humans.", // 6
	  	"{B2F558}>> Earn experience by killing an enemy team or use your abilities!", // 7
	  	"{B2F558}>> Newbie? We advise you to look /cmds, /help, /rules!", // 8
	  	"{B2F558}>> Use /report to report rulebreakers.", // 9
	  	"{B2F558}>> Want to become a team player? Join the gang /gang join!", // 10
	  	"{B2F558}>> Try out new gang system. Check /gang help", // 11
	  	"{B2F558}>> Did you see the cheater? Use /votekick!", // 12
	  	"{B2F558}>> Zombies can infect humans using LEFT ALT. This will slowly kill them.", // 13
	  	"{B2F558}>> You can cure people use /cure!", // 14
	  	"{B2F558}>> Sign up to our forum at "FORUM" to chat us!", // 16
	  	"{B2F558}>> Are You Heavy Support? Share ammo with your team /giveammo!", // 17
	  	"{B2F558}>> You can save your stats with /ss!", // 19
	  	"{B2F558}>> Want to be a VIP? Check out /donate system!"
	},
	{
	    "{B2F558}>> Use /maps to see map list.", // 2
	    "{B2F558}>> Want to talk about something personal? Use /pm!", // 3
	    "{B2F558}>> Change your class using /class", // 5
	    "{B2F558}>> As a Human, you must survive. As a Zombie, you must kill humans.", // 6
	  	"{B2F558}>> Earn experience by killing an enemy team or use your abilities!", // 7
	  	"{B2F558}>> Newbie? We advise you to look /cmds, /help, /rules!", // 8
	  	"{B2F558}>> Use /report to report rulebreakers.", // 9
	  	"{B2F558}>> Want to become a team player? Join the gang /gang join!", // 10
	  	"{B2F558}>> Try out new gang system. Check /gang help", // 11
	  	"{B2F558}>> Did you see the cheater? Use /votekick!", // 12
	  	"{B2F558}>> Zombies can infect humans using LEFT ALT. This will slowly kill them.", // 13
	  	"{B2F558}>> You can cure people use /cure!", // 14
	  	"{B2F558}>> Sign up to our forum at "FORUM" to chat us!", // 16
	  	"{B2F558}>> Are You Heavy Support? Share ammo with your team /giveammo!", // 17
	  	"{B2F558}>> You can save your stats with /ss!", // 19
	  	"{B2F558}>> Want to be a VIP? Check out /donate system!"
  	},
  	{
        "{B2F558}>> Use /maps to see map list.", // 2
	    "{B2F558}>> Want to talk about something personal? Use /pm!", // 3
	    "{B2F558}>> Change your class using /class", // 5
	    "{B2F558}>> As a Human, you must survive. As a Zombie, you must kill humans.", // 6
	  	"{B2F558}>> Earn experience by killing an enemy team or use your abilities!", // 7
	  	"{B2F558}>> Newbie? We advise you to look /cmds, /help, /rules!", // 8
	  	"{B2F558}>> Use /report to report rulebreakers.", // 9
	  	"{B2F558}>> Want to become a team player? Join the gang /gang join!", // 10
	  	"{B2F558}>> Try out new gang system. Check /gang help", // 11
	  	"{B2F558}>> Did you see the cheater? Use /votekick!", // 12
	  	"{B2F558}>> Zombies can infect humans using LEFT ALT. This will slowly kill them.", // 13
	  	"{B2F558}>> You can cure people use /cure!", // 14
	  	"{B2F558}>> Sign up to our forum at "FORUM" to chat us!", // 16
	  	"{B2F558}>> Are You Heavy Support? Share ammo with your team /giveammo!", // 17
	  	"{B2F558}>> You can save your stats with /ss!", // 19
	  	"{B2F558}>> Want to be a VIP? Check out /donate system!"
	}
};

new AdminRanks[][][] =
{
	{
	    "Helper",
	    "Moderator",
	    "Administrator",
	    "Lead Administrator",
	    "Manager",
	    "Owner"
	},
	{
	    "Помощник",
		"Модератор",
		"Администратор",
	    "Ведущий администратор",
	    "Менеджер",
	    "Основатель"
	},
	{
	    "Helper",
	    "Moderator",
	    "Administrator",
	    "Lead Administrator",
	    "Manager",
	    "Owner"
	}
};

new humanClassesListNames[][][] =
{
	{
		"Civilian", // 0
		"Policeman", // 3
		"Medic", // 6
		"Scout", // 7
		"Heavy Support", // 8
		"Engineer",
		"Athlete",
		"Mi7",
	    "S.W.A.T",
	    "Scavenger",
		"Firemaniac",
		"Advanced Engineer",
		"Runner",
		"Toughie",
		"Terrorist",
		"Tourist",
		"Rocketman",
		"Sharpshooter",
		"Iron man",
		"Expirienced Engineer",
		"Human Queen"
	},
	{
		"Civilian", // 0
		"Policeman", // 3
		"Medic", // 6
		"Scout", // 7
		"Heavy Support", // 8
		"Engineer",
		"Athlete",
		"Mi7",
	    "S.W.A.T",
	    "Scavenger",
		"Firemaniac",
		"Advanced Engineer",
		"Runner",
		"Toughie",
		"Terrorist",
		"Tourist",
		"Rocketman",
		"Sharpshooter",
		"Iron man",
		"Expirienced Engineer",
		"Human Queen"
	},
	{
		"Civilian", // 0
		"Policeman", // 3
		"Medic", // 6
		"Scout", // 7
		"Heavy Support", // 8
		"Engineer",
		"Athlete",
		"Mi7",
	    "S.W.A.T",
	    "Scavenger",
		"Firemaniac",
		"Advanced Engineer",
		"Runner",
		"Toughie",
		"Terrorist",
		"Tourist",
		"Rocketman",
		"Sharpshooter",
		"Iron man",
		"Expirienced Engineer",
		"Human Queen"
	}
};

//svrCLHXP

new svrCLHXP[] =
{
	0, 500, 1500, 1500, 5000, 7500, 12000, 15000, 15000, 20000, 25000, 30000, 50000, 60000, 70000, 100000, 180000, 250000, 600000, 1000000, 1500000
};

new srvCLFHXP[] =
{
	1000000, 1250000, 1750000, 3250000, 0, 0
};

//2000000

//new PlayerClassBought[MAX_PLAYERS][2][64];

new PlayerClassUnlocked[MAX_PLAYERS][2][64];

/*#define SHARPSHOOTER 14                                                     // 250,000
#define IRONMAN 15  														// 600,000
#define HUMANQUEEN 16 														// 1,500,000*/

new svrCLH[][][] =
{
	{
	    "Silenced Pistol, Shotgun", // 0
	    "Deagle, Shotgun", // 3
        "Can cure", // 6
        "Increased Sniper Damage", // 7
        "AK47, Silenced Pistol", // 8
        "Can Build(3 Boxes)", // 11
 		"Bunnyhopping",
        "M4, Deagle, Armour", // 15
        "MP5, Deagle, Armour, Immunity", // 19
        "Can Get More Ammo From Meats",
        "Flamethower, Shotgun", // 17
        "Can Build(5 Boxes)", // 18
        "Fast Run", // 23
        "Atni-Stomp, Anti-Frightening",
        "Satchel Charges", // 24
        "Evac Bounty",
		"Rocketboots", // 35
		"Immunity, Headshots",
		"Rocketboots, Fast Run", // 42
		"Can Create Ladders",
	 	"Immunity, Long Jumps, Roller Skaters"
	},
	{
	    "Silenced Pistol, Shotgun", // 0
	    "Deagle, Shotgun", // 3
        "Can cure", // 6
        "Increased Sniper Damage", // 7
        "AK47, Silenced Pistol", // 8
        "Can Build(3 Boxes)", // 11
 		"Bunnyhopping",
        "M4, Deagle, Armour", // 15
        "MP5, Deagle, Armour, Immunity", // 19
        "Can Get More Ammo From Meats",
        "Flamethower, Shotgun", // 17
        "Can Build(5 Boxes)", // 18
        "Fast Run", // 23
        "Atni-Stomp, Anti-Frightening",
        "Satchel Charges", // 24
        "Evac Bounty",
		"Rocketboots", // 35
		"Immunity, Headshots",
		"Rocketboots, Fast Run", // 42
		"Can Create Ladders",
	 	"Immunity, Long Jumps, Roller Skaters"
	},
	{
	    "Silenced Pistol, Shotgun", // 0
	    "Deagle, Shotgun", // 3
        "Can cure", // 6
        "Increased Sniper Damage", // 7
        "AK47, Silenced Pistol", // 8
        "Can Build(3 Boxes)", // 11
 		"Bunnyhopping",
        "M4, Deagle, Armour", // 15
        "MP5, Deagle, Armour, Immunity", // 19
        "Can Get More Ammo From Meats",
        "Flamethower, Shotgun", // 17
        "Can Build(5 Boxes)", // 18
        "Fast Run", // 23
        "Atni-Stomp, Anti-Frightening",
        "Satchel Charges", // 24
        "Evac Bounty",
		"Rocketboots", // 35
		"Immunity, Headshots",
		"Rocketboots, Fast Run", // 42
		"Can Create Ladders",
	 	"Immunity, Long Jumps, Roller Skaters"
	}
};

new zombieVIPCl[][][] =
{
	{
	    "Screamer Zombie",
	    "Tank Zombie",
	    "Juggernaut"
	    //faf06d
	},
	{
	    "Страшный Зомби",
	    "Танк Зомби",
	    "Джаггернаут"
	},
	{
	    "Zombi Chillуn",
	    "Tanque Zombi",
	    "Juggernaut"
	    //faf06d
	}
};

new zombieVipClIDs[] = { SCREAMERZOMBIE, TANKZOMBIE }; // JUGGERNAUT

new zombieVIPClAb[][][] =
{
	{
	    "Drop Everyone Down",
	    "300 HP"
	},
	{
	    "Drop Everyone Down",
	    "300 HP"
	},
	{
	    "Drop Everyone Down",
	    "300 HP"
	}
};

new zombieVIPClXP[] = {1, 2};

new humanVIPCl[][][] =
{
	{
	    "VIP Human",
	    "Assassin"
	    //faf06d
	},
	{
	    "VIP Human",
	    "Assassin"
	},
	{
	    "VIP Human",
	    "Assassin"
	    //faf06d
	}
};

new humanVIPClAb[][][] =
{
	{
	    "Almost Everything",
	    "Headshots"
	},
	{
	    "Almost Everything",
	    "Headshots"
	},
	{
	    "Almost Everything",
	    "Headshots"
	}
};

new humanVIPClXP[] = {1, 3};

new humanVipClIDs[] = { VIPHUMAN, ASSASSIN}; // , PYROMANIAC, CRY

new svrCLZXP[] =
{
	0, 500, 1500, 5000, 8000, 15000, 30000, 45000, 60000, 90000, 120000, 150000, 200000, 350000, 500000
};

new zombieClassesListNames[][][] =
{
	{
		"Standard Zombie",
		"Flesher Zombie",
		"Blind Zombie",
		"Reaper Zombie",
        "Boomer Zombie",
		"Fast Zombie",
		"Stomper Zombie",
		"Remover",
		"Rogue Zombie",
		"Mega Jumper",
		"Radioactive Zombie",
		"Slow Zombie",
		"Risen Dead",
		"Space Breaker",
		"Slender Zombie"
	},
	{
		"Standard Zombie",
		"Flesher Zombie",
		"Blind Zombie",
		"Reaper Zombie",
        "Boomer Zombie",
		"Fast Zombie",
		"Stomper Zombie",
		"Remover",
		"Rogue Zombie",
		"Mega Jumper",
		"Radioactive Zombie",
		"Slow Zombie",
		"Risen Dead",
		"Space Breaker",
		"Slender Zombie"
	},
	{
	    "Standard Zombie",
		"Flesher Zombie",
		"Blind Zombie",
		"Reaper Zombie",
        "Boomer Zombie",
		"Fast Zombie",
		"Stomper Zombie",
		"Remover",
		"Rogue Zombie",
		"Mega Jumper",
		"Radioactive Zombie",
		"Slow Zombie",
		"Risen Dead",
		"Space Breaker",
		"Slender Zombie"
	}
};

new svrCLZ[][][] =
{
	{
	    "Can Infect",
        "Can Drop Infected Meat",
        "Blinding And Infection",
		"More Damage From Chainsaw",
	    "Explodes And Infects",
	    "High Jump",
	    "Throw Around",
	    "Can Remove Human's Armour",
	    "Skin Change",
		"Can Jump Many Times",
		"Radioactive Field",
	    "Infect And Slow Moving",
	    "Creates New Spawn Points",
	    "Can Breaks Space",
	    "Frightening"
	},
	{
	    "Can Infect",
        "Can Drop Infected Meat",
        "Blinding And Infection",
		"More Damage From Chainsaw",
	    "Explodes And Infects",
	    "High Jump",
	    "Throw Around",
	    "Can Remove Human's Armour",
	    "Skin Change",
		"Can Jump Many Times",
		"Radioactive Field",
	    "Infect And Slow Moving",
	    "Creates New Spawn Points",
	    "Can Breaks Space",
	    "Frightening"
	},
	{
	    "Can Infect",
        "Can Drop Infected Meat",
        "Blinding And Infection",
		"More Damage From Chainsaw",
	    "Explodes And Infects",
	    "High Jump",
	    "Throw Around",
	    "Can Remove Human's Armour",
	    "Skin Change",
		"Can Jump Many Times",
		"Radioactive Field",
	    "Infect And Slow Moving",
	    "Creates New Spawn Points",
	    "Can Breaks Space",
	    "Frightening"
	}
};

static const itm_info[][] =
{
	"{9966ff}This legendary stone can be used to create a pet of the moon (/craft) & (/pets)",
	"{ff4d4d}This rare stone can be used to create a pet of fire (/craft) & (/pets)",
	"{33cc33}This rare stone can be used to create a pet of the Earth (/craft) & (/pets)",
	"{b8b894}This common stone can be used to create a pet of the Air (/craft) & (/pets)",
	"{ff9933}Legendary Gem, nothing more... (/craft) & (/pets)",
	"{ff9933}Epic Gem, nothing more... (/craft) & (/pets)",
	"{ff9933}Rare Gem, nothing more... (/craft) & (/pets)",
	"{ff9933}Common Gem, nothing more... (/craft) & (/pets)",
	"{9966ff}Strange thing, it's better not to touch it (/craft) & (/pets)",
	"{ff4d4d}Too hot to hold (/craft) & (/pets)",
	"{33cc33}Beautiful stone, in the interior of the house will be perfect (/craft) & (/pets)",
	"{b8b894}A can of compressed air, it is better not to open it (/craft) & (/pets)",
	"{9966ff}Interesting thing, I hope the moon is still whole (/craft) & (/pets)",
	"{ff4d4d}Too hot to hold, oh, is it making a strange noise? (/craft) & (/pets)",
	"{33cc33}Funny, I stand almost the same (/craft) & (/pets)",
	"{b8b894}Can I make a good air cushion by using it? (/craft) & (/pets)",
	"{ff9933}It's impossible to create a pet without this thing (/craft) & (/pets)",
	"{ff9933}It's impossible to create a pet without this thing (/craft) & (/pets)",
	"{4d4d33}Strange sticky stone...",
	"{ff9933}Blinds in the eyes",
	"{4d4d33}Something seems to be drawn here",
	"{ff9933}Blinds in the eyes",
	"{66ff33}Coin received for completing a daily mission\n{66ff33}It's needed to create a trophy from achievements\n(/achievements) & (/trophies)",
	"{585CBF}Rare coin received for completing a daily mission\n{66ff33}It's needed to create a trophy from achievements\n{585CBF}Has an increased chance to create a trophy\n(/achievements) & (/trophies)",
	"{ff0066}Epic coin received for completing all 7 tasks, has an increased chance to create a epic trophy\n(/achievements) & (/trophies)",
	"{0080ff}Legendary coin received for completing all 7 tasks\nat high rank, necessary to level up gang's level from 9 to 10\n(/achievements) & (/trophies)",
	"{66ff33}A bag of coins bought in a VIP store, there are 10 coins in it\n(/achievements) & (/trophies)",
	"{ff0066}A bag of epic coins bought in a VIP store, there are 5 coins in it\n(/achievements) & (/trophies)",
	"{585CBF}A bag of rare coins bought in a VIP store, there are 5 coins in it\n(/achievements) & (/trophies)",
	"{0080ff}A bag of legendary coins bought in a VIP store, there are 5 coins in it\n(/achievements) & (/trophies)",
	"{9966ff}Special reward chest for the winning gang",
	"{ccb3ff}Common chest, the losing gang can get it",
	"{ffc34d}Opens a gang's house where you can take advantage of its benefits",
	"{ffc34d}The emblem of the winners is needed to extend the relationship\nbetween the gang and gang foreman",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{ff3333}Brings love and EXP",
	"{ff3333}Allows you to activate the Valentine class for 7 days",
	"{ff3333}Its needs to buy things from Julia",
	"{ffcc66}Its needed to buy items from an itinerant merchant",
	"{F73845}Merges Pets into a single whole",
	"{F0A1A5}When a pet eats this candy its level rises\nIt can be bought in Valentine's Day event",
	"{FF0000}[EVENT] Gives 15 '/. health",
	"{EFBF7F}Cures infection and gives 15 '/. health",
	"{663E3C}Cures infection and gives 15 '/. health",
	"{F73845}Combines classes into a single whole",
	"{F73845}Can be exchanged for a chaos chest or other items (/chaos)",
 	"{0099ff}Possible Attachment:{99d6ff}\n\t\tSea Star\n\t\tShell\n\t\tShell #2\n\t\tBeach Ball\n\t\tCase for Money\n\t\tFan\n\t\tMachete\n\t\tCJ's suitcase\n\t\tDevil Mask\n\t\tBlue Flag\n\t\tMouse Hat\n\n%s",
 	"{bf00ff}You received a notification of chaos...\n\n+1 Chaos Point (/chaos)",
 	"{bf00ff}It seems like time to think about actions...\n\n+3 Chaos Point (/chaos)",
 	"{bf00ff}Awareness of things that happen makes you act fast...\n\n+5 Chaos Point (/chaos)",
 	"{bf00ff}Atone for the sins that were made by you\n\n+10 Chaos Point (/chaos)",
 	"{0099ff}Possible Buff:{99d6ff}\n\tDouble Ammo\n\tMed Kit\n\tDouble Kills\n\tAdditional 50 percents of Armour\n\tIncreades Drop Chance\n\tRandom Skin\n\tIncreased Chance To Be A Human\n\tIncreased Chance To Be A Human Boss\n\n%s",
 	"{0099ff}Possible Color:{99d6ff}\n\tRandom Color on a random Weapon\n\n{0099ff}Random Effect:{99d6ff}\n\tPoisoning\n\tBleeding\n\tRadiation\n\tHoly Ammo\n\tBlessing\n\tArson\n\tArmor Destruction\n\tKnock over\n\tTorment\n\tDischarge\n\n{0099ff}Random Pet:{99d6ff}\n\tHorse\n\tCow\n\tDeer\n\tTurtle\n\tDolphin\n\tShark\n\n",
	 
 	"{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99e6ff}Obtained from the Chest of Chaos, can be dressed (/inv)",
    "{99ddff}Can be installed in weapons to enhance its combat power\nDropped from a chest of chaos (/chaos)",
    "{99ddff}This thing can paint a weapon\nDropped from a chest of chaos (/chaos)",
    "{99ddff}This thing contains a pet\nDropped from a chest of chaos (/chaos)",
    "{cc00ff}Received for defeating gangs",
    
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class", 
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
 	"{e699ff}This card was received for killing a player by this class", // 105
 	
 	"{00cc44}This grass is needed to create new items",
 	"{ff3377}This meat is needed to create new items",
 	
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	"{aaff00}This item was created by a pharmacist\nand works only 1 round",
 	
 	"{aaff00}You can unlock Berserker class by using it",
 	"{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    
    "{aaff00}Part needed to create a Berserker's Book",
    "{aaff00}Part needed to create a Berserker's Book",
    "{aaff00}Part needed to create a Berserker's Book",
    
    "{ffcc66}Allows you to immerse yourself in the gameplay after a long absence\n{2eb82e}+\tx2 kills\n+\tx1.5 exp\n+\tx1.5 drop chance\n+\tLuck lv. 3\n+\tLess shops prices\n+\tEpic Trophies\n+\tEpic Pets",
    "{e699ff}This card was received for killing a player by this class",
    
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    
    "{bf00ff}Resets all skills",
    
   	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	"{669999}A part of the collection (/collections)",
	
	"{BEBEBE}The item that can be obtained for the unsuccessful fish catch",
	"{e699ff}This card was received for killing a player by this class",
    "{e699ff}This card was received for killing a player by this class",
    
    "{cc66ff}Has a chance to increase weapon level (/myweapons)",
	"{cc33ff}Has an increased chance to increase weapon level (/myweapons)",
	"{cc00ff}Has an increased chance to increase weapon level (/myweapons)",
	
	"{ff4da6}A gift in which you can find something interesting",
	"{ff4da6}Contains random items",
	
	"{cc66ff}Has a chance to increase armour level (/mychar)",
	"{cc33ff}Has an increased chance to increase armour level (/mychar)",
	"{cc00ff}Has an increased chance to increase armour level (/mychar)",
	
	"{ff0000}[EVENT]",
	"{ff0000}[EVENT]",
	"{ff0000}[EVENT]",
	
	"{ff0000}[EVENT]",
	"{ff0000}[EVENT]",
	"{ff0000}[EVENT]",
	"{ff0000}[EVENT]",
	
	"{ff0000}[EVENT]",
	"{ff0000}[EVENT]",
	"{ff0000}[EVENT]",
	
	"{ff0000}[EVENT] Cures infection"
};

static const PetsNames[][32] =
{
	"{bf00ff}Moon Pet",
	"{ff0000}Fire Pet",
	"{00b33c}The Earth Pet",
	"{d6d6c2}Air Pet",
	"{F73845}Love Pet",
	"{0099ff}Horse Pet",
	"{0099ff}Cow Pet",
	"{0099ff}Deer Pet",
	"{0099ff}Turtle Pet",
	"{0099ff}Dolphin Pet",
	"{0099ff}Shark Pet"
};

static const PetsDesc[][] =
{
	"{d966ff}Living under the moon, not knowing the verge of worlds,\nthis pet is able to double the void itself, which gives him\nthe opportunity to multiply your experience",
	"{ff0000}Ardent and hot - this pet is always ready to join the battles\nwithout hesitation, in which it most often comes out the winner",
	"{00b33c}This slowly living pet is able to reduce damage to both itself and the owner, why?\nHis back armor is too strong to be easily pierced",
	"{d6d6c2}Cutting the air with his wings - this pet is always ready to help his owner\nget to the very top of the mountain, well, or at least speed him up\nwhile he will try to climb on it",
	"{F73845}Your connection with this pet is too strong\nso much so that your life is now one",
	"{99d6ff}A decorative pet obtained from a chest of chaos\nmay have abilities in the future\n/chaos",
	"{99d6ff}A decorative pet obtained from a chest of chaos\nmay have abilities in the future\n/chaos",
	"{99d6ff}A decorative pet obtained from a chest of chaos\nmay have abilities in the future\n/chaos",
	"{99d6ff}A decorative pet obtained from a chest of chaos\nmay have abilities in the future\n/chaos",
	"{99d6ff}A decorative pet obtained from a chest of chaos\nmay have abilities in the future\n/chaos",
	"{99d6ff}A decorative pet obtained from a chest of chaos\nmay have abilities in the future\n/chaos"
};

static const ItemNames[][96] =
{
	"{bf00ff}Moon stone I",
	"{ff0000}Stone of Fire I",
	"{00b33c}Stone of the Earth I",
	"{d6d6c2}Stone of Air I",
	"{bf00ff}Amethyst",
	"{ff0000}Ruby",
	"{00b33c}Emerald",
	"{d6d6c2}Pearl",
	"{bf00ff}Magic powder",
	"{ff0000}Spark of fire",
	"{00b33c}Decorative rock",
	"{d6d6c2}Compressed air",
	"{bf00ff}Piece of the moon",
	"{ff0000}Fire of the underworld",
	"{00b33c}Piece of land",
	"{d6d6c2}Air remedy",
	"{33ccff}Foundation stone",
	"{ffd633}Foundation stone (VIP)",
    "{4d4d4d}Gloomy Dark Stone",
    "{ffd9b3}A ray of light",
    "{4d4d4d}Print Shadow",
    "{ffd9b3}Seal of light",
    "{66ff33}Quest Coin",
    "{585CBF}[RARE] Quest Coin",
    "{ff0066}[EPIC] Quest Coin",
    "{0080ff}[LEGENDARY] Quest Coin",
    "{66ff33}Bag of coins{FFFFFF}",
    "{ff0066}Bag of epic coins{FFFFFF}",
    "{585CBF}Bag of Rare coins{FFFFFF}",
    "{0080ff}Bag of Legendary coins{FFFFFF}",
    
    "{9966ff}Gang`s Winner Chest",
    "{ccb3ff}Gang`s Chest",
    "{ffc34d}Gang House Key",
    "{ffc34d}Gang`s Emblem",
    
    "{669999}[WORKER-SET] Wrench",
    "{669999}[WORKER-SET] Oil",
    "{669999}[WORKER-SET] Hammer",
    "{669999}[WORKER-SET] Scrap",
    "{669999}[WORKER-SET] Screwdriver",
    
    "{669999}[KITCHEN-KIT] Fork",
    "{669999}[KITCHEN-KIT] Iron Knife",
    "{669999}[KITCHEN-KIT] Pan",
    "{669999}[KITCHEN-KIT] Frying pan",
    "{669999}[KITCHEN-KIT] Kitchen knife",
    
    "{669999}[POLICE-SET] Walkie talkie",
    "{669999}[POLICE-SET] Key",
    "{669999}[POLICE-SET] Handcuffs",
    "{669999}[POLICE-SET] Pistol",
    "{669999}[POLICE-SET] Police badge",
    
    "{669999}[EDIBLE-SET] Orange",
    "{669999}[EDIBLE-SET] Apple",
    "{669999}[EDIBLE-SET] Avocado",
    "{669999}[EDIBLE-SET] Cherry",
    "{669999}[EDIBLE-SET] Banana",
    
    "{669999}[FASHION-SET] Blue cap",
    "{669999}[FASHION-SET] Black hat",
    "{669999}[FASHION-SET] Panama",
    "{669999}[FASHION-SET] Farm hat",
    "{669999}[FASHION-SET] Gangster hat",
    
    "{669999}[ROCKER-SET] Bas-guitar",
    "{669999}[ROCKER-SET] Electric guitar",
    "{669999}[ROCKER-SET] Rock guitar",
    "{669999}[ROCKER-SET] Microphone",
    "{669999}[ROCKER-SET] Sound Record",
    
	"{669999}[FOOD-SET] Bread",
    "{669999}[FOOD-SET] Pizza",
    "{669999}[FOOD-SET] Meat",
    "{669999}[FOOD-SET] Fish",
    "{669999}[FOOD-SET] Grilled meat",
	
	"{669999}[DEALER-SET] Sniper",
    "{669999}[DEALER-SET] Deagle",
    "{669999}[DEALER-SET] MP5",
    "{669999}[DEALER-SET] Sawnoff",
    "{669999}[DEALER-SET] M4",
	
	"{ffff66}Royal Hall",
    "{ffff66}Queen's Mirror",
    "{ffff66}Ice figure",
    "{ffff66}Queen's Ring",
    "{ffff66}Queen's Recognition",
	
	"{ffff66}Hero's badge",
    "{ffff66}Hero's compass",
    "{ffff66}Hero's clothes",
    "{ffff66}Hero's first-aid kit",
    "{ffff66}Hero's Vengeance",
	
	"{669999}Story Book",
	"{ff3333}Valentine",
	"{F73845}Love Card",
	"{ff3333}Love",
	
	"{ffcc66}Gold Coin",
	
	"{F73845}Love Potion",
	"{F0A1A5}Candie",
	"{FF0000}[EVENT] Cookie",
	"{EFBF7F}White Chocolate",
	"{663E3C}Dark Chocolate",
	"{F73845}Essence of Love",
	"{cc00ff}Coin of Chaos",
	"{bf00ff}Chaos Chest",
	
	"{bf00ff}Chaos Notification",
	"{bf00ff}Chaos Alertness",
	"{bf00ff}Chaos Awareness",
	"{bf00ff}Redemption",
	
	"{bf00ff}Small Chaos Chest",
	"{bf00ff}Big Chaos Chest",
	
	"{00ace6}Sea Star",
	"{00ace6}Horsehoe",
	"{00ace6}Shell",
	"{00ace6}Beach Ball",
	"{00ace6}Shell #2",
	"{00ace6}Case",
	"{00ace6}Fan",
	"{00ace6}Machete",
	"{00ace6}CJ Suitcase",
	"{00ace6}Devil Mask",
	"{00ace6}Blue Flag",
	
	"{33bbff}Efficient Amplifier",
	"{3385ff}Dye",
 	"{3385ff}Chaos Pet",
	
	"{cc00ff}Gang`s Winner badge",
	
	"{bf00ff}Civil Card",
	"{bf00ff}Samurai Card",
	"{bf00ff}Boxer Card",
	"{bf00ff}Police Card",
	"{bf00ff}Gangster Card",
	"{bf00ff}Advanced Civil Card",
	"{bf00ff}Medic Card",
	"{bf00ff}Scout Card",
	"{bf00ff}Heavy Support Card",
	"{bf00ff}Heavy Medic Card",
	"{bf00ff}Hero Card",
	"{bf00ff}Engineer Card",
	"{bf00ff}Warm Person Card",
	"{bf00ff}Zombiefan Card",
	"{bf00ff}Mi7 Card",
	"{bf00ff}Scavanger Card",
	"{bf00ff}Firemaniac Card",
	"{bf00ff}Advanced Engineer Card",
	"{bf00ff}S.W.A.T Card",
	"{bf00ff}Toughie Card",
	"{bf00ff}Advanced Medic Card",
	"{bf00ff}Anti Boomer Card",
	"{bf00ff}Runner Card",
	"{bf00ff}Terrorist Card",
	"{bf00ff}Roller Card",
	"{bf00ff}Business Human Card",
	"{bf00ff}Advanced Scout Card",
	"{bf00ff}Rogue Human Card",
	"{bf00ff}Tourist Card",
	"{bf00ff}Copier Card",
    "{bf00ff}Advanced Zombie Fan Card",
    "{bf00ff}Advanced Boxer Card",
    "{bf00ff}Advanced Samurai Card",
	"{bf00ff}Senior Medic Card",
	"{bf00ff}Rocketman Card",
	"{bf00ff}Advanced Policeman Card",
	"{bf00ff}Sharpshooter Card",
	"{bf00ff}Spider-man Card",
	"{bf00ff}Nurse Card",
	"{bf00ff}Poisoner Card",
	"{bf00ff}Iron Man Card",
	"{bf00ff}Advanced Engineer #2 Card",
	"{bf00ff}Doctor Card",
	"{bf00ff}Shotgunner Card",
	"{bf00ff}Human Queen Card",
	"{bf00ff}Advanced Hero Card",
	"{bf00ff}Object 02 Card",
	"{bf00ff}Soldier Card",
	"{bf00ff}Advanced Support Card",
	"{bf00ff}Guitarist Card",
    "{bf00ff}Berserker Card",
    "{bf00ff}Valentine Card",
    
    "{bf00ff}Standard Zombie Card",
    "{bf00ff}Mutated Zombie Card",
    "{bf00ff}Business Zombie Card",
    "{bf00ff}Reaper Zombie Card",
    "{bf00ff}Blind Zombie Card",
    "{bf00ff}Flesher Zombie Card",
    "{bf00ff}Anti-Flamethower Zombie Card",
    "{bf00ff}Tornado Zombie Card",
	"{bf00ff}Fast Zombie Card",
    "{bf00ff}Boomer Zombie Card",
    "{bf00ff}Demon Zombie Card",
	"{bf00ff}Pirate Zombie Card",
	"{bf00ff}Camouflage Zombie Card",
	"{bf00ff}Kamikaze Zombie Card",
    "{bf00ff}Regenerator Zombie Card",
    "{bf00ff}Stomper Zombie Card",
    "{bf00ff}Rogue Zombie Card",
	"{bf00ff}Remover Zombie Card",
	"{bf00ff}Mega Jumper Zombie Card",
	"{bf00ff}Joker Zombie Card",
	"{bf00ff}Cureblocker Zombie Card",
	"{bf00ff}Support Zombie Card",
	"{bf00ff}Radioactive Zombie Card",
	"{bf00ff}Freezer Zombie Card",
	"{bf00ff}Seeker Zombie Card",
	"{bf00ff}Advanced Mutated Zombie Card",
	"{bf00ff}Demolisher Zombie Card",
	"{bf00ff}Reincarnate Zombie Card",
	"{bf00ff}Undeadboxer Zombie Card",
	"{bf00ff}Earthshaker Zombie Card",
	"{bf00ff}Spitter Zombie Card",
	"{bf00ff}Punk Zombie Card",
	"{bf00ff}Slow Zombie Card",
	"{bf00ff}Stealer Zombie Card",
	"{bf00ff}Legbreaker Zombie Card",
	"{bf00ff}Swapper Zombie Card",
	"{bf00ff}Wizard Zombie Card",
	"{bf00ff}Advanced Seeker Zombie Card",
	"{bf00ff}Resindead Zombie Card",
	"{bf00ff}Enforcer Zombie Card",
	"{bf00ff}Spore Zombie Card",
	"{bf00ff}Accelerating Zombie Card",
	"{bf00ff}Spacebreaker Zombie Card",
	"{bf00ff}Runner Zombie Card",
	"{bf00ff}Cockroach Zombie Card",
	"{bf00ff}Witch Zombie Card",
	"{bf00ff}Black-eye Zombie Card",
	"{bf00ff}Gun Jammer Zombie Card",
	"{bf00ff}Bee Zombie Card",
	"{bf00ff}Slender Zombie Card",
	"{bf00ff}Mirror Zombie Card",
	"{bf00ff}Fly Zombie Card",
	"{bf00ff}Nightmare Zombie Card",
	
	"{00cc44}Grass",
 	"{ff3377}Meat",
 	
 	"{aaff00}Anti-Drunk Vision",
 	"{aaff00}Anti-Toxicmeat",
 	"{aaff00}Anti-Reaper",
 	"{aaff00}Anti-Boomer",
 	"{aaff00}Anti-Camouflage",
 	"{aaff00}Anti-Remover",
 	"{aaff00}Anti-Cure Blocker",
 	"{aaff00}Anti-Spitter",
 	"{aaff00}Anti-Punk",
 	"{aaff00}Anti-Stealer",
 	"{aaff00}Anti-Swapper",
 	"{aaff00}Anti-Taser",
 	"{aaff00}Anti-Spore",
 	"{aaff00}Anti-Gun Jammer",
 	"{aaff00}Anti-Poision",
 	"{aaff00}Anti-Bee",
 	"{aaff00}Anti-Shotgunner",
 	"{aaff00}Anti-Guitarist",
 	"{aaff00}Anti-Berserker",
 	"{aaff00}Anti-Fly",
 	"{aaff00}Anti-Nightmare",
 	"{aaff00}Antidote",
 	
 	"{aaff00}Berserker's Book",
 	"{bf00ff}Referee Zombie Card",
	"{bf00ff}Stimulus Card",
	"{bf00ff}Spider Zombie Card",
	
	"{aaff00}Berserker's Book (Page)",
	"{aaff00}Berserker's Book (Cover)",
	"{aaff00}Berserker's Book (Ink)",
	
	"{ffcc66}Restoration emblem",
	"{bf00ff}Graviton Card",
	
	"{bf00ff}(VIP) Human Card",
	"{bf00ff}(VIP) Assassin Card",
	"{bf00ff}(VIP) Pyromaniac Card",
	"{bf00ff}(VIP) Cry Card",
	
	"{bf00ff}(VIP) Screamer Zombie Card",
	"{bf00ff}(VIP) Tank Zombie Card",
	"{bf00ff}(VIP) Juggernaut Zombie Card",
	
	"{bf00ff}Magic Dust",
	
	"{669999}[FISHERMAN-SET] Fishingrod",
	"{669999}[FISHERMAN-SET] Fishing line",
	"{669999}[FISHERMAN-SET] Hook set",
	"{669999}[FISHERMAN-SET] Bait bowl",
	"{669999}[SWEET-SET] Apple Pie",
	"{669999}[SWEET-SET] Apricot pie",
	"{669999}[SWEET-SET] Chocolate pie",
	"{669999}[SWEET-SET] Half-eaten pie",
	"{669999}[SWEET-SET] Milk",
	
	"{BEBEBE}Trash",
	
	"{bf00ff}Saint Card",
	"{bf00ff}Fisherman Card",
	
	"{cc66ff}Weapon Upgrader",
	"{cc33ff}Unique Weapon Upgrader",
	"{cc00ff}Legendary Weapon Upgrader",
	
	"{ff4da6}Gift",
	"{ff4da6}Quest Chest",
	
	"{cc66ff}Armour Upgrader",
	"{cc33ff}Unique Armour Upgrader",
	"{cc00ff}Legendary Armour Upgrader",
	
	"{ff0000}[EVENT] Christmas Gift",
	"{ff0000}[EVENT] Christmas Star",
	"{ff0000}[EVENT] Christmas Toy",
	"{ff0000}[EVENT] Sealed Christmas Set",
	"{ff0000}[EVENT] Christmas Set",
	"{ff0000}[EVENT] Elf`s Christmas Set",
	"{ff0000}[EVENT] Santa`s Christmas set",
	"{ff0000}[EVENT] Deer`s Spirit",
	"{ff0000}[EVENT] Elf`s Spirit",
	"{ff0000}[EVENT] Santa`s Spirit",
	"{ff0000}[EVENT] Santa`s Spirit",
	"{ff0000}[EVENT] Christmas Milk"
};

static const CodeLetters[] =
{
	'A', 'E', 'I', 'O', 'U', 'Y',
	'B', 'C', 'D', 'F', 'G', 'H',
	'J', 'K', 'L', 'M', 'N', 'P',
	'Q', 'R', 'S', 'T', 'V', 'W',
	'X', 'Y', 'Z', 'a', 'e', 'i',
	'o', 'u', 'y', 'b', 'c', 'd',
	'f', 'g', 'h', 'j', 'k', 'l',
	'm', 'n', 'p', 'q', 'r', 's',
	't', 'v', 'w', 'x', 'y', 'z',
	'0', '1', '2', '3', '4', '5',
	'6', '7', '8', '9'
};

static const PetType[][] =
{
	"Assist",
	"Attack",
	"Durability",
	"Agility",
	"Regeneration",
	"Decorative",
	"Decorative",
	"Decorative",
	"Decorative",
	"Decorative",
	"Decorative",
	"Request to delete"
};

static const PetRares[][32] =
{
	"{6600cc}Genuine",
	"{9900ff}Legendary",
	"{ff9900}Unique",
	"{00b33c}Rare",
	"{ccccb3}Common"
};

enum
{
	ITEM_NAME_MOON_PET = 9999,
	ITEM_NAME_FIRE_PET, // 10000
	ITEM_NAME_THE_EARTH_PET, // 10001
    ITEM_NAME_AIR_PET, // 10002
    ITEM_NAME_LOVE_PET, // 10003
    ITEM_NAME_HORSE_PET, // 10004
    ITEM_NAME_COW_PET,
    ITEM_NAME_DEER_PET,
    ITEM_NAME_TURTLE_PET,
    ITEM_NAME_DOLPHIN_PET,
    ITEM_NAME_SHARK_PET,
    
    END_OF_PETS
}

enum
{
	ITEM_NAME_MOON_STONE_I = 0,
	ITEM_NAME_FIRE_STONE_I,
	ITEM_NAME_EARTH_STONE_I,
	ITEM_NAME_AIR_STONE_I,
	ITEM_NAME_AMETHYST,
	ITEM_NAME_RUBY,
	ITEM_NAME_EMERALD,
	ITEM_NAME_PEARL,
	ITEM_NAME_MAGIC_POWDER,
	ITEM_NAME_SPARK_OF_FIRE,
	ITEM_NAME_DECORATIVE_ROCK,
	ITEM_NAME_COMPRESSED_AIR,
	ITEM_NAME_PIECE_OF_MOON,
	ITEM_NAME_FIRE_OF_UNDERWORLD,
	ITEM_NAME_PIECE_OF_LAND,
	ITEM_NAME_AIR_REMEDY,
	ITEM_NAME_FOUNDATION_STONE,
	ITEM_NAME_FOUNDATION_STONE_VIP,
	
	ITEM_NAME_GLOOMY_DARK_STONE,//18
	ITEM_NAME_RAY_OF_LIGHT,
	ITEM_NAME_PRINT_SHADOW,
	ITEM_NAME_SEAL_OF_LIGHT,
	
	ITEM_NAME_QUEST_COIN,
	ITEM_NAME_RARE_QUEST_COIN,
	ITEM_NAME_EPIC_QUEST_COIN,
	ITEM_NAME_LEGENDARY_QUEST_COIN,
	ITEM_NAME_SET_OF_COINS,
	ITEM_NAME_SET_OF_EPIC_COINS,
	
	ITEM_NAME_SET_OF_RARE_COINS,
	ITEM_NAME_SET_OF_LEG_COINS,
	
	ITEM_NAME_WINNER_CHEST,
	ITEM_NAME_LOSER_CHEST,
	ITEM_NAME_GANG_HOUSE_KEY,
	ITEM_NAME_GANG_EMBLEM,
    
    ITEM_NAME_WRENCH,
	ITEM_NAME_OIL,
	ITEM_NAME_HAMMER,
	ITEM_NAME_SCRAP,
	ITEM_NAME_SCREWDRIVER,

	ITEM_NAME_FORK,
	ITEM_NAME_KNIFE1,
	ITEM_NAME_PAN,
	ITEM_NAME_FRYING_PAN,
	ITEM_NAME_KNIFE2,

	ITEM_NAME_RADIO,
	ITEM_NAME_KEY,
	ITEM_NAME_HANDCUFFS,
	ITEM_NAME_PISTOL,
	ITEM_NAME_POLICE_BADGE,

	ITEM_NAME_ORANGE,
	ITEM_NAME_APPLE,
	ITEM_NAME_AVOCADO,
	ITEM_NAME_CHERRY,
	ITEM_NAME_BANANA,

	ITEM_NAME_BLUE_CAP,
	ITEM_NAME_BLACK_HAT,
	ITEM_NAME_PANAMA,
	ITEM_NAME_FARM_HAT,
	ITEM_NAME_GANGSTER_HAT,

	ITEM_NAME_BAS_GUITAR,
	ITEM_NAME_ELECTRIC_GUITAR,
	ITEM_NAME_ROCK_GUITAR,
	ITEM_NAME_MICROPHONE,
	ITEM_NAME_SOUND_RECORD,

	ITEM_NAME_BREAD,
	ITEM_NAME_PIZZA,
	ITEM_NAME_MEAT,
	ITEM_NAME_FISH,
	ITEM_NAME_GRILLED_MEAT,
    
    ITEM_NAME_OLD_SNIPER, //2036
    ITEM_NAME_OLD_DEAGLE, // 2034
    ITEM_NAME_OLD_MP5, // 2044
    ITEM_NAME_OLD_SAWNOFF, // 2033
    ITEM_NAME_OLD_M4, // 2035
    
    ITEM_NAME_QUEEN_HEAD,
 	ITEM_NAME_QUEEN_SHIRT,
 	ITEM_NAME_QUEEN_DRESS,
 	ITEM_NAME_QUEEN_RING,
 	ITEM_NAME_QUEEN_WEALTH,
	 
	ITEM_NAME_HERO_HEAD,
	ITEM_NAME_HERO_CLOTHES,
	ITEM_NAME_HERO_F_AKIT,
	ITEM_NAME_HERO_TEAM,
	ITEM_NAME_HERO_BADGE,
	
	ITEM_NAME_STORY_BOOK,
	ITEM_NAME_VALENTINE,
	ITEM_NAME_GREETING_CARD,
	ITEM_NAME_VALENTINES_LOVE,
	ITEM_NAME_GOLD_COIN,
	
	ITEM_NAME_LOVE_POTION,
	ITEM_NAME_PET_CANDIE,
	ITEM_NAME_LCOOKIE,
	ITEM_NAME_WHITE_CHOCOLATE,
	ITEM_NAME_DARK_CHOCOLATE,
    ITEM_NAME_NOISE,
    ITEM_NAME_CHAOS_COIN,
    ITEM_NAME_CHAOS_CHEST,

	ITEM_NAME_CHAOS_NOTIFICATION,
	ITEM_NAME_CHAOS_ALERTNESS,
	ITEM_NAME_CHAOS_AWARENESS,
	ITEM_NAME_CHAOS_REDEMPTION,
    
    ITEM_NAME_CHAOS_SMALL_CHEST,
    ITEM_NAME_CHAOS_BIG_CHEST,

    ITEM_NAME_SEA_STAR,
    ITEM_NAME_HORSEHOE,
    ITEM_NAME_PEARL_ATTACH,
    ITEM_NAME_BEACH_BALL,
    ITEM_NAME_PEARL_ATTACH_2,
    ITEM_NAME_CASE,
    ITEM_NAME_FAN,
    ITEM_NAME_MACHETE,
    ITEM_NAME_CJ_SUITCASE,
    ITEM_NAME_DEVIL_MASK,
    ITEM_NAME_BLUE_FLAG,
    
    ITEM_NAME_EFF_AMPLIFIER,
    ITEM_NAME_COLOR_AMPLIFIER,
    ITEM_NAME_PET_AMPLIFIER,
    
    ITEM_NAME_GANG_WINNER_BADGE,
    
    /////////// Human CARDS //////////////
    ITEM_NAME_CIVIL_CARD,
    ITEM_NAME_SAMURAI_CARD,
    ITEM_NAME_BOXER_CARD,
    ITEM_NAME_POLICE_CARD,
    ITEM_NAME_GANG_CARD,
    ITEM_NAME_ADV_CIVI_CARD,
    ITEM_NAME_MEDIC_CARD,
    ITEM_NAME_SCOUT_CARD,
    ITEM_NAME_HEAVY_SUPP_CARD,
    ITEM_NAME_HEAVYMEDIC_CARD,
    ITEM_NAME_HERO_CARD,
	ITEM_NAME_ENGINEER_CARD,
	ITEM_NAME_WARMPERSON_CARD,
	ITEM_NAME_ZOMBIEFAN_CARD,
	ITEM_NAME_MI7_CARD,
	ITEM_NAME_SCAVENGER_CARD,
	ITEM_NAME_FIREMANIAC_CARD,
	ITEM_NAME_ADVENGINEER_CARD,
	ITEM_NAME_SWAT_CARD,
	ITEM_NAME_TOUGHIE_CARD,
	ITEM_NAME_ADVMEDIC_CARD,
	ITE_NAME_ANTI_BOOMER_CARD,
	ITEM_NAME_RUNNER_CARD,
	ITEM_NAME_TERRORIST_CARD,
	ITEM_NAME_ROLLER_CARD,
	ITEM_NAME_BUSINESSHUMAN_CARD,
	ITEM_NAME_ADVSCOUT_CARD,
	ITEM_NAME_ROGUEHUMAN_CARD,
	ITEM_NAME_TOURIST_CARD,
	ITEM_NAME_COPIER_CARD,
	ITEM_NAME_ADVZOMBIEFAN_CARD,
	ITEM_NAME_ADVBOXER_CARD,
	ITEM_NAME_ADVSAMURAI_CARD,
	ITEM_NAME_SENIORMEDIC_CARD,
	ITEM_NAME_ROCKETMAN_CARD,
	ITEM_NAME_ADVPOLICEMAN_CARD,
	ITEM_NAME_SHARPSHOOTER_CARD,
	ITEM_NAME_SPIDERMAN_CARD,
	ITEM_NAME_NURSE_CARD,
	ITEM_NAME_POISONER_CARD,
	ITEM_NAME_IRONMAN_CARD,
	ITEM_NAME_ADVENGINEER_2_CARD,
	ITEM_NAME_DOCTOR_CARD,
	ITEM_NAME_SHOTGUNNER_CARD,
	ITEM_NAME_HUMANQUEEN_CARD,
	ITEM_NAME_ADVHERO_CARD,
	ITEM_NAME_OBJECT_CARD,
	ITEM_NAME_ARMY_CARD,
	ITEM_NAME_ADVSUPPORTER_CARD,
	ITEM_NAME_ROCKERMAN_CARD,
	ITEM_NAME_BERSERKER_CARD,
	ITEM_NAME_VALENTINE_CARD,
	///////////////////// Zombie Cards ///////////////////////////
	ITEM_NAME_Z_STANDARD_CARD,
	ITEM_NAME_Z_MUTATED_CARD,
	ITEM_NAME_Z_BUSINESS_CARD,
	ITEM_NAME_Z_REAPER_CARD,
	ITEM_NAME_Z_BLIND_CARD,
	ITEM_NAME_Z_FLESHER_CARD,
	ITEM_NAME_Z_ANTIFLAME_CARD,
	ITEM_NAME_Z_TORNADO_CARD,
	ITEM_NAME_Z_FAST_CARD,
	ITEM_NAME_Z_BOOMER_CARD,
	ITEM_NAME_Z_DEMON_CARD,
	ITEM_NAME_Z_PIRATE_CARD,
	ITEM_NAME_Z_CAMOUFLAGE_CARD,
	ITEM_NAME_Z_KAMIKAZE_CARD,
	ITEM_NAME_Z_REGENERATOR_CARD,
	ITEM_NAME_Z_STOMPER_CARD,
	ITEM_NAME_Z_ROGUE_CARD,
	ITEM_NAME_Z_REMOVER_CARD,
	ITEM_NAME_Z_MEGAJUMPER_CARD,
	ITEM_NAME_Z_JOKER_CARD,
	ITEM_NAME_Z_CUREBLOCKER_CARD,
	ITEM_NAME_Z_SUPPORT_CARD,
	ITEM_NAME_Z_RADIOACTIVE_CARD,
	ITEM_NAME_Z_FREEZER_CARD,
	ITEM_NAME_Z_SEEKER_CARD,
	ITEM_NAME_Z_ADVMUTATED_CARD,
	ITEM_NAME_Z_DEMOLISHER_CARD,
	ITEM_NAME_Z_REINCARNATE_CARD,
	ITEM_NAME_Z_UNDEADBOXER_CARD,
	ITEM_NAME_Z_EARTHSHAKER_CARD,
	ITEM_NAME_Z_SPITTER_CARD,
	ITEM_NAME_Z_PUNK_CARD,
	ITEM_NAME_Z_SLOW_CARD,
	ITEM_NAME_Z_STEALER_CARD,
	ITEM_NAME_Z_LEGBREAKER_CARD,
	ITEM_NAME_Z_SPWAPPER_CARD,
	ITEM_NAME_Z_WIZARD_CARD,
	ITEM_NAME_Z_ADVANCEDSEEKER_CARD,
	ITEM_NAME_Z_RISENDEAD_CARD,
	ITEM_NAME_Z_ENFORCER_CARD,
	ITEM_NAME_Z_SPORE_CARD,
	ITEM_NAME_Z_ACCEL_CARD,
	ITEM_NAME_Z_SPACEBREAKER_CARD,
	ITEM_NAME_Z_RUNNER_CARD,
	ITEM_NAME_Z_COCKROACH_CARD,
	ITEM_NAME_Z_WITCH_CARD,
	ITEM_NAME_Z_BLACKEYE_CARD,
	ITEM_NAME_Z_GUNJAMMER_CARD,
	ITEM_NAME_Z_BEE_CARD,
	ITEM_NAME_Z_SLENDER_CARD,
	ITEM_NAME_Z_MIRROR_CARD,
	ITEM_NAME_Z_FLY_CARD,
	ITEM_NAME_Z_NIGHTMARE_CARD,
	////////////////////////////////////////////////////////////////////////////
	ITEM_NAME_GRASS,
	ITEM_NAME_ZOMBIE_MEAT,
	
	ITEM_NAME_ANTI_DRUNKVISION,
	ITEM_NAME_ANTI_TOXICMEAT,
	ITEM_NAME_ANTI_REAPER,
	ITEM_NAME_ANTI_BOOMER,
	ITEM_NAME_ANTI_CAMOUFLAGE,
	ITEM_NAME_ANTI_REMOVER,
	ITEM_NAME_ANTI_CUREBLOCKER,
	ITEM_NAME_ANTI_SPITTER,
	ITEM_NAME_ANTI_PUNK,
	ITEM_NAME_ANTI_STEALER,
	ITEM_NAME_ANTI_SWAPPER,
	ITEM_NAME_ANTI_TASER,
	ITEM_NAME_ANTI_SPORE,
	ITEM_NAME_ANTI_GUNJAMMER,
	ITEM_NAME_ANTI_POISION,
	ITEM_NAME_ANTI_BEE,
	ITEM_NAME_ANTI_SHOTGUNNER,
	ITEM_NAME_ANTI_GUITARIST,
	ITEM_NAME_ANTI_BERSERKER,
	ITEM_NAME_ANTI_FLY,
	ITEM_NAME_ANTI_NIGHTMARE,
	ITEM_NAME_ANTI_ANTIDOTE,
	
	ITEM_NAME_BERSERKER_BOOK,
	ITEM_NAME_Z_REFEREE_CARD,
	ITEM_NAME_STIMULUS_CARD,
	ITEM_NAME_Z_SPIDER_CARD,
	
	ITEM_NAME_BERSERKER_PAGE,
	ITEM_NAME_BERSERKER_COVER,
	ITEM_NAME_BERSERKER_INK,
	
	ITEM_NAME_RETURNEE,
	ITEM_NAME_GRAVITON_CARD,
	
	ITEM_NAME_VHUMAN_CARD,
	ITEM_NAME_VASSASSIN_CARD,
    ITEM_NAME_VPYROMANIAC_CARD,
    ITEM_NAME_VCRY_CARD,

    ITEM_NAME_VSCREAMER_ZOMBIE_CARD,
    ITEM_NAME_VTANK_ZOMBIE_CARD,
    ITEM_NAME_VJUGGER_ZOMBIE_CARD,
    
    ITEM_NAME_MAGIC_DUST,
    
    //ITEM_NAME_FISH,
    ITEM_NAME_FISHINGROD,
    ITEM_NAME_FISHINGLINE,
    ITEM_NAME_HOOKSET,
    ITEM_NAME_BAITBOWL,

    ITEM_NAME_APPLE_PIE,
    ITEM_NAME_APRICOT_PIE,
    ITEM_NAME_CHOCOLATE_PIE,
    ITEM_NAME_HALF_EATENPIE,
    ITEM_NAME_MILK,
	ITEM_NAME_TRASH,
	
	ITEM_NAME_UNDERTAKER_CARD,
	ITEM_NAME_FISHERMAN_CARD,
	
	ITEM_NAME_WEAPON_UPGRADER,
	ITEM_NAME_U_WEAPON_UPGRADER,
	ITEM_NAME_L_WEAPON_UPGRADER,
	
	ITEM_NAME_SER_GIFT,
	ITEM_NAME_QUEST_CHEST,
	
	ITEM_NAME_ARMOUR_UPGRADER,
	ITEM_NAME_U_ARMOUR_UPGRADER,
	ITEM_NAME_L_ARMOUR_UPGRADER,
	
	//////////// XMAS /////////////
	ITEM_NAME_XMAS_GIFT,
	ITEM_NAME_XMAS_STAR,
	ITEM_NAME_XMAS_TOY,
	
	ITEM_NAME_XMAS_CHEST,
	ITEM_NAME_XMAS_R_CHEST,
	ITEM_NAME_XMAS_E_CHEST,
	ITEM_NAME_XMAS_L_CHEST,
	
	ITEM_NAME_XMAS_DEER_SPIRIT,
	ITEM_NAME_XMAS_ELF_SPIRIT,
	ITEM_NAME_XMAS_SANTA_SPIRIT,
	ITEM_NAME_XMAS_MILK,
};

static const ServerGiftPrizes[] =
{
    0,
    ITEM_NAME_AMETHYST, ITEM_NAME_RUBY, ITEM_NAME_EMERALD, ITEM_NAME_PEARL, ITEM_NAME_WEAPON_UPGRADER,
    ITEM_NAME_WINNER_CHEST, ITEM_NAME_QUEST_CHEST, ITEM_NAME_SET_OF_RARE_COINS, ITEM_NAME_CHAOS_NOTIFICATION,
	ITEM_NAME_CHAOS_ALERTNESS, ITEM_NAME_CHAOS_AWARENESS, ITEM_NAME_CHAOS_REDEMPTION,

    ITEM_NAME_U_WEAPON_UPGRADER,
    ITEM_NAME_QUEEN_HEAD, ITEM_NAME_QUEEN_SHIRT, ITEM_NAME_QUEEN_DRESS, ITEM_NAME_QUEEN_RING, ITEM_NAME_QUEEN_WEALTH,
	ITEM_NAME_HERO_HEAD, ITEM_NAME_HERO_CLOTHES, ITEM_NAME_HERO_F_AKIT, ITEM_NAME_HERO_TEAM, ITEM_NAME_HERO_BADGE,

	ITEM_NAME_L_WEAPON_UPGRADER, ITEM_NAME_SET_OF_LEG_COINS, ITEM_NAME_BERSERKER_BOOK
};

enum colorInfo { ci_code, ci_name[24] };
static const colorNames[][colorInfo] =
{
	{0xFF00FFFF,  "Aqua"},
	{0xFF7FFFD4,  "Aquamarine"},
	{0xFF0000FF,  "Blue"},
	{0xFF8A2BE2,  "Blue Violet"},
	{0xFFA52A2A,  "Brown"},
	{0xFF7FFF00,  "Chartreuse"},
	{0xFFD2691E,  "Chocolate"},
	{0xFFE75480,  "Dark Pink"},
	{0xFFFF7F50,  "Coral"},
	{0xFFDC143C,  "Crimson"},
	{0xFF00FFFF,  "Cyan"},
	{0xFF008B8B,  "Dark Cyan"},
	{0xFF006400,  "Dark Green"},
	{0xFF8B008B,  "Dark Magenta"},
	{0xFFFF8C00,  "Dark Orange"},
	{0xFF9932CC,  "Dark Orchid"},
	{0xFF483D8B,  "Dark Slate Blue"},
	{0xFF00CED1,  "Dark Turquoise"},
	{0xFF9400D3,  "Dark Violet"},
	{0xFFFF1493,  "Deep Pink"},
	{0xFF00BFFF,  "Deep Sky Blue"},
	{0xFF1E90FF,  "Dodger Blue"},
	{0xFFB22222,  "Firebrick"},
	{0xFF228B22,  "Forest Green"},
	{0xFFFF00FF,  "Fuchsia"},
	{0xFF808080,  "Web Gray"},
	{0xFF00FF00,  "Green"},
	{0xFF008000,  "Web Green"},
	{0xFFADFF2F,  "Green Yellow"},
	{0xFFFF69B4,  "Hot Pink"},
	{0xFF7CFC00,  "Lawn Green"},
	{0xFFF08080,  "Light Coral"},
	{0xFF20B2AA,  "Light Sea Green"},
	{0xFF00FF00,  "Lime"},
	{0xFF32CD32,  "Lime Green"},
	{0xFFFF00FF,  "Magenta"},
	{0xFF0000CD,  "Medium Blue"},
	{0xFFBA55D3,  "Medium Orchid"},
	{0xFF9370DB,  "Medium Purple"},
	{0xFF3CB371,  "Medium Sea Green"},
	{0xFF7B68EE,  "Medium Slate Blue"},
	{0xFF00FA9A,  "Medium Spring Green"},
	{0xFFC71585,  "Medium Violet Red"},
	{0xFFFF4500,  "Orange Red"},
	{0xFFDA70D6,  "Orchid"},
	{0xFF98FB98,  "Pale Green"},
	{0xFFDB7093,  "Pale Violet Red"},
	{0xFFA020F0,  "Purple"},
	{0xFF800080,  "Web Purple"},
	{0xFFFF0000,  "Red"},
	{0xFF4169E1,  "Royal Blue"},
	{0xFFFA8072,  "Salmon"},
	{0xFF2E8B57,  "Sea Green"},
	{0xFF6A5ACD,  "Slate Blue"},
	{0xFF00FF7F,  "Spring Green"},
	{0xFF008080,  "Teal"},
	{0xFFFF6347,  "Tomato"},
	{0xFF40E0D0,  "Turquoise"},
	{0xFFEE82EE,  "Violet"}
};

enum AttachmentEnum
{
    attachmodel,
    attachname[36]
}

static const newAttachement[][AttachmentEnum] =
{
    { 902, "{00ace6}Sea Star" },
	{ 953 ,"{00ace6}Horsehoe" },
 	{ 954 ,"{00ace6}Shell" },
	{ 1598 ,"{00ace6}Beach Ball" },
	{ 2782 ,"{00ace6}Shell #2" },
	{ 1210 ,"{00ace6}Case" },
	{ 19591 ,"{00ace6}Fan" },
	{ 19590 ,"{00ace6}Machete" },
	{ 19624 ,"{00ace6}CJ Suitcase" },
	{ 11704 ,"{00ace6}Devil Mask" },
	{ 19307 ,"{00ace6}Blue Flag" }
};

new AttachmentObjects[][AttachmentEnum] = {

{1276, "Secret package"},
{1550, "Money bag"},
{2406, "Surfboard"},
{2976, "Green Gloop"},
{19528, "Witch hat"},
{19527, "Witch's cauldron"},
{19306, "Flag"},

//{19588, "Wing"},
//{11712, "Cross"},
//{19339, "Cofin"},

{19066, "Santa Hat"},
{18632, "FishingRod"},
{18633, "GTASAWrench1"},
{18638, "HardHat1"},
{18639, "BlackHat1"},
{18640, "Hair1"},
{18975, "Hair2"},
{19136, "Hair4"},
{19274, "Hair5"},
{18642, "Taser1"},
{18644, "Screwdriver1"},
{18645, "MotorcycleHelmet1"},
{18874, "MobilePhone10"},
{18875, "Pager1"},
{18890, "Rake1"},
{18911, "Mask1"},
{18912, "Mask2"},
{18913, "Mask3"},
{18914, "Mask4"},
{18915, "Mask5"},
{18916, "Mask6"},
{18917, "Mask7"},
{18918, "Mask8"},
{18919, "Mask9"},
{18920, "Mask10"},
{18921, "Beret1"},
{18922, "Beret2"},
{18923, "Beret3"},
{18924, "Beret4"},
{18925, "Beret5"},
{18926, "Hat1"},
{18927, "Hat2"},
{18928, "Hat3"},
{18929, "Hat4"},
{18930, "Hat5"},
{18931, "Hat6"},
{18932, "Hat7"},
{18933, "Hat8"},
{18934, "Hat9"},
{18935, "Hat10"},
{18936, "Helmet1"},
{18937, "Helmet2"},
{18938, "Helmet3"},
{18939, "CapBack1"},
{18940, "CapBack2"},
{18941, "CapBack3"},
{18942, "CapBack4"},
{18943, "CapBack5"},
{18944, "HatBoater1"},
{18945, "HatBoater2"},
{18946, "HatBoater3"},
{18947, "HatBowler1"},
{18948, "HatBowler2"},
{18949, "HatBowler3"},
{18950, "HatBowler4"},
{18951, "HatBowler5"},
{18952, "BoxingHelmet1"},
{18953, "CapKnit1"},
{18954, "CapKnit2"},
{18955, "CapOverEye1"},
{18956, "CapOverEye2"},
{18957, "CapOverEye3"},
{18958, "CapOverEye4"},
{18959, "CapOverEye5"},
{18960, "CapRimUp1"},
{18961, "CapTrucker1"},
{18962, "CowboyHat2"},
{18963, "CJElvisHead"},
{18964, "SkullyCap1"},
{18965, "SkullyCap2"},
{18966, "SkullyCap3"},
{18967, "HatMan1"},
{18968, "HatMan2"},
{18969, "HatMan3"},
{18970, "HatTiger1"},
{18971, "HatCool1"},
{18972, "HatCool2"},
{18973, "HatCool3"},
{18974, "MaskZorro1"},
{19039, "WatchType1"},
{19040, "WatchType2"},
{19041, "WatchType3"},
{19042, "WatchType4"},
{19043, "WatchType5"},
{19044, "WatchType6"},
{19045, "WatchType7"},
{19046, "WatchType8"},
{19047, "WatchType9"},
{19048, "WatchType10"},
{19049, "WatchType11"},
{19050, "WatchType12"},
{19051, "WatchType13"},
{19052, "WatchType14"},
{19053, "WatchType15"},
{19085, "EyePatch1"},
{19090, "PomPomBlue"},
{19091, "PomPomRed"},
{19092, "PomPomGreen"},
{19093, "HardHat2"},
{19095, "CowboyHat1"},
{19096, "CowboyHat3"},
{19097, "CowboyHat4"},
{19098, "CowboyHat5"},
{19099, "PoliceCap2"},
{19100, "PoliceCap3"},
{19113, "SillyHelmet1"},
{19114, "SillyHelmet2"},
{19115, "SillyHelmet3"},
{19116, "PlainHelmet1"},
{19117, "PlainHelmet2"},
{19118, "PlainHelmet3"},
{19119, "PlainHelmet4"},
{19120, "PlainHelmet5"},
{19138, "PoliceGlasses1"},
{19139, "PoliceGlasses2"},
{19140, "PoliceGlasses3"},
{19160, "HardHat3"},
{19161, "PoliceHat1"},
{19162, "PoliceHat2"},
{19163, "GimpMask1"},
{19317, "bassguitar01"},
{19318, "flyingv01"},
{19319, "warlock01"},
{19330, "fire_hat01"},
{19331, "fire_hat02"},
{19346, "hotdog01"},
{19347, "badge01"},
{19348, "cane01"},
{19349, "monocle01"},
{19350, "moustache01"},
{19351, "moustache02"},
{19352, "tophat01"},
{19487, "tophat02"},
{19488, "HatBowler6"},
{19513, "whitephone"},
{19578, "Banana"},
{19418, "HandCuff"}
};

new AttachmentBones[][24] = {
{"Spine"},
{"Head"},
{"Left upper arm"},
{"Right upper arm"},
{"Left hand"},
{"Right hand"},
{"Left thigh"},
{"Right thigh"},
{"Left foot"},
{"Right foot"},
{"Right calf"},
{"Left calf"},
{"Left forearm"},
{"Right forearm"},
{"Left clavicle"},
{"Right clavicle"},
{"Neck"},
{"Jaw"}
};

new ServerRegisters[][][] =
{
	{
	    "{FF0000}Zombie Apocalypse - Registration (%d/4)", // 0
	    "{D7D7D7}The system could not find your account.\nCreate a new one:\n\n\tMinimum length: 6 characters, do not make easy passwords.\n\tYou can use the Cyrillic alphabet.\n\tUse @#$!~*&-+^% etc characters to make it harder.\n\n", // 1
     	"If you {FF0000}lose your password{D7D7D7}, it will not be restored, it will only be possible\nto change it, since The server uses {FF0000}encryption methods for storing data{D7D7D7}.", // 2
     	"\n{FF0000}I hacked you, try harder.\n", // 3
		"{D7D7D7}Enter a valid Email address, it {FF0000}will be used to restore{D7D7D7} access to your account.\n\nSupported: .com .ru\n\n{FFF000}If you want to restore access to your account - enter the registered email.", // 4
        "{D7D7D7}Enter the secret word, it is necessary to {FF0000}restore the email address or password{D7D7D7}.\n\n\n{FF0000}Attention:\n{D7D7D7}Write this word down somewhere, as it {FF0000}cannot be restored or changed{D7D7D7}.", // 5
        "{FF0000}Zombie Apocalypse - Login", // 6
        "\n{D7D7D7}Welcome Back!\n\n{D7D7D7}Your account is already registered.\nEnter your password, you have %d attempts and the time limit is 1 minute.", // 7
       	"\n{D7D7D7}Welcome Back!\n\n{D7D7D7}Your account is already registered.\nEnter your password, you have %d attempts before you will be kicked", // 8
        "Repeat", // 9
		"Login", // 10
		"{D7D7D7}Promo code of the player who invited you to the server?", // 11
		"Skip", // 12
		"{D7D7D7}There is no such code. Try again" // 13
	},
	{
	    "{FF0000}Зомби Апокалипсис - Регистрация (%d/4)",
	    "\n{D7D7D7}Система не смогла найти ваш аккаунт.\nСоздайте новый:\n\n\tМинимальная длина: 6 символов, не делайте простых паролей.\n\tВы можете использовать кириллицу.\n\tИспользуйте символы @#$!~*&-+^% и т.п, чтобы сделать его сложнее.\n\n",
     	"Если вы {FF0000}потеряете свой пароль{D7D7D7}, он не будет восстановлен, его можно будет только\nизменить, поскольку сервер использует методы шифрования {FF0000}для хранения данных{D7D7D7}.",
     	"\n{FF0000}Я взломаю тебя, попробуй что-нибудь сложнее.\n\n",
		"\n{D7D7D7}Введите действительный адрес электронной почты, он {FF0000}будет использоваться для восстановления доступа к вашей учетной записи{D7D7D7}.\n\nДоступны: .com .ru\n\n{FFF000}Если вы хотите восстановить доступ к своей учетной записи - введите зарегистрированный адрес электронной почты.",
        "{D7D7D7}Введите секретное слово, оно необходимо, чтобы {FF0000}восстановить адрес электронной почты или пароль{D7D7D7}.\n\n{FF0000}Внимание:\n{D7D7D7}Запишите это слово где-нибудь, так как его {FF0000}нельзя восстановить или изменить{D7D7D7}.\n",
        "\n{D7D7D7}Добро пожаловать!\n\n{D7D7D7}Ваша учетная запись уже зарегистрирована.\nВведите пароль, у вас есть %d попытки, и ограничение по времени составляет 1 минуту.",
        "{FF0000}Зомби Апокалипсис - Войти",
        "\n{D7D7D7}Добро пожаловать!\n\n{D7D7D7}Ваша учетная запись уже зарегистрирована.\nВведите пароль, у вас осталось %d попытка(и)",
        "Повторить",
        "Войти",
        "{D7D7D7}Промокод игрока пригласившего вас на сервер?", // 11
		"Пропустить",
		"{D7D7D7}Такого кода не существует. Попробуйте еще раз"
	},
	{
	    "{FF0000}Zombie Apocalypse - Registro (%d/4)", // 0
	    "{D7D7D7}El sistema no pudo encontrar su cuenta.\nCrea uno nuevo:\n\n\tLongitud mнnima: 6 caracteres, no crea contraseсas fбciles.\n\tPuedes usar el alfabeto cirнlico.\n\tUse los caracteres @#$!~*&-+^%, etc. para hacerlo mбs difнcil.\n\n", // 1
     	"Si tu {FF0000}pierde tu contraseсa{D7D7D7}, no serб restaurado, solo serб posible\ncambiarlo, ya que el servidor usa {FF0000}mйtodos de encriptaciуn para almacenar datos{D7D7D7}.", // 2
     	"\n{FF0000}Te hackeй, intenta mбs.\n", // 3
		"{D7D7D7}Ingrese una direcciуn de correo electrуnico vбlida, se {FF0000}se usarб para restaurar{D7D7D7} acceso a su cuenta.\n\nSoportada: .com .ru\n\n{FFF000}Si desea restaurar el acceso a su cuenta, ingrese el correo electrуnico registrado.", // 4
        "{D7D7D7}Ingrese la palabra secreta, es necesario {FF0000}restaurar la direcciуn de correo electrуnico o contraseсa{D7D7D7}.\n\n\n{FF0000}Atenciуn:\n{D7D7D7}Escribe esta palabra en alguna parte, ya que {FF0000}no puede ser restaurado o cambiado{D7D7D7}.", // 5
        "{FF0000}Zombie Apocalypse - Iniciar sesiуn", // 6
        "\n{D7D7D7}Dar una buena acogida!\n\n{D7D7D7}Tu cuenta ya estб registrada.\nIngrese su contraseсa, usted tiene %d intentos y el lнmite de tiempo es de 1 minuto.", // 7
       	"\n{D7D7D7}Dar una buena acogida!\n\n{D7D7D7}Tu cuenta ya estб registrada.\nIngrese su contraseсa, usted tiene %d intentos antes de ser pateado", // 8
        "Repetir", // 9
		"Sesion", // 10
		"{D7D7D7}?Codigo promocional del jugador que te invito al servidor?", // 11
		"Omitir",
		"{D7D7D7}No hay tal cуdigo. Intenta nuevamente"
	}
};

enum e_skills
{
	e_sAmmunation = 0,
	e_sEvansion,

	e_sPoision,
	e_sRadiation,
	e_sFire,
	e_sImmunization,

	e_sAdrenaline,
	e_sImprovedAdrenaline,

	e_sBloodshed,
	e_sIncreasedBloodshed,
	e_sBloodthirstiness,

	e_sExtraDamage,
	e_sRage,
	e_sImprovedRage,

	e_sArmourDestruction,
	e_sImprovedArmourDestruction,
	e_sFireBullet,
	e_sExplosion,

	e_sRockSkin,
	e_sIronSkin,
	e_sShield,

	e_sHawkeye,
	e_sDoubleCrit,

	e_sWasUnlocked[30]
};

new pSkills[MAX_PLAYERS][e_skills];

new UpgradesNames[][][] =
{
	{
	    "Wisdom (ZA)",
	    "Reaction (GW)",

		"Resistance to poison (ZA)",
		"Radiation resistance (ZA)",
		"Fire resistance (ZA)",
		"Immunization (ZA)",

		"Adrenalin (ZA)",
		"Improved Adrenaline (ZA)",

		"Bloodshed (GW)",
		"Increased Bloodshed (GW)",
		"Bloodthirstiness (GW)",
		"Bloody Rage (GW)",
		"Wrath (GW)",
		"Increased Wrath (GW)",

		"Armor Destruction (GW)",
		"Improved Armor Destruction (GW)",
		"Fire bullet (GW)",
		"Explosion (GW)",

		"Stone Protection (GW)",
		"Steel Sheath (GW)",
		"Guard Shield (GW)",

		"Hawkeye (GW)",
		"Pain point (GW)"
	},
	{
	    "Мудрость (ZA)",
	    "Реакция (GW)",
		"Сопротивление яду (ZA)",
		"Сопротивление радиации (ZA)",
		"Сопротивление огню (ZA)",
		"Иммунизация (ZA)",
		"Адреналин (ZA)",
		"Улучшенный Адреналин (ZA)",

		"Кровопролитие (GW)",
		"Усиление кровопролития (GW)",
		"Кровожадность (GW)",
		"Кровавая ярость (GW)",
		"Гнев (GW)",
		"Усиление гнева (GW)",

		"Разрушение брони (GW)",
		"Уничтожение брони (GW)",
		"Огненная пуля (GW)",
		"Взрыв (GW)",

		"Каменная защита (GW)",
		"Стальная оболочка (GW)",
		"Оберегающий Щит (GW)",

		"Соколиный глаз (GW)",
		"Болевая точка (GW)"
	},
	{
		"Sabiduria (ZA)",
	    "Reaccion (GW)",

		"Resistencia al veneno (ZA)",
		"Resistencia a la radiacion (ZA)",
		"Resistente al fuego (ZA)",
		"Inmunizacion (ZA)",

		"Adrenalina (ZA)",
		"Adrenalina Mejorada (ZA)",

		"Matanza (GW)",
		"Aumento del derramamiento de sangre (GW)",
		"Sed de sangre (GW)",
		"Furia sangrienta (GW)",
		"Ira (GW)",
		"Aumento de la ira (GW)",

		"Destruccion de Armadura (GW)",
		"Destruccion de Armadura Mejorada (GW)",
		"Bala de fuego (GW)",
		"Explosion (GW)",

		"Proteccion de piedra (GW)",
		"Vaina de acero (GW)",
		"Escudo de guardia (GW)",

		"Ojo de halcon (GW)",
		"Punto de dolor (GW)"
	}
};

new UpgradesDesc[][][] =
{
	{
        "increases ammunition",
	    "increases dodging",

	    "damage taken reduced by %d%%",
	    "damage taken reduced by %d%% {FFF000}- |^|",
	    "damage taken reduced by %d%% {FFF000}- |^|",
	    "infection damage taken reduced by %d%% {FFF000}- |^|",

	    "During evacuation: accelerates the character",
	    "During evacuation: restores %d%% hp {FFF000}- |^|",

	    "a player temporarily loses orientation",
	    "increases the chance of effect and duration of skill {FFF000}- |^|",
	    "a chance to recover %d%% of hp from damage given {FFF000}- |^|",

	    "increases damage",
	    "targets have reduced resistance to damage {FFF000}- |^|",
	    "skill radius increase {FFF000}- |^|",

	    "reduces defense of the target",
	    "the target will receive on %d%% more damage {FFF000}- |^|",
	    "sets fire to target {FFF000}- |^|",
	    "inflicts %d%% target damage from total player damage {FFF000}- |^|",

	    "increases defense, decreases crit. chance",
	    "reduced crit. chance and damage, more defense {FFF000}- |^|",
	    "reduces damage and sets fire to targets {FFF000}- |^|",

	    "increased accuracy and crit. chance damage",
	    "increased crit. damage {FFF000}- |^|"
	},
	{
	    "увеличивает боезапас",
	    "увеличивает уклонение",

	    "урон уменьшен на %d%%",
	    "урон уменьшен на %d%% {FFF000}- |^|",
	    "урон уменьшен на %d%% {FFF000}- |^|",
	    "урон от инфекций уменьшен на %d%% {FFF000}- |^|",

	    "При эвакуации: ускоряет персонажа",
	    "При эвакуации: восстанавливает %d%% хп {FFF000}- |^|",

	    "игрок временно теряет ориентацию",
	    "увеличивает шанс эффекта и время действия {FFF000}- |^|",
	    "шанс восстановить %d%% хп от нанесённого урона {FFF000}- |^|",

	    "увеличивает урон",
	    "цели получают больше урона {FFF000}- |^|",
	    "увеличение радиуса способности {FFF000}- |^|",

	    "уменьшает защиту цели от аттак",
	    "цель будет получать на %d%% больше урона {FFF000}- |^|",
	    "поджигает врагов {FFF000}- |^|",
	    "наносит %d%% урона цели от общего урона игрока {FFF000}- |^|",

	    "больше защиты, уменьшение шанса крит. урона",
	    "уменьшение крит. шанса и урона, больше защиты {ff661a}- |^|",
	    "снижает урон и поджигает врагов {ff661a}- |^|",

	    "увеличение точности и шанса крит. урона",
	    "увеличение критического урона {FFF000}- |^|"
	},
	{
        "aumenta la municion",
	    "aumenta la evasion",

	    "dano recibido reducido en %d%%",
	    "dano recibido reducido en %d%% {FFF000}- |^|",
	    "dano recibido reducido en %d%% {FFF000}- |^|",
	    "dano de infeccion recibido reducido en %d%% {FFF000}- |^|",

	    "Durante la evacuacion: acelera el personaje",
	    "Durante la evacuacion: restaura %d%% hp {FFF000}- |^|",

	    "un jugador pierde temporalmente la orientacion",
	    "aumenta la posibilidad de efecto y la duracion de la habilidad {FFF000}- |^|",
	    "una posibilidad de recuperar %d%% de HP del dano dado {FFF000}- |^|",

	    "aumenta el dano",
	    "los objetivos han reducido la resistencia al dano {FFF000}- |^|",
	    "aumento del radio de habilidad {FFF000}- |^|",

	    "reduce la defensa del objetivo",
	    "el objetivo recibira %d%% mas dano {FFF000}- |^|",
	    "prende fuego al objetivo {FFF000}- |^|",
	    "inflige %d%% de dano objetivo del dano total del jugador {FFF000}- |^|",

	    "aumenta la defensa, disminuye la probabilidad critica",
	    "reduccion de probabilidad y dano critico, mas defensa {FFF000}- |^|",
	    "reduce el dano y prende fuego a los objetivos {FFF000}- |^|",

	    "mayor precision y dano critico de probabilidad",
	    "aumento del dano critico {FFF000}- |^|"
	}
};

static const UpgradesMax[] = {
	5, 5, 3, 3,
	3, 5, 1, 5,
	5, 3, 5, 3,
	5, 5, 5, 3,
	1, 1, 5, 5,
	1, 5, 5
};

static const UpgradesDependence[] = {
	-1, -1, -1, e_sPoision, e_sRadiation,
	e_sFire, -1, e_sAdrenaline, -1, e_sBloodshed,
	e_sIncreasedBloodshed, -1, e_sExtraDamage, e_sRage, -1,
	e_sArmourDestruction, e_sImprovedArmourDestruction, e_sFireBullet, -1,
	e_sRockSkin, e_sIronSkin, -1, e_sHawkeye, -1,
	-1, -1, -1, -1, -1
};

static const UpgradesRanks[] = {
	3, 3,
	5, 8, 11, 15,
	15, 18,
	18, 21, 23,
	21, 25, 30,
	21, 25, 28, 32,
	17, 21, 25,
	10, 20
};

static const UpgradesExp[] =
{
	5000, 2000,
	1000, 3000, 6000, 10000,
	5000, 25000,
	15000, 5000, 30000,
	5000, 15000, 5000,
	30000, 35000, 40000, 45000,
	25000, 25000, 45000,
	35000, 40000
};

static const CardBoxName[][][] =
{
	{
	    "Covid-19 (CARD SET)",
	    "Poisonous Meat (CARD SET)",
	    "Quantum Explosion (CARD SET)",
	    "Zombies Can Fly (CARD SET)",
	    "Second Chance (CARD SET)",
	    "Too Hot! (CARD SET)",
	    "Therapeutic Radiation (CARD SET)",
	    "Uppercut (CARD SET)",
	    "Halloween (CARD SET)",
	    "Steel Leather (CARD SET)",
	    "Human Footprint (CARD SET)",
	    "Telepathy (CARD SET)",
	    "Building (CARD SET)",
	    "Additional Fuel (CARD SET)",
	    "Additional Ammo (CARD SET)",
	    "{ED1B24}Advanced Gangster (CARD SET)",
	    "{ED1B24}Advanced Cure Blocker (CARD SET)",
	    "{ED1B24}In The Web (CARD SET)",
	    "{ED1B24}Judge Adjudicated (CARD SET)",
	    "{ED1B24}She is so aggressive (CARD SET)"
	},
	{
	    "Covid-19 (CARD SET)",
	    "Poisonous Meat (CARD SET)",
	    "Quantum Explosion (CARD SET)",
	    "Zombies Can Fly (CARD SET)",
	    "Second Chance (CARD SET)",
	    "Too Hot! (CARD SET)",
	    "Therapeutic Radiation (CARD SET)",
	    "Uppercut (CARD SET)",
	    "Halloween (CARD SET)",
	    "Steel Leather (CARD SET)",
	    "Human Footprint (CARD SET)",
	    "Telepathy (CARD SET)",
	    "Building (CARD SET)",
	    "Additional Fuel (CARD SET)",
	    "Additional Ammo (CARD SET)",
	    "{ED1B24}Advanced Gangster (CARD SET)",
	    "{ED1B24}Advanced Cure Blocker (CARD SET)",
	    "{ED1B24}In The Web (CARD SET)",
	    "{ED1B24}Judge Adjudicated (CARD SET)",
	    "{ED1B24}She is so aggressive (CARD SET)"
	},
	{
	    "Covid-19 (CARD SET)",
	    "Poisonous Meat (CARD SET)",
	    "Quantum Explosion (CARD SET)",
	    "Zombies Can Fly (CARD SET)",
	    "Second Chance (CARD SET)",
	    "Too Hot! (CARD SET)",
	    "Therapeutic Radiation (CARD SET)",
	    "Uppercut (CARD SET)",
	    "Halloween (CARD SET)",
	    "Steel Leather (CARD SET)",
	    "Human Footprint (CARD SET)",
	    "Telepathy (CARD SET)",
	    "Building (CARD SET)",
	    "Additional Fuel (CARD SET)",
	    "Additional Ammo (CARD SET)",
	    "{ED1B24}Advanced Gangster (CARD SET)",
	    "{ED1B24}Advanced Cure Blocker (CARD SET)",
	    "{ED1B24}In The Web (CARD SET)",
	    "{ED1B24}Judge Adjudicated (CARD SET)",
	    "{ED1B24}She is so aggressive (CARD SET)"
	}
};

enum
{
	CARD_EFFECT_COVID19, // OK
	CARD_EFFECT_POISONOUS_MEAT, // OK
	CARD_EFFECT_QUANTUM_EXPLOSION, // OK
	CARD_EFFECT_ZOMBIES_CAN_FLY, // OK
	CARD_EFFECT_SECOND_CHANCE, // OK
	CARD_EFFECT_TOO_HOT, // OK
	CARD_EFFECT_HEAL_RADIATION, // OK
	CARD_EFFECT_UPPERCUT, // OK
	CARD_EFFECT_HALLOWEEN, // OK
	CARD_EFFECT_STEEL_LEATHER, // OK
	CARD_EFFECT_HUMAN_FOOTPRINT, // OK
	CARD_EFFECT_TELEPATHY, // OK
	CARD_EFFECT_BUILDING, // OK
	CARD_EFFECT_ADDITIONAL_FUEL, // OK
	CARD_EFFECT_ADDITIONAL_AMMO, // OK
	CARD_EFFECT_ADVGANGSTER, // OK
	CARD_EFFECT_ADVCUREBLOCKER, // OK
	CARD_EFFECT_SPIDER, // OK
	CARD_EFFECT_PYRAMIDHEAD, // OK
	CARD_EFFECT_STIMULUS, // OK
};

static const CardBoxClassItem[][] =
{
	{ITEM_NAME_Z_MUTATED_CARD, ITEM_NAME_Z_ADVMUTATED_CARD, ITEM_NAME_Z_PUNK_CARD, ITEM_NAME_Z_SPORE_CARD},
	{ITEM_NAME_Z_STANDARD_CARD, ITEM_NAME_Z_BLIND_CARD, ITEM_NAME_Z_FLESHER_CARD, ITEM_NAME_Z_TORNADO_CARD},
	{ITEM_NAME_Z_ANTIFLAME_CARD, ITEM_NAME_Z_BOOMER_CARD, ITEM_NAME_Z_DEMON_CARD, ITEM_NAME_Z_KAMIKAZE_CARD},
	{ITEM_NAME_Z_FAST_CARD, ITEM_NAME_Z_MEGAJUMPER_CARD, ITEM_NAME_Z_STOMPER_CARD, ITEM_NAME_Z_EARTHSHAKER_CARD},
	{ITEM_NAME_Z_BUSINESS_CARD, ITEM_NAME_Z_SPITTER_CARD, ITEM_NAME_Z_BEE_CARD},
	{ITEM_NAME_WARMPERSON_CARD, ITEM_NAME_Z_FREEZER_CARD, ITEM_NAME_Z_SLOW_CARD, ITEM_NAME_Z_LEGBREAKER_CARD, ITEM_NAME_Z_ACCEL_CARD, ITEM_NAME_Z_RUNNER_CARD},
	{ITEM_NAME_Z_REGENERATOR_CARD, ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_Z_REMOVER_CARD, ITEM_NAME_Z_CUREBLOCKER_CARD, ITEM_NAME_Z_RADIOACTIVE_CARD, ITEM_NAME_Z_SUPPORT_CARD},
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_Z_REAPER_CARD, ITEM_NAME_Z_PIRATE_CARD, ITEM_NAME_Z_UNDEADBOXER_CARD, ITEM_NAME_Z_WIZARD_CARD},
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_Z_CAMOUFLAGE_CARD, ITEM_NAME_Z_ROGUE_CARD, ITEM_NAME_Z_NIGHTMARE_CARD, ITEM_NAME_Z_FLY_CARD, ITEM_NAME_Z_SLENDER_CARD, ITEM_NAME_Z_GUNJAMMER_CARD, ITEM_NAME_Z_WITCH_CARD, ITEM_NAME_Z_COCKROACH_CARD, ITEM_NAME_Z_BLACKEYE_CARD},
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_Z_STEALER_CARD, ITEM_NAME_Z_ENFORCER_CARD, ITEM_NAME_Z_MIRROR_CARD, ITEM_NAME_Z_SPWAPPER_CARD},
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_Z_SLENDER_CARD, ITEM_NAME_Z_ADVANCEDSEEKER_CARD, ITEM_NAME_Z_SEEKER_CARD},
	//////// HUMANS //////////////////////
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_MEDIC_CARD, ITEM_NAME_HEAVYMEDIC_CARD, ITEM_NAME_ADVMEDIC_CARD, ITEM_NAME_SENIORMEDIC_CARD, ITEM_NAME_NURSE_CARD, ITEM_NAME_POISONER_CARD},
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_ENGINEER_CARD, ITEM_NAME_ADVENGINEER_CARD, ITEM_NAME_ADVENGINEER_2_CARD},
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_RUNNER_CARD, ITEM_NAME_IRONMAN_CARD, ITEM_NAME_ROCKETMAN_CARD, ITEM_NAME_SPIDERMAN_CARD},
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_HEAVY_SUPP_CARD, ITEM_NAME_ADVSUPPORTER_CARD},
	{ITEM_NAME_CIVIL_CARD, ITEM_NAME_ADV_CIVI_CARD, ITEM_NAME_GANG_CARD, ITEM_NAME_POLICE_CARD, ITEM_NAME_ADVPOLICEMAN_CARD},
	{ITEM_NAME_ROGUEHUMAN_CARD, ITEM_NAME_ZOMBIEFAN_CARD, ITEM_NAME_ADVZOMBIEFAN_CARD, ITEM_NAME_Z_CUREBLOCKER_CARD, ITEM_NAME_Z_TORNADO_CARD},
	{ITEM_NAME_Z_JOKER_CARD, ITEM_NAME_Z_FLY_CARD},
	
	{ITEM_NAME_ROCKERMAN_CARD, ITEM_NAME_Z_SPIDER_CARD, ITEM_NAME_Z_RISENDEAD_CARD, ITEM_NAME_Z_REINCARNATE_CARD},
	{ITEM_NAME_ROCKERMAN_CARD, ITEM_NAME_ADVSUPPORTER_CARD, ITEM_NAME_BERSERKER_CARD}
};

static const CardBoxMaxCardsCount[] =
{
	4,
	4,
	4,
	4,
	3,
	6,
	6,
	5,
	10,
	5,
	4,
	7,
	4,
	5,
	3,
	5,
	5,
	2,
	
	4,
 	3
};

static const CardBoxCards[][] =
{
    {50, 50, 50, 50}, // 0 (4)
    {50, 50, 50, 50}, // 1 (4)
    {50, 25, 25, 25}, // 2 (4)
    {50, 50, 50, 25}, // 3 (4)
    {50, 50, 50}, // 4 (3)
    {50, 50, 50, 50, 50, 50}, // 5 (6)
    {50, 50, 50, 50, 50, 50}, // 6 (6)
    {50, 50, 50, 50, 50}, // 7 (5)
    {50, 50, 50, 50, 50, 50, 50, 50, 50, 50}, // 8 (10)
    {50, 50, 50, 50, 50}, // 9 (5)
    {50, 50, 50, 50}, // 10 (4)
    {50, 50, 50, 50, 50, 50, 50}, // 11 (7)
    {50, 50, 50, 50}, // 12 (4)
    {50, 50, 50, 50, 50}, // 13 (5)
    {50, 50, 50}, // 14 (3)
    {50, 50, 50, 50, 50}, // 15 (5)
    {50, 50, 50, 50, 50}, // 16 (5)
    {50, 50}, // 17 (2)
    {50, 50, 50, 50}, // 18 (4)
    {50, 50, 50} // 19 (3)
};

stock GetCollectionCards_Finish(playerid, index)
{
	if(index < 0 || index > sizeof(CardBoxCards)) return -5;
	//printf("DEBUG: %d", CardBoxMaxCardsCount[index]);
	for( new i = 0; i < CardBoxMaxCardsCount[index]; i++ )
	{
	    if(GetItemCount(playerid, CardBoxClassItem[index][i]) < CardBoxCards[index][i])
		{
		    SendClientMessageFormat(playerid, -1, "{0099ff}You need{FFF000} %d{0099ff} cards of {A5EF00} %s{0099ff} to unlock this effect!", CardBoxCards[index][i] - GetItemCount(playerid,  CardBoxClassItem[index][i]), ItemNames[CardBoxClassItem[index][i]][8]);
			return -5;
		}
	}
	return 10;
}

static const CardBoxClasses[][][] =
{
	{
	    "Mutated Zombie Card (%d) + Advanced Mutated Zombie Card (%d) + Punk Zombie Card (%d)\n + Spore Zombie Card (%d)",
	    "Standard Zombie Card (%d) + Blind Zombie Card (%d) + Flesher Zombie Card (%d)\n + Tornado Zombie Card (%d)",
		"Anti-Flamethower Card (%d) + Boomer Zombie Card (%d) + Demon Zombie Card (%d)\n + Kamikaze Zombie Card (%d)",
		"Fast Zombie Card (%d) + Mega Jumper Card (%d) + Stomper Zombie Card (%d)\n + Earthshaker Zombie Card (%d)",
		"Businesszombie Card (%d) + Spitter Zombie Card (%d) + Bee Zombie Card (%d)",
		"Warm person Card (%d) + Freezer Zombie Card (%d) + Slow Zombie Card (%d)\n + Leg Breaker Card (%d) + Accelerating Zombie Card (%d) + Runner Zombie Card (%d)",
		"Regenerator Card (%d) + Joker Card (%d) + Remover(%d)\n + Cure Blocker(%d) + Radioactive Zombie(%d) + Zombie Support(%d)",
		"Joker Card (%d) + Reaper Zombie Card (%d) + Pirate Zombie Card (%d)\n + Undead Boxer Card (%d) + Wizard Zombie Card (%d)",
		"Joker Card (%d) + Camouflage Zombie Card (%d) + Rogue Zombie Card (%d)\n + Nightmare Card (%d) + Fly Zombie Card (%d) + Slender Zombie Card (%d)\n + Gun Jammer Zombie Card (%d) + Witch Zombie Card (%d) + Cockroach Card (%d)\n + Black-Eye Zombie Card (%d)",
		"Joker Card (%d) + Stealer Card (%d) + Enforcer Card (%d)\n + Mirror Zombie Card (%d) + Swapper Zombie Card (%d)",
		"Joker Card (%d) + Slender Zombie Card (%d) + Advanced Seeker Card (%d)\n + Seeker Zombie Card (%d)",
		"Joker Card (%d) + Medic Card (%d) + Heavy Medic Card (%d)\n + Advanced Medic Card (%d) + Senior Medic Card (%d) + Nurse Card (%d)\n + Poisoner Card (%d)",
		"Joker Card (%d) + Engineer Card (%d) + Advanced Engineer Card (%d)\n + Advanced Engineer #2 Card (%d)",
		"Joker Card (%d) + Runner Card (%d) + Iron man Card (%d)\n + Rocketman Card (%d) + Spider-man Card (%d)",
		"Joker Card (%d) + Heavy Support Card (%d) + Advanced Support Card (%d)",
		"Civilian Card (%d) + Advanced Civilian Card (%d) + Gangster Card (%d)\n + Policeman Card (%d) + Advanced Policeman Card (%d)",
		"Rogue human Card (%d) + Zombiefan Card (%d) + Advanced Zombiefan Card (%d)\n + Cure Blocker Card (%d) + Tornado Zombie Card (%d)",
		"Joker Card (%d) + Fly Zombie (%d)",
		
		"Guitarist Card (%d) + Spider Zombie Card (%d) + Risendead Zombie Card (%d)\n + Reincarnate Zombie Card (%d)",
		"Guitarist Card (%d) + Advanced Support Card (%d) + Berserker Card (%d)"
	},
	{
	    "Mutated Zombie(%d) + Advanced Mutated Zombie(%d) + Punk Zombie(%d) + Spore Zombie(%d)",
	    "Standard Zombie(%d) + Blind Zombie(%d) + Flesher Zombie(%d) + Tornado Zombie(%d)",
		"Anti-Flamethower(%d) + Boomer Zombie(%d) + Demon Zombie(%d) + Kamikaze Zombie(%d)",
		"Fast Zombie(%d) + Mega Jumper(%d) + Stomper Zombie(%d) + Earthshaker Zombie(%d)",
		"Businesszombie(%d) + Spitter Zombie(%d) + Bee Zombie(%d)",
		"Warm person(%d) + Freezer Zombie(%d) + Slow Zombie(%d) + Leg Breaker(%d) + Accelerating Zombie(%d) + Runner Zombie(%d)",
		"Regenerator(%d) + Joker(%d) + Remover(%d) + Cure Blocker(%d) + Radioactive Zombie(%d) + Zombie Support(%d)",
		"Joker(%d) + Reaper Zombie(%d) + Pirate Zombie(%d) + Undead Boxer(%d) + Wizard Zombie(%d)",
		"Joker(%d) + Camouflage Zombie(%d) + Rogue Zombie(%d) + Nightmare(%d) + \nFly Zombie(%d) + Slender Zombie(%d) + Gun Jammer Zombie(%d) + Witch Zombie(%d) + Cockroach(%d) + Black-Eye Zombie(%d)",
		"Joker(%d) + Stealer(%d) + Enforcer(%d) + Mirror Zombie(%d) + Swapper Zombie(%d)",
		"Joker(%d) + Slender Zombie(%d) + Advanced Seeker(%d) + Seeker Zombie(%d)",
		"Joker(%d) + Medic(%d) + Heavy Medic(%d) + Advanced Medic(%d) + Senior Medic(%d) + Nurse(%d) + Poisoner(%d)",
		"Joker(%d) + Engineer(%d) + Advanced Engineer(%d) + Advanced Engineer #2(%d)",
		"Joker(%d) + Runner(%d) + Iron man(%d) + Rocketman(%d) + Spider-man(%d)",
		"Joker(%d) + Heavy Support(%d) + Advanced Support(%d)",
		"Civilian(%d) + Advanced Civilian(%d) + Gangster(%d) + Policeman(%d) + Advanced Policeman(%d)",
		"Rogue human(%d) + Zombiefan(%d) + Advanced Zombiefan(%d) + Cure Blocker(%d) + Tornado Zombie(%d)",
		"Joker Card (%d) + Fly Zombie (%d)",
		"Guitarist Card (%d) + Spider Zombie Card (%d) + Risendead Zombie Card (%d)\n + Reincarnate Zombie Card (%d)",
		"Guitarist Card (%d) + Advanced Support Card (%d) + Berserker Card (%d)"
	},
	{
	    "Mutated Zombie(%d) + Advanced Mutated Zombie(%d) + Punk Zombie(%d) + Spore Zombie(%d)",
	    "Standard Zombie(%d) + Blind Zombie(%d) + Flesher Zombie(%d) + Tornado Zombie(%d)",
		"Anti-Flamethower(%d) + Boomer Zombie(%d) + Demon Zombie(%d) + Kamikaze Zombie(%d)",
		"Fast Zombie(%d) + Mega Jumper(%d) + Stomper Zombie(%d) + Earthshaker Zombie(%d)",
		"Businesszombie(%d) + Spitter Zombie(%d) + Bee Zombie(%d)",
		"Warm person(%d) + Freezer Zombie(%d) + Slow Zombie(%d) + Leg Breaker(%d) + Accelerating Zombie(%d) + Runner Zombie(%d)",
		"Regenerator(%d) + Joker(%d) + Remover(%d) + Cure Blocker(%d) + Radioactive Zombie(%d) + Zombie Support(%d)",
		"Joker(%d) + Reaper Zombie(%d) + Pirate Zombie(%d) + Undead Boxer(%d) + Wizard Zombie(%d)",
		"Joker(%d) + Camouflage Zombie(%d) + Rogue Zombie(%d) + Nightmare(%d) + \nFly Zombie(%d) + Slender Zombie(%d) + Gun Jammer Zombie(%d) + Witch Zombie(%d) + Cockroach(%d) + Black-Eye Zombie(%d)",
		"Joker(%d) + Stealer(%d) + Enforcer(%d) + Mirror Zombie(%d) + Swapper Zombie(%d)",
		"Joker(%d) + Slender Zombie(%d) + Advanced Seeker(%d) + Seeker Zombie(%d)",
		"Joker(%d) + Medic(%d) + Heavy Medic(%d) + Advanced Medic(%d) + Senior Medic(%d) + Nurse(%d) + Poisoner(%d)",
		"Joker(%d) + Engineer(%d) + Advanced Engineer(%d) + Advanced Engineer #2(%d)",
		"Joker(%d) + Runner(%d) + Iron man(%d) + Rocketman(%d) + Spider-man(%d)",
		"Joker(%d) + Heavy Support(%d) + Advanced Support(%d)",
		"Civilian(%d) + Advanced Civilian(%d) + Gangster(%d) + Policeman(%d) + Advanced Policeman(%d)",
		"Rogue human(%d) + Zombiefan(%d) + Advanced Zombiefan(%d) + Cure Blocker(%d) + Tornado Zombie(%d)",
		"Joker Card (%d) + Fly Zombie (%d)",
		
		"Guitarist Card (%d) + Spider Zombie Card (%d) + Risendead Zombie Card (%d)\n + Reincarnate Zombie Card (%d)",
		"Guitarist Card (%d) + Advanced Support Card (%d) + Berserker Card (%d)"
	}
};

static const CardsBoxDesc[][][] =
{
	{
	    "An infected human has a chance to infect another human with more serious infect damage",
		"The human picking this meat has a chance to get blinded",
		"Increases explode radius for exploding classes",
		"Increases the number of jumps for jumpers classes to +1",
		"Adds 1 ammo to shooting zombie classes",
		"Reduces freeze time",
        "Radiation heals nearby zombies",
		"Melee damage increased by 35%",
		"Increases ability radius and exp for abilities for all classes",
		"Increases chainsaw-resistance",
		"Reduces cooldown and Increases radius for hunters",
		//////////// HUMANS ///////////
		"You have a chance to avoid cure animation",
		"You get 1 additional box and reduces cooldown",
		"Jump costs slightly reduced, +1 jump",
		"Adds 2 boxes of ammo and 1 armour box",
		"Unlocks Advanced Gangster class",
		"Unlocks Advanced Cure Blocker class",
		"Unlocks Spider Class",
		"Unlocks Referee Class",
		"Unlocks Stimulus Class"
	},
	{
	    "An infected human has a chance to infect another human with more serious infect damage",
		"The human picking this meat has a chance to get blinded",
		"Increases explode radius for exploding classes",
		"Increases the number of jumps for jumpers classes to +1",
		"Adds 1 ammo to shooting zombie classes",
		"Reduces freeze time",
        "Radiation heals nearby zombies",
		"Melee damage increased by 35%",
		"Increases abilities radius and exp for abilities for all classes",
		"Increases chainsaw-resistance",
		"Reduces cooldown and Increases radius for hunters",
		//////////// HUMANS ///////////
		"You have a chance to avoid cure animation",
		"You get 1 additional box and reduces cooldown",
		"Jump costs slightly reduced, +1 jump",
		"Adds 2 boxes of ammo and 1 armour box",
		"Unlocks Advanced Gangster class",
		"Unlocks Advanced Cure Blocker class",
		"Unlocks Spider Class",
		"Unlocks Referee Class",
		"Unlocks Stimulus Class"
	},
	{
	    "An infected human has a chance to infect another human with more serious infect damage",
		"The human picking this meat has a chance to get blinded",
		"Increases explode radius for exploding classes",
		"Increases the number of jumps for jumpers classes to +1",
		"Adds 1 ammo to shooting zombie classes",
		"Reduces freeze time",
        "Radiation heals nearby zombies",
		"Melee damage increased by 35%",
		"Increases ability radius and exp for abilities for all classes",
		"Increases chainsaw-resistance",
		"Reduces cooldown and Increases radius for hunters",
		//////////// HUMANS ///////////
		"You have a chance to avoid cure animation",
		"You get 1 additional box and reduces cooldown",
		"Jump costs slightly reduced, +1 jump",
		"Adds 2 boxes of ammo and 1 armour box",
		"Unlocks Advanced Gangster class",
		"Unlocks Advanced Cure Blocker class",
		"Unlocks Spider Class",
		"Unlocks Referee Class",
		"Unlocks Stimulus Class"
	}
};

new achNames[][][] =
{
	{
	    "{66ccff}Achievements", // 0
	    "Trophy Maniac", // 1
	    "Trainee", // 2
	    "Semi experienced", // 3
	    "Experienced", // 4
	    "Jogging", // 5
	    "Runner", // 6
	    "Olympic champion", // 7
	    "Lucky", // 8
	    "Inviolable", // 9
	    "Cheat death", // 10
	    "Maniac", // 11
	    "Serial maniac", // 12
	    "Jack the ripper", // 13
	    "Conductor", // 14
		"Undead slayer", // 15
		"Saint", // 16
		"Ergo Proxy", // 17
		"Collector", // 18
		"Butcher", // 19
		"Madman", // 20
		"Blood lover", // 21
		"Meat lover", // 22
		"The Killer Machine", // 23
		"Nurse", // 24
		"Medic", // 25
		"Doctor", // 26
		"Impudent", // 27
		"Fight lover", // 28
		"Criminal authority", // 29
		"Shock", // 30
		"Risen from the grave", // 31
		"I'm IMMORTAL", // 32
		"Do Not Even Try", // 33
		"Wrong resort", // 34
		"Team player", // 35
		"On the way to success", // 36
		"Important knar", // 37
		"You will not catch up", // 38
		"Trust but check", // 39
		"Exemplary", // 40
		"Law-abiding", // 41
		"Amateur", // 42
		"Shopaholic", // 43
		"Money in nowhere", // 44
		"Ebola", // 45
		"Geiger counter", // 46
		"You will not run away", // 47
		"A sharp drop in temperature", // 48
		"Sinister", // 49
		"Poor appetite", // 50
		"Dead scientist", // 51
		"Twins", // 52
		"Time to Fly", // 53
		"Eternal void", // 54
		"Elections", // 55
		"From scratch", // 56
		"Winner", // 57
		"Too emotional", // 58
		"I'm to God", // 59
		"Surprise box", // 60
		"Happy End", // 61
		"Life Style", // 62
		"Hide an' Seek", // 63
		
		"Fan", // 64
		"Gamer", // 65
		"Exanimate", // 66
		"Jumper", // 67
		"Toad paws", // 68
		"Pilot", // 69
		"Iron Fist", // 70
		"Pulsation", // 71
		"Cosmonaut", // 72
		"Not feeling the ground", // 73
		"Meat grinder", // 75
		"Time victim", // 76
		"Cover", // 77
		"New page", // 78
		"History", // 79
		"Legend", // 80
		"No time to rest", // 81
		"Before turning blue", // 82
		"Ruler", // 83
		"Champion", // 84
		"Seller", // 85
		"Huckster", // 86
		"Companion", // 87
		"Breeder", // 88
		"Burning love", // 89
		"{FF6900}>>:{FFFFFF} Next" // 91
	},
	{
	    "{66ccff}Достижения",
	    "Трофейный Маньяк",
	    "Практикант",
	    "Полу-опытный",
	    "Опытный",
	    "Прогулка",
	    "Пробежка",
	    "Олимпийский чемпион",
	    "На волоске от смерти",
	    "Удачливый",
	    "Обманувший смерть",
	    "Маньяк",
	    "Серийный маньяк",
	    "Джек потрошитель",
	    "Проводник",
     	"Убийца нежити",
     	"Святой",
     	"Эрго Прокси",
     	"Коллектор",
     	"Мясник",
     	"Сумасшедший",
     	"Любитель крови",
     	"Любитель мяса",
     	"Машина-убийца",
     	"Медсестра",
     	"Медик",
     	"Доктор",
     	"Дерзкий",
     	"Любитель подраться",
     	"Криминальный авторитет",
     	"ШОК",
     	"Воскресший из могилы",
     	"Я БЕССМЕРТНЫЙ",
     	"Даже не пытайся",
     	"Не тот курорт",
     	"Командный игрок",
     	"На пути к успеху",
     	"Важная шишка",
   		"Не догонишь",
     	"Доверяй, но проверяй",
     	"Образцовый",
     	"Законопослушный",
     	"Любитель",
     	"Шопоголик",
     	"Деньги в никуда",
     	"Эбола",
     	"Счетчик Гейгера",
     	"Ты не убежишь",
     	"Резкое падение температуры",
     	"Полтергейст",
     	"Плохой аппетит",
     	"Мертвый ученый",
     	"Близнецы",
        "Время полетать",
 		"Вечная пустота",
     	"Выборы",
     	"С читого листа",
        "Победитель",
        "Слишком эмоциональный", // 58
		"Я к Богу", // 59
		"Сюрприз", // 60
		"Счастливый конец", // 61
		"Стиль жизни", // 62
		"Прятки", // 63
		
		"Фанат", // 64
		"Игроманьяк", // 65
		"Без признаков жизни", // 66
		"Попрыгунчик", // 67
		"Жабьи лапы", // 68
		"Летчик", // 69
		"Стальной Кулак", // 70
		"Пульсация", // 71
		"Космонавт", // 72
		"Не чувствуя земли", // 73
		"Мясорубка", // 74
		"Жертва времени", // 75
		"Обложка", // 76
		"Новая страница", // 77
		"История", // 78
		"Легенда", // 79
		"Нет времени отдыхать", // 80
		"До посинения", // 81
		"Правитель", // 82
		"Победитель", // 83
		"Продавец", // 84
		"Барыга", // 85
		"Компаньон", // 86
		"Животновод", // 87
		"Пылающая любовь", // 88
		"{FF6900}>>:{FFFFFF} Дальше" // 89
	},
	{
	    "{66ccff}Logros", // 0
		"Maniaco del trofeo", // 1
		"Aprend?z", // 2
		"Semi experimentado", // 3
		"Experimentado", // 4
		"Trotando", // 5
		"Corredor", // 6
		"Campe?n Ol?mpico", // 7
		"Suertudo", // 8
		"Inviolable", // 9
		"Enga?a a la muerte", // 10
		"Man?aco", // 11
		"Man?aco en serie", // 12
		"Jack el destripador", // 13
		"Conductor", // 14
		"Asesino de los no-muertos", // 15
		"Santo", // 16
		"Ergo Proxy", // 17
		"Coleccionista", // 18
		"Carnicero", // 19
		"El loco ", // 20
		"Amante de la sangre", // 21
		"Amante de la carne", // 22
		"M?quina de matar", // 23
		"Enfermero", // 24
		"M?dico", // 25
		"Doctor", // 26
		"Insolente", // 27
		"Amante de la pelea", // 28
		"Autoridad criminal", // 29
		"Conmoci?n", // 30
		"Resucitado de la tumba", // 31
		"Soy INMORTAL", // 32
		"Ni Siquiera Lo Intentes", // 33
		"Recurso err?neo", // 34
		"Jugador de equipo", // 35
		"En camino al ?xito", // 36
		"Knar importante", // 37
		"No lo alcanzar?s", // 38
		"Conf?a pero verifica", // 39
		"Ejemplar", // 40
		"Acatador de la ley", // 41
		"Amateur", // 42
		"Adicto a las compras", // 43
		"Dinero en ningun lugar", // 44
		"?bola", // 45
		"Mostrador Geiger", // 46
		"No te escapar?s", // 47
		"Una brusca ca?da en temperatura", // 48
		"Siniestro", // 49
		"Poco apetito", // 50
		"Cient?fico muerto", // 51
		"Gemelos", // 52
		"Hora De Volar", // 53
		"Vac?o eterno", // 54
		"Elecciones", // 55
		"Desde cero", // 56
		"Triunfador", // 57
		"Demasiado emocional", // 58
		"Estoy con Dios", // 59
		"Caja Sorpresa", // 60
		"Final Feliz", // 61
		"Estilo de vida", // 62
		"Al escondite", // 63
	
		"Fan", // 64
		"Gamer", // 65
		"Exanimate", // 66
		"Jumper", // 67
		"Toad paws", // 68
		"Pilot", // 69
		"Iron Fist", // 70
		"Pulsation", // 71
		"Cosmonaut", // 72
		"Not feeling the ground", // 73
		"Meat grinder", // 75
		"Time victim", // 76
		"Cover", // 77
		"New page", // 78
		"History", // 79
		"Legend", // 80
		"No time to rest", // 81
		"Before turning blue", // 82
		"Ruler", // 83
		"Champion", // 84
		"Seller", // 85
		"Huckster", // 86
		"Companion", // 87
		"Breeder", // 88
		"Burning love", // 89
		"{FF6900}>>:{FFFFFF} Next" // 91
	}
};

new PlayerRank[][][] =
{
	{
		"Newbie",
		"Peon",
		"Scout",
		"Grunt",
		"First Sergeant",
		"Sergeant",
		"Senior Sergeant",
		"Obsidian Slayer",
		"Dragon Slayer",
		"Stone Guard",
		"Blood Guard",
		"Grand Crusader",
		"Centurion",
		"Legionnaire",
		"Scarab Lord",
		"Warlord",
		"High Warlord",
		"Argent Defender",
		"Argent Warrior",
		"Insatiable Warrior",
		"Conqueror of Naxxramas",
		"Champion",
		"Liberator",
		"The Magic Seeker", // 20
		"Twilight Vanquisher",
		"The Light of Dawn",
		"Luminous Angel",
		"Sleepwalker",
		"Starcaller",
		"Constellation",
	    "Inhuman Warlord",
		"Bloody Legend",
		"Bearing Death",
		"Eternal Sinner",
		"Death's Desire",
		"Henchman of Death",
		"Death's Demise",
		"Infernal Argent",
		"Hellwalker",
		"Defender of Shattered World",
		"World's Destiny",
		"World's Lullaby",
		"World's Pronunciation",
		"World's Legend",
		"Avatar Freedomer",
		"Avatar Anemone",
		"Avatar Amaryllis",
		"Avatar Oriole",
		"Avatar Aurora",
		"Aqua Avatar",
		"Avatar of Oblivion",
		"Avatar of Rebellion",
		"Avatar of Tranquillity",
		"Galaxy's Dawn",
		"Galaxy's Destiny",
		"Galaxy's Lullaby",
		"Galaxy's Defender",
		"Demure Connoisseur",
		"Connoisseur",
		"Gorgeous Connoisseur",
		"Great Connoisseur",
		"Ascending Master",
		"Master",
		"Magnificent Master",
		"Great Master",
		"Fabulous Master",
		"Sophisticated Master"
	},
	{
	    "Новичок",
		"Полицейский",
		"Скаут",
		"Ворчун",
		"Первый сержант",
		"Сержант",
		"Старший сержант",
		"Вулканический Убийца",
		"Убийца Драконов",
		"Каменный Защитник",
		"Кровавый Защитник",
		"Великий Крестоносец",
		"Центурион",
		"Легионер",
		"Лорд Скарабей",
		"Военачальник",
		"Верховный вождь",
		"Серебряный Защитник",
		"Серебряный Воин",
		"Ненасытный воин",
		"Завоеватель Наксрамаса",
		"Чемпион",
		"Освободитель",
		"Волшебный Искатель", // 20
		"Сумеречный покоритель",
		"Свет зари",
		"Светящийся ангел",
		"Лунатик",
		"Звывающий к звездам",
		"Созвездие",
	    "Бесчеловечный полководец",
		"Кровавая легенда",
		"Несущая Смерть",
		"Вечный Грешник",
		"Желание смерти",
		"Палач Смерти",
		"Приносящий Смерть",
		"Адский аргентин",
		"Идущий в ад",
		"Защитник Расколотого Мира",
		"Судьба мира",
		"Колыбельная Мира",
		"Мировая История",
		"Мировая Легенда",
		"Аватар Свободы",
		"Аватар Анемон",
		"Аватар Амариллис",
		"Аватар Ориол",
		"Аватар Аврора",
		"Аватар Воды",
		"Аватар Обливиона",
		"Аватар Восстания",
		"Аватара Спокойствия",
		"Рассвет Галактики",
		"Судьба Галактики",
		"Колыбельная Галактики",
		"Защитник Галактики",
		"Скромный Знаток",
		"Знаток",
		"Великолепный Знаток",
		"Великий знаток",
		"Восходящий мастер",
		"Мастер",
		"Великолепный Мастер",
		"Великий Мастер",
		"Сказочный Мастер",
		"Легендарный Мастер"
	},
	{
		"Newbie",
		"Peon",
		"Scout",
		"Grunt",
		"First Sergeant",
		"Sergeant",
		"Senior Sergeant",
		"Obsidian Slayer",
		"Dragon Slayer",
		"Stone Guard",
		"Blood Guard",
		"Grand Crusader",
		"Centurion",
		"Legionnaire",
		"Scarab Lord",
		"Warlord",
		"High Warlord",
		"Argent Defender",
		"Argent Warrior",
		"Insatiable Warrior",
		"Conqueror of Naxxramas",
		"Champion",
		"Liberator",
		"The Magic Seeker", // 20
		"Twilight Vanquisher",
		"The Light of Dawn",
		"Luminous Angel",
		"Sleepwalker",
		"Starcaller",
		"Constellation",
	    "Inhuman Warlord",
		"Bloody Legend",
		"Bearing Death",
		"Eternal Sinner",
		"Death's Desire",
		"Henchman of Death",
		"Death's Demise",
		"Infernal Argent",
		"Hellwalker",
		"Defender of Shattered World",
		"World's Destiny",
		"World's Lullaby",
		"World's Pronunciation",
		"World's Legend",
		"Avatar Freedomer",
		"Avatar Anemone",
		"Avatar Amaryllis",
		"Avatar Oriole",
		"Avatar Aurora",
		"Aqua Avatar",
		"Avatar of Oblivion",
		"Avatar of Rebellion",
		"Avatar of Tranquillity",
		"Galaxy's Dawn",
		"Galaxy's Destiny",
		"Galaxy's Lullaby",
		"Galaxy's Defender",
		"Demure Connoisseur",
		"Connoisseur",
		"Gorgeous Connoisseur",
		"Great Connoisseur",
		"Ascending Master",
		"Master",
		"Magnificent Master",
		"Great Master",
		"Fabulous Master",
		"Sophisticated Master"
	}
};

new RanksEXP[] = {
	1,
	5,
	50,
	100,
	200,
	300,
	400,
	550,
	700,
	850,
	1000,
	1250,
	1500,
	1750,
	2250,
	2750,
	3250,
	3570,
	4070,
	4570,
	5120,
	5820,
	6820,
	7820,
	8200,
	9200,
	15000,
	20000,
	25000,
	30000,
	35000,
	40000,
	55000,
	70000,
	90000,
	110000,
	135000,
	160000,
	190000,
	220000,
	260000,
	300000,
	350000,
	400000,
	480000,
	560000,
	680000,
	830000,
    1030000,
    1280000,
    1580000,
    2030000,
    2630000,
    4630000,
    6500000,
    8630000, // 13
    9080000, // 12
    9580000, // 11
    10280000, // 10
    11180000, // 9
    131180000, // 8
    281180000, // 7
    466180000, // 6
    666180000, // 5
    1016180000, // 4
    1436180000, // 3
    1936180000 // 2
    /*2616180000, // 1
    3366180000 // 0*/
};

new serverLang[][][] =
{
	{
		"{C0C0C0}*** %s (ID: %d) has joined the server.", // 0
  		"{FFFFFF}SERVER: Unknown command, use /cmds to see all server commands.", // 1
  		"{FFFFFF}Languages", // 2
  		"English\nRussian\nSpanish", // 3
  		"Ok", // 4
  		"Cancel", // 5
  		"{FFFFFF}>> Language set", // 6
  		"Classes", // 7
  		"Humans' Classes\nZombies' Classes", // 8
  		"Lost connection", // 9
  		"Leaving", // 10
        "Kicked", // 11
	 	"{C0C0C0}*** %s has left the server. [%s]", //12
	 	"{FFF000}>> {00E61b}%s {FFF000}has made to the evacuation point!", //13
	 	"{FF0000}>> You %d exp to use this class!", // 14
	 	"{FF0000}>> The player isn't connected", // 15
	 	"{FF0000}>> The player is already on the list", // 16
	 	"{FFF000}>> Player %s can no longer write to you, use /unignore to unlock", // 17
	 	"{FFF000}>> You cannot send a message to this player", //18
	 	"{FFF000}>> [Message from %s(%d)]: %s", // 19
	 	"{FFF000}>> [Message to %s(%d)]: %s", //20
 	 	"{FFF000}>> Personal Messages are open, but the list of ignored players isn't cleared", // 21
 	    "{FFF000}>> Personal Messages are blocked for now", // 22
        "{FFF000}>> You have changed your class in-time and been respawn instantly", // 23
        "{FFF000}>> Class Set, will change next round!", // 24
        "{FFF000}>> You have been spawned as a %s use /class to change this", // 25
        "{E8ACBB}>> [PAGER]: %s was infected go and cure him by using /cure (playerid), if possible", // 26
        "{009900}>> %s has been infected by %s!", //27
        "{33AA33}>> %s has achieved %d killstreak!{FFFFFF} (+%d EXP)", // 28
        "{66ffff}<A-CHAT> %s(%d): %s", // 29
        "{6A8EE2}>> %s appointed a new trial moderator %s", // 30
		"{6A8EE2}>> %s has given admin status (%s) to %s", // 31
        "{6A8EE2}>> %s dismissed %s %s for the reason: %s", // 32
        "{E48800}|: Entering The Map #%d (%s) %s", // 33
        "{FFF000}Creating objects...", // 34
        "{FFF000}>> You have been in AFK for too long and system automatically changed you team to zombie", // 35
        "{FF0000}>> 1 minute remaining... Next map is %s. if you want to change your class use /class!", // 36
        "{FF0000}>> An evacuation has arrived for humans!", // 37
        "{FFFFFF}Humans get to the checkpoint within a minute!", // 38
        "{FFF000}ALL SURVIVORS EVACUATED!", // 39
        "{FFFFFF}>> [First Blood] %s has drawn {FF0000}first blood{FFFFFF} and gains additional 10exp!", // 40
        "{FF0000}>> %s killed the last survivor and got an additional 10exp!", // 41
        "{59E4B5}>>> Kill the last human and receive extra exp!", // 42
        "{33CCFF}>> %s has attempted to join the server whilst serving a ban.", // 43
        "{33CCFF}>> %s has attempted to join the server whilst serving a temp ban.", // 44
        "{FFF000}>> Login in", // 45
        "{FF0000}>> %s has been kicked for 3 failed login attempts!", // 46
        "{6A8EE2}>> %s has been unbanned by %s", // 47
        "{FFFFFF}SERVER: This account does not exist in the Banlist, double-check the data.", // 48
        "{8C7139}>> %s has been banned by %s for %d hours [Reason: %s]", // 49
        "{6A8EE2}>> %s has been banned by %s [Reason: %s]", // 50
        "{009900}>> Wrong banned? Appeal at "FORUM" in Ban Appeal section", // 51
        "{FFF000}>> Create a screenshot of your ban by pressing F8 | (Documents/GTA San Andreas User Files/SAMP/screens)", // 52
        "{FF0000}Zombie Apocalypse - Recovery (%d/2)", // 53
        "{FF0000}\t\t\t\n{D7D7D7}This account belongs to player %s\n\n{D7D7D7}To restore access, enter the Secret Word:", // 54
        "Next", // 55
        "Back", // 56
        "{FFF000}\nData entered correctly, enter your new password.\n\nWrite down your password to always have access to your account.", // 57
        "{FFFFFF}Beginning new a round...", // 58
        "{009900}>> {FF500A}%s{009900} earned %d exp for killing %s on %d kills killstreak!", // 59
        "{A5CED9}>> %s has achieved a new personal highest killstreak (%d kills in a row - old: %d kills)", // 60
        "{B2F558}>> %s has been cured by medic %s", // 61
        "{B2F558}>> %s has been cured by medic %s (shot)", // 62
        "{009900}>> %s has been infected by %s{FFFFFF} (by air)", // 63
        "EXP", // 64
        "Settings", // 65
        "Block PMs\t\t[%s]\nDing\t\t[%s]\nAuto-Login\t\t[%s]", // 66
        "\nUnhiden\t \t \t", // 67
        "{E68687}>> %s gave you some ammo", // 68
        "{FF0000}Zombies win!", // 69
        "{009900}>> %s has been frighted by %s!", // 70
        "{009900}>> %s has swapped %s health!", // 71
        "{009900}>> %s the joker has stolen %d exp from %s!", // 72
        "{009900}>> %s the remover has remove %s armour!", // 73
        "{009900}>> %s has been infected by %s!{FFFFFF} (picking up*)", // 74
        "{B2F558}>> %s paid to %s %d EXP. Total sent with taxes: %d", // 75
        "{FFF000}>> Votekick has been aborted.", // 76
        "{FFF000}>> Votekick has already begun.", // 77
        "{FFF000}>> {A5CED9}%s started a votekick on %s with reason: {A5CED9}%s", // 78
        "{FFF000}>> Vote with {00FF00}/yes{FFF000} or {FF0000}/no", // 79
        "{FFF000}>> %s voted {FF0000}against{FFF000} a kick (%d/%d)", // 80
        "{FFF000}>> %s voted {00FF00}for{FFF000} a kick (%d/%d)", // 81
        "{FFF000}>> The player was kicked.", // 82
        "{FFF000}>> You have already voted.", // 83
        "{faf06d}>> %s has been burnt by wizard zombie %s!", // 84
        "{009900}>> %s has been found by seeker %s!", // 85
        "{009900}>> %s the stealer has steal %s's ammo!", // 86
        "{009900}>> %s the boomer has blown up and infected{FFFFFF} %d people!", // 87
        "{009900}>> %s the boomer has blown up and infected{FFFFFF} WHOPPING{FF0000} %d people!", // 88
        "{009900}>> %s the demon has blown up and infected{FFFFFF} %d people!", // 89
        "{009900}>> %s the demon has blown up and infected{FFFFFF} WHOPPING{FF0000} %d people!", // 90
		"{009900}>> %s the kamikaze has blown up and infected{FFFFFF} %d people!", // 91
        "{009900}>> %s the kamikaze has blown up and infected{FFFFFF} WHOPPING{FF0000} %d people!", // 92
        "{3366ff}>> %s the freezer has frozen up{FFFFFF} %d people!", // 93
        "{3366ff}>> %s the freezer has frozen up{FFFFFF} WHOPPING{FF0000} %d people!", // 94
        "{B2F558}>> %s the senior medic has cured %d people", // 95
        "{ffcc99}>> %s the demolisher destroyed some boxes", // 96
        "{009900}>> %s has been infected by slow zombie %s!", // 97
        "{009900}>> %s the leg breaker broke %s’s legs!", // 98
        "{009900}>> {FF0000}%s{009900} has been infected by blindness zombie %s!", // 99
        "{33CCFF}>> %s has been banned by Anti-Cheat [Reason: %s]", // 100
        "{33CCFF}>> %s has been kicked [Reason: Ping too high]", // 101
        "{33CCFF}>> SYSTEM: Fix your ping or you will be kicked", // 102
        "{33CCFF}>> SYSTEM: %s possible speed hacker detected, use /spec %d", // 103
        "{33CCFF}>> You're hidden", // 104
        "{33CCFF}>> You're unhidden", // 105
        "{33CCFF}>> %s has been kicked by %s [Reason: %s]", // 106
        "{FFF000}>> Chat has been cleared by the administrator", // 107
        "{6A8EE2}>> %s has slapped %s [%.2f]", // 108
        "{6A8EE2}>> %s has been exploded by %s [%.2f]", // 109
        "{FFA500}>> Announcement{FFFFFF} %s", // 110
        "{33CCFF}>> %s has been muted by %s for %d minutes [Reason: %s]", // 111
        "{FF0000}>> You're muted", // 112
        "{FF0000}>> You're unmuted", // 113
        "{33CCFF}>> %s has been unmuted by %s", // 114
        "{33CCFF}>> Player isn't muted", // 115
        "{6A8EE2}>> Admin %s has started to spectating for %s(%d)", // 116
        "{6A8EE2}>> Admin %s has stopped spectating for %s(%d)", // 117
        "{6A8EE2}>> Admin %s is on {FFFFFF}ADMIN-DUTY{6A8EE2} now", // 118
        "{6A8EE2}>> Admin %s off {FFFFFF}ADMIN-DUTY{6A8EE2}", // 119
        "{F0E68C}>> You've unlocked %s class!", // 120
        "{E68687}>> %s has created a new gang with the name %s {FFFFFF}(ID: %d)!", // 121
        "{FFF000}>> You are already in the gang", // 122
        "{FFF000}>> The leader cannot leave the gang", // 123
        "{FFF000}>> You left the gang, tell them bye!", // 124
        "{C659B6}>> Use /gang accept %d to accept", // 125
        "{FFF000}>> Your request has been sent", // 126
        "{FFF000}>> The player did not send a request", // 127
        "{FFF000}>> The player is already in the gang", // 128
        "{C659B6}>> %s was accepted into the gang by the player %s", // 129
        "{FFF000}>> Sorry, but all the places were taken by other players", // 130
        "{C659B6}>> There isn’t so much experience in the gang", // 131
        "{C659B6}>> %s has paid %s %d EXP from gang exp pot. With taxes %d", // 132
        "{C659B6}>> %s has been promoted by %s to rank %d", // 133
        "{C659B6}>> The player is not in your gang", // 134
        "{C659B6}>> Not enough rights", // 135
        "{C659B6}>> %s has been demoted by %s to rank %d", // 136
        "{C659B6}>> %s has been kicked from the gang by %s", // 137
        "{C659B6}>> %s has renamed rank %s to %s", // 138
        "{C659B6}>> %s has deposited %d EXP to gang exp pot. With taxes %d", // 139
        "{C659B6}>> %s has set tag of gang to %s", // 140
        "{C659B6}>> %s has set full name of gang to %s", // 141
        "{6A8EE2}>> %s has banned IP %s", // 142
        "{6A8EE2}>> %s has unbanned IP %s", // 143
        "{6A8EE2}[REPORT] %s(%d) has reported %s(%d) [Reason: %s] (Total of %d reports)", // 144
        "{33CCFF}>> %s has been warned by %s (%d/3)[Reason: %s]", // 145
        "{33CCFF}>> %s has been kicked [Reason: Received 3 warnings]", // 146
        "{33CCFF}>> Your report has been sent", // 147
        "{8C7139}>> %s has been banned by %s [Reason: %s] (offilne)", // 148
        "{8C7139}>> %s has been banned by %s for %d hours [Reason: %s] (offline)", // 149
        "{8C7139}>> %s fired the administrator %s (offline)", // 150
        "{FF0000}>> You need VIP level of %d to use this class!", // 151
        "{C0C0C0}*** %s (ID: %d) has joined the server. [IP %s] [Location: %s]", // 152
        "{FFF000}>> You disabled kickback", // 153
        "{FFF000}>> You enabled kickback", // 154
        "{FFF000}>> That name is already exists", // 155
        "{33CCFF}[ADMIN] %s is now known as %s", // 156
        "{FFF000}>> You have already changed your name, wait 24 hours to change it again", // 157
        "{33CCFF}>> %s sets the music, use /off to turn it off", // 158
        "{FFF000}>> You've got %s!", // 159
        "{33CCFF}>> You've saved your stats!", // 160
        "{FFFFFF}SERVER: This account does not exist, double-check the data.", // 161
        "{FFFFFF}SERVER: Not enough permissions.", // 162
        "{6A8EE2}>> %s has given admin status (%s) to %s (offline)", // 163
        "{33CCFF}>> SYSTEM: You are well done! Thank you for your help in catching cheaters. Hold your {FFFFFF}10 EXP!", // 164
        "{FF0000}>>> %s{FFFFFF} was chosen to be the {FF0000}Zombie Boss{FFFFFF}. Kill him and get additional{FFD700} 20 EXP!", // 165
        "{FFFFFF}>> You are {FF0000}BOSS zombie. {A5CED9}You have increased health, go and kill all humans", // 166
        "{009900}>> %s has killed the Zombie Boss %s and get 20 EXP!", // 167
        "{FFF000}>> Due with the new clan policy, you need to create a request on the forum: %s", // 168
        "{6A8EE2}>> Admin %s disbanded the gang #%d", // 169
        "{ccffff}>> %s has evacuated %d times in a row!{FFFFFF} (+%d EXP)", // 170
		"{62E300}>> %s has unlocked a New Achievement named{FFFFFF} (%s) (+%d EXP) (/achievements)", // 171
		"{C659B6}| RANDOM WRITING FOR %d EXP:{FFFFFF} %s", // 172
		"{C659B6}| RANDOM QUESTION FOR %d EXP:{FFFFFF} %s", // 173
		"{C659B6}>> %s was the first one answer the question (Answer : %s) and earns %d EXP!", // 174
		"{C659B6}| RANDOM QUESTION FOR %d EXP: What's the ID of{FFFFFF} %s?", // 175
		"{C659B6}RANDOM QUESTION: No one answered!", // 176
		"{E68687}>> Lottery: Number will be drawn in one minute. Use /lottery to get your own number", // 177
		"Hardened body - Less damage from chainsaw\nSurvivability - +50 HP\nIron Skin - +10 percent of armour\nSponsor - M4 for all classes\nMeteorite gun - Shoots by meteorites\nSpikes - Pushes zombies back", // 178
		"{B2F558}>> %s has been cursed by witch zombie %s!", // 179
		"{009900}>> %s has been accelerated by an accelerating zombie %s!", //180
		"{33CCFF}>> %s has been jailed by %s for %d minute(s) [Reason: %s]", // 181
		"{009900}>> %s has been infected by spitter zombie %s!", // 182
		"{009900}>> %s has been stung by bee zombie %s!", // 183
		"{FFFFFF}>> You are {ffff80}BOSS human. {A5CED9}You have M4, Deagle and Armour", // 184
		"{FF0000}>>> %s{FFFFFF} was chosen to be the {ffff80}Human Hero{FFFFFF}. Kill him and get additional{FFD700} 20 EXP!", // 185
		"{009900}>> %s has killed the Human Hero %s and get 20 EXP!", // 186
		"{009900}>> %s the advanced seeker zombie has teleported to somewhere!", // 187
		"{FF0000}OOPS!", // 188
		"{FFFFFF}You are not registered in the new payment system\nThis system is necessary to prevent accidental pays of EXP from your account in case of hacking\n{FFF000}To register, enter the secret word (if you forgot it: enter a new one and do not forget to save)\n{FFFFFF}* All necessary information about you will be collected by the server", // 189
        "{A5CED9}>> Lottery: Number was drawn! Nobody took part!{C659B6} Jackpot: %d", // 190
		"{A5CED9}>> Lottery: Nobody won!{FF0000} Number: %d Jackpot: %d", // 191
		"{A5CED9}>> Lottery: %s has won the lottery!{C659B6} Number: %d Jackpot: %d", // 192
		"{66ccff}|: Verification is completed, further suspicious payments will be deny (%s)", // 193
		"{FFF000}>> Data inconsistency was found, apply at "FORUM" in Server's Technical Support for clarification, /verify", // 194
		"{33CCFF}>> %s has been set to Zombie Team [Reason: AFK to avoid Death]", // 195
		"{E48800}|: Entering The Map #%d (%s) %s{E48800} (Controlled by %s)", // 196
		"{E68687}>> %s ranked up 1 levels. %s in now a %s", // 197
		"{E68687}>> You ranked up. Your new rank is %s!", // 198
		"{E74C3C}>>> %s has the Cure Kit and Can Cure People!", // 199
		"Rank" // 200
	},
	{
	    "{C0C0C0}*** Игрок %s (ID: %d) присоединился к серверу.",
	    "{FFFFFF}СЕРВЕР: Неизвестная команда, используйте /cmds, чтобы узнать все команды.",
	    "{FFFFFF}Языки",
		"Английский\nРусский\nИспанский",
		"Ок",
		"Выйти",
		"{FFFFFF}>> Язык установлен",
		"Классы",
		"Люди\nЗомби",
		"Потеря соединения",
		"Вышел",
		"Кикнут",
		"{C0C0C0}*** Игрок %s вышел с сервера [%s]",
		"{FFF000}>> Игрок {00e61b}%s {FFF000}эвакуировался!",
		"{FF0000}>> Вам нужно %d опыта, чтобы использовать этот класс!",
		"{FF0000}>> Игрок не найден",
	 	"{FF0000}>> Игрок уже в списке",
	 	"{FFF000}>> Игрок %s больше не может вам написать, используйте /unignore для разблокировки",
	 	"{FFF000}>> Вы не можете написать сообщение этому игроку",
	 	"{FFF000}>> [Сообщение от %s(%d)]: %s",
	 	"{FFF000}>> [Сообщение для %s(%d)]: %s",
	 	"{FFF000}>> Сообщения открыты, но список игнорируемых игроков не очищен",
	 	"{FFF000}>> Доступ к отправке сообщений закрыт",
	 	"{FFF000}>> Вы вовремя изменили свой класс и мгновенно возродились",
        "{FFF000}>> Класс будет установлен в следующем раунде!",
        "{FFF000}>> Вы возродились как %s, используйте /class чтобы изменить это",
        "{E8ACBB}>> [Пейджер]: Игрок %s был заражен идите и вылечите его с помощью /cure (playerid), если это возможно!",
        "{009900}>> Игрок %s был заражен игроком %s!",
        "{33AA33}>> %s достиг серии из %d убийств!{FFFFFF} (+%d ОПЫТА)",
        "{6A8EE2}[АДМИН-ЧАТ] %s(%d): %s",
        "{6A8EE2}>> Администратор %s назначил нового пробного модератора %s",
        "{6A8EE2}>> Администратор %s выдал админ статус (%s) игроку %s",
        "{6A8EE2}>> Администратор %s уволил %s %s по причине: %s",
        "{E48800}|: Создание карты #%d (%s) %s",
        "{FFF000}Создание объектов...",
        "{FFF000}>> Вы пробыли в АФК слишком долго, система автоматически изменила вашу команду на зомби",
        "{FF0000}>> Осталась 1 минута... Следующая карта %s. Если вы хотите изменить свой класс, используйте /class!",
        "{FF0000}>> Эвакуация прибыла для людей!",
        "{FFFFFF}Выжившие доберитесь до чекпоинта в течении минуты!",
        "{FFF000}ВСЕ ВЫЖИВШИЕ ЭВАКУИРОВАЛИСЬ!",
        "{FFFFFF}>> [Первая Кровь]: Игрок %s пустил {FF0000}Первую Кровь{FFFFFF} и получил дополнительные 10 Опыта!",
        "{FFFFFF}>> Игрок %s убил {FF0000}последнего{FFFFFF} выжившего и получил дополнительные 10 Опыта!",
        "{59E4B5}>>> Убейте последнего выжившего и получите дополнительный опыт!",
        "{33CCFF}>> Игрок %s попытался подключится к серверу, но был найден в списке заблокированных игроков",
        "{33CCFF}>> Игрок %s попытался подключится к серверу, но был найден в списке временно заблокированных игроков",
        "{FFF000}>> Вход успешно выполнен!",
        "{FF0000}>> Игрок %s был кикнут за 3 провальные попытки авторизации",
        "{6A8EE2}>> Администратор %s разблокировал аккаунт игрока %s",
        "{FFFFFF}СЕРВЕР: Эта учетная запись не существует в Бан Листе, перепроверьте данные.",
        "{8C7139}>> Игрок %s был заблокирован администратором %s [%d час(ов/а)] [Причина: %s]",
        "{6A8EE2}>> Игрок %s был заблокировал администратором %s [Причина: %s]",
        "{009900}>> Несправедливый бан? Оставьте заявку на "FORUM" в разделе Ban Appeal",
        "{FFF000}>> Создайте скриншот вашего бана нажав F8 (Документы/GTA San Andreas User Files/SAMP/screens)",
        "{FF0000}Зомби Апокалипсис - Восстановление (%d/2)",
        "{FF0000}\n{D7D7D7}Данная учётная запись принадлежит игроку %s\n\n{D7D7D7}Для восстановления доступа введите Секретное Слово:",
        "Далее",
        "Назад",
        "{FFF000}\nДанные введены корректно, введите ваш новый пароль.\n\nЗапишите ваш пароль, чтобы всегда иметь доступ к аккаунту.",
        "{FFFFFF}Начинается новый раунд...",
        "{009900}>>{FF500A}%s{009900} заработал %d опыта за убийство %s на %d серии убийств!",
        "{A5CED9}>> Игрок %s добился нового самого высокого уровня убийств (%d убийств подряд - предыдущие: %d убийств)",
        "{B2F558}>> Игрок %s был вылечен медиком %s",
        "{B2F558}>> Игрок %s был вылечен медиком %s (выстрелом)",
        "{009900}>> Игрок %s был заражен игроком %s{FFFFFF} (от %s)!",
        "ОПЫТА",
        "Настройки",
        "Block PMs\t\t[%s]\nDing\t\t[%s]\nAuto-Login\t\t[%s]",
        "\nUnhiden\t\t[%s]",
        "{E68687}>> %s дал вам немного патронов",
        "{FF0000}Зомби победили!",
        "{009900}>> %s был напуган игроком %s!",
        "{009900}>> %s поменялся здоровьем с %s!",
        "{009900}>> Джокер %s украл %d опыта у %s!",
        "{009900}>> Вор %s украл броню игрока %s!",
        "{009900}>> Игрок %s был заражен игроком %s! {FFFFFF} (зараженное мясо*)",
        "{B2F558}>> Игрок %s передал игроку %s %d ОПЫТА",
        "{FFF000}>> Голосование было отменено.",
        "{FFF000}>> Голосование уже началось.", 
        "{FFF000}>> {A5CED9}%s начал голосование против %s с причиной: {A5CED9}%s",
        "{FFF000}>> Голосуйте {00FF00}/yes{FFF000} или {FF0000}/no",
        "{FFF000}>> Игрок %s проголосовал {FF0000}против{FFF000} (%d/%d)",
        "{FFF000}>> Игрок %s проголосовал {00FF00}за{FFF000} (%d/%d)",
        "{FFF000}>> Игрок был выгнан.",
        "{FFF000}>> Вы уже проголосовали.",
        "{faf06d}>> Игрок %s был поджогнут игроком %s!",
        "{009900}>> Игрок %s был найден игроком %s!",
        "{009900}>> Игрок %s украл патроны у игрока %s!",
        "{009900}>> Игрок %s взорвался и заразил{FFFFFF} %d человек!",
        "{009900}>> Игрок %s взорвался и заразил{FFFFFF} НЕВЕРОЯТНО{FF0000} %d человек!",
        "{009900}>> Игрок %s взорвался и заразил{FFFFFF} %d человек!",
        "{009900}>> Игрок %s взорвался и заразил{FFFFFF} НЕВЕРОЯТНО{FF0000} %d человек!",
		"{009900}>> Игрок %s взорвался и заразил{FFFFFF} %d человек!",
        "{009900}>> Игрок %s взорвался и заразил{FFFFFF} НЕВЕРОЯТНО{FF0000} %d человек!",
        "{009900}>> Игрок %s заморозил{FFFFFF} %d человек!",
        "{009900}>> Игрок %s заморозил{FFFFFF} НЕВЕРОЯТНО{FF0000} %d человек!",
        "{B2F558}>> Сеьор медик %s вылечил %d человек",
        "{ffcc99}>> Разрушитель %s разрушил несколько коробок",
        "{009900}>> Игрок %s был заражен медленным зомби %s",
        "{009900}>> Игрок %s сломал ноги игрока %s!",
        "{009900}>> Игрок {FF0000}%s{009900} был заражен слепотой от игрока %s!",
        "{33CCFF}>> %s был забанен Анти-Читом [Причина: %s]",
        "{33CCFF}>> %s был кикнут [Причина: Высокий пинг]",
        "{33CCFF}>> Система: Уменьшите свой пинг или будете кикнуты",
        "{33CCFF}>> Система: %s возможно, обнаружен читер, проверьте /spectate %d",
        "{33CCFF}>> Статус администратора скрыт",
        "{33CCFF}>> Статус администратора раскрыт",
        "{33CCFF}>> %s был кикнут администратором %s [Причина: %s]",
        "{FFF000}>> Чат был очищен администратором",
        "{6A8EE2}>> %s дал шлепка %s [%.2f]",
        "{6A8EE2}>> %s взорвал %s [%.2f]",
       	"{FFA500}>> Объявление{FFFFFF} %s",
        "{33CCFF}>> %s получил мут от %s на %d минут [Причина: %s]",
        "{FF0000}>> У вас затычка", // 112
        "{FF0000}>> Затычка снята", // 113
        "{33CCFF}>> Затычка у игрока %s была снята администратором %s", // 114
        "{33CCFF}>> У игрока нет затычки",
        "{6A8EE2}>> %s начал слежку за %s(%d)",
        "{6A8EE2}>> %s прекратил слежку за %s(%d)",
        "{6A8EE2}>> %s заступил на дежурство за %s",
        "{6A8EE2}>> %s вышел из дежурства",
        "{F0E68C}>> Вы открыли новый класс '%s'!",
        "{E68687}>> %s создал клан с названием %s {FFFFFF}(ID: %d)!",
        "{FFF000}>> Вы уже находитесь в клане",
        "{FFF000}>> Лидер не может покинуть клан",
        "{FFF000}>> Вы покинули банду, скажите им пока!",
        "{C659B6}>> %s хочет присоединится в ваш клан, используйте /gang accept %d",
        "{FFF000}>> Ваша запрос был отправлен",
        "{FFF000}>> Игрок не отправлял заявку",
        "{FFF000}>> Игрок уже в банде",
        "{C659B6}>> %s был принят в клан игроком %s",
        "{FFF000}>> Сожалеем, но все места были заняты другими игроками",
        "{C659B6}>> В казне клана нехватает опыта",
        "{C659B6}>> Игрок %s выдал игроку %s %d ОПЫТА из казны клана",
        "{C659B6}>> Игрок %s повысил игрока %s до ранга %d!",
        "{C659B6}>> Игрок не в вашей банде",
        "{C659B6}>> Не достаточно прав",
        "{C659B6}>> Игрок %s понизил игрока %s до ранга %d!",
        "{C659B6}>> %s покинул клан",
        "{C659B6}>> Игрок %s переименовал ранг %s на %s",
        "{C659B6}>> Игрок %s положил %d ОПЫТА в казну клана",
        "{C659B6}>> %s установил тег клана на %s",
        "{C659B6}>> %s установил полное имя клана %s",
        "{6A8EE2}>> Администратор %s заблокировал IP %s",
        "{6A8EE2}>> Администратор %s разблокировал IP %s",
        "{6A8EE2}[ЖАЛОБА] %s(%d) на игрока %s(%d) [Причина: %s] (Уже %d жалоб)",
        "{33CCFF}>> %s получил предупреждение от %s (%d/3)[Причина: %s]",
        "{33CCFF}>> %s был кикнут [Причина: Получено максимальное количество предупреждений]",
        "{33CCFF}>> Ваша жалоба отправлена",
        "{8C7139}>> Администратор %s заблокировал %s (оффлайн)",
        "{8C7139}>> Администратор %s заблокировал %s [%d час(ов/а)] (оффлайн)",
        "{8C7139}>> %s уволил администратора %s (оффлайн)",
        "{FF0000}>> Вам нужен VIP %d уровня, чтобы использовать этот класс!",
        "{C0C0C0}*** Игрок %s (ID: %d) присоединился к серверу. [IP %s] [Страна: %s]",
        "{FFF000}>> Вы выключили отталкивание",
        "{FFF000}>> Вы включили отталкивание",
        "{FFF000}>> Такое имя уже существует", // 155
        "{33CCFF}[АДМИН] Игрок %s теперь известен как %s", // 156
        "{FFF000}>> Вы уже меняли ник, подождите 24 часа, чтобы сменить его снова",
        "{33CCFF}>> %s поставил музыку, используйте /off чтобы выключить её",
        "{FFF000}>> Вы купили %s!",
        "{33CCFF}>> Вы сохранили свою статистику!",
        "{FFFFFF}СЕРВЕР: Эта учетная запись не существует, перепроверьте данные.",
        "{FFFFFF}СЕРВЕР: Недостаточно прав.",
        "{6A8EE2}>> Администратор %s выдал админ статус (%s) игроку %s (оффлайн)",
        "{33CCFF}>> СИСТЕМА: Вы молодец! Спасибо за помощь в отлове читера держите вашу награду в размере{FFFFFF} 10 ОПЫТА!", // 164
        "{FF0000}>>> %s{FFFFFF} был выбран, как Зомби Босс. Убейте его и получите{FFD700} 20 ОПЫТА!",
        "{FFFFFF}>> Вы {FFA500}БОСС{3366ff} зомби. {A5CED9}У вас увеличен запас здоровья и урон, идите и убейте всех людей!",
        "{009900}>> Игрок %s убил зомби босса %s и получил 20 ОПЫТА!",
        "{FFF000}>> В связи с новой политикой кланов, вам необходимо создать заявку на форуме: %s",
        "{6A8EE2}>> Администратор %s расформировал клан #%d",
        "{ccffff}>> Игрок %s эвакуировался %d раз подряд!{FFFFFF} (+%d ОПЫТА)",
        "{62E300}>> Игрок %s открыл новое достижение{FFFFFF} (%s) (+%d ОПЫТА) (/achievements)",
        "{C659B6}| Напишите этот текст первым и получите %d ОПЫТА:{FFFFFF} %s", // 172
        "{C659B6}| Случайный вопрос на %d ОПЫТА:{FFFFFF} %s",
        "{C659B6}>> Игрок %s был первым, кто ответил на вопрос (Ответ: %s) и заработал %d ОПЫТА!", // 174
        "{C659B6}| Случайный вопрос на %d ОПЫТА: Какой ID у{FFFFFF} %s?",
        "{C659B6}Случайный вопрос: Никто не ответил!",
        "{E68687}>> Лотерея: Номер будет разыгран через одну минуту. Используйте /lottery, чтобы указать свой номер",
        "Hardened body - Less damage from chainsaw\nSurvivability - +50 HP\nIron Skin - +10 percent of armour\nSponsor - M4 for all classes\nMeteorite gun - Shoots by meteorites",
        "{B2F558}>> Игрок %s был проклят ведьмой %s!", // 179
        "{009900}>> Игрок %s ускорен ускоряющим зомби %s!", //180
        "{33CCFF}>> Игрок %s был посажен в тюрьму игроком %s на %d минут(ы) [Причина: %s]", // 181
        "{009900}>> Игрок %s был заражен плюющимся зомби %s!", //182
		"{009900}>> Игрок %s был ужален зомби пчелой %s!", //183
		"{FFFFFF}>> Вы {ffff80}Герой. {A5CED9}У вас есть M4, Deagle и Броня", // 184
		"{FF0000}>>> %s{FFFFFF} был выбран, как {ffff80}Герой{FFFFFF}. Убейте его и получите дополнительные{FFD700} 20 ОПЫТА!", // 185
		"{009900}>> %s убил героя %s и получил 20 ОПЫТА!", // 186
		"{009900}>> %s улучшенный зомби охотник телепортировался куда-то!", // 187
		"{FF0000}УПС!",
		"{FFFFFF}Вы не зарегистрированы в новой платежной системе\nЭта система необходима для предотвращения случайных передач опыта с вашего аккаунта в случае взлома\n{FFF000}Для регистрации введите секретное слово (если вы его забыли: введите новое и не забудьте сохранить)\n{FFFFFF}* Вся необходимая информация о вас будет собрана сервером",
		"{A5CED9}>> Лотерея: номер был нарисован! Никто не принимал участие!{C659B6} Джекпот: %d", // 190
		"{A5CED9}>> Лотерея: никто не выиграл!{FF0000} Номер: %d Джекпот: %d", // 191
		"{A5CED9}>> Лотерея: %s выиграл(а) в лотереи!{C659B6} Номер: %d Джекпот: %d", // 192
		"{66ccff}|: Верификация завершена, дальнейшие подозрительные платежи будут отклонятся (%s)",
		"{FFF000}>> Обнаружена несогласованность данных, обратитесь за разъяснениями на "FORUM" в Службу Технической Поддержки Сервера (/verify)",
		"{33CCFF}>> Команда игрока %s была установлена на 'Зомби' [Причина: АФК во избежание смерти]", // 195
		"{E48800}|: Создание карты #%d (%s) %s{E48800} (Под контролем %s)",
		"{E68687}>> Игрок %s повысил ранг. Теперь ранг игрока %s это %s", // 197
		"{E68687}>> Вы повысили свой ранг. Новый ранг %s!", // 198
		"{E74C3C}>>> %s имеет набор для лечения и может вылечить людей!",
		"Ранг"
	},
	{
	    "{C0C0C0}*** %s (ID: %d) se ha unido al servidor.", // 0
		"{FFFFFF}SERVER: Comando desconocido, use /cmds para descubrir todos los comandos en el servidor.", // 1
		"{FFFFFF}Lenguajes", // 2
		"English\nRussian\nSpanish", // 3
		"Ok", // 4
		"Cancelar", // 5
		"{FFFFFF}>> Lenguaje establecido", // 6
		"Clases", // 7
		"Humanos' Clases\nZombis' Clases", // 8
		"Conexion Perdida", // 9
		"Leaving", // 10
		"Expulsado", // 11
		"{C0C0C0}*** %s ha dejado el servidor. [%s]", //12
		"{FFF000}>> {00E61b}%s {FFF000}ha logrado el punto de evacuaci?n!", //13
		"{FF0000}>> Necesita %d de exp para usar esta clase!", // 14
		"{FF0000}>> El jugador no esta conectado", // 15
		"{FF0000}>> El jugador ya esta en la lista", // 16
		"{FFF000}>> El jugador %s no puede escribirte mas, usa /unignore para desbloquearlo", // 17
		"{FFF000}>> No puede enviar mensajes a este Jugador", //18
		"{FFF000}>> [Mensaje de %s(%d)]: %s", // 19
		"{FFF000}>> [Mensaje para %s(%d)]: %s", //20
		"{FFF000}>> Mensajes personales estan abierto, pero la lista de jugadores ignoradores no esta limpia", // 21
		"{FFF000}>> Mensajes personales estan bloqueados por ahora", // 22
		"{FFF000}>> Has cambiado tu clase a tiempo y ha aparecido al instante", // 23
		"{FFF000}>> Clase establecida, Se cambiara en la proxima ronda!", // 24
		"{FFF000}>> Usted ha aparecido como un %s usa /class para cambiar esta", // 25
		"{E8ACBB}>> [PAGER]: %s Ha sido infectado ve y c?ralo usando /cure (playerid), si es posible", // 26
		"{009900}>> %s Ha sido infectado por %s!", //27
		"{499a63}>> %s Ha logrado %d killstreak!{FFFFFF} (+%d EXP)", // 28
		"{66ffff}<A-CHAT> %s(%d): %s", // 29
		"{6A8EE2}>> %s appointed a new trial moderator %s", // 30
		"{6A8EE2}>> %s has given admin status (%s) to %s", // 31
		"{6A8EE2}>> %s dismissed %s %s for the reason: %s", // 32
		"{E48800}|: Cargando el pr?ximo mapa #%d (%s)", // 33
		"{FFF000}Creando objetos...", // 34
		"{FFF000}>> Has estado afk por mucho tiempo y el sistema te ha cambiado automaticamente a un zombi", // 35
		"{FF0000}>> 1 minuto restante... El proximo mapa es %s. Si quieres cambiar tu clase usa /class!", // 36
		"{FF0000}>> Una evacuaci?n ha llegado para los humanos.!", // 37
		"{FFFFFF}>> Humanos llegen al puesto de control en un minuto!", // 38
		"{FFF000}TODOS LOS SOBREVIVIENTES HAN EVACUADO!", // 39
		"{FFFFFF}>> [First Blood] %s ha realizado la{FF0000}primera muerte{FFFFFF} y gana 10xp adicionales!", // 40
		"{FF0000}>> %s Mato al ultimo sobreviviente y obtuvo 10xp adicional!", // 41
		"{59E4B5}>>> Mata al ultimo humano y recibe xp extra!", // 42
		"{33CCFF}>> %s Ha intentado entrar al servidor mientras cumple una prohibici?n.", // 43
		"{33CCFF}>> %s Ha intentado entrar al servidor mientras cumple una prohibici?n temporal.", // 44
		"{FFF000}>> Has iniciado sesi?n", // 45
		"{FF0000}>> %s ha sido expulsado por 3 intentos fallidos de inicio de sesi?n!", // 46
		"{6A8EE2}>> %s ha sido desbaneado por %s", // 47
		"{FFFFFF}SERVER: Esta cuenta no existe en la lista de prohibici?nes, verifique dos veces los datos.", // 48
		"{8C7139}>> %s ha sido baneado por %s por %d horas [Raz?n: %s]", // 49
		"{6A8EE2}>> %s ha sido baneado por %s [Raz?n: %s]", // 50
		"{009900}>> Baneado por equivocaci?n? Apelar en el "FORUM" en Ban Appeal secci?n", // 51
		"{FFF000}>> Toma una captura de tu prohibici?n presionando F8 | (Documents/GTA San Andreas User Files/SAMP/screens)", // 52
		"{FF0000}Zombie Apocalypse - Recovery (%d/2)", // 53
		"{FF0000}\t\t\t\n{D7D7D7}Esta cuenta pertenece al jugador. %s\n\n{D7D7D7}Para restaurar el acceso, ingrese la Palabra secreta:", // 54
		"Siguiente", // 55
		"Back", // 56
		"{FFF000}\nDatos ingresados ??correctamente, ingrese su nueva contrase?a.\n\nEscriba su contrase?a para tener siempre acceso a su cuenta.", // 57
		"{FFFFFF}Comenzando una nueva ronda...", // 58
		"{009900}>> {FF500A}%s{009900} Gano %d exp por matar %s en %d killstreak!", // 59
		"{A5CED9}>> %s ha logrado un nuevo killstreak m?s alto (%d kills in a row - old: %d kills)", // 60
		"{B2F558}>> %s ha sido curado por el medico %s", // 61
		"{B2F558}>> %s ha sido curado por el medico %s (Disparo)", // 62
		"{009900}>> %s ha sido infectado por %s{FFFFFF} (by air)", // 63
		"EXP", // 64
		"Ajustes", // 65
		"Bloquear PMs\t\t[%s]\nDing\t\t[%s]\nInicio de sesi?n-Automatico\t\t[%s]", // 66
		"\nUnhiden\t \t \t", // 67
		"{E68687}>> %s Te dio algo de munici?n", // 68
		"{FF0000}Ganaron los Zombis!", // 69
		"{009900}>> %s ha sido asustado por %s!", // 70
		"{009900}>> %s ha intercambiado con %s salud!", // 71
		"{009900}>> %s el joker ha robado %d exp de %s!", // 72
		"{009900}>> %s el remover ha removido %s armadura!", // 73
		"{009900}>> %s ha sido infectado por %s!{FFFFFF} (recogiendo carne infectada*)", // 74
		"{B2F558}>> %s pago a %s %d EXP. Total enviado con impuestos: %d", // 75
		"{FFF000}>> Votekick ha sido abortado.", // 76
		"{FFF000}>> Votekick ya ha comenzado.", // 77
		"{FFF000}>> {A5CED9}%s Comenzo un votekick en %s con la raz?n: {A5CED9}%s", // 78
		"{FFF000}>> Vota con {00FF00}/yes{FFF000} o {FF0000}/no", // 79
		"{FFF000}>> %s ha votado{FF0000}en contra{FFF000} de una expulsi?n (%d/%d)", // 80
		"{FFF000}>> %s ha votado {00FF00}para{FFF000} una expulsi?n (%d/%d)", // 81
		"{FFF000}>> El jugador fue expulsado.", // 82
		"{FFF000}>> Ya has votado.", // 83
		"{faf06d}>> %s ha sido quemado por el zombie Wizard %s!", // 84
		"{009900}>> %s ha sido encontrado por el Seeker %s!", // 85
		"{009900}>> %s el stealer le ha robado a %s su munici?n!", // 86
		"{009900}>> %s el boomer ha explotado e infect? {FFFFFF} %d personas!", // 87
		"{009900}>> %s el boomer ha explotado e infect?{FFFFFF} LA GRAN CANTIDAD DE{FF0000} %d personas!", // 88
		"{009900}>> %s el demon ha explotado e infect?{FFFFFF} %d personas!", // 89
		"{009900}>> %s el demon ha explotado e infect?{FFFFFF} LA GRAN CANTIDAD DE{FF0000} %d personas!", // 90
		"{009900}>> %s el kamikaze ha explotado e infect?{FFFFFF} %d personas!", // 91
		"{009900}>> %s el kamikaze ha explotado e infect?{FFFFFF} LA GRAN CANTIDAD DE{FF0000} %d personas!", // 92
		"{3366ff}>> %s el freezer ha congelado{FFFFFF} %d personas!", // 93
		"{3366ff}>> %s el freezer ha congelado{FFFFFF} LA GRAND CANTIDAD DE{FF0000} %d personas!", // 94
		"{B2F558}>> %s el senior medic ha curado %d personas", // 95
		"{ffcc99}>> %s el demolisher destruy? algunas cajas", // 96
		"{009900}>> %s ha sido infectado por el slow zombie %s!", // 97
		"{009900}>> %s el leg breaker le ha roto a %s sus piernas!", // 98
		"{009900}>> {FF0000}%s{009900} ha sido infectado por el blindness zombie %s!", // 99
		"{33CCFF}>> %s ha sido baneado por el Anti-Cheat [Raz?n: %s]", // 100
		"{33CCFF}>> %s ha sido expulsado [Raz?n: Muy alta latencia]", // 101
		"{33CCFF}>> SISTEMA: Arregla tu latencia o ser?s expulsado", // 102
		"{33CCFF}>> SISTEMA: %s posible hacker de velocidad detectado, usa /spec %d", // 103
		"{33CCFF}>> Est?s oculto", // 104
		"{33CCFF}>> Est?s descubierto", // 105
		"{33CCFF}>> %s ha sido expulsado por %s [Raz?n: %s]", // 106
		"{FFF000}>> El chat ha sido limpiado por el administrador", // 107
		"{6A8EE2}>> %s ha abofeteado %s [%.2f]", // 108
		"{6A8EE2}>> %s ha sido explotado por %s [%.2f]", // 109
		"{FFA500}>> Anuncio{FFFFFF} %s", // 110
		"{33CCFF}>> %s ha sido muteado por %s por %d minutos [Raz?n: %s]", // 111
		"{FF0000}>> Est?s silenciado", // 112
		"{FF0000}>> Est?s sin silenciar", // 113
		"{33CCFF}>> %s ha sido desmuteado por %s", // 114
		"{33CCFF}>> El Jugador no est? silenciado", // 115
		"{6A8EE2}>> Administrador %s ha comenzado a observar en %s(%d)", // 116
		"{6A8EE2}>> Administrador %s ha parado de observar en %s(%d)", // 117
		"{6A8EE2}>> Administrador %s es?t? en {FFFFFF}SERVICIO-ADMINISTRATIVO{6A8EE2} now", // 118
		"{6A8EE2}>> Administrador %s fuera de {FFFFFF}SERVICIO-ADMINISTRATIVO{6A8EE2}", // 119
		"{F0E68C}>> Has desbloqueado %s clase!", // 120
		"{E68687}>> %s ha creado un nuevo clan con el nombre %s {FFFFFF}(ID: %d)!", // 121
		"{FFF000}>> Ya te encuentras en el clan", // 122
		"{FFF000}>> El lider no puede dejar el clan", // 123
		"{FFF000}>> Dejaste tu clan, diles adi?s!", // 124
		"{C659B6}>> %s quiere entrar en tu clan, usa /gang accept %d", // 125
		"{FFF000}>> Tu solicitud ha sido enviada", // 126
		"{FFF000}>> El jugador no envi? una solicitud", // 127
		"{FFF000}>> El jugador ya est? en el clan", // 128
		"{C659B6}>> %s ha sido aceptado dentro del clan por el jugador %s", // 129
		"{FFF000}>> Lo sentimos, pero todos los lugares fueron ocupados por otros jugadores", // 130
		"{C659B6}>> No hay tanta experiencia en el clan", // 131
		"{C659B6}>> %s ha pagado %s %d EXP de la experiencia almacenada del clan. Con impuestos %d", // 132
		"{C659B6}>> %s ha sido promovido por %s", // 133
		"{C659B6}>> El jugador no est? en tu clan", // 134
		"{C659B6}>> No hay permisos suficientes", // 135
		"{C659B6}>> %s Ha sido degradado por %s", // 136
		"{C659B6}>> %s ha sido expulsado del clan por %s", // 137
		"{C659B6}>> %s ha renombrado el rango %s a %s", // 138
		"{C659B6}>> %s ha depositado %d EXP a la experiencia almacenada del clan. Con impuestos %d", // 139
		"{C659B6}>> %s ha establecido la etiqueta del clan a %s", // 140
		"{C659B6}>> %s ha establecido el nombre completo del clan a %s", // 141
		"{6A8EE2}>> %s ha prohibido la IP %s", // 142
		"{6A8EE2}>> %s ha desbaneado la IP %s", // 143
		"{6A8EE2}[REPORTE] %s(%d) ha reportado a %s(%d) [Raz?n: %s] (Total of %d reports)", // 144
		"{33CCFF}>> %s ha sido advertido por %s (%d/3)[Raz?n: %s]", // 145
		"{33CCFF}>> %s ha sido expulsado [Raz?n: Recibi? 3 advertencias]", // 146
		"{33CCFF}>> Tu reporte ha sido enviado", // 147
		"{8C7139}>> %s ha sido prohibido por %s [Raz?n: %s] (fuera de l?nea)", // 148
		"{8C7139}>> %s ha sido prohibido por %s por %d horas [Raz?n: %s] (fuera de l?nea)", // 149
		"{8C7139}>> %s despidi? al administrador %s (fuera de l?nea)", // 150
		"{FF0000}>> Necesitas un nivel VIP de %d para usar ?sta clase!", // 151
		"{C0C0C0}*** %s (ID: %d) ha ingresado al servidor. [IP %s] [Ubicaci?n: %s]", // 152
		"{FFF000}>> Desactivaste el kickback", // 153
		"{FFF000}>> Activaste el kickback", // 154
		"{FFF000}>> Ese nombre ya existe", // 155
		"{33CCFF}[ADMIN] %s es conocido ahora como %s", // 156
		"{FFF000}>> ya has cambiado tu nombre, espera 24 horas para cambiarlo nuevamente", // 157
		"{33CCFF}>> %s pone la m?sica, usa /off para apagarla", // 158
		"{FFF000}>> Has obtenido %s!", // 159
		"{33CCFF}>> Has guardado tus estad?sticas", // 160
		"{FFFFFF}SERVIDOR: Esta cuenta no existe, Verifique dos veces los datos.", // 161
		"{FFFFFF}SERVIDOR: No hay suficientes permisos.", // 162
		"{6A8EE2}>> %s ha dado posici?n de administrador (%s) a %s (fuera de l?nea)", // 163
		"{33CCFF}>> SISTEMA: Has hecho bien! Gracias por tu ayuda en la captura de tramposos. Toma tus {FFFFFF}10 EXP!", // 164
		"{FF0000}>>> %s{FFFFFF} Ha sido elegido para ser el {FF0000}JEFE Zombie{FFFFFF}. M?talo y obten de adici?n{FFD700} 20 EXP!", // 165
		"{FFFFFF}>> Eres el {FF0000}JEFE Zombie. {A5CED9}Tienes salud incrementanda, ve y mata a todos los humanos", // 166
		"{009900}>> %s ha matado al Jefe Zombie %s y obtiene 20 EXP!", // 167
		"{FFF000}>> Debido a la nueva pol?tica de clan, Necesitas crear una solicitud en el foro: %s", // 168
		"{6A8EE2}>> Administrador %s disolvi? la pandilla #%d", // 169
		"{ccffff}>> %s ha evacuado %d veces seguidas!{FFFFFF} (+%d EXP)", // 170
		"{62E300}>> %s ha desbloqueado un Nuevo Logro llamado {FFFFFF}%s (+%d EXP) (/achievements)", // 171
		"{C659B6}| ESCRITURA ALEATORIA POR %d EXP:{FFFFFF} %s", // 172
		"{C659B6}| PREGUNTA ALEATORIA POR %d EXP:{FFFFFF} %s", // 173
		"{C659B6}>> %s fue el primero en responder la pregunta (Answer : %s) y gana %d EXP!", // 174
		"{C659B6}| PREGUNTA ALEATORIA POR %d EXP: Cu?l es el ID de{FFFFFF} %s?", // 175
		"{C659B6}PREGUNTA ALEATORIA: Nadie respondi?!", // 176
		"{E68687}>> Loter?a: El n?mero ser? revelado en un minuto. Usa /lottery para obtener tu propio n?mero", // 177
		"Hardened body - Menos da?o de la motosierra\nSurvivability - +50 HP\nIron Skin - +10 porcentaje de armadura\nSponsor - M4 para todas las clases\nMeteorite gun - Disparos por meteoritos\nSpikes - Empuja a los zombies hacia atr?s", // 178
		"{B2F558}>> %s ha sido maldecido por la witch zombie %s!", // 179
		"{009900}>> %s ha sido acelerado por un zombie acelerador %s!", //180
		"{33CCFF}>> %s ha sido enjaulado por %s por %d minuto(s) [Raz?n: %s]", // 181
		"{009900}>> %s ha sido infectado por el spitter zombie %s!", // 182
		"{009900}>> %s ha sido picado por el bee zombie %s!", // 183
		"{FFFFFF}>> T? eres el {ffff80}JEFE HUMANO. {A5CED9}T? tienes M4, Deagle y blindaje", // 184
		"{FF0000}>>> %s{FFFFFF} ha sido elegido para ser el {ffff80}H?roe Humano{FFFFFF}. M?talo y obt?n de adici?n{FFD700} 20 EXP!", // 185
		"{009900}>> %s ha matado al H?roe Humano %s y obtiene 20 EXP!", // 186
		"{009900}>> %s el zombie advanced seeker se ha teletransportado a alg?n lugar!", // 187
		"{FF0000}Uy!", // 188
		"{FFFFFF}No est?s registrado en el nuevo sistema de pago \nEste sistema es necesario para prevenir pagos accidentales de EXP desde su cuenta en caso de hackeo\n{FFF000}Para registrarte, ingresa la palabra secreta (si la olvidaste: ingresa una nueva y no te olvides de guardarla)\n{FFFFFF}* Toda la informaci?n necesaria a cerca de usted ser? recopilada por el servidor.", // 189
		"{A5CED9}>> Loter?a: El n?mero ha sido revelado! Nadie particip?!{C659B6} Premio gordo: %d", // 190
		"{A5CED9}>> Loter?a: Nadie gan?!{FF0000} N?mero: %d Premio gordo: %d", // 191
		"{A5CED9}>> Loter?a: %s ha ganado la loter?a!{C659B6} N?mero: %d Premio gordo: %d", // 192
		"{66ccff}|: La verificaci?n est? completa, nuevos pagos sospechosos ser?n denegados (%s)", // 193
		"{FFF000}>> Se encontr? inconsistencia de datos, solicita en el "FORUM" en el Soporte T?cnico del servidor para aclaraciones (/verify)", // 194
        "{33CCFF}>> %s se ha configurado para Zombie Team [Reason: AFK para evitar la muerte]", // 195
        "{E48800}|: Cargando el pr?ximo mapa #%d (%s){E48800} (Bajo control %s)",
       	"{E68687}>> %s ranked up 1 levels. %s in now a %s", // 197
		"{E68687}>> You ranked up. Your new rank is %s!", // 198
		"{E74C3C}>>> %s tiene el Kit de Curado y puede curar a los Humanos!",
		"Rango"
	}
};

enum
{
	TROPHY_VITALITY = 0,
	TROPHY_ACCURACY,
	TROPHY_EVASION,
	TROPHY_WARRIOR,
	TROPHY_TITAN,
	TROPHY_MIRROR
};

enum aname
{
	BeeCooldown,
	SpiderJump,
	InfectionNormal,
	InfectionBlidness,
    InfectionSlow,
	LegBreaks,
	InfectionMutated,
	InfectionBlind,
	Float:Fuel,
	QueenJumps[2],
	HighJumpZombie,
	StomperPushing,
	AdvancedMutated,
	CanGiveAmmo,
	CanGiveArmour[MAX_PLAYERS],
	FlyCooldown,
	SlenderBlind,
	SwapperAbility,
	CockroachUseMode,
	SpitterWeapon,
	RemoverRemove,
	RogueSkinChangeZ,
	RogueSkinChangeH,
	EarthPushing,
	WitchAttack,
	GunJammer,
	SporeZombie,
	CurseHuman,
	SeekerFound,
	StealerGotAmmo,
	Freeze,
	Accel,
	newBox,
	ScreamerZombieAb,
	BreakSpace,
	CureAbility,
	KamikazeAbiility,
	CryAttack
};

new Abilitys[MAX_PLAYERS][aname];

enum mapinfo
{
	m_MapName[128],
	m_FSMapName[128],
	m_FSMapLastName[128],
	Float:HumanSpawnX[5],
	Float:HumanSpawnY[5],
	Float:HumanSpawnZ[5],
	
	Float:ZombieSpawnX[5],
	Float:ZombieSpawnY[5],
	Float:ZombieSpawnZ[5],
	
	m_Author[48],
	Float:m_GatePos[6],
	Float:m_GatePosTo[6],
	Float:m_Check[3],
	m_GateID,
	m_Gate2ID,
	Float:m_Gate2Pos[6],
	Float:m_Gate2PosTo[6],
	m_MoveGate,
	m_AllowWater,
	m_Interior,
	m_World,
	m_Weather,
	m_CheckPointSize,
	m_Time,
	bool: m_IsStarted,
	Float:m_CamPos[6],
	m_XPType,
	Float:m_GateSpeed,
	m_GangControll,
	bool:m_AreaBattleStart,
	m_GangKillsPerRound[30],
};

new Map[mapinfo];

enum cInfo
{
	__ID,
	__RealID,
	bool:__isActive,
	Short[5],
	Full[128],
	Rank_0[32],
	Rank_1[32],
	Rank_2[32],
	Rank_3[32],
	Rank_4[32],
	Rank_5[32],
	EXP,
	Wins,
	Loses,
	Owner[24],
	
	g_Motd[128],
	g_Rules[128],
	g_isClosed,
	g_MinExp,
	g_MaxPayAmt,
	g_MaxWarns,
	g_RankToPromote,
	g_RankToAccept,
 	g_RankToWarn,
 	g_RankToBan,
 	g_RankToMotd,
 	g_RankGivePayDay,
 	g_RankToEdit,
 	g_RankToEditReq,
 	g_RankToChangeRules,
 	
 	g_MaxMembers,
 	g_InWar[4], // Yes | No, with ID, cup id, end time
 	g_TempWins,
 	g_TempLoses,
 	
 	//To Save
 	g_AllianceWith[30],
 	g_EnemysWith[30],
 	g_LastWarWas, //Time
	g_Cups[30],
 	g_CupsAlliance[30],
 	g_WasInWarTimes,
 	g_TimesPlayed,
 	g_House,
 	g_Buff,
 	g_Level,
 	g_WeeksToKick,
 	g_Emblem,
 	g_LastKill,
 	g_WarForCup,
 	bool:g_IsRulles,
 	g_IsNeutral,
 	g_MapBuff,
 	g_CanPanelUse,
 	g_OwnerID,
};

new Clan[30][cInfo];

enum CupInfo
{
	ci_ID,
	ci_Name[64],
	ci_Desc[128],
	ci_Params[6],
	ci_InGangID[30],
	ci_GangKills[30],
	ci_TimeToGet[30],
	ci_AreaID
};

new Cups[30][CupInfo];

fun Float:BuffFatalDisease(playerid, rank)
{
	new Float:a = 0.0;
	switch(rank)
	{
	    case 1: a = 0.5;
	    case 2: a = 1.0;
	    case 3: a = 1.5;
	    case 4: a = 2.0;
	    case 5: a = 2.5;
	    case 6: a = 3.0;
	}
	return a;
}

fun Float:BuffNeigation(playerid, rank, Float: damage)
{
	if(GetPlayerTeamEx(playerid) != TEAM_ZOMBIE) return 0.0;
	new Float:a = 0.0;
	switch(rank)
	{
	    case 1: a = (float(2)/float(100))*damage;
	    case 2: a = (float(4)/float(100))*damage;
	    case 3: a = (float(6)/float(100))*damage;
	    case 4: a = (float(8)/float(100))*damage;
	    case 5: a = (float(10)/float(100))*damage;
	    case 6: a = (float(12)/float(100))*damage;
	}
	return a;
}

fun Float:BuffDamage(playerid, rank, Float: damage)
{
	if(GetPlayerTeamEx(playerid) != TEAM_HUMAN) return 0.0;
	new Float:a = 0.0;
	switch(rank)
	{
	    case 1: a = (float(2)/float(100))*damage;
	    case 2: a = (float(4)/float(100))*damage;
	    case 3: a = (float(6)/float(100))*damage;
	    case 4: a = (float(8)/float(100))*damage;
	    case 5: a = (float(10)/float(100))*damage;
	    case 6: a = (float(12)/float(100))*damage;
	}
	return a;
}

fun Float:BuffBible(playerid, rank, Float: damage)
{
	if(GetPlayerTeamEx(playerid) != TEAM_HUMAN) return 0.0;
	new Float:a = 0.0;
	switch(rank)
	{
	    case 1: a = (float(2)/float(100))*damage;
	    case 2: a = (float(5)/float(100))*damage;
	    case 3: a = (float(8)/float(100))*damage;
	    case 4: a = (float(11)/float(100))*damage;
	    case 5: a = (float(14)/float(100))*damage;
	    case 6: a = (float(17)/float(100))*damage;
	}
	return a;
}

public OnQueryError(errorid, const error[], const callback[], const query[], MySQL:handle)
{
	printf("Error: %i\nError: %s\nCallback: %s", errorid, error, callback);
	printf("Query: %s", query);
	return 1;
}

fun Float:DistanceBeetwenPlayers(p1, p2)
{
	new Float:pos[6];
	GetPlayerPos(p1, pos[0], pos[1], pos[2]);
	GetPlayerPos(p2, pos[3], pos[4], pos[5]);
	return VectorSize(pos[0]-pos[3], pos[1]-pos[4], pos[2]-pos[5]);
}


fun bool:IsValidTimer(timerid) return timerid > -1;
fun bool:AcceleratePlayer(playerid)
{
    if(PetUseds[playerid] > -1)
	{
	    if(PetUseds[playerid] >= ITEM_NAME_MOON_PET) PetUseds[playerid] = (PetUseds[playerid] - ITEM_NAME_MOON_PET);
	    
	    if(UserPet[playerid][PetUseds[playerid]][PI_Type] == ITEM_NAME_AIR_PET)
	    {
			new r = UserPet[playerid][PetUseds[playerid]][PI_Rare];
			new l = UserPet[playerid][PetUseds[playerid]][PI_Level];
			new v = UserPet[playerid][PetUseds[playerid]][PI_VIP];
			if(l <= 0) return false;
			new time;

			switch(r)
			{
			    case 0:
				{
				    if(random(20) == 0)
					{
     					time = floor((((v == 0) ? ((float(18)*float(l))/float(100)) : ((float(20)*float(l))/float(100)))/float(100)));
						Accelerate(playerid, time);
					}
					return true;
				}
                case 1:
				{
				    if(random(25) == 0)
					{
					    time = floor((((v == 0) ? ((float(12)*float(l))/float(100)) : ((float(18)*float(l))/float(100)))/float(100)));
						Accelerate(playerid, time);
					}
					return true;
				}
				case 2:
				{
				    if(random(30) == 0)
					{
					    time = floor((((v == 0) ? ((float(7)*float(l))/float(100)) : ((float(9)*float(l))/float(100)))/float(100)));
						Accelerate(playerid, time);
					}
					return true;
				}
				default:
				{
				    if(random(35) == 0)
					{
					    time = floor((((v == 0) ? ((float(4)*float(l))/float(100)) : ((float(7)*float(l))/float(100)))/float(100)));
						Accelerate(playerid, time);
					}
					return true;
				}
			}
		}
	}
	return false;
}

stock Float:GivePetDamage(playerid, Float:damage, index = -1, isvip = -1)
{
	new Float:a = 0.0, oldIndex = -1;
	if(index != -1)
	{
	    oldIndex = PetUseds[playerid];
 		PetUseds[playerid] = index;
	}
    if(PetUseds[playerid] > -1)
	{
	    if(UserPet[playerid][PetUseds[playerid]][PI_Type] == ITEM_NAME_FIRE_PET)
	    {
			new r = UserPet[playerid][PetUseds[playerid]][PI_Rare];
			new l = UserPet[playerid][PetUseds[playerid]][PI_Level];
			new v = UserPet[playerid][PetUseds[playerid]][PI_VIP];
			if(isvip > -1) v = isvip;
			if(l >= 1)
			{
				switch(r)
				{
				    case 0: a = (v == 0) ? (((float(15)*float(l))/float(100))/float(100))*damage : (((float(95)*float(l))/float(100))/float(100))*damage;
				    case 1: a = (v == 0) ? (((float(10)*float(l))/float(100))/float(100))*damage : (((float(65)*float(l))/float(100))/float(100))*damage;
					case 2: a = (v == 0) ? (((float(7)*float(l))/float(100))/float(100))*damage : (((float(50)*float(l))/float(100))/float(100))*damage;
					case 3: a = (v == 0) ? (((float(5)*float(l))/float(100))/float(100))*damage : (((float(35)*float(l))/float(100))/float(100))*damage;
					case 4: a = (v == 0) ? (((float(3)*float(l))/float(100))/float(100))*damage : (((float(20)*float(l))/float(100))/float(100))*damage;
				}
			}
		}
	}
	if(index != -1)
	{
	    PetUseds[playerid] = oldIndex;
	}
	return a;
}

stock Float:RemovePetDamage(playerid, Float:damage, index = -1, isvip = -1)
{
	new Float:a = 0.0, oldIndex = -1;
	if(index != -1)
	{
	    oldIndex = PetUseds[playerid];
 		PetUseds[playerid] = index;
	}
    if(PetUseds[playerid] > -1)
	{
	    if(UserPet[playerid][PetUseds[playerid]][PI_Type] == ITEM_NAME_THE_EARTH_PET)
	    {
			new r = UserPet[playerid][PetUseds[playerid]][PI_Rare];
			new l = UserPet[playerid][PetUseds[playerid]][PI_Level];
			new v = UserPet[playerid][PetUseds[playerid]][PI_VIP];
			if(isvip > -1) v = isvip;
			if(l >= 1)
			{
				switch(r)
				{
				    case 0: a = (v == 0) ? (((float(15)*float(l))/float(100))/float(100))*damage : (((float(45)*float(l))/float(100))/float(100))*damage;
				    case 1: a = (v == 0) ? (((float(10)*float(l))/float(100))/float(100))*damage : (((float(30)*float(l))/float(100))/float(100))*damage;
					case 2: a = (v == 0) ? (((float(7)*float(l))/float(100))/float(100))*damage : (((float(15)*float(l))/float(100))/float(100))*damage;
					case 3: a = (v == 0) ? (((float(5)*float(l))/float(100))/float(100))*damage : (((float(10)*float(l))/float(100))/float(100))*damage;
					case 4: a = (v == 0) ? (((float(3)*float(l))/float(100))/float(100))*damage : (((float(7)*float(l))/float(100))/float(100))*damage;
				}
			}
		}
	}
	if(index != -1)
	{
	    PetUseds[playerid] = oldIndex;
	}
	return a;
}

// [Account ID] - (ID) * Mask

fun SkipMapDueToOverflow(ObjectID)
{
    if(!already_skipped)
    {
		KillTimerEx(mapvar[0]);
		KillTimerEx(mapvar[1]);
		KillTimerEx(mapvar[2]);
		mapvar[2] = SetTimer("EndMap", MAX_RESTART_TIME, false);
		already_skipped = true;
		SendClientMessageToAll(-1, "{FFF000}[SERVER]: Internal map error detected, skiping to avoid memory leak");
		printf("-- LAST CREATED ID: %d", ObjectID);
	}
	return 1;
}

/*CMD:cards(playerid)
{
    ShowCards(playerid);
    return 1;
}

CMD:speciality(playerid)
{
    ShowSpecialty(playerid);
	return 1;
}

CMD:ranks(playerid)
{
	new str[2048], f[64];
	for( new i = 1; i < sizeof(RanksEXP); i++ )
	{
	    format(f, sizeof(f), "Rank: %d - %d kills\n", i, RanksEXP[i]);
	    strcat(str, f);
	}
	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "Ranks", str, "Ok", "");
	return 1;
}

CMD:cup(playerid, params[])
{
	new command[32], name[96], amount[96];
	sscanf(params, "S()[32]S()[96]S()[96]", command, name, amount);
	if(!strlen(command))
	{
	    SendClientMessage(playerid, -1, "/cup info (id)");
	    return 1;
	}
	if(strfind(command, "info") == 0)
 	{
 	    if(strlen(name) <= 0 || strval(name) < 0 || strval(name) >= sizeof(Cups))
 	    {
 	        SendClientMessage(playerid, -1, "/cup info (id)");
	    	return 1;
 	    }
 	    if(Cups[strval(name)][ci_ID] == 0)
 	    {
 	        SendClientMessage(playerid, -1, "/cup info (id)");
	    	return 1;
 	    }
 	    new cid = strval(name);
 	    SendClientMessageFormat(playerid, -1, "{ff8c1a}*********************** %s #%d ***********************", Cups[cid][ci_Name], Cups[cid][ci_ID]);
 	    SendClientMessageFormat(playerid, -1, "{ff8c1a}:| %s", Cups[cid][ci_Desc]);
 	    SendClientMessageFormat(playerid, -1, "{ff8c1a}:| Conditions: min. Rank {FFFFFF}%d{ff8c1a}, min. Members {FFFFFF}%d{ff8c1a}, min. Gang Level {FFFFFF}%d{ff8c1a}", Cups[cid][ci_Params][0], Cups[cid][ci_Params][1], Cups[cid][ci_Params][2]);
 	    SendClientMessageFormat(playerid, -1, "{ff8c1a}:| Alliance compatible: {FFFFFF}%s", (Cups[cid][ci_Params][4]) ? ("Yes") : ("No"));
 	    SendClientMessageFormat(playerid, -1, "{ff8c1a}:| Competition Place: {FFFFFF}%s", (Cups[cid][ci_Params][5]) ? ("Main Hall") : ("Room Hall"));
 	    SendClientMessageFormat(playerid, -1, "{ff8c1a}:| Staggers through:{FFFFFF} %d week(s)", Cups[cid][ci_Params][3]);
 	    if(Cups[cid][ci_InGangID] > 0) SendClientMessageFormat(playerid, -1, "{ff8c1a}:| Owned by %s", Clan[Cups[cid][ci_InGangID]][Full]);
 	}
	return 1;
}*/

fun LoadCups()
{
    if(cache_num_rows())
	{
	    new i, sets[256], gangs[256], ga_gangs[256];
	    for( i = 0; i < cache_num_rows(); i++ )
		{
		    cache_get_value_name_int(i, "ID", Cups[i][ci_ID]);
		    cache_get_value_name(i, "Name", Cups[i][ci_Name], 65);
		    cache_get_value_name(i, "Desc", Cups[i][ci_Desc], 65);
		    cache_get_value_name(i, "sets", sets, 255);
		    sscanf(sets, "p<,>iiiiii", Cups[i][ci_Params][0], Cups[i][ci_Params][1], Cups[i][ci_Params][2],
		    Cups[i][ci_Params][3], Cups[i][ci_Params][4], Cups[i][ci_Params][5]);
		    
		    cache_get_value_name(i, "gangs", gangs, 255);
		    cache_get_value_name(i, "ga_kills", ga_gangs, 255);
		    
		    sscanf(gangs, "p<,>dddddddddddddddddddddddddddddd", Cups[i][ci_InGangID][0],Cups[i][ci_InGangID][1], Cups[i][ci_InGangID][2],
	        Cups[i][ci_InGangID][3],Cups[i][ci_InGangID][4], Cups[i][ci_InGangID][5],
	        Cups[i][ci_InGangID][6],Cups[i][ci_InGangID][7], Cups[i][ci_InGangID][8],
	        Cups[i][ci_InGangID][9],Cups[i][ci_InGangID][10], Cups[i][ci_InGangID][11],
	        Cups[i][ci_InGangID][12],Cups[i][ci_InGangID][13], Cups[i][ci_InGangID][14],
	        Cups[i][ci_InGangID][15],Cups[i][ci_InGangID][16], Cups[i][ci_InGangID][17],
	        Cups[i][ci_InGangID][18],Cups[i][ci_InGangID][19], Cups[i][ci_InGangID][20],
	        Cups[i][ci_InGangID][21],Cups[i][ci_InGangID][22], Cups[i][ci_InGangID][23],
	        Cups[i][ci_InGangID][24],Cups[i][ci_InGangID][25], Cups[i][ci_InGangID][26],
	        Cups[i][ci_InGangID][27],Cups[i][ci_InGangID][28], Cups[i][ci_InGangID][29]);
	        
	        sscanf(gangs, "p<,>dddddddddddddddddddddddddddddd", Cups[i][ci_GangKills][0],Cups[i][ci_GangKills][1], Cups[i][ci_GangKills][2],
	        Cups[i][ci_GangKills][3],Cups[i][ci_GangKills][4], Cups[i][ci_GangKills][5],
	        Cups[i][ci_GangKills][6],Cups[i][ci_GangKills][7], Cups[i][ci_GangKills][8],
	        Cups[i][ci_GangKills][9],Cups[i][ci_GangKills][10], Cups[i][ci_GangKills][11],
	        Cups[i][ci_GangKills][12],Cups[i][ci_GangKills][13], Cups[i][ci_GangKills][14],
	        Cups[i][ci_GangKills][15],Cups[i][ci_GangKills][16], Cups[i][ci_GangKills][17],
	        Cups[i][ci_GangKills][18],Cups[i][ci_GangKills][19], Cups[i][ci_GangKills][20],
	        Cups[i][ci_GangKills][21],Cups[i][ci_GangKills][22], Cups[i][ci_GangKills][23],
	        Cups[i][ci_GangKills][24],Cups[i][ci_GangKills][25], Cups[i][ci_GangKills][26],
	        Cups[i][ci_GangKills][27],Cups[i][ci_GangKills][28], Cups[i][ci_GangKills][29]);

	        printf("Cup \"%s\" successfully loaded!", Cups[i][ci_Name]);
		}
	}
	return 1;
}
	
fun GetGangMembers(gangid)
{
	Clan[gangid][g_MaxMembers] = cache_num_rows();
	printf("Gang #%d is %d of members!", gangid, cache_num_rows());
	SetGangBuff(gangid, Clan[gangid][g_MaxMembers]);
	return 1;
}

fun LoadGang()
{
    Create3DTextLabel("{FF0000}Exit\n{FFFFFF}Press {FFF000}LEFT ALT", 0xFF0000FF, 234.0560,1063.7161,1084.2123, 10.0, 4025, 0);
	Create3DTextLabel("{d633ff}Gang Management\n{FFFFFF}+++ Information, Buffs, Rank Uping, Level Uping, Settings +++\n{FFFFFF}Press {FFF000}LEFT ALT{FFFFFF}", 0xFF0000FF, 234.6275,1077.3083,1084.6892, 8.0, 4025, 0);
    
	if(cache_num_rows() > 0)
	{
	    for( new i; i < 29; i++)
		{
			GangHouseText[i] = Create3DTextLabel("{d633ff}Gang Management\n{FFFFFF}+++ Information, Buffs, Rank Uping, Level Uping, Settings +++\n{FFFFFF}Press {FFF000}LEFT ALT{FFFFFF}", 0xFF0000FF, 1227.716552, -677.767395, 1085.691894, 8.0, 10 + (i+1), 0);
            GangHouseExitText[i] = Create3DTextLabel("{FF0000}Exit\n{FFFFFF}Press {FFF000}LEFT ALT", 0xFF0000FF, 1237.020629, -667.263610, 1085.691894, 10.0, 10 + (i+1), 0);
            Create3DTextLabel("{d633ff}Wine rack\n{FFFFFF}Press {FFF000}LEFT ALT{FFFFFF} to take", 0xFF0000FF, 1244.045898, -671.608886, 1085.691894, 8.0, 10 + (i+1), 0);
		}
	    
 		new Ranks[192], sets[256], t = GetTickCount(), query[64], alliance[256], war[256], cups_alliance[256], cups[256], igID;
 		for( new i = 0; i < cache_num_rows(); i++ )
		{
		    cache_get_value_name_int(i, "igID", igID);
		    
		    cache_get_value_name(i, "Owner", Clan[igID][Owner], 25);
		    cache_get_value_name_int(i, "ID", Clan[igID][__RealID]);
		    cache_get_value_name(i, "Short", Clan[igID][Short], 6);
		    cache_get_value_name(i, "Full", Clan[igID][Full], 129);
            cache_get_value_name_int(i, "EXP", Clan[igID][EXP]);
	        cache_get_value_name(i, "Ranks", Ranks, 193);
	        cache_get_value_name_int(i, "Wins", Clan[igID][Wins]);
	        cache_get_value_name_int(i, "Loses", Clan[igID][Loses]);
	        cache_get_value_name(i, "Rs", Clan[igID][g_Rules], 129);
	        cache_get_value_name(i, "Mt", Clan[igID][g_Motd], 129);
	        cache_get_value_name(i, "sets", sets);
	        
	        cache_get_value_name(i, "alliance", alliance, 256);
	        cache_get_value_name(i, "war", war, 256);
	        cache_get_value_name(i, "al_cups", cups_alliance, 256);
	        cache_get_value_name(i, "cups", cups, 256);
	        
	        sscanf(alliance, "p<,>dddddddddddddddddddddddddddddd", Clan[igID][g_AllianceWith][0],Clan[igID][g_AllianceWith][1], Clan[igID][g_AllianceWith][2],
	        Clan[igID][g_AllianceWith][3],Clan[igID][g_AllianceWith][4], Clan[igID][g_AllianceWith][5],
	        Clan[igID][g_AllianceWith][6],Clan[igID][g_AllianceWith][7], Clan[igID][g_AllianceWith][8],
	        Clan[igID][g_AllianceWith][9],Clan[igID][g_AllianceWith][10], Clan[igID][g_AllianceWith][11],
	        Clan[igID][g_AllianceWith][12],Clan[igID][g_AllianceWith][13], Clan[igID][g_AllianceWith][14],
	        Clan[igID][g_AllianceWith][15],Clan[igID][g_AllianceWith][16], Clan[igID][g_AllianceWith][17],
	        Clan[igID][g_AllianceWith][18],Clan[igID][g_AllianceWith][19], Clan[igID][g_AllianceWith][20],
	        Clan[igID][g_AllianceWith][21],Clan[igID][g_AllianceWith][22], Clan[igID][g_AllianceWith][23],
	        Clan[igID][g_AllianceWith][24],Clan[igID][g_AllianceWith][25], Clan[igID][g_AllianceWith][26],
	        Clan[igID][g_AllianceWith][27],Clan[igID][g_AllianceWith][28], Clan[igID][g_AllianceWith][29]);
	        
	        sscanf(war, "p<,>dddddddddddddddddddddddddddddd", Clan[igID][g_EnemysWith][0],Clan[igID][g_EnemysWith][1], Clan[igID][g_EnemysWith][2],
	        Clan[igID][g_EnemysWith][3],Clan[igID][g_EnemysWith][4], Clan[igID][g_EnemysWith][5],
	        Clan[igID][g_EnemysWith][6],Clan[igID][g_EnemysWith][7], Clan[igID][g_EnemysWith][8],
	        Clan[igID][g_EnemysWith][9],Clan[igID][g_EnemysWith][10], Clan[igID][g_EnemysWith][11],
	        Clan[igID][g_EnemysWith][12],Clan[igID][g_EnemysWith][13], Clan[igID][g_EnemysWith][14],
	        Clan[igID][g_EnemysWith][15],Clan[igID][g_EnemysWith][16], Clan[igID][g_EnemysWith][17],
	        Clan[igID][g_EnemysWith][18],Clan[igID][g_EnemysWith][19], Clan[igID][g_EnemysWith][20],
	        Clan[igID][g_EnemysWith][21],Clan[igID][g_EnemysWith][22], Clan[igID][g_EnemysWith][23],
	        Clan[igID][g_EnemysWith][24],Clan[igID][g_EnemysWith][25], Clan[igID][g_EnemysWith][26],
	        Clan[igID][g_EnemysWith][27],Clan[igID][g_EnemysWith][28], Clan[igID][g_EnemysWith][29]);
	        
	        sscanf(cups_alliance, "p<,>dddddddddddddddddddddddddddddd", Clan[igID][g_CupsAlliance][0],Clan[igID][g_CupsAlliance][1], Clan[igID][g_CupsAlliance][2],
	        Clan[igID][g_CupsAlliance][3],Clan[igID][g_CupsAlliance][4], Clan[igID][g_CupsAlliance][5],
	        Clan[igID][g_CupsAlliance][6],Clan[igID][g_CupsAlliance][7], Clan[igID][g_CupsAlliance][8],
	        Clan[igID][g_CupsAlliance][9],Clan[igID][g_CupsAlliance][10], Clan[igID][g_CupsAlliance][11],
	        Clan[igID][g_CupsAlliance][12],Clan[igID][g_CupsAlliance][13], Clan[igID][g_CupsAlliance][14],
	        Clan[igID][g_CupsAlliance][15],Clan[igID][g_CupsAlliance][16], Clan[igID][g_CupsAlliance][17],
	        Clan[igID][g_CupsAlliance][18],Clan[igID][g_CupsAlliance][19], Clan[igID][g_CupsAlliance][20],
	        Clan[igID][g_CupsAlliance][21],Clan[igID][g_CupsAlliance][22], Clan[igID][g_CupsAlliance][23],
	        Clan[igID][g_CupsAlliance][24],Clan[igID][g_CupsAlliance][25], Clan[igID][g_CupsAlliance][26],
	        Clan[igID][g_CupsAlliance][27],Clan[igID][g_CupsAlliance][28], Clan[igID][g_CupsAlliance][29]);
	        
	        sscanf(cups, "p<,>dddddddddddddddddddddddddddddd", Clan[igID][g_Cups][0],Clan[igID][g_Cups][1], Clan[igID][g_Cups][2],
	        Clan[igID][g_Cups][3],Clan[igID][g_Cups][4], Clan[igID][g_Cups][5],
	        Clan[igID][g_Cups][6],Clan[igID][g_Cups][7], Clan[igID][g_Cups][8],
	        Clan[igID][g_Cups][9],Clan[igID][g_Cups][10], Clan[igID][g_Cups][11],
	        Clan[igID][g_Cups][12],Clan[igID][g_Cups][13], Clan[igID][g_Cups][14],
	        Clan[igID][g_Cups][15],Clan[igID][g_Cups][16], Clan[igID][g_Cups][17],
	        Clan[igID][g_Cups][18],Clan[igID][g_Cups][19], Clan[igID][g_Cups][20],
	        Clan[igID][g_Cups][21],Clan[igID][g_Cups][22], Clan[igID][g_Cups][23],
	        Clan[igID][g_Cups][24],Clan[igID][g_Cups][25], Clan[igID][g_Cups][26],
	        Clan[igID][g_Cups][27],Clan[igID][g_Cups][28], Clan[igID][g_Cups][29]);
	        
		    if(strlen(Clan[igID][Owner]) >= 1)
			{
			    Clan[igID][__isActive] = true;
			    Clan[igID][__ID]++;
		        sscanf(sets, "p<,>iiiiiiiiiiiiiiiiiiiiiiiii",
				Clan[igID][g_isClosed],
		        Clan[igID][g_MinExp],
		        Clan[igID][g_MaxPayAmt],
		        Clan[igID][g_MaxWarns],
		        Clan[igID][g_RankToPromote],
		        Clan[igID][g_RankToAccept],
		        Clan[igID][g_RankToWarn],
		        Clan[igID][g_RankToMotd],
		        Clan[igID][g_RankGivePayDay],
		        Clan[igID][g_RankToEdit],
		        Clan[igID][g_RankToEditReq],
		        Clan[igID][g_RankToChangeRules],
				Clan[igID][g_RankToBan],
                Clan[igID][g_LastWarWas], // 14
				Clan[igID][g_WasInWarTimes], // 15
				Clan[igID][g_House], // 16
				Clan[igID][g_Buff], // 17
				Clan[igID][g_Level], // 18
				Clan[igID][g_WeeksToKick],
				Clan[igID][g_Emblem],
				Clan[igID][g_LastKill],
				Clan[igID][g_IsNeutral],
				Clan[igID][g_MapBuff],
				Clan[igID][g_CanPanelUse],
				Clan[igID][g_OwnerID]);
				if(Clan[igID][g_CanPanelUse] <= 4) Clan[igID][g_CanPanelUse] = 6;
				
		        sscanf(Ranks, "p<,>s[32]s[32]s[32]s[32]s[32]s[32]", Clan[igID][Rank_0], Clan[igID][Rank_1], Clan[igID][Rank_2], Clan[igID][Rank_3], Clan[igID][Rank_4], Clan[igID][Rank_5]);
	            //if(Clan[igID][g_RankToBan] <= 0) Clan[igID][g_RankToBan] = 5;
	            mysql_format(Base, query, sizeof(query), "SELECT `Clan` FROM `users` WHERE `Clan` = '%d' AND `build`='"SERVER_BUILD"'", igID);
				mysql_tquery(Base, query, "GetGangMembers", "i", igID);
			}
		}
		printf("Gangs loaded in %f seconds", (GetTickCount() -  t)/1000);
	}
	return 1;
}

fun setGangRuller()
{
	if(cache_num_rows())
	{
	    for( new i = 0, mp = 0; i < cache_num_rows(); i++)
	    {
	        cache_get_value_name_int(i, "controlled", mp);
	        if(strlen(Clan[mp][Full]) >= 1)
	        {
	            Clan[mp][g_IsRulles] = true;
	            printf("%s(%d) is rullers!", Clan[mp][Full], mp);
                break;
			}
		}
	}
	return 1;
}

stock LoadDataFromBD()
{
    printf("---------------------");
	printf("+++ Build v"SERVER_BUILD" is started +++");
	printf("---------------------");
	
	new query[144];
    mysql_format(Base, query, sizeof(query), "SELECT * FROM `gangs` WHERE `ID` != 0 AND `build` = '"SERVER_BUILD"'");
	mysql_tquery(Base, query, "LoadGang");
	
	mysql_format(Base, query, sizeof(query), "SELECT * FROM `cups` WHERE `ID` != 0 AND `build`='"SERVER_BUILD"'");
	mysql_tquery(Base, query, "LoadCups");
	
	mysql_format(Base, query, sizeof(query), "SELECT count(`controlled`), `controlled` FROM `maps` GROUP BY `controlled` ORDER BY count(`controlled`) DESC");
	mysql_tquery(Base, query, "setGangRuller");
	
	mysql_format(Base, query, sizeof(query),"SELECT * FROM `gangrulespolicy` WHERE `ID` = '1'");
	mysql_tquery(Base, query, "LoadRulesPolicy");
	
	mysql_format(Base, query, sizeof(query),"SELECT * FROM `night` WHERE `tm` > '1'");
	mysql_tquery(Base, query, "LoadNight");
	
	return 1;
}

enum ep_shop
{
	eps_id[10],
	eps_inx[10],
	eps_count[10],
	eps_price[10],
	eps_time[10],
	eps_vip[10],
	eps_acc[10],
	eps_type[10],
	
	eps_info_0[128], eps_info_1[128], eps_info_2[128],
	eps_info_3[128], eps_info_4[128], eps_info_5[128],
	eps_info_6[128], eps_info_7[128], eps_info_8[128],
	eps_info_9[128]
};

new OnlineShop[MAX_PLAYERS][ep_shop];

/*enum e_shop
{
	bool:Bought,
	esp_buys[10],
};

new Shop[MAX_PLAYERS][esp_buys];*/

stock SaveRulesPolicy()
{
    new query[128], str[64];
    format(str, sizeof(str), "%d,%d,%d,%d,%d,%d,%d,%d,%d", GangsSettings[0], GangsSettings[1], GangsSettings[2], GangsSettings[3], GangsSettings[4], GangsSettings[5], GangTimer[0], GangTimer[1], GangsSettings[6]);
	mysql_format(Base, query, sizeof(query), "UPDATE `gangrulespolicy` SET `settings`='%e' WHERE `ID` = '1'", str);
	mysql_tquery(Base, query, "", "", "");
}

fun LoadRulesPolicy()
{
    if(cache_num_rows() > 0)
	{
	    new GangRulesPolicy[128];
	    cache_get_value_name(0, "settings", GangRulesPolicy, 128);
        sscanf(GangRulesPolicy, "p<,>ddddddddd", GangsSettings[0], GangsSettings[1], GangsSettings[2], GangsSettings[3], GangsSettings[4], GangsSettings[5], GangTimer[0], GangTimer[1], GangsSettings[6]);
	}
	return 1;
}

stock SaveGangs(bool:ss = false)
{
	new query[4096], Ranks[192], sets[256], alliance[256], war[256], cups_alliance[256], cups[256];
	for( new i = 1; i < sizeof(Clan); i++ )
	{
	    if(Clan[i][__isActive])
	    {
	        format(sets, sizeof sets, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	        Clan[i][g_isClosed], // 1
	        Clan[i][g_MinExp], // 2
	        Clan[i][g_MaxPayAmt], // 3
	        Clan[i][g_MaxWarns], // 4
	        Clan[i][g_RankToPromote], // 5
	        Clan[i][g_RankToAccept], // 6
	        Clan[i][g_RankToWarn], // 7
	        Clan[i][g_RankToMotd], // 8
	        Clan[i][g_RankGivePayDay], // *
	        Clan[i][g_RankToEdit], // 10
	        Clan[i][g_RankToEditReq], // 11
	        Clan[i][g_RankToChangeRules], // 12
			Clan[i][g_RankToBan], // 13
			Clan[i][g_LastWarWas], // 14
			Clan[i][g_WasInWarTimes], // 15
			Clan[i][g_House], // 16
			Clan[i][g_Buff], // 17
			Clan[i][g_Level], // 18
			Clan[i][g_WeeksToKick], // 19
			Clan[i][g_Emblem],
			Clan[i][g_LastKill],
			Clan[i][g_IsNeutral],
			Clan[i][g_MapBuff],
			Clan[i][g_CanPanelUse],
			Clan[i][g_OwnerID]);
			
	        format(alliance, 256, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d", Clan[i][g_AllianceWith][0],Clan[i][g_AllianceWith][1], Clan[i][g_AllianceWith][2],
	        Clan[i][g_AllianceWith][3],Clan[i][g_AllianceWith][4], Clan[i][g_AllianceWith][5],
	        Clan[i][g_AllianceWith][6],Clan[i][g_AllianceWith][7], Clan[i][g_AllianceWith][8],
	        Clan[i][g_AllianceWith][9],Clan[i][g_AllianceWith][10], Clan[i][g_AllianceWith][11],
	        Clan[i][g_AllianceWith][12],Clan[i][g_AllianceWith][13], Clan[i][g_AllianceWith][14],
	        Clan[i][g_AllianceWith][15],Clan[i][g_AllianceWith][16], Clan[i][g_AllianceWith][17],
	        Clan[i][g_AllianceWith][18],Clan[i][g_AllianceWith][19], Clan[i][g_AllianceWith][20],
	        Clan[i][g_AllianceWith][21],Clan[i][g_AllianceWith][22], Clan[i][g_AllianceWith][23],
	        Clan[i][g_AllianceWith][24],Clan[i][g_AllianceWith][25], Clan[i][g_AllianceWith][26],
	        Clan[i][g_AllianceWith][27],Clan[i][g_AllianceWith][28], Clan[i][g_AllianceWith][29]);
	        
	        format(war, 256, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	        Clan[i][g_EnemysWith][0],Clan[i][g_EnemysWith][1], Clan[i][g_EnemysWith][2],
	        Clan[i][g_EnemysWith][3],Clan[i][g_EnemysWith][4], Clan[i][g_EnemysWith][5],
	        Clan[i][g_EnemysWith][6],Clan[i][g_EnemysWith][7], Clan[i][g_EnemysWith][8],
	        Clan[i][g_EnemysWith][9],Clan[i][g_EnemysWith][10], Clan[i][g_EnemysWith][11],
	        Clan[i][g_EnemysWith][12],Clan[i][g_EnemysWith][13], Clan[i][g_EnemysWith][14],
	        Clan[i][g_EnemysWith][15],Clan[i][g_EnemysWith][16], Clan[i][g_EnemysWith][17],
	        Clan[i][g_EnemysWith][18],Clan[i][g_EnemysWith][19], Clan[i][g_EnemysWith][20],
	        Clan[i][g_EnemysWith][21],Clan[i][g_EnemysWith][22], Clan[i][g_EnemysWith][23],
	        Clan[i][g_EnemysWith][24],Clan[i][g_EnemysWith][25], Clan[i][g_EnemysWith][26],
	        Clan[i][g_EnemysWith][27],Clan[i][g_EnemysWith][28], Clan[i][g_EnemysWith][29]);
	        
         	format(cups_alliance, 256, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	        Clan[i][g_CupsAlliance][0],Clan[i][g_CupsAlliance][1], Clan[i][g_CupsAlliance][2],
	        Clan[i][g_CupsAlliance][3],Clan[i][g_CupsAlliance][4], Clan[i][g_CupsAlliance][5],
	        Clan[i][g_CupsAlliance][6],Clan[i][g_CupsAlliance][7], Clan[i][g_CupsAlliance][8],
	        Clan[i][g_CupsAlliance][9],Clan[i][g_CupsAlliance][10], Clan[i][g_CupsAlliance][11],
	        Clan[i][g_CupsAlliance][12],Clan[i][g_CupsAlliance][13], Clan[i][g_CupsAlliance][14],
	        Clan[i][g_CupsAlliance][15],Clan[i][g_CupsAlliance][16], Clan[i][g_CupsAlliance][17],
	        Clan[i][g_CupsAlliance][18],Clan[i][g_CupsAlliance][19], Clan[i][g_CupsAlliance][20],
	        Clan[i][g_CupsAlliance][21],Clan[i][g_CupsAlliance][22], Clan[i][g_CupsAlliance][23],
	        Clan[i][g_CupsAlliance][24],Clan[i][g_CupsAlliance][25], Clan[i][g_CupsAlliance][26],
	        Clan[i][g_CupsAlliance][27],Clan[i][g_CupsAlliance][28], Clan[i][g_CupsAlliance][29]);
	        
	        format(cups, 256, "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	        Clan[i][g_Cups][0],Clan[i][g_Cups][1], Clan[i][g_Cups][2],
	        Clan[i][g_Cups][3],Clan[i][g_Cups][4], Clan[i][g_Cups][5],
	        Clan[i][g_Cups][6],Clan[i][g_Cups][7], Clan[i][g_Cups][8],
	        Clan[i][g_Cups][9],Clan[i][g_Cups][10], Clan[i][g_Cups][11],
	        Clan[i][g_Cups][12],Clan[i][g_Cups][13], Clan[i][g_Cups][14],
	        Clan[i][g_Cups][15],Clan[i][g_Cups][16], Clan[i][g_Cups][17],
	        Clan[i][g_Cups][18],Clan[i][g_Cups][19], Clan[i][g_Cups][20],
	        Clan[i][g_Cups][21],Clan[i][g_Cups][22], Clan[i][g_Cups][23],
	        Clan[i][g_Cups][24],Clan[i][g_Cups][25], Clan[i][g_Cups][26],
	        Clan[i][g_Cups][27],Clan[i][g_Cups][28], Clan[i][g_Cups][29]);
	        
			format(Ranks, 192, "%s,%s,%s,%s,%s,%s", Clan[i][Rank_0], Clan[i][Rank_1], Clan[i][Rank_2], Clan[i][Rank_3], Clan[i][Rank_4], Clan[i][Rank_5]);

			mysql_format(Base, query, sizeof(query), "UPDATE `gangs` SET `Short`='%e',`Full`='%e',`EXP`='%d',`Ranks`='%e',`Wins`='%d',`Loses`='%d',`Rs`='%e',`Mt`='%e',`sets`='%e',`cup`='%e',`alliance`='%e',`war`='%e',`al_cups`='%e',`igID`='%d' WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'",
			Clan[i][Short],
			Clan[i][Full],
			Clan[i][EXP],
			Ranks,
			Clan[i][Wins],
			Clan[i][Loses],
			Clan[i][g_Rules],
			Clan[i][g_Motd],
			sets,
			cups,
			alliance,
			war,
			cups_alliance,
			i,
			Clan[i][__RealID]);
			mysql_tquery(Base, query, "", "", "");
			if(ss) SendMessageFormatToAll(-1, "{C0C0C0}>> Gang %s (ID %d) has been saved!", Clan[i][Full], i);
		}
	}
}

enum e_Info
{
	e_Name[32],
	bool:e_IsStarted,
	bool:e_IsJoinsClosed,
	bool:e_IsEnded, // Set everything as 1
	bool:e_IsGangNeed,
	bool:e_IsTeamActive[6],
	bool:e_RequestToDelete,
	Float:e_defaultPoses[3],
	Float:e_CarsPos[72], // 18 * 4 (Vec3 Pos, Angle)
	e_CarProps[36], // 18 * 2 (carid) (team)
	Float:e_HumanPos[24],
	e_Rulers[10],
	e_RulersPermisions[8], //dev mode, close joins, set spawns, set car spawns, set skin, set teams, kick players, start event
    e_Skin[6],
    e_VirtualWorld,
	e_minPlayers,
	e_maxPlayers,
	e_curPlayers,
	e_minRank,
	e_minExp,
	e_TimerCount,
	e_OwnerID,
	e_Objects[100],
	e_TimeToEnd,
	Float:e_Gravity,
	e_Pickups[MAX_PLAYERS],
	e_Time,
	e_Weather,
};

new EventInfo[10][e_Info]; // 6.5+ MB

enum ev_NightEvent { evn_MissionTime, evn_Mission[10] };
new NightEvent[ev_NightEvent];

stock saveNightEvent()
{
	new o, qr[128], query[456], num[21];
    for( o = 0; o < sizeof(NightEvent[evn_Mission]); o++)
    {
        if(o < (sizeof(NightEvent[evn_Mission]) - 1))
        {
            format(num, sizeof(num), "%d,", NightEvent[evn_Mission][o]);
            strcat(qr, num);
        }
        else
        {
            format(num, sizeof(num), "%d", NightEvent[evn_Mission][o]);
            strcat(qr, num);
        }
    }
	mysql_format(Base, query, sizeof(query), "UPDATE `night` SET `mss`='%e',`tm` = '%d'", qr, NightEvent[evn_MissionTime]);
	mysql_tquery(Base, query, "", "", "");
}

fun LoadNight()
{
	if(cache_num_rows())
	{
	    new i_night[301];
	    cache_get_value_name(0, "mss", i_night, 300);
	    cache_get_value_name_int(0, "tm", NightEvent[evn_MissionTime]);
	    
        sscanf(i_night, "p<,>iiiiiiiiii", NightEvent[evn_Mission][0], NightEvent[evn_Mission][1], NightEvent[evn_Mission][2],
        NightEvent[evn_Mission][3], NightEvent[evn_Mission][4], NightEvent[evn_Mission][5], NightEvent[evn_Mission][6],
        NightEvent[evn_Mission][7], NightEvent[evn_Mission][8], NightEvent[evn_Mission][9]);
        return 1;
	}
	else
	{
	    ev_CreateEasyMission(4);
		ev_CreateMediumMission(4);
    	ev_CreateHardMission(2);
    	
    	NightEvent[evn_MissionTime] = (gettime()+(86400*8));
    	new o, qr[128], query[456], num[21];
    	for( o = 0; o < sizeof(NightEvent[evn_Mission]); o++)
	    {
	        if(o < (sizeof(NightEvent[evn_Mission]) - 1))
	        {
	            format(num, sizeof(num), "%d,", NightEvent[evn_Mission][o]);
	            strcat(qr, num);
	        }
	        else
	        {
	            format(num, sizeof(num), "%d", NightEvent[evn_Mission][o]);
	            strcat(qr, num);
	        }
	    }
	    
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `night` (`mss`, `tm`) VALUES ('%e', '%d')", qr, NightEvent[evn_MissionTime]);
		mysql_tquery(Base, query);
	}
	return 1;
}

enum ew_info
{
	WeaponColor[35],

	WeaponBuff_One[35],
	WeaponBuff_Two[35],
	WeaponBuff_Three[35],

	WeaponBuff_Chance_One[35],
	WeaponBuff_Chance_Two[35],
	WeaponBuff_Chance_Three[35],

	WeaponBuff_Time_One[35],
	WeaponBuff_Time_Two[35],
	WeaponBuff_Time_Three[35],

	Float:WeaponBuff_Power_One[35],
	Float:WeaponBuff_Power_Two[35],
	Float:WeaponBuff_Power_Three[35]
};

new WeaponsInfo[MAX_PLAYERS][ew_info];

enum charst_info
{
	CharAR_Buff_One[4],
	CharAR_Buff_Two[4],
	CharAR_Buff_Three[4],
	
	CharAR_Buff_Time_One[4],
	CharAR_Buff_Time_Two[4],
	CharAR_Buff_Time_Three[4],
	
	CharAR_Power_One[4],
	CharAR_Power_Two[4],
	CharAR_Power_Three[4],
};

new CharArInfo[MAX_PLAYERS][charst_info];
	
fun OnGameModeInit()
{
    //CreateAngar(); // EVENT

	//EventObjects(); // Event
	//EventTexts();
    
    restartTimes = 0;
    AntiCheatAlertMode = true;
    CanPay = true;
    CreateGangHouse();
  	
	for( new o; o < sizeof(NightEvent[evn_Mission]); o++) NightEvent[evn_Mission][o] = -1;
    
	//for(new i = 0; i < MAX_PLAYERS; i++) format(Last_Search[i], 128, " - ");
    //CreateValintines();
    for( new i; i < sizeof(GangDealer); i++) if(IsValidActor(GangDealer[i])) DestroyActor(GangDealer[i]);
    
    ClearChannels();
    ClearEventsFromMemory();
    ClearWarInfo();
	CreateTextDraws();
	
    AntiDeAMX();
	SetGameModeText("Zombie Server");
	SendRconCommand("weburl "SITE"");

    Iter_Clear(Players);

    ShowPlayerMarkers(PLAYER_MARKERS_MODE_GLOBAL);
    ShowNameTags(1);
    //ManualVehicleEngineAndLights();
    SetTeamCount(2);
	DisableInteriorEnterExits();
	EnableStuntBonusForAll(0);
	AllowInteriorWeapons(1);
	
    Base = mysql_connect(SQL_HOST, SQL_USER, SQL_PASS, SQL_DB);
    
   	printf("MySQL status: %d", mysql_errno(Base));
	mysql_tquery(Base, "SET NAMES utf8", "", "", "");
	
    //mysql_log(NONE);
    mysql_log(ERROR | WARNING); //TODO
    
	AddPlayerClass(181, 2415.4060,-51.9490,28.1535, 350.1417, 0, 0, 0, 0, 0, 0);
	
	for( new i; i < 29; i++ )
	{
		GangDealer[i] = CreateActor(236, 313.0954,-167.9880,999.5938, 90.0);
		PreloadActorAnimations(GangDealer[i]);
		ApplyActorAnimation(GangDealer[i], "WEAPONS", "SHP_TRAY_POSE", 4.1, false, false, false, true, -1);
		SetActorVirtualWorld(GangDealer[i], 10 + (i+1));
		SetActorFacingAngle(GangDealer[i], 360.0);
	}
	
	for( new i; i < 10; i++ ) EventInfo[i][e_IsEnded] = true;
	
	ServerStats[cn_Ru] = 0;
	ServerStats[cn_Sp] = 0;
	ServerStats[cn_En] = 0;
	
	//LoadConnections();
	
	TimeLeft = TextDrawCreate(22.000000, 251.000000, "300");
	TextDrawBackgroundColor(TimeLeft, 255);
	TextDrawFont(TimeLeft, 3);
	TextDrawLetterSize(TimeLeft, 1.770000, 3.499999);
	TextDrawColor(TimeLeft, 16777215);
	TextDrawSetOutline(TimeLeft, 0);
	TextDrawSetProportional(TimeLeft, 1);
	TextDrawSetShadow(TimeLeft, 1);
	
	new Float:pos = 134.0;
	for( new i = 0, p; i < 10; i++ )
	{
	    for( p = 0; p < MAX_PLAYERS; p++)
		{
			DayStars[i][p] = TextDrawCreate(pos, 128.7500, "___"); // ?????
			TextDrawTextSize(DayStars[i][p], 37.0000, 30.0000);
			TextDrawAlignment(DayStars[i][p], 1);
			TextDrawColor(DayStars[i][p], -1061109505);
			TextDrawBackgroundColor(DayStars[i][p], -256);
			TextDrawFont(DayStars[i][p], 5);
			TextDrawSetProportional(DayStars[i][p], 0);
			TextDrawSetShadow(DayStars[i][p], 0);
			TextDrawSetPreviewModel(DayStars[i][p], 1247);
			TextDrawSetPreviewRot(DayStars[i][p], 0.0000, 0.0000, 0.0000, 1.0000);
		}
		pos += 38.0;
	}
	
	for(new i; i < MAX_PLAYERS; i++)
	{
	    /////////////////////////// INFO /////////////////////////////////////

		DisplayInfo[0][i] = TextDrawCreate(3.5000, 425.8125, "Next_Map:"); // ?????
		TextDrawLetterSize(DisplayInfo[0][i], 0.1870, 1.1537);
		TextDrawAlignment(DisplayInfo[0][i], 1);
		TextDrawColor(DisplayInfo[0][i], -1);
		TextDrawBackgroundColor(DisplayInfo[0][i], 255);
		TextDrawFont(DisplayInfo[0][i], 2);
		TextDrawSetProportional(DisplayInfo[0][i], 1);
		TextDrawSetShadow(DisplayInfo[0][i], 1);

		DisplayInfo[1][i] = TextDrawCreate(3.5000, 435.4375, "~w~Killstreaks:_1._~r~Player_(0)_~w~2._~r~Player_(0)_~w~3._~r~Player_(0)"); // ?????
		TextDrawLetterSize(DisplayInfo[1][i], 0.1870, 1.1537);
		TextDrawTextSize(DisplayInfo[1][i], 383.0000, 0.0000);
		TextDrawAlignment(DisplayInfo[1][i], 1);
		TextDrawColor(DisplayInfo[1][i], -1);
		TextDrawBackgroundColor(DisplayInfo[1][i], 255);
		TextDrawFont(DisplayInfo[1][i], 2);
		TextDrawSetProportional(DisplayInfo[1][i], 1);
		TextDrawSetShadow(DisplayInfo[1][i], 1);
	    
	    /////////////////////////// ALERTS /////////////////////////////////////
	    DisplayAlerts[0][i] = TextDrawCreate(485.0000, 354.9375, "Box"); // ?????
		TextDrawLetterSize(DisplayAlerts[0][i], 0.0000, 1.4000);
		TextDrawTextSize(DisplayAlerts[0][i], 632.0000, 0.0000);
		TextDrawAlignment(DisplayAlerts[0][i], 1);
		TextDrawColor(DisplayAlerts[0][i], 187);
		TextDrawUseBox(DisplayAlerts[0][i], 1);
		TextDrawBoxColor(DisplayAlerts[0][i], 85);
		TextDrawBackgroundColor(DisplayAlerts[0][i], 187);
		TextDrawFont(DisplayAlerts[0][i], 1);
		TextDrawSetProportional(DisplayAlerts[0][i], 1);
		TextDrawSetShadow(DisplayAlerts[0][i], 0);

		DisplayAlerts[1][i] = TextDrawCreate(558.0000, 355.3750, "~w~LOADING..."); // ?????
		TextDrawLetterSize(DisplayAlerts[1][i], 0.2589, 1.2849);
		TextDrawTextSize(DisplayAlerts[1][i], 0.0000, 77.0000);
		TextDrawAlignment(DisplayAlerts[1][i], 2);
		TextDrawColor(DisplayAlerts[1][i], -1);
		TextDrawBackgroundColor(DisplayAlerts[1][i], 255);
		TextDrawFont(DisplayAlerts[1][i], 2);
		TextDrawSetProportional(DisplayAlerts[1][i], 1);
		TextDrawSetShadow(DisplayAlerts[1][i], 1);

		DisplayAlerts[2][i] = TextDrawCreate(462.0000, 349.2500, "ld_shtr:kami"); // ?????
		TextDrawTextSize(DisplayAlerts[2][i], 31.0000, 21.0000);
		TextDrawAlignment(DisplayAlerts[2][i], 1);
		TextDrawColor(DisplayAlerts[2][i], -2139062017);
		TextDrawBackgroundColor(DisplayAlerts[2][i], 255);
		TextDrawFont(DisplayAlerts[2][i], 4);
		TextDrawSetProportional(DisplayAlerts[2][i], 0);
		TextDrawSetShadow(DisplayAlerts[2][i], 0);
	    
	    ///////////////////////// ALERTS END ///////////////////////////////////
	    
	    DayReward[0][i] = TextDrawCreate(272.0000, 169.8750, "___"); // ?????
		TextDrawTextSize(DayReward[0][i], 90.0000, 90.0000);
		TextDrawAlignment(DayReward[0][i], 1);
		TextDrawColor(DayReward[0][i], -1);
		TextDrawBackgroundColor(DayReward[0][i], -256);
		TextDrawFont(DayReward[0][i], 5);
		TextDrawSetProportional(DayReward[0][i], 0);
		TextDrawSetShadow(DayReward[0][i], 0);
		TextDrawSetPreviewModel(DayReward[0][i], 1242);
		TextDrawSetPreviewRot(DayReward[0][i], 0.0000, 0.0000, 180.0000, 1.0000);
		TextDrawSetSelectable(DayReward[0][i], 1);
	    
	    DayReward[1][i] = TextDrawCreate(176.5000, 164.1875, "___"); // ?????
		TextDrawTextSize(DayReward[1][i], 90.0000, 90.0000);
		TextDrawAlignment(DayReward[1][i], 1);
		TextDrawColor(DayReward[1][i], -1);
		TextDrawBackgroundColor(DayReward[1][i], -256);
		TextDrawFont(DayReward[1][i], 5);
		TextDrawSetProportional(DayReward[1][i], 0);
		TextDrawSetShadow(DayReward[1][i], 0);
		TextDrawSetPreviewModel(DayReward[1][i], 11738);
		TextDrawSetPreviewRot(DayReward[1][i], 0.0000, 0.0000, 180.0000, 1.0000);
		TextDrawSetSelectable(DayReward[1][i], 1);

		DayReward[2][i] = TextDrawCreate(362.5000, 176.8750, "___"); // ?????
		TextDrawTextSize(DayReward[2][i], 90.0000, 90.0000);
		TextDrawAlignment(DayReward[2][i], 1);
		TextDrawColor(DayReward[2][i], -1);
		TextDrawBackgroundColor(DayReward[2][i], -256);
		TextDrawFont(DayReward[2][i], 5);
		TextDrawSetProportional(DayReward[2][i], 0);
		TextDrawSetShadow(DayReward[2][i], 0);
		TextDrawSetPreviewModel(DayReward[2][i], 353);
		TextDrawSetPreviewRot(DayReward[2][i], 0.0000, 0.0000, 180.0000, 1.0000);
	    TextDrawSetSelectable(DayReward[2][i], 1);
	    
	    DayReward[3][i] = TextDrawCreate(297.0000, 100.2125, "Day_1"); // ?????
		TextDrawLetterSize(DayReward[3][i], 0.5188, 2.5799);
		TextDrawTextSize(DayReward[3][i], 115.0000, 0.0000); // 72
		TextDrawAlignment(DayReward[3][i], 1);
		TextDrawColor(DayReward[3][i], -1);
		TextDrawBackgroundColor(DayReward[3][i], 255);
		TextDrawFont(DayReward[3][i], 2);
		TextDrawSetProportional(DayReward[3][i], 1);
		TextDrawSetShadow(DayReward[3][i], 1);
	    
	    UntillEvac[0][i] = TextDrawCreate(14.000000, 283.937500, "LD_SPAC:white");
		TextDrawLetterSize(UntillEvac[0][i], 0.000000, 0.000000);
		TextDrawTextSize(UntillEvac[0][i], 119.500000, 21.437500);
		TextDrawAlignment(UntillEvac[0][i], 1);
		TextDrawColor(UntillEvac[0][i], 255);
		TextDrawSetShadow(UntillEvac[0][i], 0);
		TextDrawSetOutline(UntillEvac[0][i], 0);
		TextDrawBackgroundColor(UntillEvac[0][i], 255);
		TextDrawFont(UntillEvac[0][i], 4);

		UntillEvac[1][i] = TextDrawCreate(18.500000, 285.250000, "~r~UNTIL EVAC");
		TextDrawLetterSize(UntillEvac[1][i], 0.562500, 1.984999);
		TextDrawAlignment(UntillEvac[1][i], 1);
		TextDrawColor(UntillEvac[1][i], 0xFF0000FF);
		TextDrawSetShadow(UntillEvac[1][i], 0);
		TextDrawSetOutline(UntillEvac[1][i], 1);
		TextDrawBackgroundColor(UntillEvac[1][i], 51);
		TextDrawFont(UntillEvac[1][i], 1);
		TextDrawSetProportional(UntillEvac[1][i], 1);
	
	    AliveInfo[i] = TextDrawCreate(21.500000, 152.250000, "Zombies: 0~n~~w~Humans: 0~n~~n~~w~Forum~n~"FORUM"~n~~n~~b~Discord~n~~w~"DISCORD"");
		TextDrawLetterSize(AliveInfo[i], 0.511498, 1.477498);
		TextDrawAlignment(AliveInfo[i], 1);
		TextDrawColor(AliveInfo[i], -16776961);
		TextDrawSetShadow(AliveInfo[i], 1);
		TextDrawSetOutline(AliveInfo[i], 0);
		TextDrawBackgroundColor(AliveInfo[i], 255);
		TextDrawFont(AliveInfo[i], 2);
		TextDrawSetProportional(AliveInfo[i], 1);
	
	    FPS_Info[i] = TextDrawCreate(17.5000, 315.5625, "~y~FPS:_~w~0"); // ?????
		TextDrawLetterSize(FPS_Info[i], 0.3065, 1.1537);
		TextDrawTextSize(FPS_Info[i], 152.0000, 0.0000);
		TextDrawAlignment(FPS_Info[i], 1);
		TextDrawColor(FPS_Info[i], -1);
		TextDrawBackgroundColor(FPS_Info[i], 255);
		TextDrawFont(FPS_Info[i], 2);
		TextDrawSetProportional(FPS_Info[i], 1);
		TextDrawSetShadow(FPS_Info[i], 1);
	
	    XP[i] = TextDrawCreate(546.000000, 35.000000, "~n~");
	    TextDrawBackgroundColor(XP[i], 255);
	    TextDrawFont(XP[i], 2);
	    TextDrawLetterSize(XP[i], 0.270000, 1.000000);
	    TextDrawColor(XP[i], 16777215);
	    TextDrawSetOutline(XP[i], 0);
	    TextDrawSetProportional(XP[i], 1);
	    TextDrawSetShadow(XP[i], 1);
    
	    APanel[i][0] = TextDrawCreate(307.000000, 422.562500, "~y~Packets lost:~w~ 0.0");
		TextDrawLetterSize(APanel[i][0], 0.284499, 1.245625);
		TextDrawAlignment(APanel[i][0], 1);
		TextDrawColor(APanel[i][0], -1);
		TextDrawSetShadow(APanel[i][0], 1);
		TextDrawSetOutline(APanel[i][0], 0);
		TextDrawBackgroundColor(APanel[i][0], 255);
		TextDrawFont(APanel[i][0], 2);
		TextDrawSetProportional(APanel[i][0], 1);

		APanel[i][1] = TextDrawCreate(496.500000, 412.250000, "~y~Assault:~w~ None~n~Ammo: 0");
		TextDrawLetterSize(APanel[i][1], 0.284499, 1.245625);
		TextDrawAlignment(APanel[i][1], 1);
		TextDrawColor(APanel[i][1], -1);
		TextDrawSetShadow(APanel[i][1], 1);
		TextDrawSetOutline(APanel[i][1], 0);
		TextDrawBackgroundColor(APanel[i][1], 255);
		TextDrawFont(APanel[i][1], 2);
		TextDrawSetProportional(APanel[i][1], 1);

		APanel[i][2] = TextDrawCreate(497.500000, 387.437500, "~y~Shotgun:~w~ None~n~Ammo: 0");
		TextDrawLetterSize(APanel[i][2], 0.284499, 1.245625);
		TextDrawAlignment(APanel[i][2], 1);
		TextDrawColor(APanel[i][2], -1);
		TextDrawSetShadow(APanel[i][2], 1);
		TextDrawSetOutline(APanel[i][2], 0);
		TextDrawBackgroundColor(APanel[i][2], 255);
		TextDrawFont(APanel[i][2], 2);
		TextDrawSetProportional(APanel[i][2], 1);

		APanel[i][3] = TextDrawCreate(496.500000, 360.875000, "~y~Pistol:~w~ None~n~Ammo: 0");
		TextDrawLetterSize(APanel[i][3], 0.284499, 1.245625);
		TextDrawAlignment(APanel[i][3], 1);
		TextDrawColor(APanel[i][3], -1);
		TextDrawSetShadow(APanel[i][3], 1);
		TextDrawSetOutline(APanel[i][3], 0);
		TextDrawBackgroundColor(APanel[i][3], 255);
		TextDrawFont(APanel[i][3], 2);
		TextDrawSetProportional(APanel[i][3], 1);

		APanel[i][4] = TextDrawCreate(239.000000, 409.187500, "~y~Class:~w~Advanced Hero");
		TextDrawLetterSize(APanel[i][4], 0.284499, 1.245625);
		TextDrawAlignment(APanel[i][4], 1);
		TextDrawColor(APanel[i][4], -1);
		TextDrawSetShadow(APanel[i][4], 1);
		TextDrawSetOutline(APanel[i][4], 0);
		TextDrawBackgroundColor(APanel[i][4], 255);
		TextDrawFont(APanel[i][4], 2);
		TextDrawSetProportional(APanel[i][4], 1);

		APanel[i][5] = TextDrawCreate(239.000000, 422.000000, "~y~Ping:~w~ 1000");
		TextDrawLetterSize(APanel[i][5], 0.284499, 1.245625);
		TextDrawAlignment(APanel[i][5], 1);
		TextDrawColor(APanel[i][5], -1);
		TextDrawSetShadow(APanel[i][5], 1);
		TextDrawSetOutline(APanel[i][5], 0);
		TextDrawBackgroundColor(APanel[i][5], 255);
		TextDrawFont(APanel[i][5], 2);
		TextDrawSetProportional(APanel[i][5], 1);

		APanel[i][6] = TextDrawCreate(238.500000, 434.500000, "~y~EXP:~w~ 2000000");
		TextDrawLetterSize(APanel[i][6], 0.284499, 1.245625);
		TextDrawAlignment(APanel[i][6], 1);
		TextDrawColor(APanel[i][6], -1);
		TextDrawSetShadow(APanel[i][6], 1);
		TextDrawSetOutline(APanel[i][6], 0);
		TextDrawBackgroundColor(APanel[i][6], 255);
		TextDrawFont(APanel[i][6], 2);
		TextDrawSetProportional(APanel[i][6], 1);

		APanel[i][7] = TextDrawCreate(327.500000, 434.625000, "~y~Money:~w~ 50000");
		TextDrawLetterSize(APanel[i][7], 0.284499, 1.245625);
		TextDrawAlignment(APanel[i][7], 1);
		TextDrawColor(APanel[i][7], -1);
		TextDrawSetShadow(APanel[i][7], 1);
		TextDrawSetOutline(APanel[i][7], 0);
		TextDrawBackgroundColor(APanel[i][7], 255);
		TextDrawFont(APanel[i][7], 2);
		TextDrawSetProportional(APanel[i][7], 1);

		SpawnProtection[i] = TextDrawCreate(500.000000, 100.625000, "~y~spawn ~w~protection");
		TextDrawLetterSize(SpawnProtection[i], 0.304999, 1.446873);
		TextDrawAlignment(SpawnProtection[i], 1);
		TextDrawColor(SpawnProtection[i], -1);
		TextDrawSetShadow(SpawnProtection[i], 0);
		TextDrawSetOutline(SpawnProtection[i], 1);
		TextDrawBackgroundColor(SpawnProtection[i], 255);
		TextDrawFont(SpawnProtection[i], 2);
		TextDrawSetProportional(SpawnProtection[i], 1);
		
        Infected[i] = TextDrawCreate(655.500000, 1.500000, "usebox");
        TextDrawBackgroundColor(Infected[i], 255);
        TextDrawFont(Infected[i], 0);
		TextDrawLetterSize(Infected[i], 0.000000, 50.262496);
		TextDrawColor(Infected[i], 0);
		TextDrawSetOutline(Infected[i], 0);
		TextDrawSetProportional(Infected[i], 1);
		TextDrawSetShadow(Infected[i], 1);
		TextDrawUseBox(Infected[i], true);
		TextDrawBoxColor(Infected[i], 1174405190);
		TextDrawTextSize(Infected[i], -2.000000, 0.000000);

        ServerIntro[i][0] = TextDrawCreate(204.500000, 49.437500, "welcome to the");
		TextDrawLetterSize(ServerIntro[i][0], 0.400499, 1.665625);
		TextDrawAlignment(ServerIntro[i][0], 1);
		TextDrawColor(ServerIntro[i][0], -1);
		TextDrawSetShadow(ServerIntro[i][0], 2);
		TextDrawSetOutline(ServerIntro[i][0], 0);
		TextDrawBackgroundColor(ServerIntro[i][0], 255);
		TextDrawFont(ServerIntro[i][0], 2);
		TextDrawSetProportional(ServerIntro[i][0], 1);

		ServerIntro[i][1] = TextDrawCreate(204.000000, 61.250000, "Zombie Apocalypse");
		TextDrawLetterSize(ServerIntro[i][1], 1.053498, 2.960623);
		TextDrawAlignment(ServerIntro[i][1], 1);
		TextDrawColor(ServerIntro[i][1], -16776961);
		TextDrawSetShadow(ServerIntro[i][1], 2);
		TextDrawSetOutline(ServerIntro[i][1], 0);
		TextDrawBackgroundColor(ServerIntro[i][1], 255);
		TextDrawFont(ServerIntro[i][1], 1);
		TextDrawSetProportional(ServerIntro[i][1], 1);

		ServerIntro[i][2] = TextDrawCreate(461.500000, 88.812500, "server");
		TextDrawLetterSize(ServerIntro[i][2], 0.449999, 1.600000);
		TextDrawAlignment(ServerIntro[i][2], 1);
		TextDrawColor(ServerIntro[i][2], -1);
		TextDrawSetShadow(ServerIntro[i][2], 2);
		TextDrawSetOutline(ServerIntro[i][2], 0);
		TextDrawBackgroundColor(ServerIntro[i][2], 255);
		TextDrawFont(ServerIntro[i][2], 2);
		TextDrawSetProportional(ServerIntro[i][2], 1);

		ServerIntro[i][3] = TextDrawCreate(426.000000, 117.250000, "Add to favorites <3");
		TextDrawLetterSize(ServerIntro[i][3], 0.282000, 1.018125);
		TextDrawAlignment(ServerIntro[i][3], 1);
		TextDrawColor(ServerIntro[i][3], -16711681);
		TextDrawSetShadow(ServerIntro[i][3], 1);
		TextDrawSetOutline(ServerIntro[i][3], 0);
		TextDrawBackgroundColor(ServerIntro[i][3], 255);
		TextDrawFont(ServerIntro[i][3], 2);
		TextDrawSetProportional(ServerIntro[i][3], 1);

		ServerIntro[i][4] = TextDrawCreate(225.500000, 109.812500, "Type /help for more information~n~Type /rules for the server rules");
		TextDrawLetterSize(ServerIntro[i][4], 0.326999, 1.057500);
		TextDrawAlignment(ServerIntro[i][4], 1);
		TextDrawColor(ServerIntro[i][4], 16711935);
		TextDrawSetShadow(ServerIntro[i][4], 2);
		TextDrawSetOutline(ServerIntro[i][4], 0);
		TextDrawBackgroundColor(ServerIntro[i][4], 255);
		TextDrawFont(ServerIntro[i][4], 1);
		TextDrawSetProportional(ServerIntro[i][4], 1);

        Poision[i] = TextDrawCreate(655.500000, 1.500000, "usebox");
		TextDrawLetterSize(Poision[i], 0.000000, 50.262496);
		TextDrawTextSize(Poision[i], -2.000000, 0.000000);
		TextDrawAlignment(Poision[i], 1);
		TextDrawColor(Poision[i], 0);
		TextDrawUseBox(Poision[i], true);
		TextDrawBoxColor(Poision[i], 0xFF4DFF33);
		TextDrawSetShadow(Poision[i], 0);
		TextDrawSetOutline(Poision[i], 0);
		TextDrawFont(Poision[i], 0);
		
		GreenScreen[i] = TextDrawCreate(655.500000, 1.500000, "usebox");
		TextDrawLetterSize(GreenScreen[i], 0.000000, 50.262496);
		TextDrawTextSize(GreenScreen[i], -2.000000, 0.000000);
		TextDrawAlignment(GreenScreen[i], 1);
		TextDrawColor(GreenScreen[i], 0);
		TextDrawUseBox(GreenScreen[i], true);
		TextDrawBoxColor(GreenScreen[i], 0x00cc4433);
		TextDrawSetShadow(GreenScreen[i], 0);
		TextDrawSetOutline(GreenScreen[i], 0);
		TextDrawFont(GreenScreen[i], 0);
		
		AIR[i] = TextDrawCreate(300.000000, 426.875000, "~y~ABILITY~w~ IS~g~ READY!"); // 401
		TextDrawLetterSize(AIR[i], 0.637500, 2.107499);
		TextDrawAlignment(AIR[i], 1);
		TextDrawColor(AIR[i], -1);
		TextDrawSetShadow(AIR[i], 1);
		TextDrawSetOutline(AIR[i], 0);
		TextDrawBackgroundColor(AIR[i], 255);
		TextDrawFont(AIR[i], 2);
		TextDrawSetProportional(AIR[i], 1);
		
		Blidnes[i] = TextDrawCreate(644.000000, 1.500000, "usebox");
		TextDrawLetterSize(Blidnes[i], 0.000000, 49.612495);
		TextDrawTextSize(Blidnes[i], -2.000000, 0.000000);
		TextDrawAlignment(Blidnes[i], 1);
		TextDrawColor(Blidnes[i], 0);
		TextDrawUseBox(Blidnes[i], true);
		TextDrawBoxColor(Blidnes[i], 0x00000000);
		TextDrawSetShadow(Blidnes[i], 0);
		TextDrawSetOutline(Blidnes[i], 0);
		TextDrawFont(Blidnes[i], 0);
		
		Stun[i] = TextDrawCreate(655.500000, 1.500000, "usebox");
		TextDrawLetterSize(Stun[i], 0.000000, 50.262496);
		TextDrawTextSize(Stun[i], -2.000000, 0.000000);
		TextDrawAlignment(Stun[i], 1);
		TextDrawColor(Stun[i], 0);
		TextDrawUseBox(Stun[i], true);
		TextDrawBoxColor(Stun[i], 0xFFF00033);
		TextDrawSetShadow(Stun[i], 0);
		TextDrawSetOutline(Stun[i], 0);
		TextDrawFont(Stun[i], 0);

		Blind[i] = TextDrawCreate(0.000000, 0.000000, "LD_SPAC:white");
		TextDrawLetterSize(Blind[i], 0.000000, 0.000000);
		TextDrawTextSize(Blind[i], 640.000000, 448.000000);
		TextDrawAlignment(Blind[i], 1);
		TextDrawColor(Blind[i], 255);
		TextDrawSetShadow(Blind[i], 0);
		TextDrawSetOutline(Blind[i], 0);
		TextDrawFont(Blind[i], 4);
		
	}
	
	for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) SpawnPoints[j] = Create3DTextLabel("{FFFFFF}Zombie Spawn\ndo{FF0000} not{FFFFFF} shoot zombies here", 0xFF0000FF, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j], 50.0, 0, 1);

	SetTimer("Update", 1000, true);
	
	//SetTimer("EventUpdate", 1000, 1); // Event
	
	SetTimer("RandomMessages",59000,true);
	SetTimer("RandomQuiz",240000, true);
	//SetTimer("Text",2000, false);
	
	//SetTimer("CockroachMove", 300, 1);
	Map[m_IsStarted] = false;
	mapid = 0;
	current_map = 0;
	
	playerOnline = 0;
	LoadDataFromBD();
	
	MapObjects[0] = CreateObject(1685, 965.69617, -53.67023, 1000.79242, 0.00000, 0.00000, 0.00000);
	MapObjects[1] = CreateObject(1685, 965.69623, -51.91020, 1000.79242, 0.00000, 0.00000, 0.00000);
	MapObjects[2] = CreateObject(1685, 965.69623, -53.67020, 1002.26691, 0.00000, 0.00000, 0.00000);
	MapObjects[3] = CreateObject(1685, 965.70428, -51.91020, 1002.26691, 0.00000, 0.00000, 0.00000);
	MapObjects[4] = CreateObject(1685, 965.69623, -53.67020, 1003.46661, 0.00000, 0.00000, 0.00000);
	MapObjects[5] = CreateObject(1685, 965.70428, -51.91020, 1003.46661, 0.00000, 0.00000, 0.00000);
	
	MapObjects[6] = CreateObject(3571, 1388.19189, -17.77230, 1001.15417,   0.00000, 0.00000, 88.00790);
	MapObjects[7] = CreateObject(3571, 1390.74951, -17.84370, 1001.15417,   0.00000, 0.00000, 88.00790);
	MapObjects[8] = CreateObject(3571, 1389.53467, -17.78670, 1003.82703,   0.00000, 0.00000, 88.00790);
	
	////////////////////////////////////////Main Area////////////////////////////////////
	CreateObject(19551, -133.86105, 634.62421, 52.36180,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -136.99280, 695.32458, 10.67590,   0.00000, 90.00000, 90.00000);
	CreateObject(19531, -145.64041, 613.46838, 10.67590,   0.00000, 90.00000, 90.00000);
	CreateObject(19531, -191.77980, 653.63977, 10.67590,   0.00000, 90.00000, 0.00000);
	CreateObject(19531, -106.10510, 653.73969, 10.67590,   0.00000, 90.00000, 0.00000);
	CreateObject(19531, -254.24060, 654.18481, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -129.24240, 757.78333, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -43.69360, 632.77039, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -140.71404, 551.08466, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -254.19115, 779.04865, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -4.55004, 757.31989, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -264.30011, 529.22443, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -14.92953, 509.23184, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(18754, -101.38600, 501.21359, 48.83720,   0.00000, 90.00000, 109.56120);
	CreateObject(18754, -277.19449, 542.58679, 48.83720,   0.00000, 90.00000, 46.83520);
	CreateObject(18754, -5.62810, 654.58002, 48.83720,   0.00000, 90.00000, 2.19840);
	CreateObject(18754, -82.49320, 823.60492, 48.83720,   0.00000, 90.00000, 43.75600);
	CreateObject(18754, -168.19820, 813.62708, 48.83720,   0.00000, 90.00000, 90.33170);
	CreateObject(18754, 68.51243, 693.65717, 172.19952,   0.00000, 0.00000, 0.00000);
	CreateObject(18754, -180.03363, 445.02032, 172.61690,   0.00000, 0.00000, 0.00000);
	CreateObject(18754, 68.45692, 445.29138, 172.19952,   0.00000, 0.00000, 0.00000);
	CreateObject(3452, -133.28259, 704.21948, 76.26380,   0.00000, 0.00000, 180.00000);
	CreateObject(3452, -162.87230, 704.21948, 76.26380,   0.00000, 0.00000, 180.00000);
	CreateObject(3452, -200.51534, 668.18219, 76.26380,   0.00000, 0.00000, 270.00000);
	CreateObject(3452, -200.51530, 638.63379, 76.26380,   0.00000, 0.00000, 270.00000);
	CreateObject(19531, -139.41122, 426.36169, 73.10540,   0.00000, 0.00000, 0.00000);
	CreateObject(3452, -97.18418, 668.36743, 76.26380,   0.00000, 0.00000, 90.00000);
	CreateObject(3452, -97.18420, 638.76410, 76.26380,   0.00000, 0.00000, 90.00000);
	CreateObject(3452, -163.91060, 604.69049, 76.26380,   0.00000, 0.00000, 0.00000);
	CreateObject(3452, -134.33839, 604.69049, 76.26380,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -209.63240, 630.49951, 74.76680,   90.00000, 0.00000, 90.00000);
	CreateObject(19531, -88.05095, 629.22821, 74.76682,   90.00000, 0.00000, 90.00000);
	CreateObject(19531, -171.27811, 595.58716, 74.76680,   90.00000, 0.00000, 0.00000);
	CreateObject(19531, -174.22427, 713.28040, 74.76680,   90.00000, 0.00000, 0.00000);
	CreateObject(19531, -149.81430, 629.66681, 115.92421,   0.00000, 0.00000, 0.00000);
	CreateObject(19531, -123.81280, 754.61963, 115.92420,   0.00000, 0.00000, 0.00000);
	///////////////////////////////////////////////////////////////////////////////////
	new fob[16], wall[12], i, j;
	fob[0] = CreateObject(19913, -133.31477, 695.40045, 78.28543,   0.00000, 0.00000, 0.00000);
	fob[1] = CreateObject(19913, -183.29660, 695.39697, 78.28540,   0.00000, 0.00000, 0.00000);
	fob[2] = CreateObject(19913, -133.31477, 695.40045, 89.18561,   0.00000, 0.00000, 0.00000);
	fob[3] = CreateObject(19913, -183.29660, 695.39697, 89.22485,   0.00000, 0.00000, 0.00000);
	fob[4] = CreateObject(19913, -191.88799, 661.06647, 78.28540,   0.00000, 0.00000, 90.00000);
	fob[5] = CreateObject(19913, -191.89320, 611.09943, 78.28540,   0.00000, 0.00000, 90.00000);
	fob[6] = CreateObject(19913, -191.88799, 661.06647, 89.16333,   0.00000, 0.00000, 90.00000);
	fob[7] = CreateObject(19913, -191.89320, 611.09943, 89.15930,   0.00000, 0.00000, 90.00000);
	fob[8] = CreateObject(19913, -106.07432, 661.41589, 78.28540,   0.00000, 0.00000, 90.00000);
	fob[9] = CreateObject(19913, -106.07053, 611.47943, 78.28540,   0.00000, 0.00000, 90.00000);
	fob[10] = CreateObject(19913, -106.07430, 661.41589, 89.23240,   0.00000, 0.00000, 90.00000);
	fob[11] = CreateObject(19913, -106.07050, 611.47937, 89.24590,   0.00000, 0.00000, 90.00000);
	fob[12] = CreateObject(19913, -157.29645, 613.39569, 78.28543,   0.00000, 0.00000, 0.00000);
	fob[13] = CreateObject(19913, -157.29645, 613.39569, 88.78542,   0.00000, 0.00000, 0.00000);
	fob[14] = CreateObject(19913, -107.36873, 613.39783, 78.28543,   0.00000, 0.00000, 0.00000);
	fob[15] = CreateObject(19913, -107.36870, 613.39783, 89.17570,   0.00000, 0.00000, 0.00000);

	wall[0] = CreateObject(3330, -108.93828, 693.26068, 110.49730,   0.00000, 0.00000, 314.78937);
	wall[1] = CreateObject(3330, -188.94865, 693.11212, 110.49730,   0.00000, 0.00000, 41.42534);
	wall[2] = CreateObject(3330, -187.78456, 614.71466, 110.49730,   0.00000, 0.00000, 143.31223);
	wall[3] = CreateObject(3330, -109.49601, 615.19550, 110.49730,   0.00000, 0.00000, 217.05022);
	wall[4] = CreateObject(3330, -204.06818, 685.73431, 110.49730,   0.00000, 0.00000, 359.15631);
	wall[5] = CreateObject(3330, -179.98399, 707.99597, 110.49730,   0.00000, 0.00000, 90.70382);
	wall[6] = CreateObject(3330, -115.89523, 707.54565, 110.49730,   0.00000, 0.00000, 271.20956);
	wall[7] = CreateObject(3330, -94.81382, 686.35107, 110.49730,   0.00000, 0.00000, 358.92883);
	wall[8] = CreateObject(3330, -203.40326, 620.84357, 110.49730,   0.00000, 0.00000, 178.36586);
	wall[9] = CreateObject(3330, -180.48119, 601.73370, 110.49730,   0.00000, 0.00000, 85.63430);
	wall[10] = CreateObject(3330, -94.33907, 621.64709, 110.49730,   0.00000, 0.00000, 173.46851);
	wall[11] = CreateObject(3330, -117.38150, 601.92334, 110.49730,   0.00000, 0.00000, 270.24777);

	for( i = 0; i < sizeof(fob); i++ )
	{
	    for( j = 0; j < 2; j++ )
	    {
			SetObjectMaterial(fob[i], j, 19527, "cauldron1", "AlienLiquid1", 0x00FFFFFF);
		}
	}
	//////////////////////////////////////// Local Area /////////////////////////////////
	CreateObject(19552,1902.1280500,-476.8360000,28.4590000,0.0000000,0.0000000,0.0000000); //object(plane125x125conc2) (1)
	CreateObject(19538,1901.9740000,-468.8469800,7.9660000,90.0000000,0.0000000,0.0000000); //object(plane62_5x125conc1) (1)
	CreateObject(19538,1837.4000200,-513.1170000,27.1310000,90.0000000,180.0000000,225.0000000); //object(plane62_5x125conc1) (2)
	CreateObject(19538,1866.7099600,-497.6770000,26.9860000,90.0000000,180.0000000,270.0000000); //object(plane62_5x125conc1) (3)
	CreateObject(19538,1837.2659900,-490.3309900,27.0960000,90.0000000,179.9950000,315.0000000); //object(plane62_5x125conc1) (4)
	CreateObject(19538,1937.7309600,-488.4390000,26.9860000,90.0000000,180.0000000,90.0000000); //object(plane62_5x125conc1) (5)
	CreateObject(19538,1966.8900100,-512.8610200,27.0910000,90.0000000,180.0050000,135.0000000); //object(plane62_5x125conc1) (6)
	CreateObject(19538,1902.1400100,-534.5689700,7.9660000,90.0000000,180.0050000,0.0000000); //object(plane62_5x125conc1) (7)
	CreateObject(19538,1966.9389600,-490.2460000,27.0660000,90.0000000,179.9950000,45.0000000); //object(plane62_5x125conc1) (8)
	CreateObject(18816,1903.3299600,-502.1090100,3.4890000,0.0000000,0.0000000,0.0000000); //object(tube50mfunnel4) (1)
	CreateObject(3452,1888.2120400,-460.3540000,42.1980000,0.0000000,0.0000000,180.0000000); //object(bballintvgn1) (1)
	CreateObject(3452,1917.8060300,-460.3540000,42.1980000,0.0000000,0.0000000,179.9950000); //object(bballintvgn1) (2)
	CreateObject(3452,1888.2120400,-543.5869800,42.1980000,0.0000000,0.0000000,0.0000000); //object(bballintvgn1) (3)
	CreateObject(3452,1917.8060300,-543.5670200,42.1980000,0.0000000,0.0000000,0.0000000); //object(bballintvgn1) (4)
	CreateObject(3095,1909.3220200,-464.2850000,39.4000000,17.9960000,0.0000000,0.0000000); //object(a51_jetdoor) (3)
	CreateObject(3095,1896.6080300,-540.1439800,39.4780000,17.9960000,0.0000000,179.9950000); //object(a51_jetdoor) (4)
	CreateObject(19538,1922.8640100,-596.9240100,27.1310000,90.0000000,179.9950000,89.9890000); //object(plane62_5x125conc1) (9)
	CreateObject(19538,1881.4320100,-596.9299900,27.1310000,90.0000000,179.9950000,269.9950000); //object(plane62_5x125conc1) (10)
	CreateObject(19538,1901.7240000,-552.4329800,27.0560000,90.0000000,180.0050000,0.0000000); //object(plane62_5x125conc1) (11)
	CreateObject(19538,1881.5340600,-406.6570100,27.1310000,90.0000000,179.9950000,269.9950000); //object(plane62_5x125conc1) (12)
	CreateObject(19538,1922.7580600,-406.4989900,27.1310000,90.0000000,179.9950000,89.9890000); //object(plane62_5x125conc1) (13)
	CreateObject(19538,1903.6929900,-451.3460100,26.9460000,90.0000000,0.0000000,0.0000000); //object(plane62_5x125conc1) (14)
	CreateObject(18986,1903.3299600,-502.1090100,15.9940000,0.0000000,0.0000000,0.0000000); //object(tubetopipe1) (2)
	
	/////////////////////////////////////// GANG WAR ////////////////////////////////////
	CreateObject(8583, 2742.30005, 2187.19995, 23.90000,   0.00000, 356.50000, 358.00000);
	CreateObject(8583, 2862.00000, 1832.69995, 12.90000,   349.55301, 354.15302, 78.17600);
	CreateObject(8583, 3070.39990, 2118.89990, 20.50000,   0.00000, 0.00000, 181.98500);
	CreateObject(8583, 2897.00000, 2344.60010, 36.70000,   346.00000, 0.00000, 247.98300);
	CreateObject(11457, 2879.69995, 2127.80005, 9.20000,   0.00000, 0.00000, 270.00000);
	CreateObject(11457, 2912.10010, 2158.19995, 9.20000,   0.00000, 0.00000, 270.00000);
	CreateObject(8583, 2957.50000, 2331.60010, 62.70000,   1.92100, 16.00900, 229.42700);
	CreateObject(8583, 3081.39990, 2123.80005, 42.00000,   354.00000, 0.00000, 181.98300);
	CreateObject(11457, 2884.00000, 2101.80005, 9.30000,   0.00000, 0.00000, 270.00000);
	CreateObject(16195, 2824.30005, 2113.00000, 19.30000,   0.00000, 0.00000, 303.99701);
	CreateObject(11445, 2897.30005, 2111.89990, 9.80000,   0.00000, 0.00000, 0.00000);
	CreateObject(11445, 2905.80005, 2104.30005, 9.80000,   0.00000, 0.00000, 270.00000);
	CreateObject(11445, 2883.69995, 2104.00000, 12.60000,   0.00000, 0.00000, 270.00000);
	CreateObject(11445, 2879.30005, 2130.30005, 12.90000,   0.00000, 0.00000, 270.00000);
	CreateObject(13295, 2879.00000, 2234.19995, 16.20000,   0.00000, 0.00000, 270.00000);
	CreateObject(11442, 2895.40039, 2143.79980, 9.80000,   0.00000, 0.00000, 0.00000);
	CreateObject(11457, 2877.80005, 2141.60010, 9.20000,   0.00000, 0.00000, 180.00000);
	CreateObject(11442, 2878.30005, 2165.00000, 9.80000,   0.00000, 0.00000, 0.00000);
	CreateObject(11444, 2908.50000, 2140.50000, 9.80000,   0.00000, 0.00000, 0.00000);
	CreateObject(11444, 2892.80005, 2167.10010, 9.80000,   0.00000, 0.00000, 0.00000);
	CreateObject(11457, 2911.80005, 2169.30005, 9.20000,   0.00000, 0.00000, 179.99500);
	CreateObject(11457, 2909.39990, 2185.80005, 9.20000,   0.00000, 0.00000, 270.00000);
	CreateObject(11445, 2902.80005, 2197.50000, 9.80000,   0.00000, 0.00000, 0.00000);
	CreateObject(11428, 2871.50000, 2184.39990, 14.90000,   0.00000, 0.00000, 180.00000);
	CreateObject(11444, 2892.89990, 2185.39990, 9.80000,   0.00000, 0.00000, 270.00000);
	CreateObject(11444, 2881.80005, 2194.19995, 9.80000,   0.00000, 0.00000, 0.00000);
	CreateObject(11458, 2919.50000, 2074.19995, 9.50000,   0.00000, 0.00000, 0.00000);
	CreateObject(11428, 2929.89990, 2074.30005, 14.90000,   0.00000, 0.00000, 179.99500);
	CreateObject(11428, 2923.60059, 2058.20020, 14.40000,   353.99600, 357.97900, 87.78100);
	CreateObject(11428, 2922.19995, 2177.10010, 15.60000,   358.01901, 8.00500, 180.27299);
	CreateObject(653, 2915.60010, 2084.50000, 9.55000,   0.00000, 0.00000, 229.99899);
	CreateObject(653, 2926.19995, 2066.39990, 11.30000,   0.00000, 0.00000, 90.00000);
	CreateObject(653, 2883.30005, 2117.00000, 9.10000,   0.00000, 0.00000, 90.00000);
	CreateObject(650, 2900.00000, 2209.89990, 9.60000,   0.00000, 0.00000, 0.00000);
	CreateObject(650, 2902.50000, 2172.00000, 9.60000,   0.00000, 0.00000, 0.00000);
	CreateObject(653, 2900.10010, 2028.59998, 9.80000,   0.00000, 0.00000, 90.00000);
	CreateObject(865, 2887.39990, 2192.10010, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2891.00000, 2194.00000, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2887.80005, 2196.39990, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2891.80005, 2197.80005, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2894.89990, 2194.39990, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2886.89990, 2169.00000, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2885.50000, 2173.50000, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2888.30005, 2174.89990, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2884.89990, 2178.00000, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2886.69995, 2146.60010, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2890.39990, 2146.80005, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2888.39990, 2151.69995, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2888.50000, 2116.39990, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2885.89990, 2113.89990, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2890.50000, 2112.69995, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2891.80005, 2116.19995, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2889.89990, 2119.19995, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(865, 2886.19995, 2119.50000, 10.00000,   0.00000, 0.00000, 0.00000);
	CreateObject(11428, 2925.50000, 2153.60010, 14.90000,   348.73300, 20.41000, 158.15300);
	CreateObject(653, 2941.50000, 2181.69995, 19.20000,   0.00000, 0.00000, 90.00000);
	CreateObject(11428, 2897.30005, 2085.19995, 14.90000,   0.00000, 0.00000, 179.99500);
	CreateObject(16195, 2947.60010, 2223.10010, 4.20000,   0.00000, 0.00000, 283.99200);
	CreateObject(16195, 2878.30005, 2243.10010, -9.90000,   0.00000, 357.99500, 327.99701);
	CreateObject(11442, 2925.99609, 2196.77588, 26.00000,   358.01700, 8.00400, 348.27399);
	CreateObject(11442, 2918.69995, 2209.19995, 24.80000,   358.01700, 8.00400, 42.27000);
	CreateObject(8583, 3072.19995, 1996.50000, 41.80000,   348.24600, 0.00000, 153.98300);
	CreateObject(8583, 2738.19995, 1978.30005, 17.60000,   355.51801, 354.23199, 350.78299);
	CreateObject(16087, 2924.39990, 2025.00000, 18.60000,   0.00000, 0.00000, 270.00000);
	CreateObject(3673, 2914.69995, 1972.09998, 32.40000,   0.00000, 0.00000, 0.00000);
	CreateObject(3637, 2903.50000, 1980.19995, 16.40000,   0.00000, 0.00000, 0.00000);
	CreateObject(11457, 2894.29980, 2132.40039, 9.40000,   0.00000, 0.00000, 0.00000);
	CreateObject(17018, 2866.60010, 1932.90002, 12.50000,   0.00000, 0.00000, 0.00000);
	CreateObject(8153, 2894.60010, 1996.80005, 12.00000,   0.00000, 0.00000, 88.00000);
	CreateObject(3575, 2873.00000, 2002.40002, 12.50000,   0.00000, 0.00000, 0.00000);
	CreateObject(3575, 2908.50000, 2006.00000, 12.50000,   0.00000, 0.00000, 231.99800);
	CreateObject(5262, 2880.80005, 1974.59998, 12.80000,   0.00000, 0.00000, 0.00000);
	CreateObject(6867, 2845.69995, 1891.50000, 34.20000,   0.00000, 0.00000, 0.00000);
	CreateObject(11428, 2940.89990, 2029.59998, 19.90000,   349.42001, 331.46701, 356.29099);
	CreateObject(11442, 2929.60010, 2135.89990, 11.60000,   18.00000, 0.00000, 268.00000);
	CreateObject(11428, 2907.69995, 2038.90002, 14.40000,   353.99600, 357.97900, 283.78101);
	CreateObject(8397, 2902.09009, 2135.20996, -22.22000,   0.00000, 356.75000, 0.00000);
	CreateObject(8397, 2874.07202, 2188.31689, -11.62000,   0.00000, 40.00000, 296.00000);
	CreateObject(8397, 2873.81396, 2112.99097, -9.69000,   0.00000, 10.25000, 36.00000);
	CreateObject(8397, 2941.82007, 2147.35400, -13.47000,   0.00000, 350.00000, 0.00000);
	CreateObject(8397, 2937.20801, 2063.72607, -11.23000,   0.00000, 356.74799, 228.00000);
	CreateObject(8397, 2896.61890, 2050.51611, -17.11000,   0.00000, 38.74800, 61.99900);
	CreateObject(8397, 2876.06494, 2042.33704, -14.48000,   0.00000, 322.74799, 107.99900);
	//////////////////////////////////////////////////////////////////////////////////////
	
	new query[64];
    mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `maps` ORDER BY `ID` DESC LIMIT 1");
 	mysql_tquery(Base, query, "LoadMapsCount");
 	
 	#if debug_mode == 0
	if (_:DiscordChannel == 0)
	{
		DiscordChannel = DCC_FindChannelById("612998988609880076");
		
		new __action[256], y, m, d, h, s, o;
		TimestampToDate(gettime(), y, m, d, h, o, s, 3);
		format(__action, sizeof __action, "%d-%02d-%02d %02d:%02d Started...", y, m, d, h, o);
		DCC_SendChannelMessageEx(DiscordChannel, __action);
	}
	#endif
	
	return 1;
}

fun LoadMapsCount()
{
    if(cache_num_rows())
    {
        cache_get_value_name_int(0, "ID", maps);
        printf("+++++++++++++++++++++++++++++");
        printf("%d maps are loaded!", maps);
        printf("+++++++++++++++++++++++++++++");
    }
    else
	{
	    printf("-----------------------------");
		printf("WARNING: No maps are loaded!");
		printf("-----------------------------");
	}
    return 1;
}

enum pInfo
{
	pAccountID,
	pIP[16],
	pHumanClassesUnlocked_0,
	pHumanClassesUnlocked_1,
	pZombieClassesUnlocked_0,
	pZombieClassesUnlocked_1,
	pSettings, // 4
	pKills,
	pPlayerKills,
	pPlayerKillsBack,
	KickBack,
	pKillstreakMax,
	RoundsWin,
	DuelsWin,
	DuelsLose,
    pClass[4],
    Float:ReinPos[3],
    Float:FlesherPos[3],
    pKey[65],
	IsBurned[2],
	bool: IsCursed,
	pAttID[8],
	Float:pAttIDPos[36],
    pPass[65],
    pRefID,
    pEmail[96],
    pSalt[65],
    pSecret[64],
    pGPCI[64],
    pRegion[64],
    bool: pIgnore[MAX_PLAYERS],
    bool: pPm,
    bool: IsPlayerInfected,
    bool: IsPlayerAdvancedInfected,
    bool: RadioctiveField,
    InfectedTimer,
    BleedingTimer,
    hasInfinitiveAmmo,
    bool:hasBleedEffect,
    PoisionTimer,
    bool: hasNurseField,
    bool: pLogged,
    bool: ShowNick,
    pXP,
    AbilityUsed,
    pAdmin,
    pRank,
	pClan,
	pClanName[6],
	ZombieCount,
	pClanRank,
	pClanWarns,
	pSign[17],
    pVip,
    Float:pBalance,
    pVipSkin,
    pVipTime,
    pLang,
    Killstreak,
	Evacuated,
	bool: aDuty,
	Boxes,
	AdvancedBoxes,
	UnlimitedBoxes,
	PortalsUsed,
	bool:PortalWasCreated,
	bool: Stung,
	SlowWalk,
	bool: LegBreak,
	bool: TaserReady,
	bool: Tasered,
	Blidness,
	BlidnessTimer,
	bool: Poisioned,
	pAdminHiden,
	Muted,
	Warnings,
	GangRequest,
	bool:AntiSeeker,
	bool:AntiFreeze,
	bool:AntiRadioctive,
	bool:AntiBuring,
	bool:AntiLegBreaks,
	bool:AntiScreamer,
	bool:AntiSpider,
	bool:AntiBlind,
	bool:Helmet,
	bool:Fearlessness,
	bool:Cursed,
	TimesDamage,
	CanSpyPM,
	CanCheckCMD,
	ConnectedMap,
	p_Country[45],
	p_Port[6],
	bool:GunJammerAttack,
    bool:HeroField,
    GangBanned,
    Jailed,
    RealName[MAX_PLAYER_NAME+1],
    UserName[MAX_PLAYER_NAME+1],
    Accelerated,
 	pRegDate,
 	pLastIP[16],
 	bool:pIndentety,
 	pPort,
 	IsDefender,
 	DefenderSorryTime,
 	AdminActivity[5],
 	PlayerActivity[4],
 	FireBullet[2],
 	//LeatherFace[2],
	eventMember,
	doubleDamage,
	SessionOnline[3],
	pChannel,
	pQuickSet,
	e_Days,
	e_PrevLogin,
	e_Avoid[46],
	e_CryOfDamage,
	pUpgPoints,
	pLastGangJoin,
	checkForUnsleep,
	AbilityAffectedID,
	CheckForProtect,
	Float:PacketsLoss,
	AIM_CHECK,
	isInSelling[MAX_SELLING_INFO],
	isInBying[2],
	itemsInShop,
	pShopPage,
	pShopFilter[128],
	pNewAttachments[32],
	bool:pWasGangAffected,
	pShowWeapon[2],
	resetEasyMissions,
	resetMediumMissions,
	resetHardMissions,
	pTeam,
	pSkin,
	pYouTuber,
	totalPlayersKilledInGW,
	pCardSet,
	pAntisonRound,
};

new Player[MAX_PLAYERS][pInfo];

stock TryToUnlockCardSet(playerid, index)
{
    if(index < 0 || index > sizeof(CardBoxCards)) return 0;
	if(GetCollectionCards_Finish(playerid, index) <= 9) return 0;
    if(GetUnlockedSlot(Player[playerid][pCardSet], index) >= 1)
    {
        SendClientMessage(playerid, -1, "{0099ff}You have already discovered this effect!");
        return 0;
    }
	SetUnlockedSlot(Player[playerid][pCardSet], index, 1);
    SendClientMessage(playerid, -1, "{0099ff}Congratulations,{FFF000} you have discovered this effect! (+5000 EXP)");
    GivePlayerXP(playerid, 5000);
    for( new i = 0; i < sizeof(CardBoxClassItem); i++ ) RemoveItemFromInv(playerid, CardBoxClassItem[index][i], CardBoxCards[index][i]);

    if(index == CARD_EFFECT_ADVGANGSTER) SendClientMessage(playerid, -1, "{99ffff}>> You have unlocked a Advanced Gangster, use /class Advanced Gangster to set it!");
	if(index == CARD_EFFECT_ADVCUREBLOCKER) SendClientMessage(playerid, -1, "{99ffff}>> You have unlocked a Advanced Cure Blocker, use /class Advanced Cure Blocker to set it!");
    if(index == CARD_EFFECT_SPIDER) SendClientMessage(playerid, -1, "{99ffff}>> You have unlocked a Spider Zombie, use /class Spider Zombie to set it!");

    if(index == CARD_EFFECT_PYRAMIDHEAD) SendClientMessage(playerid, -1, "{99ffff}>> You have unlocked a Referee, use /class Referee to set it!");
    if(index == CARD_EFFECT_STIMULUS) SendClientMessage(playerid, -1, "{99ffff}>> You have unlocked a Stimulus, use /class Stimulus to set it!");
    
    return 0;
}

stock GetUnlockedCardEffect(playerid, effect) return GetUnlockedSlot(Player[playerid][pCardSet], effect);

fun GetAuction(playerid)
{
	// НЕ КУПИ ВЕЩИ У СЕБЯ САМОГО

	new i;
	for( i = 0; i < 10; i++ )
	{
		OnlineShop[playerid][eps_id][i] = -1;
	    OnlineShop[playerid][eps_inx][i] = -1;
	    OnlineShop[playerid][eps_count][i] = 0;
	    OnlineShop[playerid][eps_price][i] = 0;
	    OnlineShop[playerid][eps_time][i] = 0;
	    OnlineShop[playerid][eps_vip][i] = 0;
	    OnlineShop[playerid][eps_acc][i] = 0;
	    OnlineShop[playerid][eps_type][i] = 0;
	}
	
	strmid(OnlineShop[playerid][eps_info_0], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_1], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_2], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_3], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_4], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_5], "", 0, 128, 129);
    strmid(OnlineShop[playerid][eps_info_6], "", 0, 128, 129);
    strmid(OnlineShop[playerid][eps_info_7], "", 0, 128, 129);
    strmid(OnlineShop[playerid][eps_info_8], "", 0, 128, 129);
    strmid(OnlineShop[playerid][eps_info_9], "", 0, 128, 129);
    
	if(cache_num_rows() > 0)
	{
		new template[128] = "{0099ff}Name\t{0099ff}Count\t{0099ff}Price Per One\t{0099ff}Total\n",
			content[1984], name[96], index, count, price, time, vip, acc, type, info[128], id,
			temp[196], stype[12];

        strcat(content, template);
		for( i = 0; i < cache_num_rows(); i++ )
		{
		    if( i  < 10 )
		    {
			    cache_get_value_name(i, "name", name, 96);
			    cache_get_value_name_int(i, "ID", id);
			    cache_get_value_name_int(i, "indx", index);
			    cache_get_value_name_int(i, "count", count);
			    cache_get_value_name_int(i, "price", price);
			    cache_get_value_name_int(i, "time", time);
			    cache_get_value_name_int(i, "vip", vip);
			    cache_get_value_name_int(i, "acc", acc);
			    cache_get_value_name_int(i, "type", type);
			    cache_get_value_name(i, "info", info, 128);

			    OnlineShop[playerid][eps_id][i] = id;
			    OnlineShop[playerid][eps_inx][i] = index;
			    OnlineShop[playerid][eps_count][i] = count;
			    OnlineShop[playerid][eps_price][i] = price;
			    OnlineShop[playerid][eps_time][i] = time;
			    OnlineShop[playerid][eps_vip][i] = vip;
			    OnlineShop[playerid][eps_acc][i] = acc;
			    OnlineShop[playerid][eps_type][i] = type;

				switch(i)
				{
					case 0: strmid(OnlineShop[playerid][eps_info_0], info, 0, 128, 129);
				    case 1: strmid(OnlineShop[playerid][eps_info_1], info, 0, 128, 129);
				    case 2: strmid(OnlineShop[playerid][eps_info_2], info, 0, 128, 129);
				    case 3: strmid(OnlineShop[playerid][eps_info_3], info, 0, 128, 129);
				    case 4: strmid(OnlineShop[playerid][eps_info_4], info, 0, 128, 129);
				    case 5: strmid(OnlineShop[playerid][eps_info_5], info, 0, 128, 129);
				    case 6: strmid(OnlineShop[playerid][eps_info_6], info, 0, 128, 129);
				    case 7: strmid(OnlineShop[playerid][eps_info_7], info, 0, 128, 129);
                    case 8: strmid(OnlineShop[playerid][eps_info_8], info, 0, 128, 129);
                    case 9: strmid(OnlineShop[playerid][eps_info_9], info, 0, 128, 129);
				}
				
			    switch(type)
			    {
			        case 0: stype = "[Item]";
			        case 1: stype = "[Pet]";
			        case 2: stype = "[Chaos]";
			        case 8: stype = "[Weapon]";
			        case 9: stype = "[Armour]";
			    }

			    strdel(name,0, 8);

			    if(acc != Player[playerid][pAccountID]) format(temp, sizeof(temp), "{0099ff}%s %s\t{99d6ff}%d\t{99d6ff}%d\t{99d6ff}%d\n", stype, name, count, price, count * price);
				else format(temp, sizeof(temp), "{ff0066}%s %s\t{ff66a3}%d\t{ff66a3}%d\t{ff66a3}%d\n", stype, name, count, price, count * price);

				strcat(content, temp);
			}
		}

		if((cache_num_rows()-1) >= 10) strcat(content, "\n{99d6ff}Next >>");
		
		if(strlen(Player[playerid][pShopFilter]) >= 1 && !EmptyMessage(Player[playerid][pShopFilter]))
		{
		    format(temp, sizeof(temp), "Server's Auction | Filter: %s", Player[playerid][pShopFilter]);
		    ShowPlayerDialog(playerid, DIALOG_AUCTION_BUY, DIALOG_STYLE_TABLIST_HEADERS, temp, content, "Buy", "Back");
		}
		else ShowPlayerDialog(playerid, DIALOG_AUCTION_BUY, DIALOG_STYLE_TABLIST_HEADERS, "Server's Auction", content, "Buy", "Back");
		return 1;
		// НЕ КУПИ ВЕЩИ У СЕБЯ САМОГО
	}
	else
	{
	    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Nobody has started selling anything yet", "Close", "");
	}
	return 1;
}

fun GetMyAuctionItems(playerid)
{
    Player[playerid][itemsInShop] = cache_num_rows();
	if(cache_num_rows())
	{
	    ShowPlayerDialog(playerid, DIALOG_AUCTION_START, DIALOG_STYLE_LIST, "Server's Auction", "Buying\nSelling\nFor Sale", "Select", "Cancel");
	}
	else
	{
		ShowPlayerDialog(playerid, DIALOG_AUCTION_START, DIALOG_STYLE_LIST, "Server's Auction", "Buying\nSelling", "Select", "Cancel");
	}
	return 1;
}

fun AuctionEditMyItems(playerid)
{
    if(cache_num_rows())
    {
        new template[128] = "{0099ff}Name\t{0099ff}Type\t{0099ff}Count\t{0099ff}Price Per One\t{0099ff}Total\n",
			content[1984], name[96], index, count, price, time, vip, acc, type, info[128], id, i,
			temp[196], stype[12];

        strcat(content, template);
		for( i = 0; i < cache_num_rows(); i++ )
		{
		    cache_get_value_name(i, "name", name, 96);
		    cache_get_value_name_int(i, "ID", id);
		    cache_get_value_name_int(i, "indx", index);
		    cache_get_value_name_int(i, "count", count);
		    cache_get_value_name_int(i, "price", price);
		    cache_get_value_name_int(i, "time", time);
		    cache_get_value_name_int(i, "vip", vip);
		    cache_get_value_name_int(i, "acc", acc);
		    cache_get_value_name_int(i, "type", type);
		    cache_get_value_name(i, "info", info, 128);

		    OnlineShop[playerid][eps_id][i] = id;
		    OnlineShop[playerid][eps_inx][i] = index;
		    OnlineShop[playerid][eps_count][i] = count;
		    OnlineShop[playerid][eps_price][i] = price;
		    OnlineShop[playerid][eps_time][i] = time;
		    OnlineShop[playerid][eps_vip][i] = vip;
		    OnlineShop[playerid][eps_acc][i] = acc;
		    OnlineShop[playerid][eps_type][i] = type;

            switch(i)
			{
				case 0: strmid(OnlineShop[playerid][eps_info_0], info, 0, 128, 129);
			    case 1: strmid(OnlineShop[playerid][eps_info_1], info, 0, 128, 129);
			    case 2: strmid(OnlineShop[playerid][eps_info_2], info, 0, 128, 129);
			    case 3: strmid(OnlineShop[playerid][eps_info_3], info, 0, 128, 129);
			    case 4: strmid(OnlineShop[playerid][eps_info_4], info, 0, 128, 129);
			    case 5: strmid(OnlineShop[playerid][eps_info_5], info, 0, 128, 129);
			    case 6: strmid(OnlineShop[playerid][eps_info_6], info, 0, 128, 129);
			    case 7: strmid(OnlineShop[playerid][eps_info_7], info, 0, 128, 129);
                case 8: strmid(OnlineShop[playerid][eps_info_8], info, 0, 128, 129);
                case 9: strmid(OnlineShop[playerid][eps_info_9], info, 0, 128, 129);
			}
			
		    switch(type)
		    {
		        case 0: stype = "Item";
		        case 1: stype = "Pet";
		        case 2: stype = "Chaos";
		    }

		    strdel(name,0, 8);
		    format(temp, sizeof(temp), "{ff0066}%s\t{ff66a3}%s\t{ff66a3}%d\t{ff66a3}%d\t{ff66a3}%d\n", name, stype, count, price, count * price);

			strcat(content, temp);
		}
		ShowPlayerDialog(playerid, DIALOG_AUCTION_EDIT, DIALOG_STYLE_TABLIST_HEADERS, "Server's Auction", content, "Delete", "Close");
    }
    return 1;
}

fun AuctionCheckForExists(playerid)
{
	new query[512];
    if(cache_num_rows())
    {
        new index = Player[playerid][isInBying][0];
        if(index <= -1)
        {
            ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Error", "Ok", "");
            Player[playerid][isInBying][0] = -1;
            Player[playerid][isInBying][1] = 0;
            return 1;
        }
        if(OnlineShop[playerid][eps_count][index] > 1 && Player[playerid][isInBying][1] <= 0)
		{
		    ShowPlayerDialog(playerid, DIALOG_AUCTION_BUY_COUNT, DIALOG_STYLE_INPUT, "Server's Auction", "Type Item Count:", "Buy", "Close");
			return 1;
		}
		else
		{
		    new count = 1;
		    if(Player[playerid][isInBying][1] > 0) count = Player[playerid][isInBying][1];
		    
		    if((OnlineShop[playerid][eps_price][index]*count) > Player[playerid][pXP])
			{
			    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Not enough XP", "Ok", "");
				return 1;
			}
			else
			{
			    if(OnlineShop[playerid][eps_type][index] == 9)
			    {
			    	new iindex, itype, wbuff[3], chance[3], time[3];
		            switch(index)
		            {
		                case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
                        case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
					}
					
					new weapid = iindex;
					CharacterSkill[playerid][weapid] = itype;
					
					CharArInfo[playerid][CharAR_Buff_One][weapid] = wbuff[0];
				 	CharArInfo[playerid][CharAR_Buff_Two][weapid] = wbuff[1];
					CharArInfo[playerid][CharAR_Buff_Three][weapid] = wbuff[2];

					CharArInfo[playerid][CharAR_Buff_Time_One][weapid] = chance[0];
					CharArInfo[playerid][CharAR_Buff_Time_Two][weapid] = chance[1];
				 	CharArInfo[playerid][CharAR_Buff_Time_Three][weapid] = chance[2];
				 	
					CharArInfo[playerid][CharAR_Power_One][weapid] = time[0];
					CharArInfo[playerid][CharAR_Power_Two][weapid] = time[1];
					CharArInfo[playerid][CharAR_Power_Three][weapid] = time[2];

                    Player[playerid][pXP] -= (OnlineShop[playerid][eps_price][index]*count);

					if(OnlineShop[playerid][eps_count][index] - count <= 0)
					{
						mysql_format(Base, query, sizeof(query), "DELETE FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
					    mysql_tquery(Base, query, "", "", "");
					}
					else
					{
					    mysql_format(Base, query, sizeof(query), "UPDATE `auction` SET `count` = '%d' WHERE `ID` = '%d'", (OnlineShop[playerid][eps_count][index]-count), OnlineShop[playerid][eps_id][index]);
					    mysql_tquery(Base, query, "", "", "");
					}

                    #if debug_mode == 0
					new __action[256], y, m, d, h, s, o;
					TimestampToDate(gettime(), y, m, d, h, o, s, 3);
					DiscordChannel = DCC_FindChannelById("655076938209165315");
					format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought +%d %s (Count: %d -> Total Price: %d) from /shop, Seller Account ID: %d```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID], itype, chs_n[iindex], count, OnlineShop[playerid][eps_price][index]*count, OnlineShop[playerid][eps_acc][index]);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif

				    foreach(Player, i)
				    {
				        if(Player[i][pAccountID] == OnlineShop[playerid][eps_acc][index])
				        {
				            Player[i][pXP] += ((OnlineShop[playerid][eps_price][index]*count) - floor((OnlineShop[playerid][eps_price][index]*count)*TAXES));
							SendClientMessageFormat(i, -1, "{FFF000}>> Shop: Your item has been sold! (+%d %s)", itype, chs_n[iindex]);
							Player[playerid][isInBying][0] = -1;
      						Player[playerid][isInBying][1] = 0;
							return 1;
						}
				    }

				    mysql_format(Base, query, sizeof(query), "INSERT INTO `paydays` (`acc`, `ID`, `amount`, `type`, `desc`, `build`) VALUES ('%d', NULL, '%d', '0', 'Shop: Your item has been sold (+%d %s)', '"SERVER_BUILD"')", OnlineShop[playerid][eps_acc][index], ((OnlineShop[playerid][eps_price][index]*count) - floor((OnlineShop[playerid][eps_price][index]*count)*TAXES)), itype, chs_n[iindex]);
					mysql_tquery(Base, query);

					Player[playerid][isInBying][0] = -1;
      				Player[playerid][isInBying][1] = 0;

					return 1;
				}
							
			    if(OnlineShop[playerid][eps_type][index] == 8)
			    {
			        new iindex, itype, wbuff[3], chance[3], time[3], Float:power[3];
		            switch(index)
		            {
		                case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
                        case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
					}
					
					new weapid = iindex;
					WeaponSkill[playerid][weapid] = itype;
					
				    WeaponsInfo[playerid][WeaponBuff_One][weapid] = wbuff[0];
				 	WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid] = chance[0];
					WeaponsInfo[playerid][WeaponBuff_Time_One][weapid] = time[0];
					WeaponsInfo[playerid][WeaponBuff_Power_One][weapid] = power[0];

					WeaponsInfo[playerid][WeaponBuff_Two][weapid] = wbuff[1];
				 	WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid] = chance[1];
					WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid] = time[1];
					WeaponsInfo[playerid][WeaponBuff_Power_Two][weapid] = power[1];

					WeaponsInfo[playerid][WeaponBuff_Three][weapid] = wbuff[2];
				 	WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid] = chance[2];
					WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid] = time[2];
					WeaponsInfo[playerid][WeaponBuff_Power_Three][weapid] = power[2];
					
					Player[playerid][pXP] -= (OnlineShop[playerid][eps_price][index]*count);

					if(OnlineShop[playerid][eps_count][index] - count <= 0)
					{
						mysql_format(Base, query, sizeof(query), "DELETE FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
					    mysql_tquery(Base, query, "", "", "");
					}
					else
					{
					    mysql_format(Base, query, sizeof(query), "UPDATE `auction` SET `count` = '%d' WHERE `ID` = '%d'", (OnlineShop[playerid][eps_count][index]-count), OnlineShop[playerid][eps_id][index]);
					    mysql_tquery(Base, query, "", "", "");
					}

					new weapname[32];
					GetWeaponName(weapid, weapname, sizeof(weapname));

                    #if debug_mode == 0
					new __action[256], y, m, d, h, s, o;
					TimestampToDate(gettime(), y, m, d, h, o, s, 3);
					DiscordChannel = DCC_FindChannelById("655076938209165315");
					format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought +%d %s (Count: %d -> Total Price: %d) from /shop, Seller Account ID: %d```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID], itype, weapname, count, OnlineShop[playerid][eps_price][index]*count, OnlineShop[playerid][eps_acc][index]);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif

				    foreach(Player, i)
				    {
				        if(Player[i][pAccountID] == OnlineShop[playerid][eps_acc][index])
				        {
				            Player[i][pXP] += ((OnlineShop[playerid][eps_price][index]*count) - floor((OnlineShop[playerid][eps_price][index]*count)*TAXES));
							SendClientMessageFormat(i, -1, "{FFF000}>> Shop: Your item has been sold! (+%d %s)", itype, weapname);
							Player[playerid][isInBying][0] = -1;
      						Player[playerid][isInBying][1] = 0;
							return 1;
						}
				    }

				    mysql_format(Base, query, sizeof(query), "INSERT INTO `paydays` (`acc`, `ID`, `amount`, `type`, `desc`, `build`) VALUES ('%d', NULL, '%d', '0', 'Shop: Your item has been sold (+%d %s)', '"SERVER_BUILD"')", OnlineShop[playerid][eps_acc][index], ((OnlineShop[playerid][eps_price][index]*count) - floor((OnlineShop[playerid][eps_price][index]*count)*TAXES)), itype, weapname);
					mysql_tquery(Base, query);

					Player[playerid][isInBying][0] = -1;
      				Player[playerid][isInBying][1] = 0;
					
       				return 1;
			    }
			    
			    if(TryToAdd(playerid, OnlineShop[playerid][eps_inx][index], 0))
				{
				    switch(OnlineShop[playerid][eps_inx][index])
				    {
				        case ITEM_NAME_EFF_AMPLIFIER, ITEM_NAME_COLOR_AMPLIFIER, ITEM_NAME_PET_AMPLIFIER, ITEM_NAME_CHAOS_SMALL_CHEST, ITEM_NAME_CHAOS_BIG_CHEST, ITEM_NAME_CHAOS_CHEST:
				        {
				            new iindex, itype, iprog;
				            switch(index)
				            {
				                case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iii", iindex, itype, iprog);
                                case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iii", iindex, itype, iprog);
                                case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iii", iindex, itype, iprog);
                                case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iii", iindex, itype, iprog);
                                case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iii", iindex, itype, iprog);
                                case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iii", iindex, itype, iprog);
                                case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iii", iindex, itype, iprog);
                                case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iii", iindex, itype, iprog);
                                case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iii", iindex, itype, iprog);
                                case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iii", iindex, itype, iprog);
							}
				            AddItemInInv(playerid, OnlineShop[playerid][eps_inx][index], count, OnlineShop[playerid][eps_vip][index], -1, 0, 0, false, iindex, itype, iprog);
				        }
				        default: AddItemInInv(playerid, OnlineShop[playerid][eps_inx][index], count);
					}
					
					Player[playerid][pXP] -= (OnlineShop[playerid][eps_price][index]*count);

					if(OnlineShop[playerid][eps_count][index] - count <= 0)
					{
						mysql_format(Base, query, sizeof(query), "DELETE FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
					    mysql_tquery(Base, query, "", "", "");
					}
					else
					{
					    mysql_format(Base, query, sizeof(query), "UPDATE `auction` SET `count` = '%d' WHERE `ID` = '%d'", (OnlineShop[playerid][eps_count][index]-count), OnlineShop[playerid][eps_id][index]);
					    mysql_tquery(Base, query, "", "", "");
					}
					
					new __action[256], y, m, d, h, s, o;
					TimestampToDate(gettime(), y, m, d, h, o, s, 3);
					#if debug_mode == 0
					DiscordChannel = DCC_FindChannelById("655076938209165315");
					#endif
					
					if(OnlineShop[playerid][eps_inx][index] < ITEM_NAME_MOON_PET) format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought %s (Count: %d -> Total Price: %d) from /shop, Seller Account ID: %d```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID], ItemNames[OnlineShop[playerid][eps_inx][index]][8], count, OnlineShop[playerid][eps_price][index]*count, OnlineShop[playerid][eps_acc][index]);
					else format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought %s (Count: %d -> Total Price: %d) from /shop, Seller Account ID: %d```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID], PetsNames[OnlineShop[playerid][eps_inx][index] - 9999][8], count, OnlineShop[playerid][eps_price][index]*count, OnlineShop[playerid][eps_acc][index]);
                    #if debug_mode == 0
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
					
				    foreach(Player, i)
				    {
				        if(Player[i][pAccountID] == OnlineShop[playerid][eps_acc][index])
				        {
				            Player[i][pXP] += ((OnlineShop[playerid][eps_price][index]*count) - floor((OnlineShop[playerid][eps_price][index]*count)*TAXES));
				            
                            if(OnlineShop[playerid][eps_inx][index] < ITEM_NAME_MOON_PET)
								SendClientMessageFormat(i, -1, "{FFF000}>> Shop: Your item has been sold! (%s)", ItemNames[OnlineShop[playerid][eps_inx][index]][8]);
							else
							    SendClientMessageFormat(i, -1, "{FFF000}>> Shop: Your item has been sold! (%s)", PetsNames[OnlineShop[playerid][eps_inx][index] - 9999][8]);

							Player[playerid][isInBying][0] = -1;
      						Player[playerid][isInBying][1] = 0;
							return 1;
						}
				    }
				    
				    if(OnlineShop[playerid][eps_inx][index] < ITEM_NAME_MOON_PET)
						mysql_format(Base, query, sizeof(query), "INSERT INTO `paydays` (`acc`, `ID`, `amount`, `type`, `desc`, `build`) VALUES ('%d', NULL, '%d', '0', 'Shop: Your item has been sold (%s)', '"SERVER_BUILD"')", OnlineShop[playerid][eps_acc][index], ((OnlineShop[playerid][eps_price][index]*count) - floor((OnlineShop[playerid][eps_price][index]*count)*TAXES)), ItemNames[OnlineShop[playerid][eps_inx][index]][8]);
					else
					    mysql_format(Base, query, sizeof(query), "INSERT INTO `paydays` (`acc`, `ID`, `amount`, `type`, `desc`, `build`) VALUES ('%d', NULL, '%d', '0', 'Shop: Your item has been sold (%s)', '"SERVER_BUILD"')", OnlineShop[playerid][eps_acc][index], ((OnlineShop[playerid][eps_price][index]*count) - floor((OnlineShop[playerid][eps_price][index]*count)*TAXES)), PetsNames[OnlineShop[playerid][eps_inx][index] - 9999][8]);
					    
					mysql_tquery(Base, query);
					Player[playerid][isInBying][0] = -1;
      				Player[playerid][isInBying][1] = 0;
					return 1;
				}
				else
				{
				    Player[playerid][isInBying][0] = -1;
      				Player[playerid][isInBying][1] = 0;
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Your inventory is full!", "Ok", "");
					return 1;
				}
			}
		}
	}
	else
	{
 		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Item already sold", "Ok", "");
      	Player[playerid][isInBying][0] = -1;
      	Player[playerid][isInBying][1] = 0;
	}
	return 1;
}

enum
{
	QS_AntiScreamer = 0,
	QS_AntiSeeker,
	QS_AntiFreeze,
	QS_AntiRadioactive,
	QS_AntiBurning,
	QS_AntiLegsBroken,
	QS_AntiBlind,
	QS_AntiHeadshots,
    QS_AntiCurse
};

enum MerchantInfo
{
    mc_boost[3],
	mc_buffTime[3],
    mc_price[3],
    mc_class[4],
	mc_map,
	Text3D:mc_Text,
	mc_repeat,
};

new Merchant[MerchantInfo];

enum e_ezInfo
{
	e_ezRep = 0,
	e_ezRank,
	e_ezMission[10]
};

new e_ExclusionZone[MAX_PLAYERS][e_ezInfo];

static const diffEvMission[] = {
	1, 1, 0, 0, 1, 1, 0, 0,
	1, 0, 0, 1, 0, 0, 0, 0,
	0, 0, 0, 0,	0, 0, 2, 0,
	0, 0, 0, 0, 0, 0, 0, 0,
	0, 2, 0, 0, 1, 1, 2, 1,
	1, 1, 0, 0, 1, 1, 0, 0,
	2, 2, 2, 2, 2, 2, 2, 2,
	2, 2, 1, 2
};


stock ev_ExclusionZone()
{
	ev_CreateEveryDayMission();
	ev_CreateEveryWeekedMissions();
	ev_ShowMissions();
}

enum
{
	ev_RIPPER = 0,
	ev_GENOCIDE, // 1
	ev_EBOLA, // 2
	ev_NONSTOP, // 3
	ev_ITEMER, // 4
	ev_EXECUTANT, // 5
	ev_COLLECTOR, // 6
	ev_SURVIVOR, // 7
	ev_WARRIOR, // 8
	ev_SHOOTER, // 9
	ev_DOMINION, // 10
	ev_SNIPER, // 11
	ev_SKIPPER, // 12
	ev_GRAFFITI, // 13
	ev_VIRALTHREAT, // 14
	ev_EMOTIONAL, // 15
	ev_DETONATOR, // 16
	ev_ELECTROTHERAPY, // 17
	ev_DANGERZONE, // 18
	ev_NIGHTPARTY, // 19
	ev_DELICATEDEAL, // 20
	ev_WHEREISEVERYONE, // 21
	ev_CARNIVOROUS, // 22
	ev_UPTOTHECLOUDS, // 23
	ev_UNEXPECTEDSHIFT, // 24
	ev_SPY, // 25
	ev_NAKED, // 26
	ev_TIMETOPLAY, // 27
	ev_RADIOACTIVEZONE, // 28
	ev_GLACIATION, // 29
	ev_DESTRUCTION, // 30
	ev_CAPILLARYINFECTION, // 31
	ev_BONEFRACTURE, // 32
	ev_MEDICALASSISTANCE, // 33
	ev_WITHATWINKLE, // 34
	ev_JOGGING, // 35
	ev_CIVILDEFENSE, // 36
	ev_MASTEROFSPORT, // 37
	ev_ANTIVIRUS, // 38
	ev_SUPPORTNEEDED, // 39
	ev_HEROISM, // 40
	ev_BUILDER, // 41
	ev_RIDEWITHTHEBREEZE, // 42
	ev_SUSPICIOUS, // 43
	ev_SUCCESSFULEXPERIMENT, // 44
	ev_UNSUCCESSFULEXPERIEMENT, // 45
	ev_STROLL, // 46
	ev_DNASEQUENCE, // 47
	ev_CONTROLSHOT, // 48
	ev_NIGHTMARE, // 49
	ev_HOLDYOURBREATH, // 50
	ev_GAMEEXPERT, // 51
	ev_OUTLAW, // 52
	ev_JAILER, // 53
	ev_SABOTEUR, // 54
	ev_DEFENDER, // 55
	ev_SOUNDASLEEP, // 56
	ev_HUNTER,// 57
	ev_TRUSTEDFRIEND, // 58
	ev_ELIMINATOR // 59
};

static const ev_Names[][][] =
{
	{
		"Ripper", // 0
		"Genocide", // 1
	    "Ebola", // 2
	    "Nonstop", // 3
	    "Itemer", // 4
	    "Executant", // 5
	    "Collector", // 6
	    "Survivor", // 7
	    "Warrior", // 8
	    "Shooter", // 9
	    "Dominion", // 10
	    "Sniper", // 11
	    "Skipper", // 12
	    "Graffiti", // 13
	    "Viral Threat", // 14
	    "Emotional", // 15
	    "Detonator", // 16
	    "Electrotherapy", // 17
	    "Danger Zone", // 18
	    "Night Party", // 19
	    "Delicate Deal", // 20
	    "Where is everyone?", // 21
	    "Carnivorous", // 22
	    "Up to the clouds", // 23
	    "Unexpected Shift", // 24
	    "Spy", // 25
	    "Naked", // 26
	    "Time to Pay", // 27
	    "Radioactive Zone", // 28
	    "Glaciation", // 29
	    "Destruction", // 30
	    "Capillary Infection", // 31
	    "Bone fracture",
	    "Medical Assistance", // 33
	    "With a Twinkle", // 34
	    "Jogging", // 35
	    "Civil Defense", // 36
	    "Master of Sport", // 37
	    "Antivirus", // 38
	    "Support Needed", // 39
	    "Heroism", // 40
	    "Builder", // 41
	    "Ride with the Breeze", // 42
	    "Suspicious", // 43
	    "Successful experiment", // 44
	    "Unsuccessful experiment", // 45
	    "Stroll", // 46
	    "DNA sequence", // 47
	    //////////////
	    "Control shot", // 48
		"Nightmare", // 49
		"Hold your breath", // 50
		"Game Expert", // 51
		"Outlaw", // 52
		"Jailer", // 53
		"Saboteur", // 54
		"Defender", // 55
		"Sound asleep", // 56
		"Hunter", // 57
		"Trusted friend", // 58
		"Eliminator" // 59
	},
	{
	    "Потрошитель",
		"Геноцид",
	    "Эбола",
	    "Без остановки",
	    "Собиратель",
	    "Исполнитель",
	    "Коллекционер",
	    "Выживший",
	    "Боец",
	    "Стрелок",
	    "Доминант",
	    "Снайпер",
	    "Попрыгунчик",
	    "Граффити",
	    "Вирусная Угроза",
	    "Эмоции",
	    "Детонатор",
	    "Электротерапия",
	    "Опасная Зона",
	    "Ночная Тусовка",
	    "Деликатная Сделка",
	    "Где все?",
	    "Плотоядный",
	    "К облакам",
	    "Непредвиденный Сдвиг",
	    "Шпион",
	    "В чем мать родила",
	    "Время платить",
	    "Радиоактивная Зона",
	    "Олединение",
	    "Разрушитель",
	    "Капиллярная инфекция",
	    "Перелом костей",
	    "Медицинская помощь",
	    "С огоньком!",
	    "Пробежка",
	    "Гражданская оборона",
	    "Мастер спорта",
	    "Антивирус",
	    "Требуется поддержка",
	    "Героизм",
	    "Строитель",
	    "Поездка с ветерком",
	    "Подозрительный",
	    "Удачный экспиримент",
	    "Неудачный экспиримент",
	    "Прогулка",
	    "Последовательность ДНК",
	    "Контрольный Выстрел",
		"Кошмар",
		"Задержи дыхание",
		"Игровой Эксперт",
		"Вне закона",
		"ЗЕК",
		"Диверсант",
		"Защитник",
		"Крепко спящий",
		"Охотник",
		"Настоящий друг",
		"Раздельщик"
	},
	{
	    "Destripador",
		"Genocidio",
	    "Ebola",
	    "Sin escalas",
	    "Itemer",
	    "Ejecutor",
	    "Coleccionista",
	    "Superviviente",
	    "Guerrero",
	    "Tirador",
	    "Dominio",
	    "Francotirador",
	    "Patron",
	    "Pintada",
	    "Amenaza Viral",
	    "Emocional",
	    "Detonador",
	    "Electroterapia",
	    "Zona peligrosa",
	    "Fiesta nocturna",
	    "Trato delicado",
	    "Donde estan todos?",
	    "Carnнvoro",
	    "Hasta las nubes",
	    "Cambio inesperado",
	    "Espнa",
	    "Desnudo",
	    "Tiempo para pagar",
	    "Zona radiactiva",
	    "Glaciaciуn",
	    "Destrucciуn",
	    "Infecciуn capilar",
	    "Fractura de hueso",
	    "Asistencia medica",
	    "Con un centelleo",
	    "Trotar",
	    "Defensa Civil",
	    "Maestro del deporte",
	    "Antivirus",
	    "Soporte Necesarios",
	    "Heroнsmo",
	    "Constructor",
	    "Paseo con la brisa",
	    "Sospechoso",
	    "Experimento exitoso",
	    "Experimento fallido",
	    "Paseo",
	    "Secuencia de ADN",
	    //////////////
	    "Tiro de control",
		"Pesadilla",
		"Contenga la respiracion",
		"Experto en juegos",
		"Proscrito",
		"Carcelero",
		"Saboteador",
		"Defensor",
		"Profundamente dormido",
		"Cazador",
		"Amigo de confianza",
		"Eliminador"
	}
};

stock ev_CompleteToNext(playerid, evn_id)
{
	/*new xp = 1000;
	switch(diffEvMission[evn_id])
	{
	    case 0: xp = 1000;
	    case 1: xp = 4500;
	    case 2: xp = 7000;
	    default: xp = 1000;
	}
	
	if((e_ExclusionZone[playerid][e_ezRep] + xp) >= 10000)
	{
		switch(Player[playerid][pLang])
		{
		    case 0: SendClientMessage(playerid, -1, "{FFF000}::Mr. D.:: My respect for you is growing, but don't be too arrogant (/chaos)");
		    case 1: SendClientMessage(playerid, -1, "{FFF000}::Мистер Д.:: Моё уважение к тебе растет, но не зазнавайся (/chaos)");
			case 2: SendClientMessage(playerid, -1, "{FFF000}::Sr. D.:: Mi respeto por ti estб creciendo, pero no seas demasiado arrogante (/chaos)");
		}
		
		new res = 10000-((10000 + xp) - xp);
		if(res <= 0) res = xp;
		
		e_ExclusionZone[playerid][e_ezRep] = res;
		e_ExclusionZone[playerid][e_ezRank]++;
		AddItemInInv(playerid, ITEM_NAME_CHAOS_COIN, 1);
		SetTimerEx("CreateDisplayInfo", 30, 0, "iffifffi", playerid, 1024.0, 354.9375, 13, 470.000, 354.9375, 10.0, 6000);
	}
	else
	{
		e_ExclusionZone[playerid][e_ezRep] += xp;
		switch(Player[playerid][pLang])
		{
		    case 0: SendClientMessage(playerid, -1, "{FFF000}::Mr. D.:: Good job, don't stop - you'll get a coin of chaos! (/chaos)");
		    case 1: SendClientMessage(playerid, -1, "{FFF000}::Мистер Д.:: Хорошая работа, не останавливайся - получишь монету хаоса! (/chaos)");
			case 2: SendClientMessage(playerid, -1, "{FFF000}::Sr. D.:: Buen trabajo, no te detengas, Ўobtendrбs una moneda de caos! (/chaos)");
		}
    }
    
    new y, m, d, h, i, s, msg[164];
	TimestampToDate(gettime(), y, m, d, h, i, s, 3);
	#if debug_mode == 0
	DiscordChannel = DCC_FindChannelById("695307295441158205");
	format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s(%d) completed (%s) (+%d)\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], ev_Names[0][evn_id], xp);
	DCC_SendChannelMessageEx(DiscordChannel, msg);
	#endif*/
}

/*CMD:chaos(playerid)
{
	if(Player[playerid][pRank] <= 4)
	{
	    switch(Player[playerid][pLang])
		{
		    case 0: ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Atmosphere of Chaos", "You have not seen all the chaos...\n\nYou need min. rank 5", "Look beyond", "");
		    case 1: ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Атмосфера Хаоса", "Вы еще не увидели всего хаоса...\n\nВам нужен минимум 5 ранг", "Наблюдать дальше", "");
		    case 2: ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Atmosfera de Caos", "No has visto todo el caos...\n\nNecesitas min. rango 5", "Mira mбs allб", "");
		}
		return 1;
	}
	switch(Player[playerid][pLang])
	{
	    case 0: ShowPlayerDialog(playerid, DIALOG_CHAOS, DIALOG_STYLE_LIST, "Atmosphere of Chaos", "Tasks\nShop", "Select", "Cancel");
	    case 1: ShowPlayerDialog(playerid, DIALOG_CHAOS, DIALOG_STYLE_LIST, "Атмосфера Хаоса", "Задания\nМагазин", "Выбрать", "Закрыть");
	    case 2: ShowPlayerDialog(playerid, DIALOG_CHAOS, DIALOG_STYLE_LIST, "Atmosfera de Caos", "Tareas\nTienda", "Seleccione", "Cancelar");
	}
	return 1;
}*/

stock ev_CreateEasyMission(count = 4)
{
    count = min(count, 4);
	new i, j, a;
	for( i = 0; i < count; i++)
	{
		ev_easy_day:
	    	j = random(sizeof(ev_Names[]));
	    	if(diffEvMission[j] > 0) goto ev_easy_day;
	    	for( a = 0; a < 4; a++) if(NightEvent[evn_Mission][a] == j) goto ev_easy_day;
        	NightEvent[evn_Mission][i] = j;
	}
}

stock ev_CreateMediumMission(count = 4)
{
    count = min(count, 4);
	new i, j, a;
	for( i = 4; i < (4+count); i++)
	{
		ev_medium_day:
	    	j = random(sizeof(ev_Names[]));
	    	if(diffEvMission[j] != 1) goto ev_medium_day;
	    	for( a = 4; a < (4+count); a++) if(NightEvent[evn_Mission][a] == j) goto ev_medium_day;
        	NightEvent[evn_Mission][i] = j;
	}
}

stock ev_CreateHardMission(count = 2)
{
	count = min(count, 2);
	new i, j, a;
	for( i = 8; i < (8+count); i++)
	{
		ev_hard_day:
	    	j = random(sizeof(ev_Names[]));
	    	if(diffEvMission[j] != 2) goto ev_hard_day;
	    	for( a = 8; a < 10; a++) if(NightEvent[evn_Mission][a] == j) goto ev_hard_day;
        	NightEvent[evn_Mission][i] = j;
	}
}

static const spec_AddDesc[][][] =
{
	{
	    "{98ED00}To increase the level you need to\n\t{C6F66F}collect grass and meat",
	    "{98ED00}To increase the level you need to\n\t{C6F66F}buy items in the shops",
	    "{98ED00}To increase the level you need to\n\t{C6F66F}collect items",
	    "{98ED00}To increase the level you need to\n\t{C6F66F}create items (no matter successful or not)",
	    "{98ED00}To increase the level you need to\n\t{C6F66F}be in a gang and participate in gangs wars, declare alliances / wars",
	    "{98ED00}To increase the level you need to\n\t{C6F66F}kill players in gangs wars"
	},
	{
	    "{98ED00}Для повышения уровня вам нужно\n\t{C6F66F}собирать траву и мясо",
	    "{98ED00}Для повышения уровня вам нужно\n\t{C6F66F}покупать вещи в магазинах",
	    "{98ED00}Для повышения уровня вам нужно\n\t{C6F66F}собирать предметы",
	    "{98ED00}Для повышения уровня вам нужно\n\t{C6F66F}создавать предметы (неважно, успешно или нет)",
	    "{98ED00}Для повышения уровня вам нужно\n\t{C6F66F}быть в банде и участвовать в войнах банд, объявлять альянсы / войны",
	    "{98ED00}Для повышения уровня вам нужно\n\t{C6F66F}убивать игроков в войнах банд"
	},
	{
	    "{98ED00}Para aumentar el nivel necesitas\n\t{C6F66F}recoger hierba y carne",
	    "{98ED00}Para aumentar el nivel necesitas\n\t{C6F66F}comprar artнculos en las tiendas",
	    "{98ED00}Para aumentar el nivel necesitas\n\t{C6F66F}recoger artнculos",
	    "{98ED00}Para aumentar el nivel necesitas\n\t{C6F66F}crear elementos (no importa si es exitoso o no)",
	    "{98ED00}Para aumentar el nivel necesitas\n\t{C6F66F}estar en una pandilla y participar en guerras de pandillas, declarar alianzas / guerras",
	    "{98ED00}Para aumentar el nivel necesitas\n\t{C6F66F}matar jugadores en guerras de pandillas"
	}
};

static const spec_Names[][][] =
{
	{
	    "Pharmacist",
	    "Huckster",
	    "Collector",
	    "Mechanic",
	    "Diplomat"
	},
	{
	    "Фармацевт",
	    "Барыга",
	    "Сборщик",
	    "Механик",
	    "Дипломат"
	},
	{
	    "Farmacйutico",
	    "Mercachifle",
	    "Coleccionista",
	    "Mecбnico",
	    "Diplomбtico"
	}
};

static const ShopPrices[] = {10, 50, 50, 100, 60, 60, 10, 60, 10, 100, 70};
static const ZombieShopPrices[] = {10, 5, 40};

enum
{
	SPECIALITY_PHARMACIST = 0,
	SPECIALITY_HUCKSTER, // OK
	SPECIALITY_COLLECTOR, // OK
	SPECIALITY_MECHANIC, // OK
	SPECIALITY_DIPLOMAT // OK
};

static const spec_Desc[][][] =
{
	{
	    "Create an antidote and other anti-things",
	    "Reduces prices in the human / zombie shops",
	    "Chance of dropping rare items and ammo per meat",
	    "Chance of successfully creating items",
	    "Has a chance to break the war between gangs, reduce taxes to gang"
	},
	{
	    "Создаёт вакцину и другие анти-вещи",
	    "Снижает цены в магазинах для людей и зомби",
	    "Шанс получить более редкие вещи и больше патронов с мяса",
	    "Шанс успешно создать предмет",
	    "Может разорвать войну между бандами, уменьшает налоги в банде"
	},
	{
		"Crea una vacuna y otras cosas anti cosas",
	    "Reduce precios en tiendas para humanos y zombies",
	    "Posibilidad de obtener objetos mas raros y mas municion",
	    "Aumenta la posibilidad de crear con exito un elemento",
	    "Puede terminar la guerra de pandillas, reducir los impuestos a las pandillas"
	}
};

static const spec_maxRanks[] =   {10, 10, 10, 10, 10};
static const spec_minPercent[MAX_PLAYERS][sizeof(spec_maxRanks)] = {{0,  0,  0,  0,  0}, ...};
static const spec_ToNextRank[][] =
{
	{ 20, 35, 50, 65, 80,   95, 110, 125, 140, 200 },
	{ 15, 40, 65, 90, 115, 140, 165, 190, 215, 240 },
	{ 5,  10, 15, 25,  35,  55,  75, 100, 125, 150 },
	{ 1,   3,  9, 15,  22,  29,  38,  47,  59,  74 },
	{ 3,   9, 15, 29,  47,  65,  87, 112, 142, 177 }
};

enum e_spec
{
	spc_level[sizeof(spec_Desc[])],
	spc_meat,
	spc_grass,
	spc_price,
	spc_dropChance,
	spc_succCreation,
	spc_Diplomat
};

new Specialty[MAX_PLAYERS][e_spec];

stock ImproveHucksterLevel(playerid)
{
    if(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] >= 1)
	{
    	new lvl = Specialty[playerid][spc_level][SPECIALITY_HUCKSTER]-1;
    	if(spec_ToNextRank[SPECIALITY_HUCKSTER][lvl] - spec_minPercent[playerid][SPECIALITY_HUCKSTER] >= 1) spec_minPercent[playerid][SPECIALITY_HUCKSTER]++;
	}
	return 1;
}

stock ShowSpecialty(playerid)
{
	new i, l = Player[playerid][pLang], str[1200] = "", tmp[350], s[32];
	switch(l)
	{
	    case 0: s = "Specialty", str = "{ff6600}Title\t{ff6600}Desc\t{ff6600}Level\n";
	    case 1: s = "Специальность", str = "{ff6600}Название\t{ff6600}Описание\t{ff6600}Уровень\n";
	    case 2: s = "Especialidad", str = "{ff6600}Tнtulo\t{ff6600}Desc\t{ff6600}Nivel\n";
	}
	
	for(i = 0; i < sizeof(spec_maxRanks); i++)
	{
	    if(Specialty[playerid][spc_level][i] >= 1)
	    {
			if(Specialty[playerid][spc_level][i] <= 10) format(tmp, sizeof(tmp), "{1a8cff}%s\t{80bfff}%s\t{FFFFFF}(%d/%d)\n", spec_Names[l][i], spec_Desc[l][i], Specialty[playerid][spc_level][i], spec_maxRanks[i]);
			else format(tmp, sizeof(tmp), "{1a8cff}%s\t{80bfff}%s\t{FFFFFF}(%d/%d)\n", spec_Names[l][i], spec_Desc[l][i], 10, spec_maxRanks[i]);
		}
		else
		{
			format(tmp, sizeof(tmp), "{cccccc}%s\t{e6e6e6}%s\t{cccccc}(%d/%d)\n", spec_Names[l][i], spec_Desc[l][i], 0, spec_maxRanks[i]);
		}
		strcat(str, tmp);
	}
	
	ShowPlayerDialog(playerid, DIALOG_SPECIALITES, DIALOG_STYLE_TABLIST_HEADERS, s, str, "Select", "Back");
	return 1;
}

static const ev_Quests[][][] =
{
	{
		"Kill 100 zombies", // 0 (OK)
		"Kill 50 humans", // 1 (OK)
		"Infect 50 humans", // 2 (OK)
		"Use ability 150 times", // 3 (OK)
		"Collect 5 items", // 4 (OK)
		"Complete daily quest", // 5 (OK)
		"Collect 1500 exp", // 6 (OK)
		"Evacuate", // 7 (OK)
		"Kill 100 zombies using melee weapon(s)", // 8 (OK)
		"Kill 100 zombies using ranged weapon(s)", // 9 (OK)
		"Kill 100 players using abilities", // 10 (OK)
		"Kill 40 players by headshots", // 11 (OK)
		"Jump 1500 times", // 12 (OK)
		"Kill 50 zombies by using spraycan", // 13 (OK)
		"Kill 50 zombies by using Poisoner", // 14 (OK)
		"Use 5 animations", // 15 (OK)
		"Kill 50 zombies using explosion", // 16 (OK)
		"Kill 50 zombies using taser", // 17 (OK)
		"Fright 50 humans", // 18 (OK)
		"Infect 50 players by using drunk vision", // 19 (OK)
		"Kill 50 players using Bussineszombie", // 20 (OK)
		"Infect 50 players by using blind", // 21 (OK)
		"Collect 100 meats", // 22 (OK)
		"Use Fast Zombie ability 50 times", // 23 (OK)
		"Use Stomper's ability 50 times", // 24 (OK)
		"Use Rogues's ability 50 times", // 25 (OK)
		"Use Armour Stealer's ability 50 times", // 26 (OK)
		"Steal 500 exp", // 27 (OK)
		"Kill 50 humans by using radioactive field", // 28 (OK)
		"Freeze 50 humans", // 29 (OK)
		"Destroy 50 engineers boxes", // 30 (OK)
		"Infect 50 humans by using ranged weapon(s)", // 31 (OK)
		"Use Leg Breaker's ability 50 times", // 32 (OK)
		"Cure 50 players as Medic", // 33 (OK)
		"Burn 50 humans", // 34 (OK)
		"Accelerate 50 zombies", // 35 (OK)
		"Evacuate as Civilian 50 times", // 36 (OK)
		"Kill 50 zombies using Boxer / Samurai melee weapon(s)", // 37 (OK)
		"Cure 50 humans from infections", // 38 (OK)
		"Give 200 ammo boxes", // 39 (OK)
		"Evacuate as Hero 50 times", // 40 (OK)
		"Build 100 boxes", // 41 (OK)
		"Evacuate as Roller", // 42 (OK)
		"Use Rogue Human's ability 50 times", // 43 (OK)
		"Kill 50 zombies using Advanced Zombiefan's melee weapon(s)", // 44 (OK)
		"Kill 50 zombies using Zombiefan's melee weapon(s)", // 45 (OK)
		"Evacuate as Tourist 50 times", // 46 (OK)
		"Copy 50 players", // 47 (OK)
		"Kill 500 players", // 48 (OK)
		"Kill 10 players in Gang War", // 49 (OK)
		"Achieve 100 killstreaks in a row", // 50 (OK)
		"Complete 4 daily quests", // 51 (OK)
		"Stole 2000 exp", // 52 (OK)
		"Win 20 duels", // 53 (OK)
		"Kill 10 last humans", // 54 (OK)
		"Protect 50 medics while they curing people", // 55 (OK)
		"Do not let gangs take your map", // 56 (OK)
		"Kill 10 human bosses", // 57 (OK)
		"Evacuate with at least one of your gang member", // 58 (OK)
		"Kill 10 zombie bosses" // 59 (OK)
	},
	{
	    "Убейте 100 зомби",
		"Убейте 50 людей",
		"Заразите 50 людей",
		"Используйте способность 150 раз",
		"Соберите 5 вещей",
		"Завершите ежедневное задание",
		"Соберите 1500 опыта",
		"Эвакуируйтесь",
		"Убейте 100 зомби используя оружие ближнего боя",
		"Убейте 100 зомби используя оружие дальнего боя",
		"Убейте 100 игроков используя способности",
		"Убейте 40 игроков хедшотами",
		"Прыгните 1500 раз",
		"Убейте 50 зомби баллончиком с краской",
		"Убейте 50 зомби используя Отравителя",
		"Используйте 5 анимаций",
		"Убейте 50 зомби при помощи взрыва",
		"Убейте 50 зомби шокером",
		"Испугайте 50 людей",
		"Заразите 50 игроков \"пьяной\" инфекцией",
		"Убейте 50 людей используя Бизнес зомби",
		"Заразите 50 игроков при помощи ослепляющей инфекции",
		"Соберите 100 мяса",
		"Используйте способность быстрого зомби 50 раз",
		"Используйте способность Топтуна 50 раз",
		"Используйте способность Обманщика 50 раз",
		"Заберите броню у 50 человек",
		"Украдите 500 опыта",
		"Убейте 50 людей при помощи радиоактивного поля",
		"Заморозьте 50 человек",
		"Уничтожьте 50 коробок",
		"Зазарите 50 людей оружием дальнего боя",
		"Сломайте ноги людям 50 раз",
		"Вылечите 50 людей от инфекции",
		"Подожгите 50 людей",
		"Ускорьте 50 зомби",
		"Эвакуируйтесь играя за Гражданского 50 раз",
		"Убейте 50 зомби используя ближнее оружие Боксера / Самурая",
		"Вылечите 50 людей от инфекции",
		"Дайте 200 коробок с патронами",
		"Эвакуируйтесь играя за Героя 50 раз",
		"Постройте 100 коробок",
		"Эвакуируйтесь играя за Роллера",
		"Превратитесь в зомби, играя за человека, 50 раз",
		"Убейте 50 зомби используя оружие ближнего боя Улучшеного Фанатика",
		"Убейте 50 зомби используя оружие ближнего боя Фанатика",
		"Эвакуируйтесь 50 раз играя за Туриста",
		"Скопируйте 50 игроков",
		"Убейте 500 игроков",
		"Убейте 10 игроков во время сражения банд",
		"Достигните серии из 100 убийств",
		"Выполните 4 ежедневных задания",
		"Украдите 2000 опыта",
		"Победите в 20 дуэлях",
		"Убейте 10 последних людей",
		"Защитите 50 медиков, пока они лечат игроков",
		"Не дайте другой банде захватить вашу карту",
		"Убейте 10 героев",
		"Эвакуируйтесь хотя бы с 1 человеком из вашей банды",
		"Убейте 10 зомби боссов"
	},
	{
	    "Mata a 100 zombies",
		"Mata a 50 personas",
		"Infectar a 50 personas",
		"Usa la habilidad 150 veces",
		"Recoge 5 cosas",
		"Completa la busqueda diaria",
		"Recoge 1500 experiencias",
		"Evacuar",
		"Mata a 100 zombis con armas cuerpo a cuerpo",
		"Mata a 100 zombis con armas a distancia",
		"Mata a 100 jugadores usando habilidades",
		"Mata a 40 jugadores con disparos a la cabeza",
		"Salta 1,500 veces",
		"Mata a 50 zombis con una lata de aerosol",
		"Mata a 50 zombies con Poisoner",
		"Usa 5 animaciones",
		"Mata a 50 zombis con una explosion",
		"Mata a 50 zombies con una sorpresa",
		"Asustar a 50 personas",
		"Infectar a 50 jugadores con una infeccion de \"borracho\"",
		"Mata a 50 personas usando negocios zombie",
		"Infectar a 50 jugadores con infeccion cegadora",
		"Recoge 100 carnes",
		"Usa la habilidad zombie rapida 50 veces",
		"Usa la habilidad de Stomper 50 veces",
		"Usa la habilidad del Rogue Zombie 50 veces",
		"Quita la armadura de 50 personas",
		"Robar 500 experiencia",
		"Mata a 50 personas con un campo radiactivo",
		"Congelar 50 personas",
		"Destruye 50 cajas",
		"Trae a 50 personas con armas a distancia",
		"Romper las piernas de las personas 50 veces",
		"Cura a 50 personas",
		"Prende fuego a 50 personas",
		"Acelera 50 zombies",
		"Evacuar jugando como Civil 50 veces",
		"Mata a 50 zombis con armas cuerpo a cuerpo de boxeador / samurai",
		"Cura a 50 personas infectadas",
		"Dar 200 cajas de municion",
		"Evacuar jugando como un heroe 50 veces",
		"Construye 100 cajas",
		"Evacuar como Roller",
		"Conviertete en zombie, jugando como hombre, 50 veces",
		"Mata a 50 zombis con Advanced Zombiefun",
		"Mata a 50 zombis con Zombiefun",
		"Evacuar 50 veces como turista",
		"Copia 50 jugadores",
		"Mata a 500 jugadores",
		"Mata a 10 jugadores durante una batalla de pandillas",
		"Alcanza una serie de 100 asesinatos",
		"Completa 4 misiones diarias",
		"Experiencia steal 2000",
		"Gana 20 duelos",
		"Mata a las ultimas 10 personas",
		"Protege a 50 medicos mientras tratan a los jugadores.",
		"No dejes que otra pandilla tome tu tarjeta",
		"Mata a 10 heroes",
		"Evacue con al menos 1 persona de su pandilla",
		"Mata a 10 jefes zombies"
	}
};

// -> Победить в войне за кубки
// Очки Хаоса нелья передать

// Доступно с 5 ранга

// **** [Донат] ****
// Уведомление + 1 ОХ (1 евро) (При активации - +1 ОХ)
// Настороженность +3 ОХ (3 евро) (При активации - +3 ОХ)
// Осознание +5 ОХ (4 евро) (При активации - +5 ОХ)
// Созрение +10 ОХ (6 евро) (При активации - +10 ОХ)
// ********************

// Винтовка - шанс 53%
// Ближний бой - 40%
// Пистолет, Дробовик - 5
// Автомат, Полуавтомат - 2

// Случайный расходник (Дневная награда) - 1 очко апокалипсиса
// Новые итемы на персонажа - 2 очка апокалипсиса (Черепаха за спиной, акула в руке)

// Случайный цвет на оружие - 3 очков апокалипсиса
// Сундук: Созерцатель Хаоса - 5 очков апокалипсиса

// Награда: Сундук с эффектом для (Пистолетов, Автоматов, Дробовков, Полуавтоматов, Ближнего оружия, Снайперок) (Макс. 1 на слот)
/* До 3 эффектов на оружии
{
	Отравление, (Шанс = Рандом) (1-50%) (Длительность = Рандом)
	Кровотичение, (Шанс = Рандом) (1-50%) (Длительность = Рандом)
	Радиация, (Шанс = Рандом) (1-50%) (Длительность = Рандом)
	Святые патроны, // +5% урона всем зомби (Шанс = Рандом) (1-50%) (В Gang War - лечит врага)
	Благословение, // Отключает способности зомби (Шанс = Рандом) (1-50%) Длительность = 2 - (макс. 10 сек.) (В Gang War - лечит врага)
	
	Поджог, (Шанс = Рандом) (1-50%) (Длительность = Рандом) (Не доступно в Gang War, есть альтернатива)
    Снижение брони до 30%, // (Не доступно в Gang War)
	Опрокидывание, // Опрокидывает зомби (Шанс = Рандом) (1-50%) (Не доступно в Gang War)
	Мучения, // Всех зомби вокруг (2м) получают урон (Не доступно в Gang War)
	Разряд, // Запрещает цели бегать, прыгать (Не доступно в Gang War)
	
	Новый цвет оружия, (Рандом)
}
*/

// Задание для открытия

enum
{
	chaos_KILL_150_ZOMBIES, // OK
	chaos_KILL_75_HUMANS, // OK
	chaos_DIE_200, // OK
	chaos_KILLSTREAK_50, // OK
	chaos_EVACUATE_30, // OK
	chaos_KILL_ZOMBIEBOSS_5, // OK
	chaos_WIN_20_DUELS, // OK
	chaos_INFECT_100_HUMANS, // OK
	chaos_CURE_30_HUMANS, // OK
	chaos_KILL_50_BYSHOTGUN, // OK
	chaos_KILL_50_BYMP5, // OK
	chaos_KILL_50_BYSNIPER, // OK
	chaos_PLAY_3_HOURS, // OK
	chaos_KILL_50_BYFISTS, // OK
	chaos_KILL_75_PLAYERS // OK
};

static const ChaosChestCondition[] =
{
	150, 75, 200, 50, 30, 5, 20,
	100, 30, 50, 50, 50, 3, 50,
	75
};

enum
{
	chaos_RIFLE,
	chaos_MELEE_WEAPON,
	chaos_PISTOL,
	chaos_SHOTGUN,
	chaos_SUBMACHINE_GUN,
	chaos_ASSAULT_RIFLE,
	chaos_COLOR,
	chaos_ATTACHMENT,
	chaos_PET,
	chaos_EFFECT
};

enum 
{
	chaos_POISONING,
	chaos_BLEEDING,
	chaos_RADIATION,
	chaos_HOLY_AMMO,
	chaos_BLESSING,
	chaos_ARSON,
	chaos_ARMOR_DESTRUCTION,
	chaos_KNOCK_OVER,
	chaos_TORMENT,
	chaos_DISCHARGE
};

static const chaosEffect[][][] =
{
	{
	    "Poisoning",
	    "Bleeding",
	    "Radiation",
	    "Holy Ammo",
	    "Blessing",
	    "Arson",
	    "Armor Destruction",
	    "Knock Over",
	    "Torment",
	    "Discharge"
	},
	{
	    "Отравление",
	    "Кровотичение",
	    "Радиация",
	    "Святые Патроны",
	    "Благословение",
	    "Поджог",
	    "Разрушение Брони",
	    "Опрокидывание",
	    "Мучения",
	    "Разрядка"
	},
	{
		"Envenenamiento",
	    "Sangrado",
	    "Radiaciуn",
	    "Municiуn Santa",
	    "Bendiciуn",
	    "Incendio provocado",
	    "Destrucciуn de Armadura",
	    "Derribar",
	    "Tormento",
	    "Descarga"
	}
};

static const chaosEffectDesc[][][] =
{
	{
	    "Has a small chance of triggering, but high damage\nfits well with weapons with slash damage",
	    "Has a small chance of triggering, but high damage\nfits well with weapons with slash damage",
	    "Has a high chance of triggering and large damage\nwell suited to weapons with impact damage",
	    "Has a small chance of triggering\nwell suited to ranged weapons",
	    "Has a small chance of triggering\nwell suited to ranged weapons",
	    "Has a good chance of triggering\nsuitable for any weapon",
	    "Has a small chance of triggering and large damage\nwell suited to weapons with impact damage",
	    "Has a small chance of triggering and small damage\nwell suited to weapons with impact damage",
	    "Has a small chance of triggering, but high damage\nfits well with weapons with slash damage",
	    "Has a small chance of triggering\nsuitable for any weapon"
	},
	{
	    "Имеет маленький шанс срабатывания, но большой урон\nхорошо подходит к оружию с режущим уроном",
	    "Имеет маленький шанс срабатывания, но большой урон\nхорошо подходит к оружию с режущим уроном",
	    "Имеет высокий шанс срабативания и большой урон\nхорошо подходит к оружию с ударним типом урона",
	    "Имеет маленький шанс срабатывания\nхорошо подходит к огнестрельному оружию",
	    "Имеет маленький шанс срабатывания\nхорошо подходит к огнестрельному оружию",
	    "Имеет хороший шанс срабатывания\nподходит к любому оружию",
	    "Имееет маленький шанс срабативания и большой урон\nхорошо подходит к оружию с ударним типом урона",
	    "Имееет маленький шанс срабативания и слабый урон\nхорошо подходит к оружию с ударним типом урона",
	    "Имеет маленький шанс срабатывания, но большой урон\nхорошо подходит к оружию с режущим уроном",
	    "Имеет маленький шанс срабативания\nподходит к любому оружию"
	},
	{
	    "Tiene una pequeсa posibilidad de disparar, pero un daсo alto\nse adapta bien a las armas con daсo de corte",
	    "Tiene una pequeсa posibilidad de disparar, pero un daсo alto\nse adapta bien a las armas con daсo de corte",
	    "Tiene una alta probabilidad de disparar y un gran daсo\nmuy adecuado para armas con daсo de impacto",
	    "Tiene una pequeсa posibilidad de disparar\nmuy adecuado para armas a distancia",
	    "Tiene una pequeсa posibilidad de disparar\nmuy adecuado para armas a distancia",
	    "Tiene una buena probabilidad de disparar\nadecuado para cualquier arma",
	    "Tiene una pequeсa posibilidad de disparar y un gran daсo\nmuy adecuado para armas con daсo de impacto",
	    "Tiene una pequeсa posibilidad de disparar y un daсo pequeсo\nmuy adecuado para armas con daсo de impacto",
	    "Tiene una pequeсa posibilidad de disparar, pero un daсo alto\nse adapta bien a las armas con daсo de corte",
	    "Tiene una pequeсa posibilidad de disparar\nadecuado para cualquier arma"
	}
};

static const chaos_wordsS[][] = { "poi-", "blee-",  "radi-", "hol-", "bless-", "arso-", "des-", "kno-", "tor-", "dis-" };
static const chaos_wordsM[][] = { "sin",    "lee",  "adi",   "ly",   "les",    "aso",   "tru",  "noc",  "ame",  "rge" };
static const chaos_wordsE[][] = { "son",    "edi",  "ati",   "ol",   "edi",    "aro",   "ruc",  "ove",  "men",  "cha" };

static const chaos_ARwordsS[][] = {"abs-", "eva-", "acc-", "rati-", "redu-", "cedu-", "ins-", "inci-", "inid-", "hure-", "killa-", "aro-", "eff-"};
static const chaos_ARwordsM[][] = {"sor",  "sio",  "racy", "reg",   "crit",  "cha",   "dama", "hca",   "cama",  "redu",  "huma",   "heal", "prot"};
static const chaos_ARwordsE[][] = {"ion",  "sion", "acy",  "io",    "mage",  "crita", "insa", "hita",  "meja",  "cing",  "inse",   "ene",    "on"};

static const chaosChest[][][] =
{
	{
		"{bf00ff}Chaos Chest for",
		"{d966ff}Rifle", // 1
		"{d966ff}Melee Weapon", // 2
		"{d966ff}Pistol", // 3
		"{d966ff}Shotgun", // 4
		"{d966ff}Submachine Gun", // 5
		"{d966ff}Assault Rifle", // 6
		"{d966ff}Color Weapon", // 7
		"{d966ff}Attachment", // 8
		"{d966ff}Pet", // 9
		"{d966ff}Effect", // 10
		
		"{c61aff}Before opening this chest, I want you to prove your right to own this award\n", // 12
		"{ffd633}Opening conditions:\n\t", // 13
		"{fff0b3}Kill 150 zombies", // 14
		"{fff0b3}Kill 75 humans", // 15
		"{fff0b3}Die 200 times from players", // 16
		"{fff0b3}Achieve 50 killstreak in a row", // 17
		"{fff0b3}Evacuate 30 times", // 18
		"{fff0b3}Kill 5 zombie bosses", // 19
		"{fff0b3}Win 20 duels", // 20
		"{fff0b3}Infect 100 humans playing as Standard Zombie", // 20
		"{fff0b3}Cure 30 humans from infection", // 21
		"{fff0b3}Kill 50 zombies using Shotgun", // 22
		"{fff0b3}Kill 50 zombies using MP5", // 23
		"{fff0b3}Kill 50 zombies using Sniper Rifle", // 24
		"{fff0b3}Play 3 hours in a row{FFFFFF}\n\t(re-login needed)", // 25
		"{fff0b3}Kill 50 zombies using fists", // 26
		"{fff0b3}Kill 75 players" // 27
	},
	{
	    "{bf00ff}Сундук Хаоса на", // 0
	    "{d966ff}Винтовку", // 1
		"{d966ff}Ближний Бой", // 2
		"{d966ff}Пистолет", // 3
		"{d966ff}Дробовик", // 4
		"{d966ff}Пистолет-пулемёт", // 5
		"{d966ff}Автомат", // 6
 		"{d966ff}Цветное оружие", // 7
		"{d966ff}Украшение", // 8
		"{d966ff}Питомца",
		"{d966ff}Эффект",
		
		"{c61aff}Прежде чем открыть этот сундук, я хочу чтобы ты доказал своё право владеть этой наградой\n", // 9
		"{ffd633}Условия открытия:\n\t", // 10
		"{fff0b3}Убить 150 зомби", // 11
		"{fff0b3}Убить 75 людей", // 12
		"{fff0b3}Умереть 200 раз из за другого игрока", // 13
		"{fff0b3}Набрать серию из 50 убийств", // 14
		"{fff0b3}Эвакуироватся 30 раз", // 15
		"{fff0b3}Убить 5 зомби боссов", // 16
		"{fff0b3}Победите в 20 дуэлях", // 17
		"{fff0b3}Заразить 100 людей играя за обычного зомби", // 18
		"{fff0b3}Вылечите 30 людей от инфекции", // 19
		"{fff0b3}Убейте 50 зомби используя Дробовик", // 20
		"{fff0b3}Убейте 50 зомби используя MP5", // 21
		"{fff0b3}Убейте 50 зомби используя Снайперскую Винтовку", // 22
		"{fff0b3}Отиграйте на сервере 3 часа за раз{FFFFFF}\n\t(требуется перезаход для старта счетчитка)", // 23
		"{fff0b3}Убейте 50 зомби используя кулаки", // 24
		"{fff0b3}Убейте 75 игроков" // 25
	},
	{
	    "{bf00ff}Cofre del Caos para",
		"{d966ff}Rifle", // 1
		"{d966ff}Arma cuerpo a cuerpo", // 2
		"{d966ff}Pistola", // 3
		"{d966ff}Escopeta", // 4
		"{d966ff}Pistola Ametralladora", // 5
		"{d966ff}Fusil de asalto", // 6
		"{d966ff}Arma de color", // 7
		"{d966ff}Adjunto archivo", // 8
		"{d966ff}Mascota",
		"{d966ff}Efecto",

		"{c61aff}Antes de abrir este cofre, quiero que demuestres tu derecho a poseer este premio\n", // 9
		"{ffd633}Condiciones de apertura:\n\t", // 10
		"{fff0b3}Matar 150 zombies", // 11
		"{fff0b3}Matar 75 humanos", // 12
		"{fff0b3}Morir 200 veces de jugadores", // 13
		"{fff0b3}Consigue 50 asesinatos seguidos", // 14
		"{fff0b3}Evacuar 30 veces", // 15
		"{fff0b3}Matar 5 jefes zombies", // 16
		"{fff0b3}Ganar 20 duelos", // 17
		"{fff0b3}Infecta a 100 humanos jugando como zombie estбndar", // 18
		"{fff0b3}Cura a 30 humanos de la infecciуn", // 19
		"{fff0b3}Matar 50 zombies usando escopeta", // 20
		"{fff0b3}Matar 50 zombies usando MP5", // 21
		"{fff0b3}Matar 50 zombies usando Rifle de francotirador", // 22
		"{fff0b3}Juega 3 horas seguidas{FFFFFF}\n\t(se necesita reiniciar sesiуn)", // 23
		"{fff0b3}Matar 50 zombies usando puсos", // 24
		"{fff0b3}Matar 75 jugadores" // 25
	}
};

stock CheckForChaosChestOpen(playerid, index)
{
	for( new i; i < MAX_SLOTS; i++ )
	{
	    if(Inventory[playerid][i][II_ID] > -1 && Inventory[playerid][i][II_CHAOS_INDEX] == index)
	    {
	        if(Inventory[playerid][i][II_CHAOS_PROGRESS] < ChaosChestCondition[index]) ++Inventory[playerid][i][II_CHAOS_PROGRESS];
	        #if debug_mode == 0
		    if(index == chaos_KILL_ZOMBIEBOSS_5)
		    {
				new __action[256], y, m, d, h, s, o;
				TimestampToDate(gettime(), y, m, d, h, o, s, 3);
				DiscordChannel = DCC_FindChannelById("727667573654683758");
			    format(__action, sizeof(__action), "%d-%02d-%02d %02d:%02d %s[%d] trying to unlock (Kill 5 zombie bosses) (%d/%d)", y, m, d, h, o, Player[playerid][UserName], Player[playerid][pAccountID], Inventory[playerid][i][II_CHAOS_PROGRESS], ChaosChestCondition[index]);
				DCC_SendChannelMessageEx(DiscordChannel, __action);
			}
			#endif
		}
	}
}


// Продажа оружия с эффектом

// Уворот и скиллы влияют на попадание, снижение урона

new bsNames[][] =
{
	"{FFFFFF}Item #%d\t{F1C40F}Increased EXP\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 0
	"{FFFFFF}Item #%d\t{F1C40F}Increased Kills\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 1
	"{FFFFFF}Item #%d\t{F1C40F}Increased Chance To Be A Human Boss\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 2
	"{FFFFFF}Item #%d\t{F1C40F}Increased Chance To Be A Zombie Boss\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 3
	"{FFFFFF}Item #%d\t{F1C40F}Increased Ammo\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 4
	"{FFFFFF}Item #%d\t{F1C40F}Increased Chance To Be A Human\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 5
	"{FFFFFF}Item #%d\t{F1C40F}Increased Chance To Be A Zombie\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 6
	"{FFFFFF}Item #%d\t{F1C40F}Additional Weapon: {FFFFFF}%s{F1C40F}\t{F39C12}%d GC\t{DDDDDD}%d Days\n" // 7
};

enum ac_req
{
	ac_reason[16],
	ac_type,
	ac_additional,
	ac_time,
	Float:ac_pl
};
new AC_Requests[MAX_PLAYERS][ac_req];

#define ADMIN_CHANNEL 9999
#define DIALOG_CHANNELS 10345

enum CH_INFO
{
	CH_OwnerID,
	CH_Name[32],
	CH_Moderators[10],
	CH_Administrators[10],
	CH_MembersIDs[50],
	CH_Closed,
	CH_Time,
};

new Channels[50][CH_INFO];

fun ClearChannels()
{
	for( new i, j; i < sizeof(Channels); i++)
	{
	    Channels[i][CH_OwnerID] = 0;
	   	strmid(Channels[i][CH_Name], "New Channel", 0, 32, 32);
		for( j = 0; j < 10; j++) Channels[i][CH_Moderators][j] = 0;
		for( j = 0; j < 10; j++) Channels[i][CH_Administrators][j] = 0;
		for( j = 0; j < 50; j++) Channels[i][CH_MembersIDs][j] = 0;
		Channels[i][CH_Closed] = 0;
		Channels[i][CH_Time] = 0;
	}
	return 1;
}

enum DefenderBonuses
{
	DefType[2],
	AttType[2],
	NeiType[2],
	InfType[2],
};

new Defender[MAX_PLAYERS][DefenderBonuses];

enum v_Buffs
{
	vb_IID[2], // Increased items drop
	vb_IEXP[2], // Increased exp
	vb_IKS[2], // Increased kills
	vb_ICBH[2], // Increased Chance to be a Human
	vb_IAM[2], // Increased Ammo
	vb_IAR[2], // Increased Armour
	vb_IMK[2], // Med Kit
	vb_ICBHB[2], // Increased Chance to be a Human Boss
	vb_Weapon[2], // type, Time
	vb_Skin[2], // id, time
	vb_HealerSet[2], // Exist, time (/cure, /heal)
	
};

new VipBuffs[MAX_PLAYERS][v_Buffs];

new randomWeaponAmmo[][3] =
{
	{22, 250, 10}, // Colt (0)
	{18, 20, 60}, // Molotov (1)
	{16, 10, 60}, // Grenade (2)
	{26, 30, 80}, // Sawn-off (3)
	{27, 30, 80}, // Spaz (4)
	{28, 500, 30}, // Uzi (5)
	{35, 5, 150}, // RPG (6)
	{36, 5, 150}, // Heat Seeker (RPG) (7)
	{2, 1, 5}, // Gold Club (8)
	{37, 500, 150}, // Flamethower (9)
	{17, 10, 5} // Teargas (10)
};

// 2 - boosts
// 1 - weapon
// 1 - random temp skin


/// don't forget to ResetVars
enum eAchievements
{
	thropyManiac,
	AbilityUses,
	Float:Runned,
	Lucky,
	HumansKilled,
	ZombiesKilled,
	MeatsCollected,
	eKillstreaks,
	eKillstreaksFail,
	Deaths,
	CuredHumans,
	Purchases,
	ZombieClassesUses,
	HumanClassesUses,
	WrongResort,
	esClan,
	reportTimes,
	AnimationsUsed,
	BoxesBuilt,
	AmmoGiven,
	Hours,
	Minutes,
	Seconds,
	
	Jumper,
	IronFist,
	AdrenalineDose,
	ac_InAirTime,
	CuttingTheBrink,
	ctg_time[2],
	TimeVictim,
	ac_QuestsCompleted,
	ac_PlayedTime,
	ac_Ruler,
	ac_Merchant,
	ac_Pets,
	ac_newPets,
	eErgoProxy,
};

/// don't forget to ResetVars
new Achievements[MAX_PLAYERS][eAchievements];
/// don't forget to ResetVars

stock UpdateSign(playerid)
{
	new query[144];
    mysql_format(Base, query, sizeof(query), "UPDATE `signs` SET `EXP`='%d',`VIP`='%d',`Admin`='%d' WHERE `Sign` = '%e' AND `build`='"SERVER_BUILD"'",
	Player[playerid][pXP],
	Player[playerid][pVip],
	Player[playerid][pAdmin],
	Player[playerid][pSign]);
	mysql_tquery(Base, query, "", "", "");
}

enum pl_TrophyInInv
{
	plii_ID[12],
	plii_Type[12],
	plii_Rare[12],
	plii_Rank[12],
	plii_RankToNext[12],
	plii_MaxRank[12]
};

new TrophyInInv[MAX_PLAYERS][pl_TrophyInInv];

static const TrophyName[][] =
{
	"Vitality Trophy",
	"Accuracy Trophy",
	"Evasion Trophy",
	"Warrior Trophy",
	"Trophy of a Titan",
	"Mirror Trophy"
};

static const TrophyDesc[][] =
{
	"{FF0000}Increases Maximum Health",
	"{ffdd99}Increases damage to ranged weapons",
	"{dfff80}Has a chance to dodge enemy attack",
	"{FF0000}Increases Melee Damage",
	"{d6d6c2}Has a chance to throw the enemy back when he attacks you",
	"{99ccff}Has a chance to reflect part of the damage back to the enemy"
};

/*static const TrophyRares[][] =
{
	"{e0e0d1}Common",
	"{ffdd99}Rare",
	"{b3daff}Unique",
	"{ff9900}Epic",
    "{9900ff}Legendary"
};*/

static const TrophyRares[][] =
{
    "{9900ff}Legendary",
    "{ff9900}Epic",
    "{b3daff}Unique",
    "{ffdd99}Rare",
	"{e0e0d1}Common"
};

stock ShowTrophys(playerid)
{
	new i, c = 0, str[128], di[850];
	for( i = 0; i < 12; i++)
	{
	    if(TrophyInInv[playerid][plii_ID][i] > -1)
	    {
	        format(str, sizeof(str), "{FFFFFF}%d. %s - %s{FFFFFF} (Rank: %d of %d)\n", i+1, TrophyName[TrophyInInv[playerid][plii_Type][i]], TrophyRares[TrophyInInv[playerid][plii_Rare][i]], TrophyInInv[playerid][plii_Rank][i], TrophyInInv[playerid][plii_MaxRank][i]);
            strcat(di, str);
            c++;
		}
		else strcat(di, "Empty slot!\n");
	}
	if(c >= 1) ShowPlayerDialog(playerid, DIALOG_TROPHYS, DIALOG_STYLE_LIST, "{FF0000}Trophys", di, "Select", "Cancel");
	else ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "{FF0000}Trophys", "Empty!", "Ok", "");
}

stock AddTrophyInInv(playerid, type, rare, rank, exp, rank_max)
{
	for( new i = 0; i < 12; i++)
	{
	    if(TrophyInInv[playerid][plii_ID][i] == -1)
	    {
            TrophyInInv[playerid][plii_ID][i] = i;
            TrophyInInv[playerid][plii_Type][i] = type;
            TrophyInInv[playerid][plii_Rare][i] = rare;
            TrophyInInv[playerid][plii_Rank][i] = rank;
            TrophyInInv[playerid][plii_RankToNext][i] = exp;
            TrophyInInv[playerid][plii_MaxRank][i] = rank_max;
			return i;
	    }
	}
	return -1;
}

stock TryToAddTrophyInInv(playerid)
{
	new id = -1, i;
	for( i = 0; i < 12; i++)
	{
	    //printf("Index: %d / Value: %d", i, TrophyInInv[playerid][plii_ID][i]);
	    if(TrophyInInv[playerid][plii_ID][i] <= -1)
	    {
	        //printf("(ADDED) Index: %d / Value: %d", i, TrophyInInv[playerid][plii_ID][i]);
			return i;
	    }
	}
	return id;
}

fun Float:SetVitality(playerid)
{
	new id = GetMaxTrophy(playerid, 0), Float: hp = 0.0, d = 1;
	if( id > -1 )
	{
	    switch(TrophyInInv[playerid][plii_Rare][id])
		{
		    case 4: d = 1;
		    case 3: d = 2;
		    case 2: d = 3;
		    case 1: d = 5;
		    case 0: d = 7;
		    default: d = 1;
		}
		hp = float(TrophyInInv[playerid][plii_Rank][id] * d);
	}
	return hp;
}

fun Float:SetAccuracy(playerid)
{
	new id = GetMaxTrophy(playerid, 1), Float: hp = 0.0, d = 0;
	if( id > -1 )
	{
	    switch(TrophyInInv[playerid][plii_Rare][id])
		{
		    case 4: d = 1;
		    case 3: d = 1;
		    case 2: d = 2;
		    case 1: d = 2;
		    case 0: d = 3;
		    default: d = 1;
		}
		hp = (float(TrophyInInv[playerid][plii_Rank][id] * d) / 7.5);
	}
	return hp;
}

fun GiveEvasion(playerid)
{
    new id = GetMaxTrophy(playerid, 2), d = 0;
	if( id > -1 )
	{
	    switch(TrophyInInv[playerid][plii_Rare][id])
		{
		    case 4: d = 1;
		    case 3: d = 1;
		    case 2: d = 2;
		    case 1: d = 2;
		    case 0: d = 3;
		    default: d = 0;
		}
		if((random(15) - TrophyInInv[playerid][plii_Rank][id] * d) <= 0) return d;
	}
	return false;
}

fun Float:SetWarrior(playerid)
{
	new id = GetMaxTrophy(playerid, 3), Float: hp = 0.0, d = 1;
	if( id > -1 )
	{
	    switch(TrophyInInv[playerid][plii_Rare][id])
		{
		    case 4: d = 1;
		    case 3: d = 1;
		    case 2: d = 2;
		    case 1: d = 2;
		    case 0: d = 3;
		    default: d = 1;
		}
		hp = float(TrophyInInv[playerid][plii_Rank][id] * d);
	}
	return hp;
}

fun RandomMessages()
{
    new randomMsg = random(sizeof(randomMessages[]));
    foreach(Player, i) SendClientMessage(i, -1, randomMessages[Player[i][pLang]][randomMsg]);
}

fun OnGameModeExit()
{
	for( new i; i < 29; i++ )
	{
		DestroyActor(GangDealer[i]);
		Delete3DTextLabel(GangHouseText[i]);
        Delete3DTextLabel(GangHouseExitText[i]);
	}
	
    UnloadFilterScript(Map[m_FSMapName]);
    if(strlen(EventFilterScript) >= 1) UnloadFilterScript(EventFilterScript);
    
    if(IsValidObject(mapGate))
	{
		DestroyObject(mapGate);
		mapGate = INVALID_OBJECT_ID;
	}
	
	if(IsValidObject(mapGate2))
	{
		DestroyObject(mapGate2);
		mapGate2 = INVALID_OBJECT_ID;
	}
    
	mysql_close(Base);
	foreach(Player, i)
	{
	    TextDrawHideForPlayer(i, XP[i]);
	    
	    for( new j; j < sizeof(DisplayAlerts); j++ )
		{
			TextDrawHideForPlayer(i, DisplayAlerts[j][i]);
			TextDrawDestroy(DisplayAlerts[j][i]);
	    }
	    
	    for( new j; j < sizeof(DisplayInfo); j++ )
		{
			TextDrawHideForPlayer(i, DisplayInfo[j][i]);
			TextDrawDestroy(DisplayInfo[j][i]);
	    }
	    
	    TextDrawHideForPlayer(i, AliveInfo[i]);
	    TextDrawHideForPlayer(i, FPS_Info[i]);
	    
	    TextDrawHideForPlayer(i, UntillEvac[0][i]);
	    TextDrawHideForPlayer(i, UntillEvac[0][i]);
	    
		TextDrawDestroy(XP[i]);
		TextDrawDestroy(AliveInfo[i]);
		TextDrawDestroy(FPS_Info[i]);
		TextDrawDestroy(UntillEvac[0][i]);
	    TextDrawDestroy(UntillEvac[1][i]);
		
		
	    TextDrawHideForPlayer(i, Infected[i]);
		TextDrawDestroy(Infected[i]);
		TextDrawHideForPlayer(i, SpawnProtection[i]);
		TextDrawDestroy(SpawnProtection[i]);
		for( new j; j < 5; j++ )
		{
	    	TextDrawHideForPlayer(i, ServerIntro[i][j]);
			TextDrawDestroy(ServerIntro[i][j]);
		}
		for( new j; j < 8; j++ )
		{
	    	TextDrawHideForPlayer(i, APanel[i][j]);
			TextDrawDestroy(APanel[i][j]);
		}
		
		TextDrawHideForPlayer(i, Poision[i]);
		TextDrawDestroy(Poision[i]);
		
		TextDrawHideForPlayer(i, GreenScreen[i]);
		TextDrawDestroy(GreenScreen[i]);
		
		TextDrawHideForPlayer(i, AIR[i]);
		TextDrawDestroy(AIR[i]);
		TextDrawHideForPlayer(i, Blidnes[i]);
		TextDrawDestroy(Blidnes[i]);
		TextDrawHideForPlayer(i, Stun[i]);
		TextDrawDestroy(Stun[i]);
		TextDrawHideForPlayer(i, Blind[i]);
		TextDrawDestroy(Blind[i]);
    }
    
	TextDrawHideForAll(TimeLeft);
	TextDrawDestroy(TimeLeft);
	return 1;
}

Float:GetXYInFrontOfPlayer(playerid, &Float:q, &Float:w, Float:distance)
{
	new Float:a;
	GetPlayerPos(playerid, q, w, a);
	if (GetPlayerState(playerid) == PLAYER_STATE_DRIVER) GetVehicleZAngle(GetPlayerVehicleID(playerid), a);
	else GetPlayerFacingAngle(playerid, a);
	q += (distance * floatsin(-a, degrees));
	w += (distance * floatcos(-a, degrees));
	return a;
}

Float:GetXYBehindPlayer(playerid, &Float:q, &Float:w, Float:distance)
{
	new Float:a;
	GetPlayerPos(playerid, q, w, a);
	if (GetPlayerState(playerid) == PLAYER_STATE_DRIVER) GetVehicleZAngle(GetPlayerVehicleID(playerid), a);
	else GetPlayerFacingAngle(playerid, a);
	q += (distance * -floatsin(-a, degrees));
	w += (distance * -floatcos(-a, degrees));
	return a;
}

fun Float:SetFaceCords(playerid, Float:x1, Float:y1, Float:z1)
{
    new Float:x2,Float:y2,Float:z2;
    GetPlayerPos(playerid, x2,y2,z2);

    new Float:DX = floatabs(x2-x1);
    new Float:DY = floatabs(y2-y1);

  	new Float:yaw = 0.0;

    if(DY == 0 || DX == 0)
    {
      if(DY == 0 && DX > 0) {
            yaw = 0.0;
           }
        else if(DY == 0 && DX < 0) {
            yaw = 180.0;
            }
        else if(DY > 0 && DX == 0) {
            yaw = 90.0;
            }
        else if(DY < 0 && DX == 0) {
            yaw = 270.0;
           }
        else if(DY == 0 && DX == 0) {
            yaw = 0.0;
            }
    }
    else
    {
        yaw = atan(DX/DY);
        if(x1 > x2 && y1 <= y2)
		{
          	yaw = yaw + 90.0;
		}
    	else if(x1 <= x2 && y1 < y2)
		{
          	yaw = 90.0 - yaw;
		}
    	else if(x1 < x2 && y1 >= y2)
		{
          	yaw = yaw - 90.0;
		}
    	else if(x1 >= x2 && y1 > y2)
		{
          	yaw = 270.0 - yaw;
 		}
    }
    return yaw - 90.0;
}


fun CockroachMove()
{
    static keys, updown, leftright, Float:pos[3], j;
    static Float:x, Float:y, Float:z, Float:angle;

	foreach(Player, i)
    {
        GetPlayerKeys(i,keys,updown,leftright);
        
        if(Invisible[i])
		{
		   	if(updown == KEY_UP || updown == KEY_DOWN || leftright == KEY_LEFT || leftright == KEY_RIGHT)
		   	{
		   		GetPlayerCameraPos(i, pos[0], pos[1], pos[2]);
		   		SetPlayerFacingAngle(i, SetFaceCords(i, pos[0], pos[1], pos[2]));
				ApplyAnimation(i, "PED", "Player_Sneak", 4.1, 0, 1, 1, 0, 500, 1);
			}

            if(FatalAttack[i]) PlayerPlaySound(i, 14406, 0.0, 0.0, 0.0);

		    GetPlayerPos(i, pos[0], pos[1], pos[2]);
			for( j = 0; j < MAX_PLAYERS; j++ )
			{
			    if(IsPlayerConnected(j) && j != i)
			    {
			        PlayerPlaySound(j, 0, 0.0, 0.0, 0.0);

			        if(IsPlayerInRangeOfPoint(j, 6.0,  pos[0], pos[1], pos[2]))
					{
					    if(GetPlayerVirtualWorldForPlayer(i) != GetPlayerVirtualWorldForPlayer(j))
					    {
					        if(FatalAttack[i]) PlayerPlaySound(j, 14406, 0.0, 0.0, 0.0);
					    }
					}

					if(IsPlayerInRangeOfPoint(j, 2.0,  pos[0], pos[1], pos[2]))
					{
					    if(GetPlayerVirtualWorldForPlayer(i) != GetPlayerVirtualWorldForPlayer(j))
					    {
						    SetPlayerVirtualWorldForPlayer(j, i, 0);
						    SetPlayerVirtualWorldForPlayer(i, j, 0);
						    //printf(">>> Show");
						}
						else
						{
					    	SetPlayerVirtualWorldForPlayer(j, i, 250+j);
					    //printf("Hide");
						}
					}
					else
					{
					    SetPlayerVirtualWorldForPlayer(j, i, 250+j);
					    //printf("Hide");
					}
				}
		    }
		}
        
        if(InGangHouse[i] && GetPlayerDrunkLevel(i) >= 3000)
        {
            if(updown == KEY_UP) ApplyAnimation(i, "PED", "WALK_drunk", 4.1, 0, 1, 1, 0, 700, 1);
            if(updown == KEY_DOWN) ApplyAnimation(i, "PED", "WALK_drunk", 4.1, 0, 1, 1, 0, 700, 1);
            if(leftright == KEY_LEFT) ApplyAnimation(i, "PED", "WALK_drunk", 4.1, 0, 1, 1, 0, 700, 1);
            if(leftright == KEY_RIGHT) ApplyAnimation(i, "PED", "WALK_drunk", 4.1, 0, 1, 1, 0, 700, 1);
        }
        
        if(updown == KEY_UP || updown == KEY_DOWN || leftright == KEY_LEFT || leftright == KEY_RIGHT)
        {
    		if(IsPlayerConnected(PlayerControllPlayer[i]))
    		{
                if(GetPlayerTeamEx(PlayerControllPlayer[i]) == TEAM_HUMAN && IsPlayerControlledBy[PlayerControllPlayer[i]] == i)
				{
				    new j, bool:f=false;
				    for( j = 0; j < sizeof(Map[ZombieSpawnX]); j++ )
					{
						if(IsPlayerInRangeOfPoint(i, 15.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j]))
						{
						    f = true;
						}
					}
					if(!f)
					{
					    new Float:ang;
					    GetPlayerFacingAngle(i, ang);
					    SetPlayerFacingAngle(PlayerControllPlayer[i], ang);
						ApplyAnimation(PlayerControllPlayer[i], "PED", "run_old", 4.1, 0, 1, 1, 0, 700, 1);
					}
				}
    		}
		}
		
		if(CockroachAbility[i] && !IsPlayerOnDuel[i] && !InGangHouse[i] && !InGangWar{i})
        {
			if(updown == KEY_UP)
			{
				if(GetPlayerState(i) == PLAYER_STATE_ONFOOT)
				{
					GetPlayerPos(i, x, y, z);
					GetXYInFrontOfPlayer(i, x, y, 5.0);
					SetPlayerPosAC(i, x, y, z);
					SetCameraBehindPlayer(i);
				}
			}
			else if(updown == KEY_DOWN)
			{
				if(GetPlayerState(i) == PLAYER_STATE_ONFOOT)
				{
					GetPlayerPos(i, x, y, z);
					GetXYBehindPlayer(i, x, y, 5.0);
					SetPlayerPosAC(i, x, y, z);
					SetCameraBehindPlayer(i);
				}
			}
			if(leftright == KEY_LEFT)
		 	{
				if(GetPlayerState(i) == PLAYER_STATE_ONFOOT)
				{
					GetPlayerFacingAngle(i, angle);
					SetPlayerFacingAngle(i, angle+10);
					SetCameraBehindPlayer(i);
				}
			}
			else if(leftright == KEY_RIGHT)
			{
				if(GetPlayerState(i) == PLAYER_STATE_ONFOOT)
				{
					GetPlayerFacingAngle(i, angle);
					SetPlayerFacingAngle(i, angle-10);
					SetCameraBehindPlayer(i);
				}
			}
        }
	}
}

fun CancelQuiz()
{
	if(QuizStarted)
	{
    	foreach(Player, i) SendClientMessage(i, -1, serverLang[Player[i][pLang]][176]);
    	QuizStarted = false;
    	if(QuizIndex > -1) QuizIndex = -1;
	}
	QuizStarted = false;
	if(QuizIndex > -1) QuizIndex = -1;
	return 1;
}

stock randomString(strDest[], strLen = 15)
{
    while(strLen--) strDest[strLen] = CodeLetters[random(sizeof(CodeLetters))];
}

fun RandomQuiz()
{
    /*if(random(4) == 0)
    {
        foreach(Player, i)
		{
		    lotteryNumber[i] = -1;
			SendClientMessage(i, -1, serverLang[Player[i][pLang]][177]);
	    }

	    lotteryStarted = true;
	    LotteryTime = 60;
	    LotteryWon = 1+random(49);
    }
	else*/
	{
	    if(!QuizStarted)
	    {
	        QuizStarted = true;
	        QuizType = random(4);
	        QuizXp = 1 + random(39);
			switch(QuizType)
			{
			    case 0:
			    {
			        //new string[10];
			        strmid(QuizTextAnswer, "", 0, 10);
			        randomString(QuizTextAnswer, 10);

					foreach(Player, i)
			        {
			            SendClientMessage(i, -1, "{FFFFFF}\"------------------------------------------------------------\"");
			            SendClientMessageFormat(i, 0xC659B6FF, serverLang[Player[i][pLang]][172], QuizXp, QuizTextAnswer);
			            SendClientMessage(i, -1, "{FFFFFF}\"------------------------------------------------------------\"");
			        }
				}
				case 1:
				{
				    if(playerOnline >= 2)
				    {
					    new pl = random(MAX_PLAYERS);
						while(!IsPlayerConnected(pl) || pl == 0) { pl = random(MAX_PLAYERS); }
						QuizRealAnswer = pl;
					    foreach(Player, i)
				        {
				            SendClientMessage(i, -1, "{FFFFFF}\"------------------------------------------------------------\"");
				            SendClientMessageFormat(i, 0xC659B6FF, serverLang[Player[i][pLang]][175], QuizXp, Player[pl][UserName]);
				            SendClientMessage(i, -1, "{FFFFFF}\"------------------------------------------------------------\"");
				        }
					}
				}
				case 2:
				{
				    QuizRealAnswer = 0;
				    new tx[32];
				    for( new a, j; a < 5; a++ )
				    {
				        j = random(2);
				        if(j == 0)
				        {
				            new num = 1 + random(99), n[3];
				            if(a >= 1) strins(tx, " + ", strlen(tx));
				            valstr(n, num);
				            strins(tx, n, strlen(tx));
				            QuizRealAnswer += num;
				        }
				        else
				        {
				            new num = 1 + random(99), n[3];
				            if(a == 0) strins(tx, "- ", 0);
							else strins(tx, " - ", strlen(tx));
							valstr(n, num);
				            strins(tx, n, strlen(tx));
				            QuizRealAnswer -= num;
				        }
				        if(a == 4) strins(tx, " = ?", strlen(tx));
				    }

				    foreach(Player, i)
				    {
				        SendClientMessage(i, -1, "{FFFFFF}\"-------------------------------------------------\"");
				        SendClientMessageFormat(i, 0xC659B6FF, serverLang[Player[i][pLang]][173], QuizXp, tx);
				        SendClientMessage(i, -1, "{FFFFFF}\"-------------------------------------------------\"");
				    }
				}
			 	case 3:
			    {
					QuizXp += (10 + random(20));
					new rand = random(sizeof(questions[]));
					QuizIndex = rand;
					foreach(Player, i)
			        {
			            SendClientMessage(i, -1, "{FFFFFF}\"------------------------------------------------------------\"");
			            SendClientMessageFormat(i, 0xC659B6FF, questions[Player[i][pLang]][rand], QuizXp);
			            SendClientMessage(i, -1, "{FFFFFF}\"------------------------------------------------------------\"");
			        }
				}
			}
			SetTimer("CancelQuiz", 90000, false);
	    }
	}
    return 1;
}

public OnPlayerClickMap(playerid, Float:fX, Float:fY, Float:fZ)
{
	if(Player[playerid][pAdmin] >= 5 || GetUnlockedSlot(Player[playerid][pSettings], 29) == 1 && Player[playerid][aDuty]) SetPlayerPos(playerid, fX, fY, fZ);
	return 1;
}

fun l_PlayerFalling(playerid)
{
	if(IsPlayerConnected(playerid) && p_FallingCheck{playerid} == 1 && IsFalling(playerid) && !Player[playerid][aDuty])
	{
		p_FallingCheck{playerid} = 2;
		return 1;
	}
	p_FallingCheck{playerid} = 0;
	return 0;
}

enum DM_Info
{
	dm_wType,
	dm_objective_index,
	dm_progress,
	dm_counter,
	dm_classID,
	Float:dm_Killometers,
	MultiplerTime, // x1.5 for 2 hours
	dm_Repeating,
	dm_done,
	dm_Etime
};

new DayMission[MAX_PLAYERS][DM_Info];

fun returnPetUsingCustomIndex(playerid, index)
{
	new in = 0, i;
    for( i = 0; i < MAX_PETS; i++ )
	{
	    if(UserPet[playerid][i][PI_Level] > 0)
	    {
	        if(index == in) return i;
	        ++in;
	    }
	}
	return -1;
}

static const WeaponName[][] = {
    "Fists", "Chainsaw", "Silenced Pistol", "Katana", "Shotgun", "Desert Eagle", "Spraycan",
    "Sniper", "M4", "MP5", "Rifle", "Tec-9"
};

static const WeapEXP[] = {0, 0, 0, 200, 500, 500, 700, 1500, 15000, 35000, 25000, 300000};

stock GetPlayerMaxWeapon(playerid)
{
	new w = random(sizeof(WeapEXP));
	while(Player[playerid][pXP] < WeapEXP[w]) w = random(sizeof(WeapEXP));
	return w;
}

static const objectives[][][] =
{
	{
	    "(Daily Quest): Kill %d zombies {FFF000}(/quest)",
	    "(Daily Quest): Kill %d humans {FFF000}(/quest)",
	    "(Daily Quest): Evacuate %d times {FFF000}(/quest)",
	    "(Daily Quest): Cure %d players {FFF000}(/quest)",
	    
	    "(Daily Quest): Infect %d humans {FFF000}(/quest)",
	    "(Daily Quest): Kill %d zombies using %s{FFF000} (/quest)",
	    "(Daily Quest): Pickup %d meats {FFF000}(/quest)",
	    "(Daily Quest): Use any abilities %d times {FFF000}(/quest)",
	    
	    "(Daily Quest): Achieve %d killstreaks in a row {FFF000}(/quest)",
	    "(Daily Quest): Evacuate %d times in a row {FFF000}(/quest)",
	    "(Daily Quest): Pickup %d items {FFF000}(/quest)",
	    "(Daily Quest): Evacuate with no ammo %d times {FFF000}(/quest)"

	},
	{
	    "(Ежедневное Задание): Убейте %d зомби {FFF000}(/quest)",
	    "(Ежедневное Задание): Убейте %d людей {FFF000}(/quest)",
	    "(Ежедневное Задание): Эвакуируйтесь %d раз {FFF000}(/quest)",
	    "(Ежедневное Задание): Вылечите %d людей {FFF000}(/quest)",

	    "(Ежедневное Задание): Заразите %d людей {FFF000}(/quest)",
	    "(Ежедневное Задание): Убейте %d зомби с помощью %s{FFF000} (/quest)",
	    "(Ежедневное Задание): Pickup %d meats {FFF000}(/quest)",
	    "(Ежедневное Задание): Используйте любые способности %d раз {FFF000}(/quest)",

	    "(Ежедневное Задание): Достигните серии из %d убийств за раз {FFF000}(/quest)",
	    "(Ежедневное Задание): Эвакуируйтесь %d раз подряд не умерев {FFF000}(/quest)",
	    "(Ежедневное Задание): Подберите %d вещей {FFF000}(/quest)",
	    "(Ежедневное Задание): Эвакуируйтесь без оружия %d раз {FFF000}(/quest)"
	},
	{
	    "(Busqueda Diaria): Mata a %d zombis {FFF000}(/quest)",
	    "(Busqueda Diaria): Mata a %d humanos {FFF000}(/quest)",
	    "(Busqueda Diaria): Evacuar %d veces {FFF000}(/quest)",
	    "(Busqueda Diaria): Cura a %d jugadores {FFF000}(/quest)",

	    "(Busqueda Diaria): Infecta a %d humanos {FFF000}(/quest)",
	    "(Busqueda Diaria): Mata a %d zombies usando %s{FFF000} (/quest)",
	    "(Busqueda Diaria): Recoge %d carnes {FFF000}(/quest)",
	    "(Busqueda Diaria): Usa cualquier habilidad %d veces {FFF000}(/quest)",

	    "(Busqueda Diaria): Consigue %d asesinatos seguidos {FFF000}(/quest)",
	    "(Busqueda Diaria): Evacuar %d veces seguidas {FFF000}(/quest)",
	    "(Busqueda Diaria): Recogida %d artнculos {FFF000}(/quest)",
	    "(Busqueda Diaria): Evacuar sin municiуn %d veces {FFF000}(/quest)"
	}
};

stock SortQuests(playerid)
{
	static easy[] = { 0, 1, 2, 3 };
	static normal[] = { 4, 5, 6, 7 };
	static hard[] = { 8, 9, 10, 11 };
	
	if(Player[playerid][pRank] <= 15) return easy[random(sizeof(easy))];
	if(Player[playerid][pRank] >= 16 && Player[playerid][pRank] <= 34) return normal[random(sizeof(normal))];
	if(Player[playerid][pRank] >= 35) return hard[random(sizeof(hard))];
	return easy[random(sizeof(easy))];
}

stock GetSortedQuest(idx)
{
	switch(idx)
	{
	    case 0, 1, 2, 3: return 0;
	    case 4, 5, 6, 7: return 1;
	    case 8, 9, 10, 11: return 2;
	}
	return 0;
}

/*stock GetPlayerMaxClass(playerid, plateam)
{
	if(Player[playerid][pXP] <= 500) return 0;
	if(plateam == TEAM_HUMAN)
	{
		for( new i; i < DOCTOR; i++ ) if(Player[playerid][pRank] < svrCLHRK[i]) return i-1;
		return ADVANCEDENGINEER_2;
	}
	if(plateam == TEAM_ZOMBIE)
	{
		for( new i; i < NIGHTMARE; i++ ) if(Player[playerid][pRank] < svrCLZRK[i]) return i-1;
		return NIGHTMARE-1;
	}
	return 0;
}*/

fun bool:IsJumping(playerid)
{
	if(GetPlayerAnimationIndex(playerid) == 1062
	|| GetPlayerAnimationIndex(playerid) == 1141
	|| GetPlayerAnimationIndex(playerid) == 1064
	|| (GetPlayerAnimationIndex(playerid) >= 1195 && GetPlayerAnimationIndex(playerid) <= 1198)) return true;
	return false;
}

fun bool:IsRunning(playerid)
{
	if(GetPlayerAnimationIndex(playerid) == 1249
	|| GetPlayerAnimationIndex(playerid) == 1064
	|| GetPlayerAnimationIndex(playerid) == 1457
	|| (GetPlayerAnimationIndex(playerid) >= 1222 && GetPlayerAnimationIndex(playerid) <= 1236)
    || (GetPlayerAnimationIndex(playerid) >= 1276 && GetPlayerAnimationIndex(playerid) <= 1280)) return true;
	return false;
}

fun GangWinInGW()
{
	new i, mp = 0, bool:gf = false;
	new query[400];
	for( i = 0; i < cache_num_rows(); i++)
 	{
  		cache_get_value_name_int(i, "controlled", mp);
    	if(strlen(Clan[mp][Full]) >= 1)
        {
         	for( i = 0; i < sizeof(Clan); i++ )
			{
			 	if(Clan[i][g_IsRulles])
         		{
         		    if(mp == i) Clan[i][Wins]++;
         		    else Clan[i][Loses]++;
         		}
         	}
         	for( i = 0; i < sizeof(Clan); i++ ) if(i != mp) Clan[i][g_IsRulles] = false;
         	Clan[mp][g_IsRulles] = true;
         	
         	Clan[mp][EXP] += 15000;
         	
         	gf = true;
         	
            SendMessageFormatToAll(-1, "{FFD500}>> Gang %s is now Ruler!", Clan[mp][Full]);
         	SendClientMessageToAll(-1, "{FFD500}>> Now you can change the rules! (/gang settings)");
         	SendClientMessageToAll(-1, "{FFD500}>> Gangs taxes changed to 45 percents (DEFAULT)!");
         	GangsSettings[4] = GANG_TAXPERCENT;

         	foreach(Player, j)
         	{
         	    if(Player[j][pClan] == mp && Player[j][pClanRank] >= 1)
         	    {
         	        if(TryToAdd(j, ITEM_NAME_WINNER_CHEST, 0) && Player[j][totalPlayersKilledInGW] >= 5) AddItemInInv(j, ITEM_NAME_WINNER_CHEST, max(1, Player[j][totalPlayersKilledInGW] / 5));
         	        
         	        if(Player[j][totalPlayersKilledInGW] > 14)
					{
					 	GivePlayerXP(j, 15000);
					 	SendClientMessage(j, -1, "{cc66ff}>> For take a part in gang wars and win! (+15,000) EXP");
					 	
					 	if(GetUnlockedSlot(Achievements[j][ac_Ruler], 0) == 0) // Get gang war
					    {
					        SetUnlockedSlot(Achievements[j][ac_Ruler], 0, 1);
					        UnlockAchievement(j, 83, 5000);
						}
						Player[j][totalPlayersKilledInGW] = 1;
					}
					else
					{
					    SendClientMessage(j, -1, "{cc66ff}>> You did not show enough gang support! (+0) EXP");
                        Player[j][totalPlayersKilledInGW] = 0;
					}
					SaveUserData(j);
				}
			}
			
			mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `EXP` = `EXP` + 15000,`total_pk`='1' WHERE `Clan` = '%d' AND `total_pk` > 14 AND `build`='"SERVER_BUILD"'", mp);
			mysql_tquery(Base, query, "");
			
            break;
		}
	}

	if(!gf) for( i = 0; i < sizeof(Clan); i++ ) Clan[i][g_IsRulles] = false;

	foreach(Player, j)
   	{
   	    if(Player[j][pClan] != mp && Player[j][pClanRank] >= 1 && Player[j][pClan] > 0 && !Clan[Player[j][pClan]][g_IsNeutral])
   	    {
   	        if(TryToAdd(j, ITEM_NAME_LOSER_CHEST, 0) && Player[j][totalPlayersKilledInGW] >= 5) AddItemInInv(j, ITEM_NAME_LOSER_CHEST, max(1, Player[j][totalPlayersKilledInGW] / 5));
   	        
			if(Player[j][totalPlayersKilledInGW] >= 15)
			{
			    GivePlayerXP(j, 10000);
			    SendClientMessage(j, -1, "{cc66ff}>> For take a part in gang wars! (+10,000) EXP");
			    Player[j][totalPlayersKilledInGW] = 1;
			}
			else
			{
			    SendClientMessage(j, -1, "{cc66ff}>> You did not show enough gang support! (+0) EXP");
			    Player[j][totalPlayersKilledInGW] = 0;
			}
   	    }
   	    
   	    SaveUserData(j);
   	}

	if(gf)
	{
		mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `EXP` = `EXP` + 10000,`total_pk`='1' WHERE `total_pk` > 19 AND `build`='"SERVER_BUILD"'");
		mysql_tquery(Base, query, "");
	}
	
	return 1;
}

fun Update()
{
	static h, m, seconds, dist, Float:xw, Float:yw, Float:zw;
	gettime(h, m, seconds);
	
	if(gettime() > NightEvent[evn_MissionTime])
	{
	    ev_CreateMediumMission(4);
    	ev_CreateHardMission(2);
    	NightEvent[evn_MissionTime] = (gettime() + (86400*8));
	    saveNightEvent();
	    
	    mysql_tquery(Base, "UPDATE `nghpr` SET `rmm`='1',`rhm`='1' WHERE `ID` > '0'", "", "", "");
	    
	    new j;
	    foreach(Player, i)
	    {
		    for( j = 0; i < 4; i++) e_ExclusionZone[i][e_ezMission][4 + j] = 0;
		    Player[i][resetMediumMissions] = 0;
		    
		    for( j = 0; i < 2; i++) e_ExclusionZone[i][e_ezMission][8 + j] = 0;
		    Player[i][resetHardMissions] = 0;
		}
	}
	
	if(m == 0 && seconds == 0)
	{
		SaveGangs();
        if(h != 0) saveNightEvent();
	}
	if(h == 0 && m == 0 && seconds == 0)
	{
	    /*for( new a = 0; a < 4; a++) NightEvent[evn_Mission][a] = -1;
    	ev_CreateEasyMission(4);
       	saveNightEvent();
       	mysql_tquery(Base, "UPDATE `nghpr` SET `rem`='1' WHERE `ID` > '0'", "", "", "");
       	new k;
		foreach(Player, i)
		{
  			for( k = 0; k < 4; k++) e_ExclusionZone[i][e_ezMission][k] = 0;
		    Player[i][resetEasyMissions] = 0;
		}
		
	    if(GangTimer[1] <= 0) GangTimer[1] = (gettime() + (86400*9));
 		if(GangTimer[0] <= 0) GangTimer[0] = (gettime() + (86400*9));
 		
	    if(GetWeekDay() == (GANG_WARS_DAY+1))
	    {
	    	new i, query[144], count;
	    	for( i = 0; i < sizeof(Clan); i++ ) if(Clan[i][g_IsNeutral]) count++;
	    	if(count >= 29)
			{
                for( i = 0; i < sizeof(Clan); i++ )
				{
		 			if(Clan[i][g_IsRulles]) Clan[i][Wins]++;
			        break;
				}
			}
	    	else
	    	{
			    mysql_format(Base, query, sizeof(query), "SELECT count(`controlled`), `controlled` FROM `maps` GROUP BY `controlled` ORDER BY count(`controlled`) DESC");
				mysql_tquery(Base, query, "GangWinInGW");
			 	GangTimer[0] = 0;
			 	GangTimer[1] = 0;
			}
		}
	    
        mysql_tquery(Base, "UPDATE `quest` SET `done`='0',`index`='255' WHERE `id` > 0 AND `build`='"SERVER_BUILD"'", "", "");
        foreach(Player, i)
        {
            if(DayMission[i][dm_done])
			{
				DayliMission[i] = 255;
				DayMission[i][dm_objective_index] = 255;
				setDayMission(i);
			}
        }
        
        mysql_tquery(Base, "UPDATE `users` SET `plg`='0' WHERE `id` > 0 AND `build`='"SERVER_BUILD"'", "", "");
        */
        static year, month, day, query[1024];
		getdate(year, month, day);
		
		mysql_format(Base, query, sizeof(query), "UPDATE `aactivity` SET `indays`=`indays`+1,`h`=`h`-2,`m`='0',`s`='0',`joined`='0',`done`='0' WHERE `month` = '%d' AND `joined`='0'", month);
		mysql_tquery(Base, query, "", "", "");
		
        mysql_format(Base, query, sizeof(query), "UPDATE `aactivity` SET `joined`='0',`done`='0' WHERE `month` = '%d'", month);
		mysql_tquery(Base, query, "", "", "");

	}

    humansEvacuated = 0;
    static Float:pos[3], Float:Health[2];
    static exp[15];
    if(LotteryTime >= 1 && lotteryStarted) LotteryTime--;
    if(LotteryTime == 0)
    {
        LotteryTime = -1;
        lotteryStarted = false;
        
        static winerID, jackpot, bool:active;
        winerID = -1;
		jackpot = 1000+(random(5)*100);

		foreach(Player, j)
		{
		    if(lotteryNumber[j] != -1) { jackpot += 10; active = true; }
			if(lotteryNumber[j] == LotteryWon) { winerID = j; }
		}
		if(!active)
		{
		    foreach(Player, j) SendClientMessageFormat(j, 0xA5CED9FF, serverLang[Player[j][pLang]][190], jackpot);
		}
		else
		{
	        if(winerID == -1)
	        {
	             foreach(Player, j) SendClientMessageFormat(j, 0xA5CED9FF, serverLang[Player[j][pLang]][191], LotteryWon, jackpot);
	        }
			else
			{
			    foreach(Player, j) SendClientMessageFormat(j, 0xA5CED9FF, serverLang[Player[j][pLang]][192], Player[winerID][UserName], LotteryWon, jackpot);
			    GivePlayerXP(winerID, jackpot);
			}
		}
    	LotteryWon = -1;
    	foreach(Player, j) lotteryNumber[j] = -1;
    }
    
    AntiCheatAlertMode = false;
    /*if(AdminOnline())
	{
	    if(AntiCheatAlertMode)
	    {
	    	foreach(Player, i)
			{
				if(Player[i][pAdmin] > 0 && Player[i][pLogged])
				{
				    switch(Player[i][pLang])
				    {
						case 0: SendClientMessage(i, -1, "{FF0077}>> [Anti-Cheat]: Transfer of a leading role to a person, entry into observation mode");
	                    case 1: SendClientMessage(i, -1, "{FF0077}>> [Анти-Чит]: Передача ведущей роли человеку, вход в режим наблюдения");
	                    case 2: SendClientMessage(i, -1, "{FF0077}>> [Anti-Cheat]: Transferencia de un papel principal a una persona, entrada en modo de observacion");
					}
				}
			}
			AntiCheatAlertMode = false;
		}
	}
	else AntiCheatAlertMode = true;*/
	
	
    for( new eventID = 0, i; eventID < 10; eventID++ )
  	{
 		if(gettime() > EventInfo[eventID][e_TimeToEnd] && EventInfo[eventID][e_TimeToEnd] > 0)
 	    {
            if(strlen(EventInfo[eventID][e_Name]) > 0) SendMessageFormatToAll(-1, "{33cc33}|: The event \"%s\" was over", EventInfo[eventID][e_Name]);

            EventInfo[eventID][e_IsStarted] = false;
            EventInfo[eventID][e_IsJoinsClosed] = false;
            EventInfo[eventID][e_IsGangNeed] = false;
            EventInfo[eventID][e_RequestToDelete] = false;
            for(i = 1; i < 6; i++) EventInfo[eventID][e_IsTeamActive][i] = false;
            for(i = 0; i < 6; i++) EventInfo[eventID][e_Skin][i] = 0;
           	for(i = 0; i < 3; i++) EventInfo[eventID][e_defaultPoses][i] = 0.0;
           	
           	EventInfo[eventID][e_Gravity] = 0.008;
           	
           	EventInfo[eventID][e_Time] = 12;
			EventInfo[eventID][e_Weather] = 0;
           	
	   		for(i = 0; i < MAX_PLAYERS; i++) if(IsValidPickup(EventInfo[eventID][e_Pickups][i])) DestroyPickupEx(EventInfo[eventID][e_Pickups][i], true);
           	
           	new newID;
			for( i = 0; i < 18; i++)
			{
			    newID = (i-1) > -1 ? i * 2 : 0;
 		    	if(EventInfo[eventID][e_CarProps][newID] > 0) DestroyVehicle(EventInfo[eventID][e_CarProps][newID]);
			}
            for(i = 0; i < 36; i++) EventInfo[eventID][e_CarProps][i] = 0;
            for(i = 0; i < 8; i++) EventInfo[eventID][e_RulersPermisions][i] = 0;

           	EventInfo[eventID][e_VirtualWorld] = 0;
           	EventInfo[eventID][e_minPlayers] = 0;
           	EventInfo[eventID][e_maxPlayers] = MAX_PLAYERS;
           	EventInfo[eventID][e_curPlayers] = 0;
           	EventInfo[eventID][e_minRank] = 0;
           	EventInfo[eventID][e_minExp] = 0;
           	EventInfo[eventID][e_TimerCount] = 0;
           	EventInfo[eventID][e_TimeToEnd] = -1;

            for(i = 0; i < 100; i++)
			{
				if(IsValidDynamicObject(EventInfo[eventID][e_Objects][i]))
			    {
					DestroyDynamicObject(EventInfo[eventID][e_Objects][i]);
					EventInfo[eventID][e_Objects][i] = INVALID_OBJECT_ID;
				}
			}

            EventInfo[eventID][e_IsEnded] = true;
            EventInfo[eventID][e_OwnerID] = -1;
            for(i = 0; i < 10; i++) EventInfo[eventID][e_Rulers][i] = 0;
            strmid(EventInfo[eventID][e_Name], "", 0, 65, 65);

			foreach(Player, j)
			{
				if(Player[j][eventMember] == eventID)
				{
                    SetPlayerVirtualWorld(j, 0);
			 	    ClearAnimations(j);
			 	    SetPlayerSpecialAction(j, SPECIAL_ACTION_NONE);
					Player[j][Jailed] = -1;
					Player[j][eventMember] = -1;
					SetPlayerGravity(j, 0.008);
					configureClass(j);
					setupZombie(j);
			        SetSpawnInfo(j,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
					SpawnPlayer(j);
			 	    setupZombie(j);
				}
			}
 	    }
	}
	
	foreach(Player, i)
	{
        if(i == INVALID_PLAYER_ID || i >= MAX_PLAYERS) continue;
        if(!IsPlayerConnected(i)) continue;
        
	    if(AFK[i] >= 350)
	    {
	        foreach(Player, j)
			{
			    switch(Player[j][pLang])
			    {
			        case 0: SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> %s has been kicked [Reason: Too long in AFK]", Player[i][UserName]);
                    case 1: SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> Игрок %s был кикнут [Причина: Слишком долго в AFK]", Player[i][UserName]);
                    case 2: SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> El jugador %s ha sido expulsado [Razon: demasiado tiempo en AFK]", Player[i][UserName]);
				}
			}
			PlayerKick(i);
	        
	        continue;
	    }
		
	    if(Player[i][pLogged] && GetPlayerPing(i) >= 650)
        {
            SaveTimeout(i);
            foreach(Player, j) SendClientMessageFormat(j, 0x33CCFFFF, serverLang[Player[j][pLang]][101], Player[i][UserName]);
            PlayerKick(i, "Conn");
            continue;
        }
        
        if(Player[i][pLogged] && GetPlayerPing(i) >= 500)
        {
            SendClientMessage(i, -1, serverLang[Player[i][pLang]][102]);
        }
        
        if(gettime() > VipBuffs[i][vb_IID][1] && VipBuffs[i][vb_IID][1] > 1)
        {
            VipBuffs[i][vb_IID][0] = 0;
            VipBuffs[i][vb_IID][1] = 0;
        }
        
        static weapname[32], pCurWeap;
        pCurWeap = GetPlayerWeapon(i);
        GetWeaponName(pCurWeap, weapname, sizeof(weapname));
        
		if((pCurWeap >= 1 && pCurWeap <= 15 || pCurWeap >= 39 && pCurWeap <= 45) && strlen(weapname) >= 2)
		{
			if(GetPVarInt(i, weapname) <= -4)
			{
			    if(AntiCheatAlertMode && AntiCheat[i][ac_weapon_hack] >= AC_MAX_REPORTS) BanPlayer(i, "Weapon Hack - Consensus"); //PlayerKick(i, "Conn");
			    else
			    {
				    if(AdminOnline())
				    {
					    if(gettime() > AntiCheat[i][ac_Tick])
		        		{
		        		    AddCheater(i, 0);
							strmid(AC_Requests[i][ac_reason], "Weapon Hack", 0, 128, 128);
							AC_Requests[i][ac_time] = gettime();
							AC_Requests[i][ac_type] = 1;
							AC_Requests[i][ac_additional] = 0;
							AC_Requests[i][ac_pl] = NetStats_PacketLossPercent(i);
						    foreach(Player, p)
						    {
						        if(Player[p][pAdmin] > 0 && Player[p][pLogged])
						        {
						            SendClientMessageFormat(p, -1, "{6A8EE2}>> %s(%d) supposedly uses Weapon Hack", Player[i][UserName], i);
						        }
							}
							AntiCheat[i][ac_Tick] = gettime()+2;
					    }
					}
				}
			}
		}
        
        if(NetStats_PacketLossPercent(i) > Player[i][PacketsLoss] && Player[i][pLogged] && gettime() < BadNetworkTime[i])
        {
            switch(Player[i][pLang])
            {
                case 0: SendClientMessage(i, -1, "{6A8EE2}>> Bad network detected, if you start experiencing problems or lags, try re-logging in, or contact your ISP");
                case 1: SendClientMessage(i, -1, "{6A8EE2}>> Обнаружена плохая сеть, если вы начинаете испытывать лаги, попробуйте заново войти в игру или обратитесь к вашему провайдеру");
                case 2: SendClientMessage(i, -1, "{6A8EE2}>> Se detecto una red incorrecta, si comienza a experimentar problemas o retrasos, intente volver a iniciar sesion o pongase en contacto con su ISP");
			}
        	Player[i][PacketsLoss] = NetStats_PacketLossPercent(i);
        	BadNetworkTime[i] = gettime() + 45;
        }

		if(NetStats_PacketLossPercent(i) >= 2.0 && Player[i][pLogged] && gettime() < BadNetworkTime[i])
        {
            switch(Player[i][pLang])
            {
                case 0: SendClientMessage(i, -1, "{6A8EE2}>> You are experiencing huge network problems, contact your ISP");
                case 1: SendClientMessage(i, -1, "{6A8EE2}>> Вы испытываете огромные проблемы с сетью, обратитесь к вашему провайдеру");
                case 2: SendClientMessage(i, -1, "{6A8EE2}>> Estas experimentando grandes problemas de red, contacta a tu ISP");
			}
			BadNetworkTime[i] = gettime() + 45;
		}
		
		if( GetPlayerTeamEx(i) == TEAM_HUMAN && Player[i][pClass][TEAM_HUMAN] == DOCTOR && (gettime() > DoctorTimes[i] || Time <= 30) && GetPlayerVirtualWorld(i) > 0)
		{
		    SetPlayerVirtualWorld(i, 0);
			SetPlayerWeather(i, 0);
			SetPlayerDrunkLevel(i, 0);
			SetPlayerTime(i,12,0);
		}
		
        if(Player[i][CheckForProtect] != INVALID_PLAYER_ID && GetPlayerTeamEx(i) == TEAM_HUMAN)
        {
            if(GetPlayerAnimationIndex(Player[i][CheckForProtect]) != 839 && GetPlayerTeamEx(Player[i][CheckForProtect]) == TEAM_HUMAN)
            {
                if(gettime() - 2 < Player[i][checkForUnsleep]) {}
                else
                {
	                for( new o; o < sizeof(NightEvent[evn_Mission]); o++)
					{
						if(NightEvent[evn_Mission][o] == ev_DEFENDER && e_ExclusionZone[i][e_ezMission][o] <= 49)
					    {
					        ++e_ExclusionZone[i][e_ezMission][o];
					        if(e_ExclusionZone[i][e_ezMission][o] >= 50) ev_CompleteToNext(i, ev_DEFENDER);
							break;
					    }
					}
					Player[i][CheckForProtect] = INVALID_PLAYER_ID;
					Player[i][checkForUnsleep] = gettime();
				}
			}
        }
        else Player[i][CheckForProtect] = INVALID_PLAYER_ID;
        
		if(gettime() > Player[i][SessionOnline][2] && Player[i][SessionOnline][2] > 0) CheckForChaosChestOpen(i, chaos_PLAY_3_HOURS);
        
        /////////// SAVE USER DATA ////////////////////
        static mints, secs;
        gettime(_, mints, secs);
        if(mints == 0 && secs == 0) SaveUserData(i);
        if(mints == 5 && secs == 0) SaveUserData(i);
        if(mints == 10 && secs == 0) SaveUserData(i);
        if(mints == 15 && secs == 0) SaveUserData(i);
        if(mints == 20 && secs == 0) SaveUserData(i);
        if(mints == 25 && secs == 0) SaveUserData(i);
        if(mints == 30 && secs == 0) SaveUserData(i);
        if(mints == 35 && secs == 0) SaveUserData(i);
        if(mints == 40 && secs == 0) SaveUserData(i);
        if(mints == 45 && secs == 0) SaveUserData(i);
        if(mints == 50 && secs == 0) SaveUserData(i);
        if(mints == 55 && secs == 0) SaveUserData(i);
        /////////// SAVE USER DATA ////////////////////
        
        if(GetUnlockedSlot(Achievements[i][ac_PlayedTime], 0) <= 0 && gettime() >= Player[i][SessionOnline][0] && Player[i][SessionOnline][0] > 0)
        {
            SetUnlockedSlot(Achievements[i][ac_PlayedTime], 0, 1);
            UnlockAchievement(i, 81, 1000);
        }
        
        if(GetUnlockedSlot(Achievements[i][ac_PlayedTime], 1) <= 0 && gettime() >= Player[i][SessionOnline][1] && Player[i][SessionOnline][1] > 0)
        {
            SetUnlockedSlot(Achievements[i][ac_PlayedTime], 1, 1);
            UnlockAchievement(i, 82, 5000);
        }
        
        UpdateAliveInfo(i);
        /*if(GetPlayerTeamEx(i) == TEAM_ZOMBIE && Time >= 1 && MapStarted && !IsPlayerOnDuel[i] && !InGangWar{i} && !Player[i][aDuty])
        {
            if(GetPlayerSpeed(i) <= 4)
			{
			    if(IsValidTimer(mapvar[0]) && IsValidTimer(mapvar[1]) && IsValidTimer(mapvar[2])) ZombieMoveTime[i]++;
				if(ZombieMoveTime[i] == 20)
				{
				    switch(Player[i][pLang])
					{
			    		case 0: SendClientMessage(i, -1, "{ff531a}>> You must constantly move in order to have a chance to be human in the next round! (Good Chance)");
                        case 1: SendClientMessage(i, -1, "{ff531a}>> Вы должны постоянно двигаться, чтобы иметь возможность стать человеком в следующем раунде! (Хороший Шанс)");
                        case 2: SendClientMessage(i, -1, "{ff531a}>> ?Debes moverte constantemente para tener la oportunidad de ser humano en la proxima ronda! (Buena Oportunidad)");
					}
				}
				if(ZombieMoveTime[i] == 40)
				{
				    switch(Player[i][pLang])
					{
						case 0: SendClientMessage(i, -1, "{ff0000}>> You must constantly move in order to have a chance to be human in the next round! (Low Chance)");
                        case 1: SendClientMessage(i, -1, "{ff0000}>> Вы должны постоянно двигаться, чтобы иметь возможность стать человеком в следующем раунде! (Плохой Шанс)");
                        case 2: SendClientMessage(i, -1, "{ff0000}>> ?Debes moverte constantemente para tener la oportunidad de ser humano en la proxima ronda! (Baja Probabilidad)");
					}
				}
				if(ZombieMoveTime[i] == 80)
				{
				    switch(Player[i][pLang])
					{
						case 0: SendClientMessage(i, -1, "{cc33ff}>> You must constantly move in order to have a chance to be human in the next round! (Without Chance)");
						case 1: SendClientMessage(i, -1, "{cc33ff}>> Вы должны постоянно двигаться, чтобы иметь возможность стать человеком в следующем раунде! (Без Шанса)");
                        case 2: SendClientMessage(i, -1, "{cc33ff}>> ?Debes moverte constantemente para tener la oportunidad de ser humano en la proxima ronda! (Sin azar)");
					}
				}
			}
		 	else
		 	{
			 	if(ZombieMoveTime[i] >= 2) ZombieMoveTime[i] -= 2;
			}
        }*/

		/*
		if(GetPlayerTeamEx(i) == TEAM_HUMAN && current_map != 1 && GetPlayerInterior(i) <= 0 && Time >= 5 && Time <= 265)
		{
			for( new j; j < sizeof(Map[ZombieSpawnX]); j++ )
			{
				if(IsPlayerInRangeOfPoint(i, 10.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j]))
				{
				    if(SpawnZoneTimer[i] > 0)
					{
					    switch(Player[i][pLang])
						{
							case 0: GameTextForPlayer(i, "~r~Stay away~n~You have 5 sec", 2000, 5);
							case 1: GameTextForPlayer(i, RusToGame("~r~Уйдите от сюда~n~У вас есть 5 секунд"), 2000, 5);
							case 2: GameTextForPlayer(i, "~r~Mantente alejado~n~Tienes 5 segundos", 2000, 5);
						}
						SpawnZoneTimer[i]--;
				    }
				    else
				    {
					    new Float:hp;
					    GetPlayerHealth(i, hp);
					    SetPlayerHealthAC(i, hp - 5.0);
					    switch(Player[i][pLang])
						{
							case 0: GameTextForPlayer(i, "~g~Radioactive Zone", 2000, 5);
							case 1: GameTextForPlayer(i, RusToGame("~g~Радиоактивная зона"), 2000, 5);
							case 2: GameTextForPlayer(i, "~g~Zona radiactiva", 2000, 5);
						}
						SetPlayerArmedWeapon(i, 0);
					}
					break;
				}
			}
		}
		*/
		
		/*if(IsRunning(i) && Time <= 265 && GetPlayerTeamEx(i) == TEAM_HUMAN)
	    {
	        if(Achievements[i][AdrenalineDose] <= 259)
			{
			    if(GetPlayerSpeed(i) >= 15) Achievements[i][AdrenalineDose]++;
			    else Achievements[i][AdrenalineDose] = 0;
			}
			if(Achievements[i][AdrenalineDose] == 260)
			{
				UnlockAchievement(i, 71, 5000);
				Achievements[i][AdrenalineDose] = 300;
			}
		}*/
        
        if(IsFalling(i) && !IgnoreThisClass(i) && current_map != 6 && current_map != 29 && current_map != 10 && current_map != 30)
	    {
	        if(GetUnlockedSlot(Achievements[i][ac_InAirTime], 0) == 2) UnlockAchievement(i, 72, 1000);
	        if(GetUnlockedSlot(Achievements[i][ac_InAirTime], 0) == 4) UnlockAchievement(i, 73, 2000); 
	        SetUnlockedSlot(Achievements[i][ac_InAirTime], 0, GetUnlockedSlot(Achievements[i][ac_InAirTime], 0) + 1);
		}
        
        //if(PlayerGuitarTime[i] >= 1) PlayerGuitarTime[i]--;
		
		switch(Player[i][pLang])
		{
		    case 0: format(exp,sizeof(exp), "EXP: %d", Player[i][pXP]);
		    case 1: format(exp,sizeof(exp), RusToGame("ОПЫТ: %d"), Player[i][pXP]);
		    case 2: format(exp,sizeof(exp), "EXP: %d", Player[i][pXP]);
		}
		TextDrawSetString(XP[i], exp);

        if(Player[i][Tasered]) ApplyAnimation(i, "CRACK", "CRCKIDLE2", 4.1, 0, 1, 1, 0, 8000, 1);
        
	    if(IsBeingSpeced[i])
	    {
	        static s[96], w, a, wn[24];
	        foreach(Player, j)
	        {
	            if(spectatorid[j] == i && Player[j][pAdmin] > 0)
	            {
					format(s,sizeof(s), "~y~PL: ~w~%.2f", NetStats_PacketLossPercent(i));
					TextDrawSetString(APanel[j][0], s);

		    		GetPlayerWeaponData(i, 5, w, a);
		    		if(a >= 1)
		    		{
		    		    GetWeaponName(w, wn, sizeof(wn));
		    		    format(s,sizeof(s), "~y~Assault:~w~ %s~n~~w~Ammo: %d", wn, a);
						TextDrawSetString(APanel[j][1], s);
		    		}
		    		else TextDrawSetString(APanel[j][1], "~y~Assault:~w~ None~n~~w~Ammo: 0");

		    		GetPlayerWeaponData(i, 3, w, a);
		    		if(a >= 1)
		    		{
		    		    GetWeaponName(w, wn, sizeof(wn));
		    		    format(s,sizeof(s), "~y~Shotgun:~w~ %s~n~~w~Ammo: %d", wn, a);
						TextDrawSetString(APanel[j][2], s);
		    		} else TextDrawSetString(APanel[j][2], "~y~Shotgun:~w~ None~n~~w~Ammo: 0");

		    		GetPlayerWeaponData(i, 2, w, a);
		    		if(a >= 1)
		    		{
		    		    GetWeaponName(w, wn, sizeof(wn));
		    		    format(s,sizeof(s), "~y~Pistol:~w~ %s~n~~w~Ammo: %d", wn, a);
						TextDrawSetString(APanel[j][3], s);
		    		} else TextDrawSetString(APanel[j][3], "~y~Pistol:~w~ None~n~~w~Ammo: 0");
					if(GetPlayerTeamEx(i) == TEAM_ZOMBIE)
					{
						format(s,sizeof(s), "~y~Class:~w~ %s ~y~VPN: %s", zombieClassesListNames[0][Player[i][pClass][TEAM_ZOMBIE+1]], (IsUsingProxy{i}) ? ("~g~Yes") : ("~r~No"));
						TextDrawSetString(APanel[j][4], s);
					}
					else
					{
					    format(s,sizeof(s), "~y~Class:~w~ %s ~y~VPN: %s", humanClassesListNames[0][Player[i][pClass][TEAM_HUMAN]], (IsUsingProxy{i}) ? ("~g~Yes") : ("~r~No"));
						TextDrawSetString(APanel[j][4], s);
					}

					format(s,sizeof(s), "~y~Ping:~w~ %d", GetPlayerPing(i));
					TextDrawSetString(APanel[j][5], s);

					format(s,sizeof(s), "~y~EXP:~w~ %d", Player[i][pXP]);
					TextDrawSetString(APanel[j][6], s);

					format(s,sizeof(s), "~y~Money:~w~ %d ~y~FPS:~w~ %d", GetPlayerMoney(i), GetPlayerFPS(i));
					TextDrawSetString(APanel[j][7], s);
				}
			}
		}
		
		if(FakeData[i][8] == 0) SetPlayerScore(i,Player[i][pXP]);
		else SetPlayerScore(i, FakeData[i][8]);
		
	    /*if(GetPlayerTeamEx(i) == TEAM_ZOMBIE && Player[i][pClass][TEAM_ZOMBIE+1] == COCKROACH && (Time <= 0 || IsPlayerOnDuel[i] || InGangHouse[i] || InGangWar{i}))
	    {
	    	CockroachAbility[i] = false;
	    	GameTextForPlayer(i, "~b~Fly mode:~r~ OFF", 1500, 5);
		}*/

        if(!DayMission[i][dm_done])
        {
            if(gettime() > DayMission[i][dm_Etime] && DayMission[i][dm_Etime] > 0)
            {
                DayMission[i][dm_wType] = -1;
				DayMission[i][dm_counter] = 0;
				DayMission[i][dm_progress] = 0;
				DayMission[i][dm_classID] = -1;
				DayMission[i][dm_Killometers] = 0.0;
				DayMission[i][dm_objective_index] = 255;
			    DayMission[i][MultiplerTime] = 0;
			    DayMission[i][dm_done] = 1;
			    DayMission[i][dm_Etime] = 0;
			    DayliMission[i] = 255;
			    switch(Player[i][pLang])
			    {
			        case 0:
			        {
					    SendClientMessage(i, 0x339966FF, "Daily Quest failed!");
						SendClientMessageFormat(i, 0x0fbd66FF, "				Attempts: %d", DayMission[i][dm_Repeating]);
					}
					case 1:
					{
					    SendClientMessage(i, 0x339966FF, "Ежедневное Задание Провалено!");
						SendClientMessageFormat(i, 0x0fbd66FF, "				Попыток: %d", DayMission[i][dm_Repeating]);
					}
					case 2:
					{
					    SendClientMessage(i, 0x339966FF, "Bъsqueda Diaria ha fallado");
						SendClientMessageFormat(i, 0x0fbd66FF, "				Intentos: %d", DayMission[i][dm_Repeating]);
					}
				}
				DayMission[i][dm_Repeating] = 0;
				SaveQuest(i);
            }
            
	        if(DayMission[i][dm_progress] == DayMission[i][dm_counter] && DayMission[i][dm_counter] >= 1)
	        {
	            /************************************** CHAOS ****************************************/
	            for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
				{
					if(NightEvent[evn_Mission][j] == ev_EXECUTANT && e_ExclusionZone[i][e_ezMission][j] <= 0)
				    {
				        ++e_ExclusionZone[i][e_ezMission][j];
				        if(e_ExclusionZone[i][e_ezMission][j] == 1) ev_CompleteToNext(i, ev_EXECUTANT);
						break;
				    }
				}
				
				for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
				{
				    if(NightEvent[evn_Mission][j] == ev_GAMEEXPERT && e_ExclusionZone[i][e_ezMission][j] <= 3)
				    {
				        ++e_ExclusionZone[i][e_ezMission][j];
				        if(e_ExclusionZone[i][e_ezMission][j] == 4) ev_CompleteToNext(i, ev_GAMEEXPERT);
						break;
				    }
				}
				/***********************************************************************************/
		
	            DayMission[i][dm_done] = 1;
	            DayMission[i][dm_progress] = DayMission[i][dm_counter]+1;
	            DayMission[i][dm_Repeating]++;
	            if(Achievements[i][ac_QuestsCompleted] <= 101)
				{
				    Achievements[i][ac_QuestsCompleted]++;
				    if(Achievements[i][ac_QuestsCompleted] == 1) UnlockAchievement(i, 76, 100); 
				    if(Achievements[i][ac_QuestsCompleted] == 10) UnlockAchievement(i, 77, 5000); 
				    if(Achievements[i][ac_QuestsCompleted] == 50) UnlockAchievement(i, 78, 25000); 
			        if(Achievements[i][ac_QuestsCompleted] == 100) UnlockAchievement(i, 79, 100000); 
				}
	            if(DayMission[i][dm_Repeating] >= 7)
				{
				    DayMission[i][dm_Repeating] = 0;
				    
				    switch(Player[i][pLang])
					{
						case 0: SendClientMessage(i, 0x339966FF, "Daily Quest completed!");
						case 1: SendClientMessage(i, 0x339966FF, "Ежедневное Задание Выполнено!");
						case 2: SendClientMessage(i, 0x339966FF, "?Busqueda Diaria Completa!");
					}
					switch(GetSortedQuest(DayMission[i][dm_objective_index]))
					{
					    case 0:
					    {
							switch(Player[i][pLang])
							{
								case 0: SendClientMessage(i, 0x0fbd66FF, "				You got Rare Quest Coin!");
								case 1: SendClientMessage(i, 0x0fbd66FF, "				Вы получили Редкую Квестовую Монету!");
								case 2: SendClientMessage(i, 0x0fbd66FF, "				?Tienes ?Moneda de Busqueda Rara!");
							}
							AddItemInInv(i, ITEM_NAME_RARE_QUEST_COIN, 1);
						}
						case 1:
					    {
					        switch(Player[i][pLang])
							{
								case 0: SendClientMessage(i, 0x0fbd66FF, "				You got Epic Quest Coin!");
								case 1: SendClientMessage(i, 0x0fbd66FF, "				Вы получили Эпическую Квестовую Монету!");
								case 2: SendClientMessage(i, 0x0fbd66FF, "				?Tienes ?Moneda de Busqueda Йpica!");
							}
							AddItemInInv(i, ITEM_NAME_EPIC_QUEST_COIN, 1);
						}
						case 2:
						{
						    switch(Player[i][pLang])
							{
						    	case 0: SendClientMessage(i, 0x0fbd66FF, "				You got Legendary Quest Coin!");
						    	case 1: SendClientMessage(i, 0x0fbd66FF, "				Вы получили Легендарную Квестовую Монету!");
						    	case 2: SendClientMessage(i, 0x0fbd66FF, "				?Tienes ?Moneda de Busqueda Legendaria!!");
							}
							AddItemInInv(i, ITEM_NAME_LEGENDARY_QUEST_COIN, 1);
						}
						default:
						{
                            switch(Player[i][pLang])
							{
								case 0: SendClientMessage(i, 0x0fbd66FF, "				You got Rare Quest Coin!");
								case 1: SendClientMessage(i, 0x0fbd66FF, "				Вы получили Редкую Квестовую Монету!");
								case 2: SendClientMessage(i, 0x0fbd66FF, "				?Tienes ?Moneda de Busqueda Rara!");
							}
							AddItemInInv(i, ITEM_NAME_RARE_QUEST_COIN, 1);
						}
					}
				}
	            else
	            {
	            	switch(Player[i][pLang])
					{
						case 0:
						{
							SendClientMessage(i, 0x339966FF, "Daily Quest completed!");
							SendClientMessageFormat(i, 0x339966FF, "				Repeat these tasks %d more times and get a Rarer Coin!", 7 - DayMission[i][dm_Repeating]);
						}
						case 1:
						{
							SendClientMessage(i, 0x339966FF, "Ежедневное Задание Выполнено!");
							SendClientMessageFormat(i, 0x339966FF, "				Повторите эти задания еще %d раз и получите Более Редкую Монету!", 7 - DayMission[i][dm_Repeating]);
						}
						case 2:
						{
							SendClientMessage(i, 0x339966FF, "?Busqueda Diaria Completa!");
							SendClientMessageFormat(i, 0x339966FF, "				?Repite estas tareas %d veces mбs y obtйn una Moneda mбs Rara!", 7 - DayMission[i][dm_Repeating]);
						}
					}
	            	
		        	switch(GetSortedQuest(DayMission[i][dm_objective_index]))
		        	{
		        	    case 0:
						{
						    switch(Player[i][pLang])
							{
								case 0: SendClientMessageFormat(i, 0xFFF000FF, "You got a Quest Coin + %d kills!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
								case 1: SendClientMessageFormat(i, 0xFFF000FF, "Вы получили Квестовую Монету + %d убийств!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
                                case 2: SendClientMessageFormat(i, 0xFFF000FF, "?Tienes ?Moneda de Busqueda + %d mata!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
							}
							AddItemInInv(i, ITEM_NAME_QUEST_COIN, 1);
							if(TryToAdd(i, ITEM_NAME_QUEST_CHEST, 0)) AddItemInInv(i, ITEM_NAME_QUEST_CHEST, 5);
							if(Player[i][pRank] <= 1) Player[i][pKills] += RanksEXP[Player[i][pRank]+1]; else Player[i][pKills] += floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4));
						}
						case 1:
						{
						    switch(Player[i][pLang])
							{
								case 0: SendClientMessageFormat(i, 0xFFF000FF, "You got a Rare Quest Coin + %d kills!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
                                case 1: SendClientMessageFormat(i, 0xFFF000FF, "Вы получили Редкую Квестовую Монету + %d убийств!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
                                case 2: SendClientMessageFormat(i, 0xFFF000FF, "?Tienes ?Moneda de Busqueda Rara + %d mata!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
							}
							AddItemInInv(i, ITEM_NAME_RARE_QUEST_COIN, 1);
							AddItemInInv(i, ITEM_NAME_QUEST_COIN, 2);
							if(TryToAdd(i, ITEM_NAME_QUEST_CHEST, 0)) AddItemInInv(i, ITEM_NAME_QUEST_CHEST, 5);
		        			if(Player[i][pRank] <= 1) Player[i][pKills] += RanksEXP[Player[i][pRank]+1]; else Player[i][pKills] += floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4));
						}
						case 2:
						{
							switch(Player[i][pLang])
							{
								case 0: SendClientMessageFormat(i, 0xFFF000FF, "You got a Epic Quest Coin + %d kills!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
								case 1: SendClientMessageFormat(i, 0xFFF000FF, "Вы получили Эпическую Квестовую Монету + %d убийств!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
								case 2: SendClientMessageFormat(i, 0xFFF000FF, "?Tienes ?Moneda de Busqueda Йpica + %d mata!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
							}
							AddItemInInv(i, ITEM_NAME_EPIC_QUEST_COIN, 1);
							AddItemInInv(i, ITEM_NAME_QUEST_COIN, 4);
							if(TryToAdd(i, ITEM_NAME_QUEST_CHEST, 0)) AddItemInInv(i, ITEM_NAME_QUEST_CHEST, 5);
		        			if(Player[i][pRank] <= 1) Player[i][pKills] += RanksEXP[Player[i][pRank]+1]; else Player[i][pKills] += floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4));
						}
						default:
						{
						    switch(Player[i][pLang])
							{
								case 0: SendClientMessageFormat(i, 0xFFF000FF, "You got a Quest Coin + %d kills!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
								case 1: SendClientMessageFormat(i, 0xFFF000FF, "Вы получили Квестовую Монету + %d убийств!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
                                case 2: SendClientMessageFormat(i, 0xFFF000FF, "?Tienes ?Moneda de Busqueda + %d mata!", floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4)));
							}
		        			AddItemInInv(i, ITEM_NAME_QUEST_COIN, 1);
		        			if(TryToAdd(i, ITEM_NAME_QUEST_CHEST, 0)) AddItemInInv(i, ITEM_NAME_QUEST_CHEST, 2);
		        			if(Player[i][pRank] <= 1) Player[i][pKills] += RanksEXP[Player[i][pRank]+1]; else Player[i][pKills] += floor((RanksEXP[Player[i][pRank]])/(Player[i][pRank]+4));
						}
					}
					RankUp(i);
				}
	        	DayMission[i][dm_Etime] = gettime()+86400;
	        	SaveQuest(i);
			}
        }
        
        if(gettime() >= Player[i][IsDefender] && Player[i][IsDefender] > 0)
        {
            Player[i][IsDefender] = 0;
            Player[i][DefenderSorryTime] = 0;
            SendClientMessage(i, -1, "{99ffff}[EVENT] Defender, event time is up!");
        }
        
        Achievements[i][Seconds]++;

        if(AFK[i] <= -2 && Player[i][pLogged]) Player[i][PlayerActivity][0]++;
        if(Player[i][PlayerActivity][0] >= 60)
        {
            Player[i][PlayerActivity][1]++;
            if(Player[i][PlayerActivity][1] >= 60)
			{
				Player[i][PlayerActivity][1] = 0;
				Player[i][PlayerActivity][2]++;
				if(TryToAdd(i, ITEM_NAME_GOLD_COIN, 0))
				{
					//AddItemInInv(i, ITEM_NAME_GOLD_COIN, 1, 0, -1, 1);
					//SendClientMessageFormat(i, -1, "{ffcc66}You have received +1 gold coin for %d hour(s) of active playing!", Player[i][PlayerActivity][2]);
				}
			}
            Player[i][PlayerActivity][0] = 0;
        }

		if(Player[i][pAdmin] > 0 && AFK[i] <= -2) Player[i][AdminActivity][0]++;
        if(Player[i][AdminActivity][0] >= 60)
        {
            Player[i][AdminActivity][1]++;
            Player[i][AdminActivity][4]++;
            
            if(Player[i][AdminActivity][1] >= 60) { Player[i][AdminActivity][1] = 0; Player[i][AdminActivity][2]++; }
            Player[i][AdminActivity][0] = 0;
        }
        
		if(Player[i][DefenderSorryTime] >= 2 && Player[i][IsDefender] > 0) Player[i][DefenderSorryTime]--;
        if(Player[i][DefenderSorryTime] == 1 && Player[i][IsDefender] > 0)
        {
            Player[i][DefenderSorryTime] = 0;
            SendClientMessage(i, -1, "{99ffff}[EVENT] Defender, you have redeemed your guilt!");
            SendClientMessage(i, -1, "{99ffff}[EVENT] Defender, Do not break the rules again!");
		}
        
		if(Achievements[i][Seconds] >= 60)
        {
			Achievements[i][Minutes]++;
			if(Achievements[i][Minutes] >= 60) ++Achievements[i][Hours],Achievements[i][Minutes] = 0;
			Achievements[i][Seconds] = 0;
			if(Achievements[i][Hours] == 24 && Achievements[i][Seconds] == 0 && Achievements[i][Minutes] == 0) UnlockAchievement(i, 64, 2000);
			if(Achievements[i][Hours] == 300 && Achievements[i][Seconds] == 0  && Achievements[i][Minutes] == 0) UnlockAchievement(i, 65, 10000);
			if(Achievements[i][Hours] == 650 && Achievements[i][Seconds] == 0  && Achievements[i][Minutes] == 0) UnlockAchievement(i, 66, 50000);
		}
	    /*if(Player[i][pRank] >= 5 && GetUnlockedSlot(Achievements[i][HumanClassesUses], 24) == 0)
		{
			SetUnlockedSlot(Achievements[i][HumanClassesUses], 24, 1);
			switch(Player[i][pLang])
			{
			    case 0: SendClientMessage(i, -1, "{ff80bf}[WARNING]: You have left the beginner mode, now most of the skills of humans / zombies work for you");
                case 1: SendClientMessage(i, -1, "{ff80bf}[ВНИМАНИЕ]: Вы вышли из режима новичка, теперь все способности людей / зомби влияют на вас");
                case 2: SendClientMessage(i, -1, "{ff80bf}[ADVERTENCIA]: Has dejado el modo de principiante, ahora la mayoria de las habilidades de humanos / zombis funcionan para ti");
			}
		}*/
	    if(PlayerDamageChecker[i][uAFK] > 0 && gettime() > PlayerDamageChecker[i][uAFK] && GetPlayerTeamEx(i) == TEAM_HUMAN && AFK[i] >= -3 && GetPlayerTeamEx(i) != 254)
	    {
	        new playerid = i;
	        if(Player[playerid][eventMember] > -1)
			{
			    new bool:something = false, str[64], p;
			    for(p = 0; p < 10; p++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][p] == Player[playerid][pAccountID]) { something = true; break; }

				new eventID = Player[playerid][eventMember];
			    if(strlen(EventInfo[eventID][e_Name]) >= 1)
			    {
					if(!something) {
						EventInfo[Player[playerid][eventMember]][e_curPlayers]--;
						format(str, sizeof(str), "{ff6600}[EVENT] %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						SendEventMessage(str);
					} else {
					    format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						SendEventMessage(str);
					}

					if(EventInfo[eventID][e_curPlayers] < EventInfo[eventID][e_minPlayers] && !EventInfo[eventID][e_IsStarted] && EventInfo[eventID][e_IsJoinsClosed])
			        {
			            EventInfo[eventID][e_IsJoinsClosed] = false;
						format(str, sizeof(str), "{bf00ff}[EVENT] Join requests auto opened (%s #%d)", EventInfo[eventID][e_Name], eventID+1);
						SendEventMessage(str);
			        }
				}
			    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
				Player[playerid][eventMember] = -1;
				SetPlayerGravity(playerid, 0.008);
			}
			DeattachSpider(i);
    		foreach(Player, j) SendClientMessageFormat(j, -1, serverLang[Player[j][pLang]][195], Player[i][UserName]);
    		Player[i][Killstreak] = 0;
    		SortKillstreakList();
    		DeleteFromKillstreakList(i);
   			setupZombie(i);
   			configureClass(i);
   			setClass(i);
	    }
	    else if(PlayerDamageChecker[i][uAFK] > 0 && gettime() > PlayerDamageChecker[i][uAFK] && GetPlayerTeamEx(i) == TEAM_HUMAN && AFK[i] <= -2)
	    {
	        PlayerDamageChecker[i][uAFK] = 0;
	    }

	    if(playerStats[i][2] > 0) playerStats[i][2]--;
	    if(playerStats[i][3] > 0) playerStats[i][3]--;
	    /*if(playerStats[i][2] <= 0)
	    {
			if(GetPlayerTeamEx(i) == TEAM_ZOMBIE && (Player[i][pClass][TEAM_ZOMBIE+1] == JUGGERNAUT || Player[i][pClass][TEAM_ZOMBIE+1] == TANKZOMBIE)) {}
			else
			{
				GetPlayerHealth(i, Health[0]);
		      	if(playerStats[i][0] < Health[0]) { SetPlayerHealth(i, playerStats[i][0]); } else { playerStats[i][0] = Health[0]; }
			}
		}*/
		GetPlayerArmour(i, Health[1]);
 		if(Health[1] >= 0.1 && GetPlayerTeamEx(i) == TEAM_ZOMBIE) SetPlayerArmourAC(i, 0.0);

		/////////////////////////////// ANTI FLY ///////////////////////////////
        if(gettime() > AntiCheat[i][ac_Tick])
        {
			dist = floatround(GetPlayerDistanceFromPoint(i, OldPos[i][0], OldPos[i][1], OldPos[i][2]));
			if(dist >= 8 && GetPlayerSkin(i) != 0 && !IsJumping(i) && gettime() > AntiPlayerTP[i])
			{
				if((GetPlayerAnimationIndex(i) == 1189 || GetPlayerAnimationIndex(i) >= 958 && GetPlayerAnimationIndex(i) <= 979) && GetPlayerWeapon(i) != 45 && gettime() > AntiPlayerTP[i] && GetPlayerSurfingObjectID(i) == INVALID_OBJECT_ID && GetPlayerSurfingVehicleID(i) != INVALID_VEHICLE_ID)
				{
					foreach(Player, j) if(Player[j][pAdmin] >= 1 && Player[j][pLogged]) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses Fly / Airbreak Hack", Player[i][UserName], i);
		            AddCheater(i, 0);
					strmid(AC_Requests[i][ac_reason], "Fly / Airbreak", 0, 128, 128);
					AC_Requests[i][ac_time] = gettime();
					AC_Requests[i][ac_type] = 1;
					AC_Requests[i][ac_additional] = dist;
					AC_Requests[i][ac_pl] = NetStats_PacketLossPercent(i);
					AntiCheat[i][ac_Tick] = gettime()+2;

					if(AntiCheatAlertMode)
					{
						++AntiCheat[i][ac_break_space];
						if(AntiCheat[i][ac_break_space] > AC_MAX_SPACE_BREAKS && AntiCheat[i][ac_airbreak_hack] >= AC_MAX_REPORTS) BanPlayer(i, "Fly / Airbreak - Consensus");
					}
				}
			}
			
			if(GetPlayerAnimationIndex(i) >= 1538 && GetPlayerAnimationIndex(i) <= 1544 && GetPlayerInterior(i) <= 0 && pos[2] >= 20.0 && gettime() > AntiPlayerTP[i] && GetPlayerSurfingObjectID(i) == INVALID_OBJECT_ID && GetPlayerSurfingVehicleID(i) != INVALID_VEHICLE_ID)
			{
				foreach(Player, j) if(Player[j][pAdmin] >= 1 && Player[j][pLogged]) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses Fly / Airbreak Hack", Player[i][UserName], i);
	            AddCheater(i, 0);
				strmid(AC_Requests[i][ac_reason], "Fly / Airbreak", 0, 128, 128);
				AC_Requests[i][ac_time] = gettime();
				AC_Requests[i][ac_type] = 1;
				AC_Requests[i][ac_additional] = dist;
				AC_Requests[i][ac_pl] = NetStats_PacketLossPercent(i);
				AntiCheat[i][ac_Tick] = gettime()+2;
				
                if(AntiCheatAlertMode)
                {
					++AntiCheat[i][ac_break_space];
					if(AntiCheat[i][ac_break_space] > AC_MAX_SPACE_BREAKS && AntiCheat[i][ac_airbreak_hack] >= AC_MAX_REPORTS) BanPlayer(i, "Fly / Airbreak - Consensus");
				}
			}
		}
		////////////////////////////////////////////////////////////////////////
		
		//printf("%d", GetPlayerAnimationIndex(i));

		if(IsFalling(i) && !Player[i][aDuty])
		{
		    if(p_FallingTime[i] <= -1 && p_FallingCheck{i} == 0) p_FallingTime[i] = 4;
  			if(p_FallingCheck{i} == 0)
  			{
				p_FallingCheck{i} = 1;
				SetTimerEx("l_PlayerFalling", 4000, 0, "i", i);
			}
			if(p_FallingTime[i] >= 0) p_FallingTime[i]--;
		}
		
		if(Player[i][Jailed] >= 1) Player[i][Jailed]--;
		if(Player[i][Jailed] == 0)
		{
		    SetSpawnInfo(i,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		    SetPlayerSpecialAction(i, SPECIAL_ACTION_NONE);
		    SetPlayerTeamEx(i, TEAM_ZOMBIE);
		    SpawnPlayer(i);
			Player[i][Jailed] = -1;
		}
		
		if(gettime() > Abilitys[i][QueenJumps][1])
		{
		    if(GetUnlockedCardEffect(i, CARD_EFFECT_ADDITIONAL_FUEL) >= 1 && Abilitys[i][QueenJumps][0] <= 3) Abilitys[i][QueenJumps][0]++;
		    else if(Abilitys[i][QueenJumps][0] <= 2) Abilitys[i][QueenJumps][0]++;
		}
		
		if(GetPlayerSurfingVehicleID(i) != INVALID_VEHICLE_ID) { GetPlayerPos(i,OldPos[i][0],OldPos[i][1],OldPos[i][2]); }
		
        //GetPlayerVelocity(i, pos[0], pos[1], pos[2]);
        //printf("VEL: %.2f | %.2f | %.2f", pos[0], pos[1], pos[2]);

		GetPlayerPos(i,pos[0],pos[1],pos[2]);
		//printf("OLD: %.2f | %.2f | %.2f", OldPos[i][0],OldPos[i][1],OldPos[i][2]);
		//printf("NEW: %.2f | %.2f | %.2f", pos[0],pos[1],pos[2]);
		
		if(IsJumping(i) && pos[2] >= (OldPos[i][2]+2.5) && !IgnoreThisClass(i) && gettime() > AntiPlayerSlap[i] && GetPlayerSurfingObjectID(i) == INVALID_OBJECT_ID && GetPlayerSurfingVehicleID(i) != INVALID_VEHICLE_ID)
		{
		    GetPlayerVelocity(i, pos[0], pos[1], pos[2]);
		    if(gettime() > AntiCheat[i][ac_Tick] && pos[2] <= -0.05)
        	{
			    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses Jump Hack", Player[i][UserName], i);
	   			AddCheater(i, 0);
				strmid(AC_Requests[i][ac_reason], "Jump Hack", 0, 128, 128);
				AC_Requests[i][ac_time] = gettime();
				AC_Requests[i][ac_type] = 0;
				AC_Requests[i][ac_additional] = 0;
				AC_Requests[i][ac_pl] = NetStats_PacketLossPercent(i);
				AntiCheat[i][ac_Tick] = (gettime() + 1);
				
				if(AntiCheatAlertMode)
				{
				    ++AntiCheat[i][ac_jumps];
				    if(AntiCheat[i][ac_jumps] > AX_MAX_JUMPS && AntiCheat[i][ac_jump_hack] >= AC_MAX_REPORTS) BanPlayer(i, "Jump Hack - Consensus");
				}
			}
		}
		
		if(GetPlayerAnimationIndex(i) == -1 && pos[2] > 0.0)
		{
	 		foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses Parkour Mode", Player[i][UserName], i);
   			AddCheater(i, 0);
			strmid(AC_Requests[i][ac_reason], "Parkour Mode", 0, 128, 128);
			AC_Requests[i][ac_time] = gettime();
			AC_Requests[i][ac_type] = 0;
			AC_Requests[i][ac_additional] = 0;
			AC_Requests[i][ac_pl] = NetStats_PacketLossPercent(i);
			
			if(AntiCheatAlertMode && AntiCheat[i][ac_parkour] >= AC_MAX_REPORTS) BanPlayer(i, "Parkour Mode - Consensus");
		}
		
		if(IsValidTimer(mapvar[0]) && IsValidTimer(mapvar[1]))
		{
		    if(!Player[i][pLogged]
			|| IsPlayerOnDuel[i]
			|| Player[i][Jailed] >= 1
			|| InGangWar{i}
			|| InGangHouse[i]) {}
   			else
			{
			    if((current_map == 28 || current_map == 9) && !Player[i][aDuty])
			    {
					GetPlayerVelocity(i, pos[2], pos[2], pos[2]);
					if(pos[2] <= -0.5 && !IgnoreThisClass(i))
					{
					    Player[i][Killstreak] = 0;
						SortKillstreakList();
						DeleteFromKillstreakList(i);
					    setupZombie(i);
						SpawnPlayer(i);
					}
			    }
			    else
			    {
					GetPlayerPos(i, pos[0], pos[1], pos[2]);
				    if((((pos[2] <= 4.1626 || IsPlayerInWater(i)) && (current_map == 5 || current_map == 29))) && !Player[i][aDuty])
				    {
						Player[i][Killstreak] = 0;
						SortKillstreakList();
						DeleteFromKillstreakList(i);
					    setupZombie(i);
						SpawnPlayer(i);
				    }
				}
			}
		}
		
		if(Player[i][Accelerated] >= 0) Player[i][Accelerated]--;
		if(Player[i][Accelerated] == 0 && IsPlayerAcceleratedText[i] > Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[i]), IsPlayerAcceleratedText[i] = Text3D:-1;
		
		GetPlayerPos(i, pos[0], pos[1], pos[2]);
		
		if(gettime() > AntiCheat[i][ac_Tick])
        {
			if(GetPlayerAnimationIndex(i) == 1250 && GetPlayerInterior(i) <= 0 && pos[2] >= 8.0 && gettime() > AntiPlayerTP[i] && GetPlayerSurfingVehicleID(i) != INVALID_VEHICLE_ID && GetPlayerSurfingObjectID(i) == INVALID_OBJECT_ID)
			{
				foreach(Player, j) if(Player[j][pAdmin] >= 1 && Player[j][pLogged]) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses Fly Hack", Player[i][UserName], i);
			    AddCheater(i, 0);
				strmid(AC_Requests[i][ac_reason], "Fly / Airbreak", 0, 128, 128);
				AC_Requests[i][ac_time] = gettime();
				AC_Requests[i][ac_type] = 1;
				AC_Requests[i][ac_additional] = dist;
				AC_Requests[i][ac_pl] = NetStats_PacketLossPercent(i);
			 	AntiCheat[i][ac_Tick] = (gettime()+2);
			 	
                if(AntiCheatAlertMode)
                {
			 		++AntiCheat[i][ac_break_space];
					if(AntiCheat[i][ac_break_space] > AC_MAX_SPACE_BREAKS && AntiCheat[i][ac_airbreak_hack] >= AC_MAX_REPORTS) BanPlayer(i, "Fly Hack - Consensus");
				}
			}
		}

 		if(GetPlayerState(i) != PLAYER_STATE_DRIVER && GetPlayerState(i) != PLAYER_STATE_PASSENGER && GetPlayerAnimationIndex(i) != 1189 && Player[i][pLogged] && !InGangHouse[i] && GetPlayerSurfingVehicleID(i) != INVALID_VEHICLE_ID && GetPlayerSurfingObjectID(i) == INVALID_OBJECT_ID)
        {
            if(gettime() > AntiPlayerTP[i])
            {
				dist = floatround(GetPlayerDistanceFromPoint(i, OldPos[i][0], OldPos[i][1], OldPos[i][2]));
				GetPlayerVelocity(i, xw,yw,zw);

				if(dist >= 16 && GetPlayerAnimationIndex(i) != 1155 && GetPlayerAnimationIndex(i) != 1156 && zw >= -0.1 && zw <= 0.14 && !Player[i][aDuty] && gettime() > AntiCheat[i][ac_Tick] && !IsFalling(i) && !IsJumping(i) && !IgnoreThisClass(i))
				{
					foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses Teleport Hack (Distance: %d)", Player[i][UserName], i, dist);
					AddCheater(i, 0);
					strmid(AC_Requests[i][ac_reason], "Teleport Hack", 0, 128, 128);
					AC_Requests[i][ac_time] = gettime();
					AC_Requests[i][ac_type] = 1;
					AC_Requests[i][ac_additional] = dist;
					AC_Requests[i][ac_pl] = NetStats_PacketLossPercent(i);
					AntiCheat[i][ac_Tick] = (gettime()+2);
					
					if(AntiCheatAlertMode)
	                {
				 		++AntiCheat[i][ac_teleports];
						if(AntiCheat[i][ac_teleports] > AC_MAX_TELEPORTS && AntiCheat[i][ac_teleport_hack] >= AC_MAX_REPORTS) BanPlayer(i, "Teleport Hack - Consensus");
					}
				}
			}
		}
		
		GetPlayerPos(i,OldPos[i][0],OldPos[i][1],OldPos[i][2]);
		
		/*GetPlayerVelocity(i, velocity_pos_run, velocity_pos_run, velocity_pos_run);
		if(GetPlayerState(i) == PLAYER_STATE_ONFOOT && GetPlayerSurfingObjectID(i) == INVALID_OBJECT_ID && GetPlayerSurfingVehicleID(i) == INVALID_VEHICLE_ID && velocity_pos_run > -0.2 && GetPlayerSpeed(i) > 40 && GetPlayerSkin(i) != 0 && !IgnoreThisClass(i) && gettime() > AntiPlayerSpeedHack[i])
		{
		    if(!AntiCheatAlertMode) foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, 0x6A8EE2FF, "{6A8EE2}>> %s(%d) supposedly uses Speed Hack (On foot)", Player[i][UserName], i);
			else
			{
				PlayerKick(i, "Conn");
				continue;
			}
		}*/

		if(Achievements[i][thropyManiac] == 0) 
		{
			if(Achievements[i][AbilityUses] >= 1000 &&
			Achievements[i][Runned] >= 200.000 &&
			Achievements[i][Lucky] >= 20 &&
			Achievements[i][HumansKilled] >= 1000 &&
			Achievements[i][ZombiesKilled] >= 1000 &&
			Achievements[i][MeatsCollected] >= 5000 &&
			Achievements[i][eKillstreaks] >= 100 &&
			Achievements[i][eKillstreaksFail] >= 1 &&
			Achievements[i][Deaths] >= 1000 &&
			Achievements[i][CuredHumans] >= 100 &&
			Achievements[i][Purchases] >= 200 &&
			Achievements[i][WrongResort] >= 1 &&
			Achievements[i][esClan] >= 7)
			{
			    UnlockAchievement(i, 1, 20000);
	    		Achievements[i][thropyManiac] = 1;
			}
		}
		
		if(GetPVarInt(i, "WeapHack") >= 1) SetPVarInt(i, "WeapHack", GetPVarInt(i, "WeapHack") - 1);
		if(GetPVarInt(i, "SpeedHack") >= 1) SetPVarInt(i, "SpeedHack", GetPVarInt(i, "SpeedHack") - 1);
		if(GetPVarInt(i, "Pizdorvanka") >= 1) SetPVarInt(i, "Pizdorvanka", GetPVarInt(i, "Pizdorvanka") - 1);
		
		if(GetPlayerSurfingVehicleID(i) != INVALID_VEHICLE_ID)
		{
		    GetPlayerPos(i,OldPos[i][0],OldPos[i][1],OldPos[i][2]);
		}
		
		if(SobeitTime[i] > 0)
		{
			SobeitTime[i]--;
            if(SobeitTime[i] == 0)
            {
                if(AntiSobeit[i] > 0)
				{
				    ++S0beitSuspecting[i];
					foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, 0x6A8EE2FF, "{6A8EE2}>> %s(%d) supposedly uses Sobeit", Player[i][UserName], i);
					//if(Player[i][pAdmin] <= 0) PlayerKick(i);
					
					AddCheater(i, 0);
					strmid(AC_Requests[i][ac_reason], "S0beit", 0, 128, 128);
					AC_Requests[i][ac_time] = gettime();
					AC_Requests[i][ac_type] = 0;
					AC_Requests[i][ac_additional] = 0;
					AC_Requests[i][ac_pl] = NetStats_PacketLossPercent(i);
				}
			 	SobeitTime[i] = 0;
            }
        }
		
		if(playerStats[i][3] <= 0)
		{
			GetPlayerArmour(i, Health[1]);
			if(playerStats[i][1] < Health[1]) { SetPlayerArmour(i, playerStats[i][1]); } else { playerStats[i][1] = Health[1]; }
		}
		TextDrawHideForPlayer(i, SpawnProtection[i]);
		if(Player[i][Muted] > 1) Player[i][Muted]--;
		if(Player[i][Muted] == 1)
		{
		    SendClientMessage(i, -1, serverLang[Player[i][pLang]][113]);
		    Player[i][Muted] = 0;
		}
	
 		if(GetTeamPlayersAlive(TEAM_HUMAN) <= 1 && !LastAlive && playerOnline >= 2)
		{
			foreach(Player, j) SendClientMessage(j,-1,serverLang[Player[j][pLang]][42]);
			LastAlive = true;
		}
	
		if(Time <= 0 && MapStarted)
		{
			if(IsEvacuated[i]) humansEvacuated++;
			if(humansEvacuated >= GetTeamPlayersAlive(TEAM_HUMAN) && IsValidTimer(mapvar[0]))
			{
			    KillTimerEx(mapvar[0]);
				KillTimerEx(mapvar[1]);
				if(IsValidTimer(mapvar[2])) KillTimerEx(mapvar[2]);
				foreach(Player, j) SendClientMessage(j,-1, serverLang[Player[j][pLang]][39]);
	   			mapvar[2] = SetTimer("EndMap", MAX_RESTART_TIME, false);
	   			MapStarted = false;
			}
		}
		
		if(gettime() > Player[i][pVipTime] && Player[i][pVip] > 0 && Player[i][pVipTime] > 0 && Player[i][pLogged])
		{
			Player[i][pVip] = 0;
			Player[i][pVipTime] = 0;
			switch(Player[i][pLang])
			{
				case 0: SendClientMessage(i, -1, "{FFF000}*** [VIP]: The VIP status has expired");
				case 1: SendClientMessage(i, -1, "{FFF000}*** [VIP]: ВИП статус истек");
				case 2: SendClientMessage(i, -1, "{FFF000}*** [VIP]: El estado VIP ha expirado");
			}
			new query[96];
			mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `VIP` = '0',`VipTime` = '0' WHERE `ID` = '%d'", Player[i][pAccountID]);
			mysql_tquery(Base, query, "", "", "");
		}
		
		/*if(team[i][1] > 0) team[i][1]--;
		else if(team[i][0] != GetPlayerTeamEx(i) && strlen(Name(i)) >= 1) { BanPlayer(i, "Fake Team"); }*/
		
		if(GetPlayerMoney(i) > 0) { IsBanned{i} = true; BanPlayer(i, "Money Hack"); }
		
		/*for( new j; j < sizeof(svrCLHRK); j++)
		{
		    if(svrCLHRK[j] > 0 && Player[i][pRank] >= svrCLHRK[j])
		    {
				if(Player[i][pRank] <= 19 && GetUnlockedSlot(Player[i][pHumanClassesUnlocked_0], j) == 0)
				{
			    	SetUnlockedSlot(Player[i][pHumanClassesUnlocked_0], j, 1);
			    	SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][120], humanClassesListNames[Player[i][pLang]][j]);
			    	PlayerPlaySound(i, 30800, 0.0, 0.0, 0.0);
   				}
				if(Player[i][pRank] >= 20 && j >= 32 && GetUnlockedSlot(Player[i][pHumanClassesUnlocked_1], j - 31) == 0)
				{
			    	SetUnlockedSlot(Player[i][pHumanClassesUnlocked_1], j - 31, 1);
			    	SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][120], humanClassesListNames[Player[i][pLang]][j]);
			    	PlayerPlaySound(i, 30800, 0.0, 0.0, 0.0);
				}
			}
		}*/
		
		/*for( new j; j < sizeof(svrCLZRK); j++)
		{
		    if(svrCLZRK[j] > 0 && Player[i][pRank] >= svrCLZRK[j])
		    {
				if(Player[i][pRank] <= 19 && GetUnlockedSlot(Player[i][pZombieClassesUnlocked_0], j) == 0)
				{
			    	SetUnlockedSlot(Player[i][pZombieClassesUnlocked_0], j, 1);
			    	SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][120], zombieClassesListNames[Player[i][pLang]][j]);
			    	PlayerPlaySound(i, 30802, 0.0, 0.0, 0.0);
   				}
				if(Player[i][pRank] >= 20 && j >= 32 && GetUnlockedSlot(Player[i][pZombieClassesUnlocked_1], j - 31) == 0)
				{
			    	SetUnlockedSlot(Player[i][pZombieClassesUnlocked_1], j - 31, 1);
			    	SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][120], zombieClassesListNames[Player[i][pLang]][j]);
                    PlayerPlaySound(i, 30802, 0.0, 0.0, 0.0);
				}
			}
		}*/
	
		if(GetPlayerSpecialAction(i) == SPECIAL_ACTION_USEJETPACK && Player[i][pAdmin] <= 1 && GetPlayerTeamEx(i) != 254) { IsBanned{i} = true; BanPlayer(i, "Jetpack"); }
        /*if(GetPlayerSpecialAction(i) >= 10) BanPlayer(i, "I just want to do it with you :)");*/

		// EVENT
		/*if(GetPlayerTeamEx(i) != TEAM_ZOMBIE && Player[i][pClass][TEAM_ZOMBIE+1] != FLYZOMBIE && Player[i][pClass][TEAM_ZOMBIE+1] != SPIDER)
       	{
			if((GetPlayerState(i) == PLAYER_STATE_DRIVER || GetPlayerState(i) == PLAYER_STATE_PASSENGER) && Player[i][eventMember] <= -1 && Player[i][pAdmin] <= 0 && !AntiCheatVehicle[i])
			{
			    AntiCheatVehicle[i] = true;
			    SetTimerEx("AntiRemovePlayerFromVehicle" , 2800, false, "i", i);
			}
        }*/
		
		if(Player[i][pLogged] && Player[i][Jailed] <= 0 && !Player[i][aDuty] && !HumanZombieBoss[i]) AFK[i]++;
		if(AFK[i] > 15 && GetPlayerTeamEx(i) == TEAM_HUMAN && GetPlayerColor(i) != COLOR_EVACUATED && !IsPlayerInRangeOfPoint(i, 30.0, 493.390991, -22.722799, 1000.679687) && GetPlayerInterior(i) != 17)
		{
            if(!Player[i][aDuty] && GetPlayerTeamEx(i) != 254)
    		{
	    		SendClientMessage(i, -1, serverLang[Player[i][pLang]][35]);
	   			setupZombie(i);
	   			configureClass(i);
	   			setClass(i);
	   			new playerid = i;
		        if(Player[playerid][eventMember] > -1)
				{
				    new bool:something = false, str[64], p;
				    for(p = 0; p < 10; p++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][p] == Player[playerid][pAccountID]) { something = true; break; }

					new eventID = Player[playerid][eventMember];
				    if(strlen(EventInfo[eventID][e_Name]) >= 1)
				    {
						if(!something) {
							EventInfo[Player[playerid][eventMember]][e_curPlayers]--;
							format(str, sizeof(str), "{ff6600}[EVENT] %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
							SendEventMessage(str);
						} else {
						    format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
							SendEventMessage(str);
						}

						if(EventInfo[eventID][e_curPlayers] < EventInfo[eventID][e_minPlayers] && !EventInfo[eventID][e_IsStarted] && EventInfo[eventID][e_IsJoinsClosed])
				        {
				            EventInfo[eventID][e_IsJoinsClosed] = false;
							format(str, sizeof(str), "{bf00ff}[EVENT] Join requests auto opened (%s #%d)", EventInfo[eventID][e_Name], eventID+1);
							SendEventMessage(str);
				        }
					}
				    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
					Player[playerid][eventMember] = -1;
					SetPlayerGravity(playerid, 0.008);
				}
			}
		}

        if(IsPlayerInWater(i) && !Map[m_AllowWater] && GetPlayerTeamEx(i) == TEAM_HUMAN)
		{
			GetPlayerHealth(i, Health[0]);
			if(Health[0] - 4.0 <= 0.0)
			{
			    if(Achievements[i][WrongResort] <= 0 && Time >= 10 && Time <= 265)
			    {
			        UnlockAchievement(i, 34, 100);
			        Achievements[i][WrongResort] = 1;
			    }
			}
			SetPlayerHealthAC(i, Health[0] - 4.0);
			ShowDamageTaken(i, 4.0);
			switch(Player[i][pLang])
			{
			    case 0: GameTextForPlayer(i, "~r~ACID WATER", 1000, 5);
			    case 1: GameTextForPlayer(i, RusToGame("~r~КИСЛОТНАЯ ВОДА"), 1000, 5);
			    case 2: GameTextForPlayer(i, "~r~AGUA БCIDA", 1000, 5);
			}
        }
        
        /*if(NetStats_PacketLossPercent(i) >= 5.0 && Player[i][pLogged])
		{
            foreach(Player, j) SendClientMessageFormat(j, -1, "{33CCFF}>> %s has been kicked [Reason: Poor connection]", Player[i][UserName]);
            PlayerKick(i, "Conn");
		}*/
		
		Player[i][AbilityUsed] = false;
		if(GetPlayerTeamEx(i) == TEAM_ZOMBIE && Player[i][pClass][TEAM_ZOMBIE+1] == RADIOACTIVEZOMBIE && !Player[i][aDuty])
		{
			if(Player[i][RadioctiveField])
			{
			    new Float:radius = 6.0;
			    
       			GetPlayerPos(i, pos[0], pos[1], pos[2]);
		    	foreach(Player, j)
			    {
			        if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2]) && canBeInRadioactiveField(j))
					{
					    GetPlayerArmour(j, Health[1]);
					    GetPlayerHealth(j, Health[0]);

                        if(GetPlayerTeamEx(j) == TEAM_HUMAN)
						{
						    if(Health[1] <= 0.0 && Health[0] <= 70.0)
						    {
						        if(!Player[i][AbilityUsed])
					    		{
					    		    Player[i][AbilityUsed] = true;
					    		    GivePlayerXP(i, 1, false);
					    		}
					    		
						        switch(Player[j][pLang])
						        {
					    			case 0: GameTextForPlayer(j,"~r~Radioactive ~g~Field", 2000, 5);
	                                case 1: GameTextForPlayer(j,RusToGame("~r~РАДИОАКТИВНОЕ ~g~ПОЛЕ"), 2000, 5);
	                                case 2: GameTextForPlayer(j,"~r~Campo ~g~Radiactivo", 2000, 5);
								}
								
								GetPlayerHealth(j, Health[0]);
								SetPlayerHealthAC(j, Health[0] - 3.5);
								ShowDamageTaken(j, 3.5);
							}
						}
					}
			    }
			}
		}
		
		if(Player[i][IsBurned][0])
		{
		    GetPlayerHealth(i, Health[0]);
	    	TextDrawShowForPlayer(i, Stun[i]);
			switch(Player[i][pLang])
	        {
    			case 0: GameTextForPlayer(i,"~y~You're burning", 2000, 5);
                case 1: GameTextForPlayer(i,RusToGame("~y~ВЫ ГОРИТЕ"), 2000, 5);
                case 2: GameTextForPlayer(i,"~y~Estas ardiendo", 2000, 5);
			}
		}
		
		if(Player[i][IsCursed])
		{
		    GetPlayerHealth(i, Health[0]);
			SetPlayerHealthAC(i, Health[0] - 2.0);
			ShowDamageTaken(i, 2.0);
			
			switch(Player[i][pLang])
	        {
    			case 0: GameTextForPlayer(i,"~g~You're cursed~n~~r~Kill~w~ humans to get health", 2000, 5);
                case 1: GameTextForPlayer(i,RusToGame("~g~Вы прокляты~n~~r~Убивайте~w~ людей чтобы лечится"), 2000, 5);
                case 2: GameTextForPlayer(i,"~g~Estas maldito~n~~r~Mata~w~ humanos para obtener salud", 2000, 5);
			}
		}
		
		
		Player[i][doubleDamage] = 0;
		if(GetPlayerTeamEx(i) == TEAM_HUMAN && HumanHumanBoss[i])
		{
		    GetPlayerPos(i, pos[0], pos[1], pos[2]);
		    foreach(Player, j)
		    {
		        if(IsPlayerInRangeOfPoint(j, 10.0, pos[0], pos[1], pos[2]) && GetPlayerTeamEx(i) == TEAM_HUMAN)
				{
				    Player[j][doubleDamage] = 1;
				}
		    }
		}
		
		if(Player[i][IsPlayerAdvancedInfected] && GetPlayerTeamEx(i) == TEAM_HUMAN)
		{
		    GetPlayerPos(i, pos[0], pos[1], pos[2]);
		    foreach(Player, j)
		    {
		        if(IsPlayerInRangeOfPoint(j, 1.0, pos[0], pos[1], pos[2]) && !Player[j][IsPlayerAdvancedInfected] && GetPlayerTeamEx(j) == TEAM_HUMAN && PlayerGuitarTime[j] <= 1)
				{
					if(InfectPlayer(1.0, j, i, 1.0, 15000, true))
					{
				    	foreach(Player, q) SendClientMessageFormat(q, 0x009900FF, serverLang[Player[q][pLang]][63], Player[j][UserName], Player[i][UserName]);
					}
				}
			}
		}
		
		static j;
     	for( j = 0; j < sizeof(Map[ZombieSpawnX]); j++ )
		{
     		if((IsPlayerInRangeOfPoint(i, 5.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j]) || (gettime() < ZombieSpawnProtection[i] && ZombieSpawnProtection[i] > 0)) && GetPlayerTeamEx(i) == TEAM_ZOMBIE && Player[i][pLogged] && !Player[i][aDuty])
     		{
     			TextDrawShowForPlayer(i, SpawnProtection[i]);
     		}
		}
		
		if(GetPlayerTeamEx(i) == TEAM_HUMAN && GetTeamPlayersAlive(TEAM_HUMAN) == 1 && !lastHuman[i] && Player[i][pLogged])
		{
			lastHuman[i] = true;
			foreach(Player, k)
			{
				if(GetPlayerTeamEx(k) == TEAM_ZOMBIE)
				{
				    switch(Player[k][pLang])
				    {
						case 0: GameTextForPlayer(k, "~r~KILL~w~ THE LAST HUMAN", 4000, 5);
						case 1: GameTextForPlayer(k, RusToGame("~r~УБЕЙТЕ~w~ ПОСЛЕДНЕГО ЧЕЛОВЕКА"), 4000, 5);
						case 2: GameTextForPlayer(k, "~r~MATAR~w~ AL ЪLTIMO HUMANO", 4000, 5);
					}
				}
			}
			continue;
		}
	}
}

fun AntiRemovePlayerFromVehicle(i)
{
    if(GetPlayerState(i) == 2)//IN CAR
    {
        IsBanned{i} = true;
		BanPlayer(i, "Vehicle-Hack", "conn");
		return 0;
	}
	return 1;
}

fun OnPlayerSpawn(playerid)
{
	/// TODO:
    ////////////////////////////////////////////////////////////////////////////
    
    Invisible[playerid] = false;
    FatalAttack[playerid] = false;
    PR_VirtualWorldForPlayer[playerid] = 0;
    
    DeattachSpider(playerid);
    
    PlayerDamageChecker[playerid][uAFK] = 0;
    AntiCheat[playerid][ac_OldHP] = 0.0;
    AntiCheat[playerid][ex_OldHP] = 0.0;
    AntiCheat[playerid][weap_OldHP] = -100.0;
    
    KilledBy[playerid] = INVALID_PLAYER_ID;
    KilledByWeapon[playerid] = 0;
    DamageApplyType[playerid][0] = 0;
    DamageApplyType[playerid][1] = 0;
    
   	/*if(UserTankInWarState[playerid] >= 1)
	{
	    printf("DEBUG, blyat");
		return 1; // Event
	}*/
    
	if(Player[playerid][pAdmin] > 0 && GetPlayerState(playerid) != PLAYER_STATE_SPECTATING)
	{
		for(new k = 0; k < 10; k++)
		{
			TextDrawShowForPlayer(playerid, CheatShow[0][k]);
			TextDrawShowForPlayer(playerid, CheatShow[1][k]);
		}
	}
    
	for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
    
    Player[playerid][pWasGangAffected] = false;
    
    ClearAnimations(playerid);
    
    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
	    SetPlayerHealthAC(playerid, 100.0 + SetVitality(playerid), true, 100.0 + SetVitality(playerid));
	}
	else SetPlayerHealthAC(playerid, 100.0, true, 100.0);
	SetPlayerArmourAC(playerid, 0.0);
	
	SetPet(playerid);
	
    if(KilledInWar{playerid})
    {
        new p = random(sizeof(rnd_mhs));
		SetPlayerPosAC(playerid, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
        SetPlayerFacingAngle(playerid, rnd_mhs[p][3]);
        AttachGangName(playerid);
        SetPlayerWeather(playerid, 0);
        SetPlayerTime(playerid, 12, 0);
        ResetWeapons(playerid);
        SetPlayerHealthAC(playerid, 100.0 + SetVitality(playerid));
        SetPlayerArmourAC(playerid, 0.0);
        SetPlayerColor(playerid, 0xFFFFFFFF);
        return 1;
    }
    
    if(InWarStage2{playerid} && WarStageAgainst{playerid} > -1)
    {
    	new p = random(sizeof(gw_rnm));
		SetPlayerPosAC(playerid, gw_rnm[p][0], gw_rnm[p][1], gw_rnm[p][2]);
        SetPlayerFacingAngle(playerid, gw_rnm[p][3]);
        AttachGangName(playerid);
        SetPlayerWeather(playerid, 0);
        SetPlayerTime(playerid, 12, 0);
        ResetWeapons(playerid);
        GivePlayerWeaponAC(playerid, 24, 200);
        GivePlayerWeaponAC(playerid, 31, 750);
        GivePlayerWeaponAC(playerid, 25, 200);
       
        SetPlayerHealthAC(playerid, 100.0 + SetVitality(playerid));
        SetPlayerArmourAC(playerid, 50.0);
        SetPlayerColor(playerid, 0xFFFFFFFF);
        
        SetPlayerTeamEx(playerid, WarStageTeam{playerid});
        if(WarStageTeam{playerid} == 12) SetPlayerSkinAC(playerid, 108);
		else SetPlayerSkinAC(playerid, 114);
		
        SetPlayerVirtualWorld(playerid, 30 + WarStageAgainst{playerid});
        return 1;
    }
    
    Player[playerid][Blidness] = 0;
    TextDrawHideForPlayer(playerid, Blidnes[playerid]);
    KillTimer(Player[playerid][BlidnessTimer]);
    for( new j; j < 8; j++ ) TextDrawHideForPlayer(playerid, APanel[playerid][j]);
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_SHOW_EXP) == 1) TextDrawShowForPlayer(playerid, XP[playerid]);
    Player[playerid][IsBurned][0] = 0;
    Player[playerid][IsBurned][1] = 0;
    Player[playerid][IsCursed] = false;
    Player[playerid][Poisioned] = false;
	Player[playerid][Tasered] = false;
	Player[playerid][Accelerated] = -1;
	if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
	p_FallingTime[playerid] = -1;
   	p_FallingCheck{playerid} = 0;
   	CockroachAbility[playerid] = false;
    AttachUserObjects(playerid);
    AFK[playerid] = 0;
    
    if(InGangHouse[playerid])
	{
	    if(Clan[Player[playerid][pClan]][g_IsRulles])
	    {
	        SetPlayerInterior(playerid, 6);
	        SetPlayerPos(playerid, 234.0507,1071.6426,1084.1942);
			SetPlayerFacingAngle(playerid, 179.2284);
			SetCameraBehindPlayer(playerid);
			SetPlayerWeather(playerid, 12);
			SetPlayerTime(playerid, 0, 0);
			HasBottle[playerid] = 0;
			SetPlayerVirtualWorld(playerid, 4025);
	    }
	    else
	    {
		    PlayAudioStreamForPlayer(playerid, "https://sampzdm.net/gang.mp3");
		    HasBottle[playerid] = 0;

		    SetPlayerWeather(playerid, 0);
			SetPlayerTime(playerid, 12, 0);

		    SetPlayerPos(playerid, 1232.610107, -688.421508, 1086.774169);
			SetPlayerFacingAngle(playerid, 89.614189);
			SetCameraBehindPlayer(playerid);

	        TogglePlayerControllable(playerid, false);
			SetTimerEx("UnfreezePlayer", 2500, 0, "i", playerid);

	     	SetPlayerInterior(playerid, 0);
	     	SetPlayerVirtualWorld(playerid, 10 + Player[playerid][pClan]);
		}
	    AntiTPTimerEx(playerid, 4);
		AntiSlap(playerid, 2);
		AntiSpeedHack(playerid, 3);
		SetPlayerSkinAC(playerid, 252, 1);
		SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		setDayMission(playerid);
		return 1;
	}

	CreateDefender(playerid);

	if(Player[playerid][Jailed] > 0)
	{
    	SetPlayerSkinAC(playerid, 62, 1);
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
		SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
		SetPlayerFacingAngle(playerid, 263.0160);
		SetPlayerInterior(playerid, 6);
		SetPlayerColor(playerid, 0x000000FF);
		SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		ResetWeapons(playerid);
		SetPlayerArmourAC(playerid, 0.0);
		SetPlayerHealthAC(playerid, 100.0);
		Player[playerid][Accelerated] = -1;
		if(IsPlayerAcceleratedText[playerid] > Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
		return 1;
	}
	
 	//if(Player[playerid][LeatherFace][0]) Player[playerid][pClass][TEAM_ZOMBIE+1]=Player[playerid][LeatherFace][1],Player[playerid][LeatherFace][0]=0;
    if(IsSpecing[playerid])
    {
        IsSpecing[playerid] = false;
		IsBeingSpeced[spectatorid[playerid]] = false;
		spectatorid[playerid] = -1;
	}
	
    for( new i; i < 10; i++ )
	{
  		if(IsValidObject(FlyObjects[playerid][i])) DestroyObject(FlyObjects[playerid][i]);
		FlyObjects[playerid][i] = INVALID_OBJECT_ID;
	}
	
	/*for( new i; i < 25; i++ )
	{
  		if(IsValidObject(SpiderObject[playerid][i])) DestroyObject(SpiderObject[playerid][i]);
		SpiderObject[playerid][i] = INVALID_OBJECT_ID;
	}*/
	
	if(Fly[playerid] > -1)
	{
		DestroyVehicle(Fly[playerid]);
		Fly[playerid] = -1;
	}
	
    ShowDisplayInfo(playerid);
    CheckToStartMap();
	
	SetPlayerInterior(playerid, Map[m_Interior]);
	SetPlayerVirtualWorld(playerid, Map[m_World]);
	
	SetPlayerTime(playerid, Map[m_Time], 0);
	SetPlayerWeather(playerid, Map[m_Weather]);
	
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) if(Player[playerid][pClass][TEAM_ZOMBIE+1] != REAPERZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] != MEGAJUMPERZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] != FASTZOMBIE) ZombieSpawnProtection[playerid] = gettime() + 12;

        new bool:ns, p = random(sizeof(Map[ZombieSpawnX])), Float:dist = (float(1+random(19))/100.0);
        if(NewSpawnPoints[0][0] != 0.0)
		{
			if(random(2) == 0)
			{
				SetPlayerPosAC(playerid, NewSpawnPoints[0][0]+dist, NewSpawnPoints[0][1]+dist, NewSpawnPoints[0][2]);
				foreach(Player, i) if(i == NewSpawnsCreators[0] && i != playerid) GivePlayerXP(i, 1);
				ns = true;
				ZombieSpawnProtection[playerid] = 0;
			}
        }
        if(NewSpawnPoints[1][0] != 0.0)
		{
			if(random(2) == 0)
			{
				SetPlayerPosAC(playerid, NewSpawnPoints[1][0]+dist, NewSpawnPoints[1][1]+dist, NewSpawnPoints[1][2]);
				foreach(Player, i) if(i == NewSpawnsCreators[1] && i != playerid) GivePlayerXP(i, 2, false);
				ns = true;
				ZombieSpawnProtection[playerid] = 0;
			}
        }
        if(!ns) SetPlayerPosAC(playerid, Map[ZombieSpawnX][p]+dist, Map[ZombieSpawnY][p]+dist, Map[ZombieSpawnZ][p]);

     	/*new p = random(sizeof(Map[ZombieSpawnX])), Float:dist = (float(1+random(19))/100.0);
      	SetPlayerPosAC(playerid, Map[ZombieSpawnX][p]+dist, Map[ZombieSpawnY][p]+dist, Map[ZombieSpawnZ][p]);*/
	}
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
	    new p = random(sizeof(Map[HumanSpawnX])), Float:dist = (float(1+random(19))/100.0);
	    SetPlayerPosAC(playerid, Map[HumanSpawnX][p]+dist, Map[HumanSpawnY][p]+dist, Map[HumanSpawnZ][p]);
	}
	
	if(!Player[playerid][aDuty])
	{
        configureClass(playerid);
    	setClass(playerid);
	}
	else
	{
		SetPlayerSkinAC(playerid, 217);
	}
	
	/*switch(random(8))
	{
	    case 0:
	    {
		    switch(Player[playerid][pLang])
		    {
		        case 0: SendClientMessage(playerid, 0xff6600FF, "::: Before asking a question (/ask), or reporting a bug, read (/help)");
		        case 1: SendClientMessage(playerid, 0xff6600FF, "::: Прежде чем задавать вопрос (/ask), или сообщять об ошибке, почитайте (/help)");
		        case 2: SendClientMessage(playerid, 0xff6600FF, "::: Antes de hacer una pregunta (/ask) o informar un bug, lea (/help)");
		    }
		}
		case 1:
	    {
		    switch(Player[playerid][pLang])
		    {
		        case 0: SendClientMessage(playerid, 0xff6600FF, "::: Using trophies increases your chances of survival and a more enjoyable game, but before, complete any one achievement! (/achievements) & (/trophies)");
		        case 1: SendClientMessage(playerid, 0xff6600FF, "::: Использование трофеев увеличивает ваши шансы на выживание и более приятную игру, но сначала, завершите одно любое достижение! (/achievements) & (/trophies)");
		        case 2: SendClientMessage(playerid, 0xff6600FF, "::: ?Usar trofeos aumenta tus posibilidades de supervivencia y un juego mas divertido, pero antes, completa cualquier logro! (/achievements) & (/trophes)");
		    }
		}
		case 2:
		{
		    switch(Player[playerid][pLang])
		    {
		        case 0: SendClientMessage(playerid, 0xff6600FF, "::: Open chests of chaos to get colored weapons, effects on weapons or new clothes! (/chaos)");
		        case 1: SendClientMessage(playerid, 0xff6600FF, "::: Открывайте сундуки хаоса, чтобы получить цветное оружие, эффекты на оружие или новую одежду! (/chaos)");
		        case 2: SendClientMessage(playerid, 0xff6600FF, "::: ?Abre cofres de caos para obtener armas de colores, efectos sobre armas o ropa nueva! (/chaos)");
		    }
		}
		case 3:
		{
		    switch(Player[playerid][pLang])
		    {
		        case 0: SendClientMessage(playerid, 0xff6600FF, "::: Did you know that if your gang owns this map, then you will receive bonuses for more successful survival? (/gang list) & (/gang join)");
		        case 1: SendClientMessage(playerid, 0xff6600FF, "::: А вы знали, что если ваша банда владеет этой картой, то вы получите бонусы для более успешного выживания? (/gang list) & (/gang join)");
		        case 2: SendClientMessage(playerid, 0xff6600FF, "::: їSabнas que si tu pandilla posee este mapa, recibirбs bonos para una supervivencia mбs exitosa? (/gang list) & (/gang join)");
		    }
		}
		case 4:
		{
		    switch(Player[playerid][pLang])
		    {
		        case 0: SendClientMessage(playerid, 0xff6600FF, "::: In a gang war, for a more successful victory, give skills a higher priority than rank! (/class -> Skills)");
		        case 1: SendClientMessage(playerid, 0xff6600FF, "::: В войне банд для более успешной победы отдавайте больший приоритет навыкам, чем рангу! (/class -> Навыки)");
		        case 2: SendClientMessage(playerid, 0xff6600FF, "::: En una guerra de pandillas, para una victoria mбs exitosa, Ўdales a las habilidades una prioridad mбs alta que el rango! (/class -> Habilidades)");
		    }
		}
		case 5:
		{
		    switch(Player[playerid][pLang])
		    {
		        case 0: SendClientMessage(playerid, 0xff6600FF, "::: Want to sell / buy a Thing or a Pet? Use /shop");
		        case 1: SendClientMessage(playerid, 0xff6600FF, "::: Хотите продать / купить вещь или питомца? Ипользуйте /shop");
		        case 2: SendClientMessage(playerid, 0xff6600FF, "::: їQuiere vender / comprar una cosa o una mascota? Usar /shop");
		    }
		}
		case 6:
		{
		    switch(Player[playerid][pLang])
		    {
		        case 0: SendClientMessage(playerid, 0xff6600FF, "::: Our server supports ::: Voice Chat ::: but before you start talking, read the guide on the forum");
		        case 1: SendClientMessage(playerid, 0xff6600FF, "::: Наш сервер поддерживает функцию ::: Голосового Чата ::: но прежде чем начать говорить, прочитайте гайд на форуме!");
		        case 2: SendClientMessage(playerid, 0xff6600FF, "::: Nuestro servidor admite la funcion ::: Chat de Voz ::: pero antes de comenzar a hablar, ?lea la guia en el foro!");
		    }
		}
		case 7:
		{
		    switch(Player[playerid][pLang])
		    {
		        case 0: SendClientMessage(playerid, 0xff6600FF, "::: Complete achievements to gain experience faster! (/achievements)");
		        case 1: SendClientMessage(playerid, 0xff6600FF, "::: Выполняйте достижения, чтобы быстрее набрать опыт! (/achievements)");
		        case 2: SendClientMessage(playerid, 0xff6600FF, "::: ?Completa logros para ganar experiencia mas rapido! (/achievements)");
		    }
		}
	}*/
	
	/*if(!DayMission[playerid][dm_done])
    {
	    switch(Player[playerid][pLang])
	    {
	        case 0: SendClientMessage(playerid, 0x339966FF, "::: Mister D. ::: Do not forget to complete daily tasks to quickly rank up! (/quest)");
	        case 1: SendClientMessage(playerid, 0x339966FF, "::: Не забывайте выполнять ежедневные задания, чтобы быстрее качать ранг! (/quest)");
	        case 2: SendClientMessage(playerid, 0x339966FF, "::: ?No olvide completar las tareas diarias para descargar rapidamente un rango! (/quest)");
	    }
	}
	
	switch(Player[playerid][pLang])
    {
        case 0: SendClientMessage(playerid, 0x339966FF, "{ff1a1a}::: Mister D. ::: CHAOS is growing tirelessly do not delay time, you need to FIX IT! (/chaos)");
        case 1: SendClientMessage(playerid, 0x339966FF, "{ff1a1a}::: Мистер Д. ::: ХАОС неустанно РАСТЁТ не задерживай время, нужно ВСЁ ИСПРАВИТЬ (/chaos)");
        case 2: SendClientMessage(playerid, 0x339966FF, "{ff1a1a}::: Sir. D. :::  CHAOS estб creciendo incansablemente, no demore el tiempo, Ўdebe FIJARLO! (/chaos)");
    }
	
    if(Player[playerid][pRank] < 5)//GetUnlockedSlot(Player[playerid][pSettings], PS_TICK) == 0
	{
		switch(Player[playerid][pLang])
	    {
	        case 0: SendClientMessage(playerid, -1, "{ffc34d}::: HELPER ::: Hi, in order to understand what and how is going on here visit {4dc3ff}(/help)");
	        case 1: SendClientMessage(playerid, -1, "{ffc34d}::: ПОМОЩНИК ::: Привет, для того, чтобы понять что и как тут происходит загляни в {4dc3ff}(/help)");
	        case 2: SendClientMessage(playerid, -1, "{ffc34d}::: ASISTENTE ::: Hola, para entender que y como esta pasando, eche un vistazo a {4dc3ff}(/help)");
	    }
	}*/
	
	//setDayMission(playerid);
	//CheckForOldUser(playerid);
	
	return 1;
}

/// Commands

stock UnlockAchievement(playerid, index, xp)
{
    /*if(playerOnline >= 8 && !ItsNewbie(playerid))
    {
		if(index > sizeof(achNames[])) return 0;
		foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][171], Player[playerid][UserName], achNames[Player[i][pLang]][index], xp);
		Player[playerid][pXP] += xp;

		switch(Player[playerid][pLang])
	    {
			case 0: GameTextForPlayer(playerid,"~y~NEW Achievement", 4000, 5);
	        case 1: GameTextForPlayer(playerid,RusToGame("~y~НОВОЕ ДОСТИЖЕНИЕ"), 4000, 5);
	        case 2: GameTextForPlayer(playerid,"~y~NUEVO logro", 4000, 5);
		}
		
		SetTimerEx("CreateDisplayInfo", 30, 0, "iffifffi", playerid, 1024.0, 354.9375, 15, 380.000, 354.9375, 10.0, 6000);

        #if debug_mode == 0
		new y, m, d, h, i, s, msg[164];
		TimestampToDate(gettime(), y, m, d, h, i, s, 3);
		DiscordChannel = DCC_FindChannelById("680542440587001915");
		format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s[%d] got an achievement (%s)\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], achNames[0][index]);
		DCC_SendChannelMessageEx(DiscordChannel, msg);
		#endif
		return 1;
	}
	else
	{
	    switch(Player[playerid][pLang])
	    {
	        case 0:
	        {
			    SendClientMessage(playerid, -1, "{FF0000}:: For security reasons, your achievement has been rejected");
			    SendClientMessage(playerid, -1, "{FF0000}:: All your actions and messages are saved and will be processed in the future, we apologize and require understanding");
                SendClientMessage(playerid, -1, "{FF0000}:: This security error appears when there is a suspicion of abuse or simplification of receiving an achievement");
                SendClientMessage(playerid, -1, "{FF0000}:: To clarify the situation, contact the server technical support in the forum ("FORUM"), with a description of the actions");
			}
	        case 1:
	        {
			    SendClientMessage(playerid, -1, "{FF0000}:: По соображению безопасности ваше достижение было замороженно");
			    SendClientMessage(playerid, -1, "{FF0000}:: Все ваши действия и переписки сохранены и будут обработаны в будущем, просим прощения и требуем понимания");
            	SendClientMessage(playerid, -1, "{FF0000}:: Данная ошибка безопасности появляется, когда есть подозрения на злоупотребление или упрощение получения ачивки");
                SendClientMessage(playerid, -1, "{FF0000}:: Чтобы прояснить ситуацию, обратитесь в службу технической поддержки сервера на форуме ("FORUM"), с описанием действий");
			}
			case 2:
			{
			    SendClientMessage(playerid, -1, "{FF0000}:: Por razones de seguridad, su logro ha sido rechazado");
			    SendClientMessage(playerid, -1, "{FF0000}:: Todas sus acciones y correspondencia se guardan y se procesaran en el futuro, nos disculpamos y exigimos su comprension");
                SendClientMessage(playerid, -1, "{FF0000}:: Este error de seguridad aparece cuando hay una sospecha de abuso o simplificaciуn de recibir un logro");
                SendClientMessage(playerid, -1, "{FF0000}:: Para aclarar la situacion, pongase en contacto con el soporte tecnico del servidor en el foro ("FORUM"), con una descripcion de las acciones");
			}
		}
        new y, m, d, h, i, s, msg[164];
		TimestampToDate(gettime(), y, m, d, h, i, s, 3);
		DiscordChannel = DCC_FindChannelById("680542440587001915");
		format(msg, sizeof(msg), "```yaml\n%04d-%02d-%02d %s[%d] got rejected achievement (%s)\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], achNames[0][index]);
		DCC_SendChannelMessageEx(DiscordChannel, msg);
		return 0;
	}*/
}

/*CMD:accept(playerid, params[])
{
	new query[1024], t[400], p = -1, type[10];
	if(sscanf(params, "i", p))
	{
	    SendClientMessage(playerid, -1, "/accept (playerid)");
	    return 1;
	}
	if(!IsPlayerConnected(p))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	
	new pl = GetPVarInt(playerid, "pl");
	
	if(!IsPlayerConnected(pl))
	{
	    ClearPlayerShopInfo(pl);
	    ClearPlayerShopInfo(playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Aborted!");
		return 1;
	}
	
	if(gettime() > GetPVarInt(pl, "buyt") && GetPVarInt(pl, "buyt") > 0)
	{
	    ClearPlayerShopInfo(playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Time is up!");
		return 1;
	}
	
	{
		new stype = GetPVarInt(playerid, "stype");
		new inx = GetPVarInt(playerid, "inx");
		new pr = GetPVarInt(playerid, "pr");
		new vp = GetPVarInt(playerid, "vp");
		new ct = GetPVarInt(playerid, "ct");

		format(t, sizeof(t), "\n{4db8ff}You are ready to accept the exchange with another player\n{4db8ff}Check the information for compliance with your agreement\n{4db8ff}with him / her to avoid misunderstanding\n\n{0099ff}+ Buyer (You): {FFFFFF}%s\n{0099ff}- Seller (He / She):{FFFFFF} %s\n\n", Player[playerid][UserName], Player[pl][UserName]);
	    strcat(query, t);
		switch(stype)
		{
		    case 5:
			{
			    if(inx <= -1)
				{
				    ClearPlayerShopInfo(playerid);
					SendClientMessage(playerid, -1, "{FFF000}>> Aborted!");
					return 1;
				}
			    type = "Trophy";
			    new r = TrophyInInv[pl][plii_Rare][inx];
			    
				format(t, sizeof(t), "{0099ff}+ Item/Pet/VIP/Trophy: {FFFFFF}%s\n{0099ff}+ Full Info:{FFFFFF} %s %s\n{0099ff}+ Level:{FFFFFF} %d of %d\n\n", type, TrophyRares[r][8], TrophyName[TrophyInInv[pl][plii_Type][inx]], TrophyInInv[pl][plii_Rank][inx], TrophyInInv[pl][plii_MaxRank][inx]);
		        strcat(query, t);
		        
				if(pr > 0)
				{
					format(t, sizeof(t), "{0099ff}+ Price/EXP: {FFFFFF}%d\n{0099ff}+ Count: {FFFFFF}%d\n\n\n", pr, ct);
		        	strcat(query, t);
		        	ShowPlayerDialog(playerid, DIALOG_SHOP_ITEMS, DIALOG_STYLE_MSGBOX, "{0099ff}Shop", query, "Cancel", "Buy");
				}
		        else ShowPlayerDialog(playerid, DIALOG_SHOP_ITEMS, DIALOG_STYLE_MSGBOX, "{0099ff}Shop", query, "Cancel", "Take");
			}
		    case 2:
			{
			    if(inx <= -1)
			    {
			        ClearPlayerShopInfo(playerid);
			        SendClientMessage(playerid, -1, "{FFFFFF}Unexpected error (NULL)");
			        return 1;
			    }
			    type = "VIP";
			    new vsn[3][] = {"Bronze VIP", "Silver VIP", "Gold VIP"};
				format(t, sizeof(t), "{0099ff}+ Item/Pet/VIP/Trophy: {FFFFFF}%s\n{0099ff}+ Full Info:{FFFFFF} %s\n\n", type, vsn[inx]);
		        strcat(query, t);
				if(pr > 0)
				{
					format(t, sizeof(t), "{0099ff}+ Price/EXP: {FFFFFF}%d\n{0099ff}+ Count: {FFFFFF}%d\n\n\n", pr, 1);
		        	strcat(query, t);
		        	ShowPlayerDialog(playerid, DIALOG_SHOP_ITEMS, DIALOG_STYLE_MSGBOX, "{0099ff}Shop", query, "Cancel", "Buy");
				}
		        else ShowPlayerDialog(playerid, DIALOG_SHOP_ITEMS, DIALOG_STYLE_MSGBOX, "{0099ff}Shop", query, "Cancel", "Take");
			}
			case 1:
			{
			    if(inx <= -1)
			    {
			        ClearPlayerShopInfo(playerid);
			        SendClientMessage(playerid, -1, "{FFFFFF}Unexpected error (NULL)");
			        return 1;
			    }
			    type = "Pet";
				new r[32], v[14];
				r = PetRares[UserPet[pl][inx][PI_Rare]];
				v = (vp == 0) ? (" ") : ("{ffd633}(VIP)");
				format(t, sizeof(t), "{0099ff}+ Item/Pet/VIP/Trophy: {FFFFFF}%s\n{0099ff}+ Full Info:{FFFFFF} %s (%s{FFFFFF})\n(LVL %d) %s\n\n", type, UserPet[pl][inx][PI_Name], r, UserPet[pl][inx][PI_Level], v);
		        strcat(query, t);
		        if(pr > 0)
				{
					format(t, sizeof(t), "{0099ff}+ Price/EXP: {FFFFFF}%d\n{0099ff}+ Count: {FFFFFF}%d\n\n\n", pr, 1);
		        	strcat(query, t);
		        	ShowPlayerDialog(playerid, DIALOG_SHOP_ITEMS, DIALOG_STYLE_MSGBOX, "{0099ff}Shop", query, "Cancel", "Buy");
				}
				else ShowPlayerDialog(playerid, DIALOG_SHOP_ITEMS, DIALOG_STYLE_MSGBOX, "{0099ff}Shop", query, "Cancel", "Take");
			}
			case 0:
			{
			    if(inx <= -1)
			    {
			        ClearPlayerShopInfo(playerid);
			        SendClientMessage(playerid, -1, "{FFFFFF}Unexpected error (NULL)");
			        return 1;
			    }
			    type = "Item";
				format(t, sizeof(t), "{0099ff}Item/Pet/VIP/Trophy: {FFFFFF}%s\n{0099ff}Full Info:{FFFFFF} %s\n\n", type, ItemNames[Inventory[pl][inx][II_ID]][8]);
		        strcat(query, t);
				if(pr > 0)
				{
					format(t, sizeof(t), "{0099ff}+ Price/EXP: {FFFFFF}%d\n{0099ff}+ Count: {FFFFFF}%d\n\n\n", pr, ct);
		        	strcat(query, t);
		        	ShowPlayerDialog(playerid, DIALOG_SHOP_ITEMS, DIALOG_STYLE_MSGBOX, "{0099ff}Shop", query, "Cancel", "Buy");
				}
		        else ShowPlayerDialog(playerid, DIALOG_SHOP_ITEMS, DIALOG_STYLE_MSGBOX, "{0099ff}Shop", query, "Cancel", "Take");
			}
		}
	}
	return 1;
}*/

/*CMD:givezaps(playerid, params[])
{
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 0)
    {
        SendClientMessage(playerid, -1, "{FFF000}>> In order to protect your account you need to enable IAP (/settings)");
		return 1;
    }
    if(IsUsingProxy{playerid})
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
		return 1;
	}
	if(ProccessPay(playerid))
	{
	    if(isnull(params))
		{
		    SendClientMessage(playerid, -1, "/givezaps (playerid) (count) (secret word)");
			return 1;
		}
		new pl = -1, ct = -1, word[96]="";
		sscanf(params, "iis[96]", pl, ct, word);
		if(!IsPlayerConnected(pl))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(ct <= 0)
		{
		    SendClientMessage(playerid, -1, "/givezaps (playerid) (count) (secret word)");
			return 1;
		}
		if(!strlen(word))
		{
		    SendClientMessage(playerid, -1, "/givezaps (playerid) (count) (secret word)");
			return 1;
		}
		if(playerid == pl)
		{
		    SendClientMessage(playerid, -1, "/givezaps (playerid) (count) (secret word)");
			return 1;
		}
		if(floor(Player[playerid][pBalance]) < ct)
		{
		    SendClientMessage(playerid, -1, "Not enough zaps!");
		    return 1;
		}

		new query[256];
		mysql_format(Base, query, sizeof(query), "SELECT `Secret` FROM `users` WHERE `ID` = '%d' AND `Secret` = '%e' AND `build`='"SERVER_BUILD"'", Player[playerid][pAccountID], word);
		mysql_tquery(Base, query, "TryToGiveZaps", "iii", playerid, pl, ct);
	}
	return 1;
}*/

fun TryToGiveZaps(playerid, targetid, ct)
{
    if(cache_num_rows())
	{
        if(floor(Player[playerid][pBalance]) >= ct)
        {
            Player[playerid][pBalance] -= float(ct);
            Player[targetid][pBalance] += float(ct);
            
            new y, m, d, h, i, s, query[256], ip[16];
		  	TimestampToDate(gettime(), y, m, d, h, i, s, 3);
			GetPlayerIp(playerid, ip, 16);
			mysql_format(Base, query, sizeof(query), "INSERT INTO `payments` (`from`,`whom`,`amount`,`type`,`date`,`id`,`ip`) VALUES ('%e','%e','%d','%d','%d','%d','%e')", Player[playerid][UserName], Player[targetid][UserName], ct, 3, gettime(), Player[playerid][pAccountID], ip);
		 	mysql_tquery(Base, query, "", "", "");

			#if debug_mode == 0
			DiscordChannel = DCC_FindChannelById("622114307131572225");
			format(query, sizeof query, "```\n%04d-%02d-%02d %02d:%02d %s has paid %d ZAPS to %s\n```", y, m, d, h, i, Player[playerid][UserName], ct, Player[targetid][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, query);
			#endif
			
			foreach(Player, j) SendClientMessageFormat(j, -1, "{ff33ff}>> %s has paid {FFF000}%d{ff33ff} zaps to %s!", Player[playerid][UserName], ct, Player[targetid][UserName]);
        }
        else
        {
            SendClientMessage(playerid, -1, "{FFF000}Error, not enough zaps!");
        }
	}
	else
	{
	    SendClientMessage(playerid, -1, "{FFF000}Error, incorrect secret word!");
	}
	return 1;
}

CMD:givevip(playerid, params[])
{
    if(isnull(params))
	{
	    SendClientMessage(playerid, -1, "/givevip (playerid) (vip name, [...price])");
		return 1;
	}
	
	new pl = -1, nm[10]="", pr = -1, vns[3][] = {"Bronze VIP", "Silver VIP", "Gold VIP"}, Float:vpp[3] = {4.0, 7.0, 10.0};
	sscanf(params, "is[16]i", pl, nm, pr);
	
	if(!IsPlayerConnected(pl))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(pl == playerid)
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(strlen(nm) <= 3)
	{
	    SendClientMessage(playerid, -1, "/givevip (playerid) (vip name, [...price])");
		return 1;
	}
	for( new i; i < sizeof(vns); i++ )
	{
		if(strfind(vns[i], nm, true) != -1)
		{
			if(Player[playerid][pBalance] < vpp[i])
			{
			    SendClientMessageFormat(playerid, -1, "{FFF000}>> You do not have enough ZAPs %.0f need", vpp[i] - Player[playerid][pBalance]);
			    return 1;
			}
			else
			{
			    if(pr > 0)
				{
					SendClientMessageFormat(pl, -1, "{2fa192}>> %s is selling you a %s. Price:{FFFFFF} %d{2fa192} exp, use /accept %d", Player[playerid][UserName], vns[i], pr, playerid);
					SendClientMessageFormat(playerid, -1, "{2fa192}>> You are selling a %s to %s for {FFFFFF}%d{2fa192} exp.",vns[i], Player[pl][UserName], pr - floor(pr*TAXES));
				}
				else
				{
					SendClientMessageFormat(pl, -1, "{2fa192}>> %s gives you a %s. Use /accept %d", Player[playerid][UserName], vns[i], playerid);
	                SendClientMessageFormat(playerid, -1, "{2fa192}>> You gives a %s to %s", vns[i], Player[pl][UserName]);
				}
				SetPVarInt(pl, "stype", 2);
				SetPVarInt(pl, "pl", playerid);
				SetPVarInt(pl, "inx", i);
				SetPVarInt(pl, "pr", pr);
				SetPVarInt(pl, "vp", 0);
				SetPVarInt(pl, "clbuy", 1);
				SetPVarInt(pl, "buyt", gettime() + 15);
				return 1;
			}
		}
	}
	return 1;
}

/*CMD:givetrophy(playerid, params[])
{
    if(isnull(params))
	{
	    SendClientMessage(playerid, -1, "/givetrophy (playerid) [...price]");
		return 1;
	}
	
	new pl = -1, pr = 0;
	
	sscanf(params, "ii", pl, pr);
    if(!IsPlayerConnected(pl))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	
	// if(pl == playerid) return 1;

	if(pr <= -1 || pr > floor(Player[pl][pXP]/2))
	{
	    SendClientMessage(playerid, -1, "/givetrophy (playerid) [...price]");
		return 1;
	}
	
	if(GetPVarInt(pl, "clbuy") >= 1)
	{
        SendClientMessage(playerid, -1, "{FFFFFF}>> Player in a state of purchase");
		return 1;
	}
	
	SetPVarInt(playerid, "sell_trophy", 5);
	SetPVarInt(playerid, "sell_trophy_id", pl);
	SetPVarInt(playerid, "sell_trophy_price", pr);
	
	ShowTrophys(playerid);
	
	return 1;
}

CMD:give(playerid, params[])
{
    if(isnull(params))
	{
	    SendClientMessage(playerid, -1, "/give (playerid) (item name, [...count, ...price])");
		return 1;
	}

    new pl = -1, nm[64]="", nm2[16]="", nm3[16]="", ct = -1, pr = -1;

    sscanf(params, "is[65]i", pl, nm, pr);
    sscanf(params, "is[65]s[65]i", pl, nm, nm2, pr);
    sscanf(params, "is[65]s[65]s[65]i", pl, nm, nm2, nm3, pr);
    
    if(!IsPlayerConnected(pl))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(ItsNewbie(pl))
	{
	    SendClientMessage(playerid, -1, "{FFF000}>> This player is currently unable to receive items");
		return 1;
	}
	if(strlen(nm) <= 2)
	{
		SendClientMessage(playerid, -1, "/give (playerid) (item name, count, [...price])");
		return 1;
	}
	
	if(pl == playerid) return 1;
	
	if(pr <= -1 || pr > floor(Player[pl][pXP]/2))
	{
	    SendClientMessage(playerid, -1, "/give (playerid) (item name, count, [...price])");
		return 1;
	}
	
	if(GetPVarInt(pl, "clbuy") >= 1)
	{
        SendClientMessage(playerid, -1, "{FFFFFF}>> Player in a state of purchase");
		return 1;
	}
	
	for( new i; i < MAX_PETS; i++ )
	{
	    if(strfind(UserPet[playerid][i][PI_Name], nm, true) != -1)
		{
		    if(UserPet[playerid][i][PI_Level] <= 99)
		    {
			    if(pr > 0)
				{
					SendClientMessageFormat(pl, -1, "{2fa192}>> %s is selling you a pet %s. Price:{FFFFFF} %d{2fa192} exp, use /accept %d", Player[playerid][UserName], UserPet[playerid][i][PI_Name], pr, playerid);
					SendClientMessageFormat(playerid, -1, "{2fa192}>> You are selling a pet %s to %s for {FFFFFF}%d{2fa192} exp.", UserPet[playerid][i][PI_Name], Player[pl][UserName], pr);
				}
				else
				{
					SendClientMessageFormat(pl, -1, "{2fa192}>> %s gives you a pet %s. Use /accept %d", Player[playerid][UserName], UserPet[playerid][i][PI_Name], playerid);
	                SendClientMessageFormat(playerid, -1, "{2fa192}>> You gives a pet %s to %s", UserPet[playerid][i][PI_Name], Player[pl][UserName]);
				}
				SetPVarInt(pl, "stype", 1);
				SetPVarInt(pl, "pl", playerid);
				SetPVarInt(pl, "inx", i);
				SetPVarInt(pl, "pr", pr);
				SetPVarInt(pl, "vp", UserPet[playerid][i][PI_VIP]);
				SetPVarInt(pl, "clbuy", 1);
				SetPVarInt(pl, "buyt", gettime() + 15);
			}
			else
			{
			    SendClientMessage(playerid, -1, "{FF0000}>> This pet is already yours!");
			}
		    return 1;
		}
	}
	
	pr = 0;
	
	sscanf(params, "is[65]S()[65]S()[65]ii", pl, nm, nm2, nm3, ct, pr);
    sscanf(params, "is[65]S()[65]ii", pl, nm, nm2, ct, pr);
	sscanf(params, "is[65]ii", pl, nm, ct, pr);
	
	if(strlen(nm2) >= 2 && !IsValueNotAString(nm2))
	{
	    strins(nm, " ", strlen(nm));
		strins(nm, nm2, strlen(nm));
	}

	if(strlen(nm3) >= 2 && !IsValueNotAString(nm3))
	{
	    strins(nm, " ", strlen(nm));
		strins(nm, nm3, strlen(nm));
	}
	
	if(ct <= 0)
	{
		SendClientMessage(playerid, -1, "/give (playerid) (item name, count, [...price])");
		return 1;
	}
	
	if(pr <= -1 || pr > floor(Player[pl][pXP]/2))
	{
	    SendClientMessage(playerid, -1, "/give (playerid) (item name, count, [...price])");
		return 1;
	}
	
	for( new i; i < sizeof(ItemNames); i++ )
	{
		if( ((StringHasSpaces(nm) && !strcmp(ItemNames[i], nm, false)) || strfind(ItemNames[i], nm, true) != -1) && i < ITEM_NAME_MOON_PET && i != ITEM_NAME_GOLD_COIN && !Inventory[playerid][i][II_CanNotDrop] && i != ITEM_NAME_RETURNEE && i != ITEM_NAME_CHAOS_COIN && i != ITEM_NAME_GRASS && i != ITEM_NAME_ZOMBIE_MEAT)
		{
		    if(ct > GetItemCount(playerid, i))
			{
				SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of these materials / it cannot be given!");
				return 1;
			}
			else
		    {
		        new ind = GetItemIndex(playerid, i);
		        
		        if(Inventory[playerid][ind][II_Time] > 0 || Inventory[playerid][ind][II_CanNotDrop])
		        {
		            SendClientMessage(playerid, -1, "{FFF000}>> It cannot be given!");
					return 1;
		        }
		        
			    if(pr > 0)
				{
					SendClientMessageFormat(pl, -1, "{2fa192}>> %s is selling you an item %s{FFFFFF}(%d){2fa192}. Price: {FFFFFF}%d{2fa192} exp, use /accept %d", Player[playerid][UserName], ItemNames[i][8], ct, pr, playerid);
					SendClientMessageFormat(playerid, -1, "{2fa192}>> You are selling an item %s{FFFFFF}(%d){2fa192} to %s for {FFFFFF}%d{2fa192} exp.",  ItemNames[i][8], ct, Player[pl][UserName], pr);
				}
				else
				{
					SendClientMessageFormat(pl, -1, "{2fa192}>> %s gives you an item %s{FFFFFF}(%d){2fa192}. Use /accept %d", Player[playerid][UserName], ItemNames[i][8], ct, playerid);
	                SendClientMessageFormat(playerid, -1, "{2fa192}>> You gives an item %s{FFFFFF}(%d){2fa192} to %s", ItemNames[i][8], ct, Player[pl][UserName]);
				}
				SetPVarInt(pl, "stype", 0);
				SetPVarInt(pl, "pl", playerid);
				SetPVarInt(pl, "inx", ind);
				SetPVarInt(pl, "pr", pr);
				SetPVarInt(pl, "vp", 0);
				SetPVarInt(pl, "ct", ct);
				SetPVarInt(pl, "clbuy", 1);
				SetPVarInt(pl, "buyt", gettime() + 15);
			}
		    return 1;
		}
	}
	for( new i = strlen(nm); i > -1; i--) if(nm[i] == '%') nm[i] = '#';
 	SendClientMessageFormat(playerid, -1, "{FFF000}>> Item %s cannot be shared", nm);
	return 1;
}

CMD:craft(playerid)
{
	new text[1500];
	switch(Player[playerid][pLang])
	{
	    case 0: text = "{bf00ff}Moon pet\n{FF0000}Fire Pet\n{00b33c}The Earth Pet\n{d6d6c2}Air Pet\n{aaff00}Berserker's Book";
	    case 1: text = "{bf00ff}Лунный Питомец\n{FF0000}Огненный Питомец\n{00b33c}Питомец Земли\n{d6d6c2}Питомец Ветра\n{aaff00}Книга Берсеркера";
	    case 2: text = "{bf00ff}Mascota luna\n{FF0000}Mascota de fuego\n{00b33c}La mascota de la tierra\n{d6d6c2}Mascota aerea\n{aaff00}Libro de berserker";
	}
	
	if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] > 0)
	{
	    if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 1) strins(text, "\n{73e600}[PHARMACIST #1]{99ff33} Anti-Drunk Vision", strlen(text));
        if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 2) strins(text, "\n{73e600}[PHARMACIST #2]{99ff33} Anti-Toxic Meat", strlen(text));
        
		if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 3)
		{
		    strins(text, "\n{73e600}[PHARMACIST #3]{99ff33} Skin Firming", strlen(text));
			strins(text, "\n{73e600}[PHARMACIST #3]{99ff33} Anti-Boomer", strlen(text));
		}
        if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 4) strins(text, "\n{73e600}[PHARMACIST #4]{99ff33} Anti-Camouflage", strlen(text));
        if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 5)
		{
			strins(text, "\n{73e600}[PHARMACIST #5]{99ff33} Anti-Remover", strlen(text));
			strins(text, "\n{73e600}[PHARMACIST #5]{99ff33} Anti-Cure Blocker", strlen(text));
		}
		if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 6)
		{
		    strins(text, "\n{73e600}[PHARMACIST #6]{99ff33} Anti-Spitter", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #6]{99ff33} Anti-Punk", strlen(text));
		}
		if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 7)
		{
		    strins(text, "\n{73e600}[PHARMACIST #7]{99ff33} Anti-Stealer", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #7]{99ff33} Anti-Swapper", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #7]{99ff33} Anti-Taser", strlen(text));
		}
		if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 8)
		{
		    strins(text, "\n{73e600}[PHARMACIST #8]{99ff33} Anti-Spore", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #8]{99ff33} Anti-Gun Jammer", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #8]{99ff33} Anti-Poision", strlen(text));
		}
		if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 9)
		{
		    strins(text, "\n{73e600}[PHARMACIST #9]{99ff33} Anti-Bee", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #9]{99ff33} Anti-Shotgunner", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #9]{99ff33} Anti-Guitar Player", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #9]{99ff33} Anti-Berserker", strlen(text));
		}
		if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] >= 10)
		{
		    strins(text, "\n{73e600}[PHARMACIST #10]{99ff33} Anti-Fly", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #10]{99ff33} Anti-Nightmare", strlen(text));
		    strins(text, "\n{73e600}[PHARMACIST #10]{99ff33} Antidote", strlen(text));
		}
	}
	
    ShowPlayerDialog(playerid, DIALOG_CRAFT, DIALOG_STYLE_LIST, "{FF0000}Craft", text, "Select", "Cancel");
    
	return 1;
}*/

public OnActorStreamIn(actorid, forplayerid)
{
    if(actorid >= GangDealer[0] && actorid <= GangDealer[28] && actorid >= sizeof(Valintine))
    {
	    SetActorFacingAngle(GangDealer[actorid], 360.0);
		ApplyActorAnimation(GangDealer[actorid], "WEAPONS", "SHP_TRAY_POSE", 4.1, false, false, false, true, -1);
	}
	return 1;
}

/*CMD:gberserker(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1)
	{
		if(sscanf(params, "i", params[0])) 
		{
			SendClientMessage(playerid, -1, "/gberserker (playerid)");
		    return 1;
		}
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
        PlayerClassUnlocked[params[0]][TEAM_HUMAN][BERSERKER] = 2;
        SendClientMessage(params[0], -1, "{99ffff}>> You have unlocked a Berserser, use /class Berserser to set it!");
		return 1;
	}
	return 0;
}

CMD:gvsupp(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1)
	{
		if(sscanf(params, "i", params[0]))
		{
			SendClientMessage(playerid, -1, "/gvsupp (playerid)");
		    return 1;
		}
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
        PlayerClassUnlocked[params[0]][TEAM_HUMAN][ADVANCEDSUPPORTER] = gettime()+((86400)*14);
        SendClientMessage(params[0], -1, "{99ffff}>> You have unlocked an Advanced Support, use /class Advanced Support to set it!");
		return 1;
	}
	return 0;
}

CMD:gws(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1)
	{
		War[wi_GlobalWarIsStarted] = true;
		ClearWarInfo();
		SendClientMessageToAll(-1, "{FFF000}*** The battle between gangs has begun! (/gang cup ...[cup id])");
		return 1;
	}
	return 0;
}*/

CMD:request(playerid, params[])
{
	if(Player[playerid][pAdmin] > 0)
	{
	    if(sscanf(params, "i", params[0]))
	    {
	        SendClientMessage(playerid, -1, "{FFFFFF}>> /request (id)");
	        return 1;
	    }
	    
	    new id = params[0];
	    if(!IsPlayerConnected(id)) return 1;
	    if(strlen(AC_Requests[id][ac_reason]) >= 1)
	    {
		    new str[1024], f[256], time[24], y, m, d, h, j, s;
			TimestampToDate(gettime() - AC_Requests[id][ac_time], y, m, d, h, j, s, 0);

	        format(time, sizeof(time), "%d seconds ago", s);
			if(j >= 1 && h <= 0) format(time, sizeof(time), "%d minutes ago", j);
			if(h >= 1) format(time, sizeof(time), "%d hours ago", h);
			if(d >= 1) format(time, sizeof(time), "%d days ago", d);

            format(f, sizeof(f), "{FFFFFF}Name: \t\t\t%s\t\t\t\t{ff5500}(ID %d)\n\n", Player[id][UserName], id);
            strcat(str, f);
			format(f, sizeof(f), "{FFFFFF}Suspected for: \t\t{FFD500}%s\t\t{ff5500}%s\n", AC_Requests[id][ac_reason], time);
			strcat(str, f);
			switch(AC_Requests[id][ac_type])
			{
			    case 1: format(f, sizeof(f), "{FFFFFF}Additional Info: \t\t{FFD500}Distance\t\t{ff5500}%d meters\n\n", AC_Requests[id][ac_additional]);
                case 2: format(f, sizeof(f), "{FFFFFF}Additional Info: \t\t{FFD500}Continuous hits\t\t{ff5500}%d bullets\n\n", AC_Requests[id][ac_additional]);
                case 3: format(f, sizeof(f), "{FFFFFF}Additional Info: \t\t{FFD500}Position Mismatch\n\n");
				default: format(f, sizeof(f), "{FFFFFF}Additional Info: \t\t{FFD500}NONE\n\n");
			}
			strcat(str, f);
			format(f, sizeof(f), "{FFFFFF}Lost Packets:\t\t{FFD500}%.2f\t\t{ff5500}%.2f\n", NetStats_PacketLossPercent(id), AC_Requests[id][ac_pl]);
			strcat(str, f);
            
			// Suspecting for [Reason] (...AIM, TP / AIRBRAKE, WH, VPN, Ban Evading)
			// Packets lost

		    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{ff5500}Anti-Cheat Request", str, "Ok", "");
		}
		return 1;
	}
	return 0;
}


CMD:resetactivity(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1)
	{
	    new query[128];
		mysql_format(Base, query, sizeof(query), "UPDATE `aactivity` SET `h` = '2',`m` = '0',`s` = '0' WHERE `month` = '2' AND `build`='"SERVER_BUILD"'");
		mysql_tquery(Base, query);
		foreach(Player, i)
		{
		    Player[i][AdminActivity][4] = 0;
		    Player[i][AdminActivity][3] = 2;
		    Player[i][AdminActivity][2] = 2;
		    Player[i][AdminActivity][1] = 0;
		    Player[i][AdminActivity][0] = 0;
		}
	}
}

/*
CMD:gwe(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1)
	{
		War[wi_GlobalWarIsStarted] = false;
		ClearWarInfo();
		foreach(Player, y)
		{
		    if(InGangWar{y})
		    {
				if(GangName[y]>Text3D:-1) Delete3DTextLabel(GangName[y]),GangName[y]=Text3D:-1;
		        InGangWar{y} = false;
		        InWarStage2{y} = false;
		        WarStageAgainst{y} = -1;
		        WarStageTeam{y} = -1;
		        ResetWeapons(y);
		        SetPlayerTeamEx(y, TEAM_ZOMBIE);
		        SetPlayerVirtualWorld(y, 0);
		        SetSpawnInfo(y,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		        SpawnPlayer(y);
			}
		}
		SendClientMessageToAll(-1, "{FFF000}*** The battle for the cups has end!");
		return 1;
	}
	return 0;
}*/

CMD:raws(playerid)
{
    if(Player[playerid][pAccountID] == 1)
	{
	    for( new j; j < 30; j++ )
	    {
			for( new i; i < 30; i++ )
			{
	      		Clan[j][g_EnemysWith][i] = 0;
			    Clan[j][g_AllianceWith][i] = 0;
				Clan[j][g_Cups][i] = 0;
			    Clan[j][g_CupsAlliance][i] = 0;

			    Clan[i][g_EnemysWith][j] = 0;
			    Clan[i][g_AllianceWith][j] = 0;
			    Clan[i][g_CupsAlliance][j] = 0;
			}
		}
		return 1;
	}
	return 0;
}

CMD:gpolicy(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1 || GetUnlockedSlot(Player[playerid][pSettings], 25) == 1)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
		{
		    SendClientMessage(playerid, -1, "/gpolicy (leader's rank) (deputy's rank)");
		    return 1;
		}
		SendMessageFormatToAll(-1, "{FFF000}>> Gang Manager has changed gang policy. Min. Leader's rank is %d and min. Deputy's rank is %d!", params[0], params[1]);
		GlobalGsPolicy[0] = params[0];
		GlobalGsPolicy[1] = params[1];
		return 1;
	}
	return 0;
}

CMD:offalliance(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1 || GetUnlockedSlot(Player[playerid][pSettings], 25) == 1)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
		{
		    SendClientMessage(playerid, -1, "/offalliance (gang id) (gang id)");
		    return 1;
		}
		SendMessageFormatToAll(-1, "{FFF000}>> An alliance between %s and %s forcibly terminated by Gang Manager!", Clan[params[0]][Full], Clan[params[1]][Full]);
		Clan[params[0]][g_AllianceWith][params[1]] = 0;
		Clan[params[1]][g_AllianceWith][params[0]] = 0;
		return 1;
	}
	return 0;
}

CMD:offwar(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1 || GetUnlockedSlot(Player[playerid][pSettings], 25) == 1)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
		{
		    SendClientMessage(playerid, -1, "/offwar (gang id) (gang id)");
		    return 1;
		}
		SendMessageFormatToAll(-1, "{FFF000}>> A war between %s and %s forcibly terminated by Gang Manager!", Clan[params[0]][Full], Clan[params[1]][Full]);
		Clan[params[0]][g_EnemysWith][params[1]] = 0;
		Clan[params[1]][g_EnemysWith][params[0]] = 0;
		return 1;
	}
	return 0;
}

CMD:makewar(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1 || GetUnlockedSlot(Player[playerid][pSettings], 25) == 1)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
		{
		    SendClientMessage(playerid, -1, "/makewar (gang id) (gang id)");
		    return 1;
		}
		SendMessageFormatToAll(-1, "{FFF000}>> A war between %s and %s forcibly set by Gang Manager!", Clan[params[0]][Full], Clan[params[1]][Full]);
		Clan[params[0]][g_EnemysWith][params[1]] = -1;
		Clan[params[1]][g_EnemysWith][params[0]] = -1;
		return 1;
	}
	return 0;
}


CMD:reloadgp(playerid)
{
    if(Player[playerid][pAccountID] == 1)
	{
		GangTimer[1] = 0;
		GangTimer[0] = 0;
		return 1;
	}
	return 0;
}

/*
CMD:t(playerid, params[])
{
	if(Player[playerid][pAccountID] == 1)
	{
		UseNewBalance =! UseNewBalance;
		if(UseNewBalance) SendClientMessage(playerid, -1, "{FFF000}>> Changed to new");
		else SendClientMessage(playerid, -1, "{FFF000}>> Changed to old");
		
		//AddItemInInv(playerid, ITEM_NAME_QUEST_CHEST, 5);
		
		SetPlayerAttachedObject(playerid, 0, 18974, 2, 0.06199, 0.04699, 0.00200, 90.29996, 81.69994, 0.00000, 1.00000, 1.00000, 1.00000, 0xFF000000, 0xFF000000);
		SetPlayerAttachedObject(playerid, 1, 18634, 2, -0.01300, 0.21300, -0.00499, 94.10002, -62.20009, -85.50007, 2.35900, 0.59899, 1.96299, 0xFF000000, 0xFF000000);
		SetPlayerAttachedObject(playerid, 2, 19352, 2, 0.08899, 0.01299, 0.00000, -2.20000, 85.89999, 70.00001, 1.21499, 1.27899, 2.36900, 0xFF000000, 0xFF000000);
		SetPlayerAttachedObject(playerid, 3, 19468, 2, 0.00399, 0.01200, -0.00298, 95.90002, -94.70010, -82.10007, 0.94400, 0.93399, 1.00899, 0xFF000000, 0xFF000000);
		SetPlayerAttachedObject(playerid, 9, 19348, 5, 0.08799, 0.02799, -0.29299, 0.00000, 4.69999, 0.00000, 1.00000, 1.00000, 1.00000);
		return 1;
	}
    return 0;
}*/

CMD:makealliance(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1 || GetUnlockedSlot(Player[playerid][pSettings], 25) == 1)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
		{
		    SendClientMessage(playerid, -1, "/makealliance (gang id) (gang id)");
		    return 1;
		}
		SendMessageFormatToAll(-1, "{FFF000}>> An alliance between %s and %s forcibly set by Gang Manager!", Clan[params[0]][Full], Clan[params[1]][Full]);
		Clan[params[0]][g_AllianceWith][params[1]] = 2;
		Clan[params[1]][g_AllianceWith][params[0]] = 2;
		return 1;
	}
	return 0;
}

/*CMD:youtube(playerid, params[])
{
    if(sscanf(params, "s[128]", params))
    {
        SendClientMessage(playerid, COLOR_BLUE, ">> /youtube (Name of video to search)");
        return 1;
    }
    Request_Type[playerid] = 1;
    if(strcmp(params, Last_Search[playerid], true))
    {
        format(Last_Search[playerid], 128, "%s", params);
        new assist[256];
        format(assist, sizeof(assist), ""#YOUR_WEBSITE"/curl.php?limit="#MAX_RESULTS"&linkid=http://www.youtube.com/results?search_query=%s", params);
        for(new i = 35; i < strlen(assist); i++) if(assist[i] == ' ') assist[i] = '?';
        HTTP(playerid, HTTP_GET, assist, "", "MyYoutubeHttpResponse");
        return 1;
    }
    ShowResultsWindow(playerid);
    return 1;
}*/

/*fun ClearGangMembers(gid)
{
    if(Clan[gid][g_WeeksToKick] > 0)
    {
		if(cache_num_rows())
		{
		    new i, query[96], id, counter = 0;
		    for( i = 0; i < cache_num_rows(); i++ )
		    {
		        counter++;
		        cache_get_value_name_int(i, "ID", id);
				mysql_format(Base, query, sizeof(query), "SELECT `last_log`,`id` FROM `userinfo` WHERE `last_log` < %d", gettime() + (604800 * Clan[gid][g_WeeksToKick]));
				mysql_tquery(Base, query, "CheckForLastOnline", "iii", id, gid, counter);
		    }
		}
	}
	return 1;
}

fun CheckForLastOnline(id, gid, counter)
{
    new query[128];
    if(cache_num_rows() > 0)
	{
	    new i, acc;
	    for( i = 0; i < cache_num_rows(); i++ )
	    {
		    cache_get_value_name_int(i, "id", acc);
	    	mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='0',`ClanRank`='0' WHERE `ID` = '%d'", acc);
			mysql_tquery(Base, query, "", "", "");
		}
	}
	return 1;
}*/

fun AcceptGangAction(playerid)
{
    if(cache_num_rows())
	{
	    new str[128], n[24], r;
	    cache_get_value_name(0, "Name", n, 25);
	    cache_get_value_name_int(0, "ClanRank", r);
	    if(r <= 5)
	    {
	    	format(str, sizeof(str), "{FFFFFF}Do you really want to{ff3300} fire %s?", n);
			ShowPlayerDialog(playerid, DIALOG_GANG_MEMBERS_ACCEPTING, DIALOG_STYLE_MSGBOX, "{FF0000}WARNING", str, "Yes", "No");
			strmid(GangPanelName[playerid], n, 0, 24, 25);
		}
		else
		{
		    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}WARNING", "{ff3300}Not enough rights, contact Gang Manager (GM)", "Ok", "");
		}
	}
	return 1;
}

fun LoadMembers(playerid, gangid)
{
	if(cache_num_rows())
	{
	    new str[4096], n[25], online_t[25], id, r, f[128], t[32], i;
	    strcat(str, "{FF0000}Name\t{FF0000}Rank\t{FF0000}Last login\n");
		for( i = 0; i < cache_num_rows(); i++)
		{
		    if( i == 50 ) break;
            cache_get_value_name(i, "Name", n, 25);
		    cache_get_value_name_int(i, "ID", id);
            cache_get_value_name(i, "lalog", online_t, 25);
	    	cache_get_value_name_int(i, "ClanRank", r);
	    	foreach(Player, j) if(Player[j][pAccountID] == id) format(f, sizeof(f), "{66ff66}%s\t{66ff66}%d\t{66ff66}Online\n", n, r);
		    else format(f, sizeof(f), "{FFFFFF}%s\t%d\t{cdcdcd}%s\n", n, r, online_t);
		    strcat(str, f);
		    GangPanelIDs[playerid][i] = id;
		}
		format(t, sizeof(t), "{B2F558}Member list (%d / %d)", i, cache_num_rows());
		ShowPlayerDialog(playerid, DIALOG_GANG_MEMBERS_LIST, DIALOG_STYLE_TABLIST_HEADERS, t, str, "Ok", "");
	}
	return 1;
}

/*CMD:showtrophy(playerid)
{
    SetPVarInt(playerid, "sell_trophy", -1);
    SetPVarInt(playerid, "sell_trophy_id", -1);
    SetPVarInt(playerid, "sell_trophy_price", -1);

	PlayerShowHisTrophyID[playerid] = -1;

    ShowTrophys(playerid);
	return 1;
}*/

/*CMD:trophies(playerid)
{
    SetPVarInt(playerid, "sell_trophy", -1);
    SetPVarInt(playerid, "sell_trophy_id", -1);
    SetPVarInt(playerid, "sell_trophy_price", -1);

    PlayerShowHisTrophyID[playerid] = -10;
    
    ShowTrophys(playerid);
    return 1;
}*/

/*CMD:inv(playerid)
{
    ShowInvItems(playerid);
    return 1;
}*/

/*CMD:pets(playerid)
{
    pActionsSelected[playerid][5] = -1;
    ShowPets(playerid);
	return 1;
}*/

/*CMD:network(playerid)
{
	new y, m, d, h, i, s, body[480];
	TimestampToDate(gettime(), y, m, d, h, i, s, 3);
    new stats[401];
    GetPlayerNetworkStats(playerid, stats, sizeof(stats));
	format(body, sizeof(body), "\t\t\n\n%02d:%02d %02d/%02d/%04d\n\n%s\n\n%s\n\t\t", h, i, m, d, y, stats);
	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "(N)etwork (I)nformation", body, "Close", "");
	return 1;
}*/

CMD:donate(playerid)
{
	switch(Player[playerid][pLang])
	{
    	case 0:
		{
		    ShowPlayerDialog(playerid, DIALOG_DONATE_ACTIONS, DIALOG_STYLE_MSGBOX, "{33adff}DONATE", "{FFFFFF}Welcome to the donation section, select what you want to do", "Info", "Shop");
		    return 1;
		}
		case 1:
		{
		    ShowPlayerDialog(playerid, DIALOG_DONATE_ACTIONS, DIALOG_STYLE_MSGBOX, "{33adff}БЛАГОТВОРИТЕЛЬСНОСТЬ", "{FFFFFF}Добро пожаловать в раздел доната, выберите то, что вы хотите сделать", "Инфо", "Магазин");
		    return 1;
		}
		case 2:
		{
		    ShowPlayerDialog(playerid, DIALOG_DONATE_ACTIONS, DIALOG_STYLE_MSGBOX, "{33adff}DONAR", "{FFFFFF}Bienvenido a la seccion de donaciones, selecciona lo que quieres hacer", "Info", "Tienda");
		    return 1;
		}
	}
	return 1;
}

CMD:apm(playerid, params[])
{
    if(Player[playerid][pAdmin] >= 2)
	{
	    if(sscanf(params, "is[128]", params[0], params[1]))
		{
		    SendClientMessage(playerid, -1, "/apm (id) (text)");
		    return 1;
		}
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> %s send admin message to %s(%d): %s", Player[playerid][RealName], Player[params[0]][UserName], params[0], params[1]);
        SendClientMessageFormat(params[0], -1, "{b3ffff}>> Admin message: %s", params[1]);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /apm on player %s (Message: %s)\n```",  Player[playerid][RealName], Player[params[0]][UserName], params[1]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
    	return 1;
	}
	return 0;
}

CMD:answer(playerid, params[])
{
    if(Player[playerid][pAdmin] >= 2)
	{
	    if(sscanf(params, "is[128]", params[0], params[1]))
		{
		    SendClientMessage(playerid, -1, "/answer (id) (text)");
		    return 1;
		}
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> %s answered to %s(%d): %s", Player[playerid][RealName], Player[params[0]][UserName], params[0], params[1]);
        SendClientMessageFormat(params[0], -1, "{b3ffff}>> Answer: %s", params[1]);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /answer on player %s (Message: %s)\n```",  Player[playerid][RealName], Player[params[0]][UserName], params[1]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
    	return 1;
	}
	return 0;
}

CMD:adva(playerid, params[])
{
	if(Player[playerid][pAdmin] >= 3)
	{
	    if(sscanf(params, "i", params[0]))
		{
		    SendClientMessage(playerid, -1, "/adva (id)");
		    return 1;
		}
		if(strlen(PlayerText[params[0]]) <= 0)
		{
		    SendClientMessage(playerid, -1, "The player did not commit this action");
		    return 1;
		}
		switch(PlayerTextType[params[0]])
		{
		    case 1:
			{
				PlayerTextType[params[0]] = 1000;
				OnPlayerText(params[0], PlayerText[params[0]]);
			}
			case 2:
			{
			    new str[128];
			    format(str, sizeof(str), "%s", PlayerText[params[0]]);
			    PlayerTextType[params[0]] = 1000;
			    cmd::pm(params[0], str);
			}
			case 3:
			{
			    new str[128];
			    format(str, sizeof(str), "%s", PlayerText[params[0]]);
			    PlayerTextType[params[0]] = 1000;
			    cmd::v(params[0], str);
			}
			case 4:
			{
			    new str[128];
			    format(str, sizeof(str), "%s", PlayerText[params[0]]);
			    PlayerTextType[params[0]] = 1000;
			    //cmd::ask(params[0], str);
			}
			case 5:
			{
			    new str[128];
			    format(str, sizeof(str), "%s", PlayerText[params[0]]);
			    PlayerTextType[params[0]] = 1000;
			    //cmd::trade(params[0], str);
			}
		}
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> %s allowed %s to send a message: %s", Player[playerid][RealName], Player[params[0]][UserName], PlayerText[params[0]]);
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /adva on player %s (Message: %s)\n```",  Player[playerid][RealName], Player[params[0]][UserName], PlayerText[params[0]]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		PlayerTextType[params[0]] = 0;
		strmid(PlayerText[params[0]], "", 0, 128, 128);
		return 1;
	}
	return 0;
}
/*
CMD:fr(playerid)
{
	if(gettime() > GetPVarInt(playerid, "frtime"))
	{
		switch(random(50))
		{
		    case 9:
		    {
		        SendClientMessage(playerid, -1, "{B2F558}>> Velocity change...");
		        new Float:pos[3];
	       		GetPlayerVelocity(playerid,pos[0],pos[1],pos[2]);
				SetPlayerVelocity(playerid,pos[0]*2.0,pos[1]*2.0,pos[2]+0.9);
				AntiTPTimerEx(playerid, 4);
				AntiSlap(playerid, 2);
				AntiSpeedHack(playerid, 3);
		    }
		    case 21:
		    {
		        SendClientMessage(playerid, -1, "{B2F558}>> Not bad!");
		        SetPlayerSkinAC(playerid, 115);
		    }
		    case 11:
		    {
		        if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
		        {
			        SendClientMessage(playerid, -1, "{B2F558}>> Alcoholic...");
			        SetPlayerDrunkLevel(playerid, 3000);
				} SendClientMessage(playerid, -1, "{B2F558}>> Ooops, nothing happened :P");
		    }
		    case 38:
		    {
		        if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
		        {
		        	SendClientMessage(playerid, -1, "{B2F558}>> Take some armor!");
		        	SetPlayerArmourAC(playerid, 50.0);
				}
				else SendClientMessage(playerid, -1, "{B2F558}>> Ooops, nothing happened :P");
		    }
		    case 1:
		    {
		        if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
		        {
			        SendClientMessage(playerid, -1, "{B2F558}>> Something went wrong...");
			        SetPlayerHealthAC(playerid, 1.0);
				}
		    }
			default: SendClientMessage(playerid, -1, "{B2F558}>> Ooops, nothing happened :P");
		}
		SetPVarInt(playerid, "frtime", gettime() + 120);
	}
	else GameTextForPlayer(playerid, "~w~Wait 2 minutes", 2000, 5);
	return 1;
}

CMD:sword(playerid)
{
    if(IsUsingProxy{playerid}) return 0;
	if(gettime() > 1583020800) return 0;
	ShowPlayerDialog(playerid, DIALOG_SECURITY, DIALOG_STYLE_INPUT, serverLang[Player[playerid][pLang]][188], serverLang[Player[playerid][pLang]][189], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
	return 1;
}
*/

stock UserVerifiyed(playerid)
{
    /*if(Player[playerid][pIndentety]) return 1;
    
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1)
    {
	    new serial[41], ip[16];
	    GetPlayerIp(playerid, ip, sizeof(ip));
	    gpci(playerid, serial, sizeof(serial));
		if(strcmp(Player[playerid][pIP], ip))
		{
		    if(!strcmp(Player[playerid][pGPCI], serial) && strlen(Player[playerid][pGPCI]) >= 1) return 1;
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
			return 0;
		}
	}*/
	return 1;
}

stock ProccessPay(playerid)
{
    /*if(Player[playerid][pIndentety]) return 1;
    
    new serial[41], ip[16];
    GetPlayerIp(playerid, ip, sizeof(ip));
    gpci(playerid, serial, sizeof(serial));
    if(strlen(Player[playerid][pGPCI]) <= 0)
	{
		ShowPlayerDialog(playerid, DIALOG_SECURITY, DIALOG_STYLE_INPUT, serverLang[Player[playerid][pLang]][188], serverLang[Player[playerid][pLang]][189], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
		return 0;
	}
	else if(strcmp(Player[playerid][pIP], ip))
	{
	    if(!strcmp(Player[playerid][pGPCI], serial)) return 1;
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
		return 0;
	}*/
	return 1;
}

/*
CMD:s(playerid, params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[96];
	if(sscanf(params,"s[96]",message))
	{
		SendClientMessage(playerid, -1, ">> /s(hout) (text)");
		return 1;
	}
	new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if(CheckForWebsite(message)) return 1;
	if(CheckForBehavoiur(message)) return 1;
	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5) return 1;
    
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
    foreach(Player, j)
    {
        if(IsPlayerInRangeOfPoint(j, 12.0, pos[0], pos[1], pos[2]))
		{
			SendClientMessageFormat(j, -1, "{ff1a1a}>> %s shout %s!", Player[playerid][UserName], message);
		}
	}
	return 1;
}
ALTX:s("/shout");

CMD:ame(playerid, params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[96];
	if(sscanf(params, "s[96]", message))
	{
		SendClientMessage(playerid, -1, ">> /ame (action)");
		return 1;
	}
	new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if(CheckForWebsite(message)) return 1;
	if(CheckForBehavoiur(message)) return 1;
	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5) return 1;
	SetPlayerChatBubble(playerid, message, 0xDE92FFFF, 20, 7500);
	return 1;
}

CMD:todo(playerid, params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	if(strlen(params) > 95) return 1;
	new i_pos;
	while(params[i_pos])
	{
		if(params[i_pos] == '%') params[i_pos] = '#';
		i_pos++;
	}
	if(strfind(params, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], params, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if(CheckForWebsite(params)) return 1;
	if(CheckForBehavoiur(params)) return 1;
	new i_numcount, i_period;
	i_pos = 0;
    while(params[i_pos])
	{
        if('0' <= params[i_pos] <= '9') i_numcount ++;
        else if(params[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5) return 1;
    
	new message[48], action[49];
	if(sscanf(params, "p<*>s[47]s[48]", message, action))
	{
		SendClientMessage(playerid, -1, ">> /todo [text*action]");
		return 1;
	}
	if(strlen(message) < 2 || strlen(action) < 2)
	{
		SendClientMessage(playerid, -1, ">> /todo [text*action]");
		return 1;
	}
	SendMessageFormatToAll(-1, "'%s' - {DE92FF}speaks %s, %s", message, Player[playerid][UserName], action);
	return 1;
}

CMD:me(playerid,params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[96];
    if(sscanf(params,"s[96]",message))
	{
		SendClientMessage(playerid, -1, ">> /me (action)");
		return 1;
	}
    new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if(CheckForWebsite(message)) return 1;
	if(CheckForBehavoiur(message)) return 1;
	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5) return 1;
    SendMessageFormatToAll(-1, "{dd90ff}%s %s", Player[playerid][UserName], message);
    return 1;
}

CMD:do(playerid,params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[96];
    if(sscanf(params,"s[96]",message))
	{
		SendClientMessage(playerid, -1, ">> /do (action)");
		return 1;
	}
    new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if(CheckForWebsite(message)) return 1;
	if(CheckForBehavoiur(message)) return 1;
	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5) return 1;
    SendMessageFormatToAll(-1, "{dd90ff}%s (%s)", Player[playerid][UserName], message);
    return 1;
}

CMD:b(playerid,params[])
{
	if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[96];
    if(sscanf(params,"s[96]",message))
	{
		SendClientMessage(playerid, -1, ">> /b (action)");
		return 1;
	}
    new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if(CheckForWebsite(message)) return 1;
	if(CheckForBehavoiur(message)) return 1;
	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5) return 1;
    SendMessageFormatToAll(-1, "{FFFFFF}(( %s(%d): %s ))", Player[playerid][UserName], playerid, message);
    return 1;
}

CMD:try(playerid,params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[96];
    if(sscanf(params,"s[96]",message))
	{
		SendClientMessage(playerid, -1, ">> /try (action)");
		return 1;
	}
    new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if(CheckForWebsite(message)) return 1;
	if(CheckForBehavoiur(message)) return 1;
	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5) return 1;
    SendMessageFormatToAll(-1, "{dd90ff}%s %s %s", Player[playerid][UserName], message, random(2) == 0 ? ("{99ff66}| Success") : ("{ff3333}| Failure"));
    return 1;
}*/

fun ShowNews(playerid)
{
	if(cache_num_rows())
	{
	    new str[4096];
	    cache_get_value_name(0, "text", str, 4096);
		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{809fff}News", str, "Ok", "");
	}
	else
	{
	    switch(Player[playerid][pLang])
	    {
	    	case 0: ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{809fff}News", "Nothing yet", "Ok", "");
            case 1: ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{809fff}Новости", "Еще ничего нет", "Oк", "");
            case 2: ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{809fff}Noticias", "Nada aun", "Okay", "");
		}
	}
	return 1;
}

/*CMD:news(playerid)
{
	new query[128];
    mysql_format(Base, query, sizeof(query), "SELECT `text` FROM `news` WHERE `build` ='"SERVER_BUILD"' ORDER BY `ID` DESC LIMIT 1");
    mysql_tquery(Base, query, "ShowNews", "i", playerid);
    return 1;
}*/

fun RemovePlayersEXP(playerid, skidka)
{
    if(cache_num_rows() > 0)
 	{
  		new id, user[24], ex;
		cache_get_value_name_int(0, "ID", id);
		cache_get_value_name(0, "Name", user);
		cache_get_value_name_int(0, "EXP", ex);

        new Float:tsena = float(ex), query[81];
        ex -= floatround(((tsena/100)*skidka), floatround_round);
		mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `EXP` = '%d' WHERE `ID` = '%d'", ex, id);
		mysql_tquery(Base, query, "", "", "");
	   	foreach(Player, i)
		{
			if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s took %d percents of {FFFFFF}%s's EXP", Player[playerid][RealName], skidka, user);
			if(!strcmp(user, Player[i][UserName]))
			{
	    		Player[i][pXP] -= floatround(((tsena/100)*skidka), floatround_round);
			}
		}
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /removeexp on player %s\n```",  Player[playerid][RealName], user);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	}
	else SendClientMessage(playerid, -1, "{FFF000}>> This player isnt't found");
	return 1;
}

CMD:removexp(playerid, params[])
{
	if(Player[playerid][pAdmin] <= 4) return 0;
	new name[24];
	if(sscanf(params, "s[24]i", name, params[0]))
	{
	    SendClientMessage(playerid, -1, "/removexp (name) (percent)");
	    return 1;
	}
	
	if(params[0] <= 0 || params[0] > 100)
	{
	    SendClientMessage(playerid, -1, "/removexp (name) (percent)");
	    return 1;
	}
	
	new query[128];
	mysql_format(Base, query, sizeof(query), "SELECT `ID`,`Name`,`EXP` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name); 
	mysql_tquery(Base, query, "RemovePlayersEXP", "i", playerid, params[0]);
	
	return 1;
}

fun ShowMaps(playerid)
{
	if(cache_num_rows())
	{
	    new i, size = cache_num_rows(), str[4096], mrc[44] = "", id, ctr, name[96], frm[96];
    	strcat(str, "{B2F558}Title\t{FFFFFF}ID\t{FFFFFF}Gang\n");
    
   		for( i = 0; i < size; i++ )
   		{
            cache_get_value_name_int(i, "ID", id);
            cache_get_value_name_int(i, "controlled", ctr);
     	    cache_get_value_name(i, "Name", name);
     	    if( i == current_map )
		 	{
		 	    if(i == Merchant[mc_map] && isMerchantCame[0]) mrc = "{d966ff} (MERCHANT)";
			 	if(ctr <= 0) format(frm, 96, "{FF0000}%s\t{FFFFFF}%d%s\n", name, id+1, mrc);
			 	else format(frm, 96, "{FF0000}%s\t{FFFFFF}%d%s\t{FFFFFF}%s\n", name, id+1, mrc, Clan[ctr][Short]);
			 	mrc = "";
			}
     	    else
		 	{
		 	    if(i % 2 == 0)
			 	{
			 	    if(i == Merchant[mc_map] && isMerchantCame[0]) mrc = "{d966ff} (MERCHANT)";
			 	    if(ctr <= 0) format(frm, 96, "{817e81}%s\t{FFFFFF}%d%s\n", name, id+1, mrc);
			 	    else format(frm, 96, "{817e81}%s\t{FFFFFF}%d%s\t{FFFFFF}%s\n", name, id+1, mrc, Clan[ctr][Short]);
			 	    mrc = "";
				}
		 	    else
			 	{
			 	    if(i == Merchant[mc_map] && isMerchantCame[0]) mrc = "{d966ff} (MERCHANT)";
				 	if(ctr <= 0) format(frm, 96, "{FFFFFF}%s\t{FFFFFF}%d%s\n", name, id+1, mrc);
				 	else format(frm, 96, "{FFFFFF}%s\t{FFFFFF}%d%s\t{FFFFFF}%s\n", name, id+1, mrc, Clan[ctr][Short]);
				 	mrc = "";
				}
			}
     	    strcat(str, frm);
		}
		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_TABLIST_HEADERS, "{B2F558}Maps", str, "Ok", "");
	}
	return 1;
}

CMD:maps(playerid)
{
    new query[96];
    mysql_format(Base, query, sizeof(query), "SELECT `Name`,`ID`,`controlled` FROM `maps` WHERE `ID` > -1");
 	mysql_tquery(Base, query, "ShowMaps", "i", playerid);
    return 1;
}

new achTrnsl[][][] =
{
	{
	    "{ffe6b3}Title\t{ffe6b3}Description\n", // 0
	    "%sTrophy Maniac\t%sUnlock all achievements (Color weapon, +25% armor)\n", // 1
	    "%sTrainee\t%sUse your class ability 1 time (5 EXP){FFFFFF} [%d/1]\n", // 2
	    "%sSemi experienced\t%sUse your class ability 500 times (500 EXP){FFFFFF} [%d/500]\n", // 3
	    "%sExperienced\t%sUse your class ability 1000 times (1000 EXP){FFFFFF} [%d/1000]\n", // 4
	    "%sJogging\t%sRun 10,000 kilometers (1000 EXP){FFFFFF} [%.3f/10,000]\n", // 5
	    "%sRunner\t%sRun 50,000 kilometers (5000 EXP){FFFFFF} [%.3f/50,000]\n", // 6
	    "%sOlympic champion\t%sRun 200,000 kilometers (10000 EXP){FFFFFF} [%.3f/200,000]\n", // 7
	    "%sLucky\t%sSurvive with a health of 1, 3 times (1000 EXP){FFFFFF} [%d/3]\n", // 8
	    "%sInviolable\t%sSurvive with a health of 1, 10 times (5000 EXP){FFFFFF} [%d/10]\n", // 9
	    "%sCheat death\t%sSurvive with a health of 1, 20 times (10000 EXP){FFFFFF} [%d/20]\n", // 10
	    "%sManiac\t%sKill 10 humans (20 EXP){FFFFFF} [%d/20]\n", // 11
	    "%sSerial maniac\t%sKill 100 humans (300 EXP){FFFFFF} [%d/100]\n", // 12
	    "%sJack the ripper\t%sKill 1000 humans (2000 EXP){FFFFFF} [%d/1000]\n", // 13
	    "%sConductor\t%sKill 10 zombies (20 EXP){FFFFFF} [%d/20]\n", // 14
     	"%sUndead slayer\t%sKill 100 zombies (300 EXP){FFFFFF} [%d/100]\n", // 15
     	"%sSaint\t%sKill 1000 zombies (2000 EXP){FFFFFF} [%d/1000]\n\n",// 16
     	"%sErgo Proxy\t%sKill 10000 players (10000 EXP){FFFFFF} [%d/10000]\n", // 17
     	"%sCollector\t%sCollect 100 Meats (200 EXP){FFFFFF} [%d/100]\n", // 18
     	"%sButcher\t%sCollect 1000 Meats (1000 EXP){FFFFFF} [%d/1000]\n", // 19
     	"%sMadman\t%sCollect 5000 Meats (3000 EXP){FFFFFF} [%d/5000]\n", // 20
     	"%sBlood lover\t%sAchieve 5 killstreaks (10 EXP){FFFFFF} [%d/5]\n", // 21
     	"%sMeat lover\t%sAchieve 50 killstreaks (4000 EXP){FFFFFF} [%d/50]\n", // 22
     	"%sThe Killer Machine\t%sAchieve 100 killstreaks (10000 EXP){FFFFFF} [%d/100]\n", // 23
     	"%sNurse\t%s/cure 1 human (10 EXP){FFFFFF} [%d/1]\n", // 24
     	"%sMedic\t%s/cure 50 humans (150 EXP){FFFFFF} [%d/50]\n", // 25
     	"%sDoctor\t%s/cure 100 humans (400 EXP){FFFFFF} [%d/100]\n", // 26
     	"%sImpudent\t%sWin 10 Duels (10 EXP){FFFFFF} [%d/10]\n", // 27
     	"%sFight lover\t%sWin 100 Duels (500 EXP){FFFFFF} [%d/100]\n", // 28
     	"%sCriminal authority\t%sWin 500 Duels (2000 EXP){FFFFFF} [%d/500]\n", // 29
     	"%sShock\t%sDie from a zombie on a 99 killstreaks (10000 EXP){FFFFFF} [%d/1]\n", // 30
     	"%sRisen from the grave\t%sDie 10 times (10 EXP){FFFFFF} [%d/10]\n", // 31
     	"%sI'm IMMORTAL\t%sDie 100 times (100 EXP){FFFFFF} [%d/100]\n", // 32
     	"%sDo Not Even Try\t%sDie 1000 times (1000 EXP){FFFFFF} [%d/1000]\n", // 33
     	"%sWrong resort\t%sDie from acid water (100 EXP){FFFFFF} [%d/1]\n", // 34
     	"%sTeam player\t%sJoin a gang (10 EXP){FFFFFF} [%d/1]\n", // 35
     	"%sOn the way to success\t%sBecome a Gang Co-Leader (200 EXP){FFFFFF} [%d/1]\n", // 36
     	"%sImportant knar\t%sBecome a Gang Leader (1000 EXP){FFFFFF} [%d/1]\n", // 37
     	"%sYou will not catch up\t%sEvac 5 times in a row (2000 EXP){FFFFFF} [%d/1]\n", // 38
     	"%sTrust but check\t%s/report 10 cheaters (100 EXP){FFFFFF} [%d/10]\n", // 39
     	"%sExemplary\t%s/report 50 cheaters (500 EXP){FFFFFF} [%d/50]\n", // 40
     	"%sLaw-abiding\t%s/report 100 cheaters (2000 EXP){FFFFFF} [%d/100]\n", // 41
     	"%sAmateur\t%sMake 50 purchases in /shop (200 EXP){FFFFFF} [%d/50]\n", // 42
     	"%sShopaholic\t%sMake 100 purchases in /shop (1000 EXP){FFFFFF} [%d/100]\n", // 43
     	"%sMoney in nowhere\t%sMake 200 purchases in /shop (5000 EXP){FFFFFF} [%d/200]\n", // 44
     	"%sEbola\t%sInfect humans with Mutated Zombie (20 EXP){FFFFFF} [%d/1]\n", // 45
     	"%sGeiger counter\t%sUse Radioactive Zombie (20 EXP){FFFFFF} [%d/1]\n", // 46
     	"%sYou will not run away\t%sUse Slender Zombie (20 EXP){FFFFFF} [%d/1]\n", // 47
     	"%sA sharp drop in temperature\t%sUse Freezer Zombie (20 EXP){FFFFFF} [%d/1]\n", // 48
     	"%sSinister\t%sUse Spacebreaker Zombie (20 EXP){FFFFFF} [%d/1]\n", // 49
     	"%sPoor appetite\t%sInfect human with Flesher meats (20 EXP){FFFFFF} [%d/1]\n", // 50
     	"%sDead scientist\t%sUse Regenerator Zombie (20 EXP){FFFFFF} [%d/1]\n", // 51
     	"%sTwins\t%sUse Copier class (20 EXP) [%d/1]\n", // 51
        "%sTime to Fly\t%sUse Rocketman (20 EXP){FFFFFF} [%d/1]\n", // 52
 		"%sEternal void\t%sBecome the last survivor and evacuate (200 EXP){FFFFFF} [%d/1]\n", // 53
     	"%sElections\t%sVote when someone will use /votekick (100 EXP){FFFFFF} [%d/1]\n", // 54
     	"%sFrom scratch\t%sPlay all the maps in a row (500 EXP) [%d/1]\n", // 55
        "%sWinner\t%sWin 300 rounds as human (3000 EXP){FFFFFF} [%d/300]\n", // 56
        
		"Too emotional\t\n", // 57
		"I'm to God\t\n", // 58
		"Surprise box\t\n", // 59
		"Happy End\t\n", // 60
		"Life Style\t\n", // 61
		"Hide an' Seek\t\n", // 62
		
        "%sFan\t%sPlay 24 hours in total (2000 EXP){FFFFFF} [%d/24]\n", // 63
        "%sGamer\t%sPlay 300 hours in total (10000 EXP){FFFFFF} [%d/300]\n", // 64
        "%sExanimate\t%sPlay 650 hours in total (50000 EXP){FFFFFF} [%d/650]\n", // 65
        "%sJumper\t%sJump 100 times (200 EXP){FFFFFF} [%d/100]\n", // 66
        "%sToad paws\t%sJump 300 times (700 EXP){FFFFFF} [%d/300]\n", // 67
        "%sPilot\t%sJump 700 times (1500 EXP){FFFFFF} [%d/700]\n", // 68
        "%sIron Fist\t%sKill 300 people by fists (5000 EXP){FFFFFF} [%d/300]\n", // 69
        "%sPulsation\t%sDo not stop the whole round playing as a human (5000 EXP)\n", // 70
        "%sCosmonaut\t%sSpend 2 seconds in flight (1000 EXP)\n", // 71
        "%sNot feeling the ground\t%sSpend 4 seconds in flight (2000 EXP)\n", // 72
        "%sMeat grinder\t%sGet 3 consecutive kills in 5 seconds (2000 EXP)\n", // 74
        "%sTime victim\t%sKill human hero (100 EXP)\n", // 75
        "%sCover\t%sComplete 1 daily quest (100 EXP)\n", // 76
        "%sNew page\t%sComplete 10 daily quests (5000 EXP)\n", // 77
        "%sHistory\t%sComplete 50 daily quests (25000 EXP)\n", // 78
        "%sLegend\t%sComplete 100 daily quests (100000 EXP)\n", // 79
        "%sNo time to rest\t%sPlay 2 hours in 1 session (1000 EXP)\n", // 80
        "%sBefore turning blue\t%sPlay 8 hours in 1 session (8000 EXP)\n", // 81
        "%sRuler\t%sBe a Gang Ruler (5000 EXP)\n", // 82
        "%sChampion\t%sWin in Gang Cups (5000 EXP)\n", // 83
        "%sSeller\t%sSell 1 thing (100 EXP){FFFFFF} [%d/1]\n", // 84
        "%sHuckster\t%sSell 50 things (2000 EXP){FFFFFF} [%d/50]\n", // 85
        "%sCompanion\t%sCreate a Pet (5000 EXP){FFFFFF} [%d/1]\n", // 86
        "%sBreeder\t%sCreate all Pets (10000 EXP){FFFFFF} [%d/4]\n", // 87
        "%sBurning love\t%sCombine 2 different pets (1000 EXP)\n", // 88
        "%sNULL\t%NULL\n" // 90
	},
	
	{
	    "{ffe6b3}Название\t{ffe6b3}Описание\n",
	    "%sТрофейный Маньяк\t%sОткройте все достижения (Цветное оружие, +25% брони)\n",
	    "%sПрактикант\t%sИспользуйте свою способность 1 раз (5 ОПЫТА){FFFFFF} [%d/1]\n",
	    "%sПолу-опытный\t%sИспользуйте свою способность 500 раз (500 ОПЫТА){FFFFFF} [%d/500]\n",
	    "%sОпытный\t%sИспользуйте свою способность 1000 раз (1000 ОПЫТА){FFFFFF} [%d/1000]\n",
	    "%sПрогулка\t%sПробегите 10,000 километров (1000 ОПЫТА){FFFFFF} [%.3f/10,000]\n",
	    "%sПробежка\t%sПробегите 50,000 километров (5000 ОПЫТА){FFFFFF} [%.3f/50,000]\n",
	    "%sОлимпийский чемпион\t%sПробегите 200,000 километров (10000 ОПЫТА){FFFFFF} [%.3f/200,000]\n",
	    "%sНа волоске от смерти\t%sВыживите с 1 хп, 3 раза (1000 ОПЫТА){FFFFFF} [%d/3]\n",
	    "%sУдачливый\t%sВыживите с 1 хп, 10 раз (5000 ОПЫТА){FFFFFF} [%d/10]\n",
	    "%sОбманувший смерть\t%sВыживите с 1 хп, 20 раз (10000 ОПЫТА){FFFFFF} [%d/20]\n",
	    "%sМаньяк\t%sУбейте 10 людей (20 ОПЫТА){FFFFFF} [%d/20]\n",
	    "%sСерийный маньяк\t%sУбейте 100 людей (300 ОПЫТА){FFFFFF} [%d/100]\n",
	    "%sДжек потрошитель\t%sУбейте 1000 людей (2000 ОПЫТА){FFFFFF} [%d/1000]\n",
	    "%sПроводник\t%sУбейте 10 зомби (20 ОПЫТА){FFFFFF} [%d/20]\n",
     	"%sУбийца нежити\t%sУбейте 100 зомби (300 ОПЫТА){FFFFFF} [%d/100]\n",
     	"%sСвятой\t%sУбейте 1000 зомби (2000 ОПЫТА){FFFFFF} [%d/1000]\n\n",
     	"%sЭрго Прокси\t%sУбейте 10000 игроков (10000 ОПЫТА){FFFFFF} [%d/10000]\n",
     	"%sКоллектор\t%sСоберите 100 мяса (200 ОПЫТА){FFFFFF} [%d/100]\n",
     	"%sМясник\t%sСоберите 1000 мяса (1000 ОПЫТА){FFFFFF} [%d/1000]\n",
     	"%sСумасшедший\t%sСоберите 5000 мяса (3000 ОПЫТА){FFFFFF} [%d/5000]\n",
     	"%sЛюбитель крови\t%sДостигните серии из 5 убийств (10 ОПЫТА){FFFFFF} [%d/5]\n",
     	"%sЛюбитель мяса\t%sДостигните серии из 50 убийств (4000 ОПЫТА){FFFFFF} [%d/50]\n",
     	"%sМашина-убийца\t%sДостигните серии из 100 убийств (10000 ОПЫТА){FFFFFF} [%d/100]\n",
     	"%sМедсестра\t%sВылечите(/cure) 1 человека (10 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sМедик\t%sВылечите(/cure) 50 человек (150 ОПЫТА){FFFFFF} [%d/50]\n",
     	"%sДоктор\t%sВылечите(/cure) 100 человек (400 ОПЫТА){FFFFFF} [%d/100]\n",
     	"%sДерзкий\t%sВыграйте 10 дуэлей (10 EXP){FFFFFF} [%d/10]\n",
     	"%sЛюбитель подраться\t%sВыграйте 100 дуэлей (500 ОПЫТА){FFFFFF} [%d/100]\n",
     	"%sКриминальный авторитет\t%sВыграйте 500 дуэлей (2000 ОПЫТА){FFFFFF} [%d/500]\n",
     	"%sШОК\t%sУмрите от зомби на серии из 99 убийств (10000 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sВоскресший из могилы\t%sУмрите 10 раз (10 ОПЫТА){FFFFFF} [%d/10]\n",
     	"%sЯ БЕССМЕРТНЫЙ\t%sУмрите 100 раз (100 ОПЫТА){FFFFFF} [%d/100]\n",
     	"%sДаже не пытайся\t%sУмрите 1000 раз (1000 ОПЫТА){FFFFFF} [%d/1000]\n",
     	"%sНе тот курорт\t%sУмрите от токсичной воды (100 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sКомандный игрок\t%sВступите в клан (10 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sНа пути к успеху\t%sСтаньте заместителем клана (200 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sВажная шишка\t%sСтаньте главой клана (1000 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sНе догонишь\t%sЭвакуируйтесь 5 раз подряд (2000 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sДоверяй, но проверяй\t%sНапишите /report на 10 читеров (100 ОПЫТА){FFFFFF} [%d/10]\n",
     	"%sОбразцовый\t%sНапишите /report на 50 читеров (500 ОПЫТА){FFFFFF} [%d/50]\n",
     	"%sЗаконопослушный\t%sНапишите /report на 100 читеров (2000 ОПЫТА){FFFFFF} [%d/100]\n",
     	"%sЛюбитель\t%sСделайте 50 покупок в /shop (200 ОПЫТА){FFFFFF} [%d/50]\n",
     	"%sШопоголик\t%sСделайте 100 покупок в /shop (1000 ОПЫТА){FFFFFF} [%d/100]\n",
     	"%sДеньги в никуда\t%sСделайте 200 покупок в /shop (5000 ОПЫТА){FFFFFF} [%d/200]\n",
     	"%sЭбола\t%sЗаразите человека Улуч. Мутировавшим Зомби (20 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sСчетчик Гейгера\t%sИспользуйте Радиоактивного Зомби (20 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sТы не убежишь\t%sИспользуйте Slender Зомби(20 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sРезкое падение температуры\t%sИспользовать Замораживающего Зомби (20 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sПолтергейст\t%sИспользуйте Крушителя Пространства (20 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sПлохой аппетит\t%sЗаразите человека Мёртвой плотью (20 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sМертвый ученый\t%sИспользуйте Регенерирующего Зомби (20 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sБлизнецы\t%sИспользуйте Копирователя (20 ОПЫТА) [%d/1]\n",
        "%sВремя полетать\t%sИспользуйте Техника (20 ОПЫТА){FFFFFF} [%d/1]\n",
 		"%sВечная пустота\t%sСтань последним выжившим и эвакуируйся (200 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sВыборы\t%sПроголосуйте, когда кто-то будет использовать /votekick (100 ОПЫТА){FFFFFF} [%d/1]\n",
     	"%sС читого листа\t%sСыграйте все карты подряд за раз (500 ОПЫТА) [%d/1]\n",
        "%sПобедитель\t%sВыиграй 300 раундов за человека (3000 ОПЫТА){FFFFFF} [%d/300]\n",
        "Too emotional\t\n", // 57
		"I'm to God\t\n", // 58
		"Surprise box\t\n", // 59
		"Happy End\t\n", // 60
		"Life Style\t\n", // 61
		"Hide an' Seek\t\n", // 62
        "%sФанат\t%sОтыграйте 24 часа (2000 ОПЫТА){FFFFFF} [%d/24]\n", // 63
        "%sИгроманьяк\t%sОтыграйте 300 часов (10000 ОПЫТА){FFFFFF} [%d/300]\n", // 64
        "%sБез признаков жизни\t%sОтыграйте 650 часов (50000 ОПЫТА){FFFFFF} [%d/650]\n", // 65
        "%sПопрыгунчик\t%sПрыгните 100 раз (200 ОПЫТА){FFFFFF} [%d/100]\n", // 66
        "%sЖабьи лапы\t%sПрыгните 300 раз (700 ОПЫТА){FFFFFF} [%d/300]\n", // 67
        "%sЛетчик\t%sПрыгните 700 раз (1500 ОПЫТА){FFFFFF} [%d/700]\n", // 68
        "%sСтальной Кулак\t%sУбейте 300 людей кулаками (5000 ОПЫТА){FFFFFF} [%d/300]\n", // 69
        "%sПульсация\t%sБегайте весь раунд без остановки (Человек) (5000 ОПЫТА)\n", // 70
        "%sКосмонавт\t%sПроведите 2 секунды в полёте (1000 ОПЫТА)\n", // 71
        "%sНе чувствуя земли\t%sПроведите 4 секунды в полёте (2000 ОПЫТА)\n", // 72
        "%sМясорубка\t%sУбейте 3 зомби за 5 секунд (2000 ОПЫТА)\n", // 74
        "%sЖертва времени\t%sУбейте героя (100 ОПЫТА)\n", // 75
        "%sОбложка\t%sВыполните 1 ежедневный квест (100 ОПЫТА)\n", // 76
        "%sНовая страница\t%sВыполните 10 ежедневных квестов (5000 ОПЫТА)\n", // 77
        "%sИстория\t%sВыполните 50 ежедневных квестов (25000 ОПЫТА)\n", // 78
        "%sЛегенда\t%sВыполните 100 ежедневных квестов (100000 ОПЫТА)\n", // 79
        "%sНет времени отдыхать\t%sОтиграйте 2 часа без перерыва (1000 ОПЫТА)\n", // 80
        "%sДо посинения\t%sОтиграйте 8 часов без перерыва (8000 ОПЫТА)\n", // 81
        "%sПравитель\t%sЗавоюйте все банды сервера (5000 ОПЫТА)\n", // 82
        "%sПобедитель\t%sПобедите в сражениях за кубки (5000 ОПЫТА)\n", // 83
        "%sПродавец\t%sПродайте 1 вещь (100 ОПЫТА){FFFFFF} [%d/1]\n", // 84
        "%sБарыга\t%sПродайте 50 вещей (2000 ОПЫТА){FFFFFF} [%d/50]\n", // 85
        "%sКомпаньон\t%sСоздайте питомца (5000 ОПЫТА){FFFFFF} [%d/1]\n", // 86
        "%sЖивотновод\t%sСоздайте всех питомцев (10000 ОПЫТА){FFFFFF} [%d/4]\n", // 87
        "%sПылающая любовь\t%sСовместите 2 разных питомцев (1000 ОПЫТА)\n", // 88
        "%sNULL\t%NULL\n" // 90
	},
	{
	    "{ffe6b3}Title\t{ffe6b3}Description\n",
		"%sManiaco del trofeo\t%sDesbloquea todo los logros (arma de color,+25% armor)\n",
		"%sAprend?z\t%sUsa la habilidad de tu clase 1 vez (5 EXP){FFFFFF} [%d/1]\n",
		"%sSemi experimentado\t%sUsa la habilidad de tu clase 500 veces (500 EXP){FFFFFF} [%d/500]\n",
		"%sExperimentado\t%sUsa la habilidad de tu clase 1000 veces (1000 EXP){FFFFFF} [%d/1000]\n",
		"%sTrotando\t%sCorre 10,000 kilometros (1000 EXP){FFFFFF} [%.3f/10,000]\n",
		"%sCorredor\t%sCorre 50,000 kilometros (5000 EXP){FFFFFF} [%.3f/50,000]\n",
		"%sCampe?n Ol?mpico\t%sCorre 200,000 kilometros (10000 EXP){FFFFFF} [%.3f/200,000]\n",
		"%sSuertudo\t%sSobrevive con 1 de vida, 3 veces (1000 EXP){FFFFFF} [%d/3]\n",
		"%sInviolable\t%sSobrevive con 1 de vida, 10 veces (5000 EXP){FFFFFF} [%d/10]\n",
		"%sEnga?a a la muerte\t%sSobrevive con 1 de vida, 20 veces (10000 EXP){FFFFFF} [%d/20]\n",
		"%sMan?aco\t%sMata 10 humanos (20 EXP){FFFFFF} [%d/20]\n",
		"%sMan?aco en serie\t%sMata 100 humanos (300 EXP){FFFFFF} [%d/100]\n",
		"%sJack el destripador\t%sMata 1000 humanos (2000 EXP){FFFFFF} [%d/1000]\n",
		"%sConductor\t%sMata 10 zombis (20 EXP){FFFFFF} [%d/20]\n",
		"%sAsesino de los no-muertos\t%sMata 100 zombis (300 EXP){FFFFFF} [%d/100]\n",
		"%sSanto\t%sMata 1000 zombis (2000 EXP){FFFFFF} [%d/1000]\n\n",
		"%sErgo Proxy\t%sMata 10000 Jugadores (10000 EXP){FFFFFF} [%d/10000]\n",
		"%sColeccionista\t%sRecolecta 100 Carnes (200 EXP){FFFFFF} [%d/100]\n",
		"%sCarnicero\t%sRecolecta 1000 Carnes (1000 EXP){FFFFFF} [%d/1000]\n",
		"%sEl loco\t%sRecolecta 5000 Carnes (3000 EXP){FFFFFF} [%d/5000]\n",
		"%sAmante de la sangre\t%sLogra 5 killstreaks (10 EXP){FFFFFF} [%d/5]\n",
		"%sAmante de la carne\t%sLogra 50 killstreaks (4000 EXP){FFFFFF} [%d/50]\n",
		"%sM?quina de matar\t%sLogra 100 killstreaks (10000 EXP){FFFFFF} [%d/100]\n",
		"%sEnfermero\t%s/Cura 1 humano (10 EXP){FFFFFF} [%d/1]\n",
		"%sM?dico\t%s/Cura 50 humanos (150 EXP){FFFFFF} [%d/50]\n",
		"%sDoctor\t%s/Cura 100 humanos (400 EXP){FFFFFF} [%d/100]\n",
		"%sInsolente\t%sGana 10 Duelos (10 EXP){FFFFFF} [%d/10]\n",
		"%sAmante de la pelea\t%sGana 100 Duelos (500 EXP){FFFFFF} [%d/100]\n",
		"%sAutoridad criminal\t%sGana 500 Duelos (2000 EXP){FFFFFF} [%d/500]\n",
		"%sConmoci?n\t%smuere por un zombie con 99 killstreaks (10000 EXP){FFFFFF} [%d/1]\n",
		"%sResucitado de la tumba\t%sMuere 10 veces (10 EXP){FFFFFF} [%d/10]\n",
		"%sSoy INMORTAL\t%sMuere 100 veces (100 EXP){FFFFFF} [%d/100]\n",
		"%sNi Siquiera Lo Intentes\t%sMuere 1000 veces (1000 EXP){FFFFFF} [%d/1000]\n",
		"%sRecurso err?neo\t%sMuere por el ?cido del agua (100 EXP){FFFFFF} [%d/1]\n",
		"%sJugador de equipo\t%sUnete a un clan (10 EXP){FFFFFF} [%d/1]\n",
		"%sEn camino al ?xito\t%sConviertete en sub-due?o de un clan (200 EXP){FFFFFF} [%d/1]\n",
		"%sKnar importante\t%sConviertete en due?o de un clan (1000 EXP){FFFFFF} [%d/1]\n",
		"%sNo lo alcanzar?s\t%sEvacua 5 veces seguidas (2000 EXP){FFFFFF} [%d/1]\n",
		"%sConf?a pero verifica\t%s/reporta 10 tramposos/hackers (100 EXP){FFFFFF} [%d/10]\n",
		"%sEjemplar\t%s/report 50 cheaters (500 EXP){FFFFFF} [%d/50]\n",
		"%sAcatador de la ley\t%s/reporta 100 tramposos/hackers  (2000 EXP){FFFFFF} [%d/100]\n",
		"%sAmateur\t%sHaga 50 Compras en /shop (200 EXP){FFFFFF} [%d/50]\n",
		"%sAdicto a las compras\t%sHaga 100 compras en /shop (1000 EXP){FFFFFF} [%d/100]\n",
		"%sDinero en ningun lugar\t%sHaga 200 compras en /shop (5000 EXP){FFFFFF} [%d/200]\n",
		"%s?bola\t%sInfecta humanos con el Zombi Mutante (20 EXP){FFFFFF} [%d/1]\n",
		"%sMostrador Geiger\t%sUsa el Zombi Radiactivo (20 EXP){FFFFFF} [%d/1]\n",
		"%sNo te escapar?s\t%sUsa el Zombi Slender (20 EXP){FFFFFF} [%d/1]\n",
		"%sUna brusca ca?da en temperatura\t%sUsa el Zombi Congelador (20 EXP){FFFFFF} [%d/1]\n",
		"%sSiniestro\t%sUsa el Spacebreaker Zombi (20 EXP){FFFFFF} [%d/1]\n",
		"%sPoco apetito\t%sInfecta humanos con la carne de Flesher (20 EXP){FFFFFF} [%d/1]\n",
		"%sCient?fico muerto\t%sUsa el zombi Regenerador (20 EXP){FFFFFF} [%d/1]\n",
		"%sGemelos\t%sUsa la clase copiadora (20 EXP) [%d/1]\n",
		"%sHora De Volar\t%sUsa la clase RocketMan (20 EXP){FFFFFF} [%d/1]\n",
		"%sVac?o eterno\t%Conviertete en el ultimo sobreviviente y evacua (200 EXP){FFFFFF} [%d/1]\n",
		"%sElecciones\t%sVota cuando alguien use el comando /votekick (100 EXP){FFFFFF} [%d/1]\n",
		"%sDesde cero\t%sJuega todos los mapas seguidos (500 EXP) [%d/1]\n",
		"%sTriunfador\t%sGana 300 roundas como humano (3000 EXP){FFFFFF} [%d/300]\n",
		
		"Too emotional\t\n", // 57
		"I'm to God\t\n", // 58
		"Surprise box\t\n", // 59
		"Happy End\t\n", // 60
		"Life Style\t\n", // 61
		"Hide an' Seek\t\n", // 62
        "%sFan\t%sPlay 24 hours in total (2000 EXP){FFFFFF} [%d/24]\n", // 63
        "%sGamer\t%sPlay 300 hours in total (10000 EXP){FFFFFF} [%d/300]\n", // 64
        "%sExanimate\t%sPlay 650 hours in total (50000 EXP){FFFFFF} [%d/650]\n", // 65
        "%sJumper\t%sJump 100 times (200 EXP){FFFFFF} [%d/100]\n", // 66
        "%sToad paws\t%sJump 300 times (700 EXP){FFFFFF} [%d/300]\n", // 67
        "%sPilot\t%sJump 700 times (1500 EXP){FFFFFF} [%d/700]\n", // 68
        "%sIron Fist\t%sKill 300 people by fists (5000 EXP){FFFFFF} [%d/300]\n", // 69
        "%sPulsation\t%sDo not stop the whole round playing as a human (5000 EXP)\n", // 70
        "%sCosmonaut\t%sSpend 2 seconds in flight (1000 EXP)\n", // 71
        "%sNot feeling the ground\t%sSpend 4 seconds in flight (2000 EXP)\n", // 72
        "%sMeat grinder\t%sGet 3 consecutive kills in 5 seconds (2000 EXP)\n", // 74
        "%sTime victim\t%sKill human hero (100 EXP)\n", // 75
        "%sCover\t%sComplete 1 daily quest (100 EXP)\n", // 76
        "%sNew page\t%sComplete 10 daily quests (5000 EXP)\n", // 77
        "%sHistory\t%sComplete 50 daily quests (25000 EXP)\n", // 78
        "%sLegend\t%sComplete 100 daily quests (100000 EXP)\n", // 79
        "%sNo time to rest\t%sPlay 2 hours in 1 session (1000 EXP)\n", // 80
        "%sBefore turning blue\t%sPlay 8 hours in 1 session (8000 EXP)\n", // 81
        "%sRuler\t%sBe a Gang Ruler (5000 EXP)\n", // 82
        "%sChampion\t%sWin in Gang Cups (5000 EXP)\n", // 83
        "%sSeller\t%sSell 1 thing (100 EXP){FFFFFF} [%d/1]\n", // 84
        "%sHuckster\t%sSell 50 things (2000 EXP){FFFFFF} [%d/50]\n", // 85
        "%sCompanion\t%sCreate a Pet (5000 EXP){FFFFFF} [%d/1]\n", // 86
        "%sBreeder\t%sCreate all Pets (10000 EXP){FFFFFF} [%d/4]\n", // 87
        "%sBurning love\t%sCombine 2 different pets (1000 EXP)\n", // 88
        "%sNULL\t%NULL\n" // 90
	}
};

fun ShowPlayerActivity(pos, id, h, m, s, playerid)
{
	if(cache_num_rows())
	{
	    new User[MAX_PLAYER_NAME];
	    cache_get_value_name(0, "Name", User, MAX_PLAYER_NAME);
	    SendClientMessageFormat(playerid, -1, "{FFD500}(%d place) >> %s (%d hours, %d minutes, %d seconds)", pos, User, h, m, s);
	}
	return 1;
}

new TrophySlotUsed[MAX_PLAYERS][sizeof(achTrnsl[])];

stock CreateTrophy(playerid, epic = 0, listitem = -1)
{
	new r = 0, t = random(sizeof(TrophyName));
	switch(random(200) - (epic*90))
	{
	    case 0..1,-270..-250: r = 0;
	    case 2..6,-249..-220: r = 1;
	    case 7..21,-219..-200: r = 2;
	    case 22..30: r = 3;
	    default: r = 4;
	}
	if(TryToAddTrophyInInv(playerid) != -1)
	{
 		//AddTrophyInInv(playerid, t, r, 1, 0, Player[playerid][pRank]);
 		new rank = 7;
 		switch(t)
 		{
 		    case 0: rank = min(Player[playerid][pRank], 15);
 		    case 1: rank = min(Player[playerid][pRank], 13);
   			case 2: rank = min(Player[playerid][pRank], 11);
		 	case 3: rank = min(Player[playerid][pRank], 9);
	 	 	default: rank = min(Player[playerid][pRank], 7);
 		}
        if(listitem > -1)
		{
			TrophySlotUsed[playerid][listitem] = AddTrophyInInv(playerid, t, r, 1, 0, rank);
		}
		else
		{
			AddTrophyInInv(playerid, t, r, 1, 0, rank);
        }
        
 		SendClientMessageFormat(playerid, -1, "{FFFFFF}>> %s - %s {FFFFFF}has been added to your trophy inventory!", TrophyRares[r][8], TrophyName[t]);
        switch(epic)
		{
			case 0: RemoveItemFromInv(playerid, ITEM_NAME_QUEST_COIN, 1);
			case 1: RemoveItemFromInv(playerid, ITEM_NAME_RARE_QUEST_COIN, 1);
			case 2:	 RemoveItemFromInv(playerid, ITEM_NAME_EPIC_QUEST_COIN, 1);
			case 3: RemoveItemFromInv(playerid, ITEM_NAME_LEGENDARY_QUEST_COIN, 1);
		}
		return 1;
	}
	else return SendClientMessage(playerid, -1, "{FF0000}>> Your trophy inventory is full") && 0 || 0;
}

stock IsAchievementIsUnlocked(playerid, index)
{
	switch(index)
	{
	    case 0: if(Achievements[playerid][thropyManiac] <= 0) return 0;
	    case 1: if(Achievements[playerid][AbilityUses] <= 0) return 0;
	    case 2: if(Achievements[playerid][AbilityUses] <= 499) return 0;
	    case 3: if(Achievements[playerid][AbilityUses] <= 999) return 0;
	    case 4: if(Achievements[playerid][Runned] <= 9.999) return 0;
	    case 5: if(Achievements[playerid][Runned] <= 49.999) return 0;
	    case 6: if(Achievements[playerid][Runned] <= 199.999) return 0;
	    case 7: if(Achievements[playerid][Lucky] <= 2) return 0;
	    case 8: if(Achievements[playerid][Lucky] <= 9) return 0;
	    case 9: if(Achievements[playerid][Lucky] <= 19) return 0;
	    case 10: if(Achievements[playerid][HumansKilled] <= 19) return 0;
	    case 11: if(Achievements[playerid][HumansKilled] <= 99) return 0;
	    case 12: if(Achievements[playerid][HumansKilled] <= 999) return 0;
		case 13: if(Achievements[playerid][ZombiesKilled] <= 9) return 0;
		case 14: if(Achievements[playerid][ZombiesKilled] <= 99) return 0;
		case 15: if(Achievements[playerid][ZombiesKilled] <= 999) return 0;
	    case 16: if(Player[playerid][pKills] <= 9999) return 0;
	    case 17: if(Achievements[playerid][MeatsCollected] <= 99) return 0;
	    case 18: if(Achievements[playerid][MeatsCollected] <= 999) return 0;
	    case 19: if(Achievements[playerid][MeatsCollected] <= 4999) return 0;
	    case 20: if(Achievements[playerid][eKillstreaks] <= 4) return 0;
	    case 21: if(Achievements[playerid][eKillstreaks] <= 49) return 0;
	    case 22: if(Achievements[playerid][eKillstreaks] <= 99) return 0;
		case 23: if(Achievements[playerid][CuredHumans] <= 0) return 0;
		case 24: if(Achievements[playerid][CuredHumans] <= 49) return 0;
		case 25: if(Achievements[playerid][CuredHumans] <= 99) return 0;
		case 26: if(Player[playerid][DuelsWin] <= 9) return 0;
		case 27: if(Player[playerid][DuelsWin] <= 99) return 0;
		case 28: if(Player[playerid][DuelsWin] <= 499) return 0;
		case 29: if(Achievements[playerid][eKillstreaksFail] <= 0) return 0;
		case 30: if(Achievements[playerid][Deaths] <= 9) return 0;
		case 31: if(Achievements[playerid][Deaths] <= 99) return 0;
		case 32: if(Achievements[playerid][Deaths] <= 999) return 0;
		case 33: if(Achievements[playerid][WrongResort] <= 0) return 0;
		case 34: if(GetUnlockedSlot(Achievements[playerid][esClan], 0) == 0) return 0;
		case 35: if(GetUnlockedSlot(Achievements[playerid][esClan], 1) == 0) return 0;
		case 36: if(GetUnlockedSlot(Achievements[playerid][esClan], 2) == 0) return 0;
		case 37: if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 0) == 0) return 0;
		case 38: if(Achievements[playerid][reportTimes] <= 9) return 0;
		case 39: if(Achievements[playerid][reportTimes] <= 49) return 0;
		case 40: if(Achievements[playerid][reportTimes] <= 99) return 0;
		case 41: if(Achievements[playerid][Purchases] <= 49) return 0;
		case 42: if(Achievements[playerid][Purchases] <= 99) return 0;
		case 43: if(Achievements[playerid][Purchases] <= 199) return 0;
		case 44: if(Player[playerid][RoundsWin] <= 299) return 0;
		case 45: if(Achievements[playerid][Hours] < 24) return 0;
		case 46: if(Achievements[playerid][Hours] < 300) return 0;
		case 47: if(Achievements[playerid][Hours] < 650) return 0;
		case 48: if(Achievements[playerid][Jumper] < 100) return 0;
		case 49: if(Achievements[playerid][Jumper] < 300) return 0;
		case 50: if(Achievements[playerid][Jumper] < 700) return 0;
		case 51: if(Achievements[playerid][IronFist] < 300) return 0;
		case 52: if(Achievements[playerid][AdrenalineDose] < 300) return 0;
		case 53: if(GetUnlockedSlot(Achievements[playerid][ac_InAirTime], 0) < 2) return 0;
		case 54: if(GetUnlockedSlot(Achievements[playerid][ac_InAirTime], 0) < 4) return 0;
		case 55: if(Achievements[playerid][CuttingTheBrink] <= 0) return 0;
		case 56: if(Achievements[playerid][TimeVictim] < 1) return 0;
		case 57: if(Achievements[playerid][ac_QuestsCompleted] < 1) return 0;
		case 58: if(Achievements[playerid][ac_QuestsCompleted] < 10) return 0;
		case 59: if(Achievements[playerid][ac_QuestsCompleted] < 50) return 0;
		case 60: if(Achievements[playerid][ac_QuestsCompleted] < 100) return 0;
		case 61: if(GetUnlockedSlot(Achievements[playerid][ac_PlayedTime], 0) == 0) return 0;
		case 62: if(GetUnlockedSlot(Achievements[playerid][ac_PlayedTime], 1) == 0) return 0;
		case 63: if(GetUnlockedSlot(Achievements[playerid][ac_Ruler], 0) == 0) return 0;
        case 64: if(GetUnlockedSlot(Achievements[playerid][ac_Ruler], 1) == 0) return 0;
        case 65: if(Achievements[playerid][ac_Merchant] < 1) return 0;
  		case 66: if(Achievements[playerid][ac_Merchant] < 50) return 0;
		case 67: if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 0) == 0) return 0;
		case 68: if(Achievements[playerid][ac_newPets] < 4) return 0;
		case 69: if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 2) == 0) return 0;
	    default: return 0;
	}
	return 1;
}

stock PrepareAchievements(targetid, playerid, bool:select = false, type = 0)
{
	new str[4096], frmt[128], bool:selectAch = select;
	strcat(str, achTrnsl[Player[playerid][pLang]][0]);
	new coin = GetPVarInt(playerid, "QuestCoin")-1;
	SetPVarInt(playerid, "AchievementTypeList", type);
	
	if(playerid == targetid) selectAch = true;
	
	switch(type)
	{
	    case 0:
	    {
			if(Achievements[playerid][thropyManiac] <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][1], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else
			{
			    if(TrophySlotUsed[playerid][0] && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][1], "{33cc33}", "{33cc33}");
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][1], "{ffcc00}", "{ffcc00}");
			}
			strcat(str, frmt);

			if(Achievements[playerid][AbilityUses] <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][2], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][AbilityUses]);
			else
			{
			    if(TrophySlotUsed[playerid][1]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][2], "{33cc33}", "{33cc33}", 1);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][2], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
			}
			strcat(str, frmt);

			if(Achievements[playerid][AbilityUses] <= 499) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][3], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][AbilityUses]);
			else
			{
				if(TrophySlotUsed[playerid][2]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][3], "{33cc33}", "{33cc33}", 500);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][3], COLOR_ACHS_UN, COLOR_ACHS_UN, 500);
			}
			strcat(str, frmt);

			if(Achievements[playerid][AbilityUses] <= 999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][4], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][AbilityUses]);
			else
			{
			    if(TrophySlotUsed[playerid][3]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][4], "{33cc33}", "{33cc33}", 1000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][4], COLOR_ACHS_UN, COLOR_ACHS_UN, 1000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Runned] <= 9.999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][5], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Runned]);
			else
			{
			    if(TrophySlotUsed[playerid][4]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][5], "{33cc33}", "{33cc33}", 10.000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][5], COLOR_ACHS_UN, COLOR_ACHS_UN, 10.000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Runned] <= 49.999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][6], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Runned]);
			else
			{
			    if(TrophySlotUsed[playerid][5]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][6], "{33cc33}", "{33cc33}", 50.000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][6], COLOR_ACHS_UN, COLOR_ACHS_UN, 50.000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Runned] <= 199.999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][7], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Runned]);
			else
			{
			    if(TrophySlotUsed[playerid][6]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][7], "{33cc33}", "{33cc33}", 200.000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][7], COLOR_ACHS_UN, COLOR_ACHS_UN, 200.000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Lucky] <= 2) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][8], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Lucky]);
			else
			{
			    if(TrophySlotUsed[playerid][7]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][8], "{33cc33}", "{33cc33}", 3);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][8], COLOR_ACHS_UN, COLOR_ACHS_UN, 3);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Lucky] <= 9) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][9], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Lucky]);
			else
			{
			    if(TrophySlotUsed[playerid][8]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][9], "{33cc33}", "{33cc33}", 10);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][9], COLOR_ACHS_UN, COLOR_ACHS_UN, 10);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Lucky] <= 19) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][10], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Lucky]);
			else
			{
			    if(TrophySlotUsed[playerid][9]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][10], "{33cc33}", "{33cc33}", 20);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][10], COLOR_ACHS_UN, COLOR_ACHS_UN, 20);
			}
			strcat(str, frmt);

			if(Achievements[playerid][HumansKilled] <= 19) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][11], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][HumansKilled]);
			else
			{
			    if(TrophySlotUsed[playerid][10]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][11], "{33cc33}", "{33cc33}", 20);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][11], COLOR_ACHS_UN, COLOR_ACHS_UN, 20);
			}
			strcat(str, frmt);

			if(Achievements[playerid][HumansKilled] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][12], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][HumansKilled]);
			else
			{
			    if(TrophySlotUsed[playerid][11]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][12], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][12], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);

			if(Achievements[playerid][HumansKilled] <= 999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][13], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][HumansKilled]);
			else
			{
			    if(TrophySlotUsed[playerid][12]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][13], "{33cc33}", "{33cc33}", 1000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][13], COLOR_ACHS_UN, COLOR_ACHS_UN, 1000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][ZombiesKilled] <= 9) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][14], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ZombiesKilled]);
			else
			{
			    if(TrophySlotUsed[playerid][13]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][14], "{33cc33}", "{33cc33}", 10);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][14], COLOR_ACHS_UN, COLOR_ACHS_UN, 10);
			}
			strcat(str, frmt);

			if(Achievements[playerid][ZombiesKilled] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][15], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ZombiesKilled]);
			else
			{
			    if(TrophySlotUsed[playerid][14]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][15], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][15], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);

			if(Achievements[playerid][ZombiesKilled] <= 999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][16], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ZombiesKilled]);
			else
			{
			    if(TrophySlotUsed[playerid][15]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][16], "{33cc33}", "{33cc33}", 1000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][16], COLOR_ACHS_UN, COLOR_ACHS_UN, 1000);
			}
			strcat(str, frmt);

			if(Player[playerid][pKills] <= 9999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][17], COLOR_ACHS_LO, COLOR_ACHS_LO, Player[playerid][pKills]);
			else
			{
			    if(TrophySlotUsed[playerid][16]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][17], "{33cc33}", "{33cc33}", 10000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][17], COLOR_ACHS_UN, COLOR_ACHS_UN, 10000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][MeatsCollected] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][18], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][MeatsCollected]);
			else
			{
			    if(TrophySlotUsed[playerid][17]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][18], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][18], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);

			if(Achievements[playerid][MeatsCollected] <= 999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][19], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][MeatsCollected]);
			else
			{
			    if(TrophySlotUsed[playerid][18]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][19], "{33cc33}", "{33cc33}", 1000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][19], COLOR_ACHS_UN, COLOR_ACHS_UN, 1000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][MeatsCollected] <= 4999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][20], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][MeatsCollected]);
			else
			{
			    if(TrophySlotUsed[playerid][19]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][20], "{33cc33}", "{33cc33}", 5000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][20], COLOR_ACHS_UN, COLOR_ACHS_UN, 5000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][eKillstreaks] <= 4) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][21], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][eKillstreaks]);
			else
			{
			    if(TrophySlotUsed[playerid][20]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][21], "{33cc33}", "{33cc33}", 5);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][21], COLOR_ACHS_UN, COLOR_ACHS_UN, 5);
			}
			strcat(str, frmt);

			if(Achievements[playerid][eKillstreaks] <= 49) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][22], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][eKillstreaks]);
			else
			{
			    if(TrophySlotUsed[playerid][21]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][22], "{33cc33}", "{33cc33}", 50);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][22], COLOR_ACHS_UN, COLOR_ACHS_UN, 50);
			}
			strcat(str, frmt);

			if(Achievements[playerid][eKillstreaks] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][23], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][eKillstreaks]);
			else
			{
			    if(TrophySlotUsed[playerid][22]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][23], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][23], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);

			if(Achievements[playerid][CuredHumans] <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][24], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][CuredHumans]);
			else
			{
			    if(TrophySlotUsed[playerid][23]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][24], "{33cc33}", "{33cc33}", 1);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][24], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
			}
			strcat(str, frmt);

			if(Achievements[playerid][CuredHumans] <= 49) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][25], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][CuredHumans]);
			else
			{
			    if(TrophySlotUsed[playerid][24]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][25], "{33cc33}", "{33cc33}", 50);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][25], COLOR_ACHS_UN, COLOR_ACHS_UN, 50);
			}
			strcat(str, frmt);

			if(Achievements[playerid][CuredHumans] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][26], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][CuredHumans]);
			else
			{
			    if(TrophySlotUsed[playerid][25]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][26], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][26], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);

			if(Player[playerid][DuelsWin] <= 9) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][27], COLOR_ACHS_LO, COLOR_ACHS_LO, Player[playerid][DuelsWin]);
			else
			{
			    if(TrophySlotUsed[playerid][26]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][27], "{33cc33}", "{33cc33}", 10);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][27], COLOR_ACHS_UN, COLOR_ACHS_UN, 10);
			}
			strcat(str, frmt);

			if(Player[playerid][DuelsWin] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][28], COLOR_ACHS_LO, COLOR_ACHS_LO, Player[playerid][DuelsWin]);
			else
			{
			    if(TrophySlotUsed[playerid][27]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][28], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][28], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);

			if(Player[playerid][DuelsWin] <= 499) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][29], COLOR_ACHS_LO, COLOR_ACHS_LO, Player[playerid][DuelsWin]);
			else
			{
			    if(TrophySlotUsed[playerid][28]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][29], "{33cc33}", "{33cc33}", 500);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][29], COLOR_ACHS_UN, COLOR_ACHS_UN, 500);
			}
			strcat(str, frmt);

			if(Achievements[playerid][eKillstreaksFail] <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][30], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][eKillstreaksFail]);
			else
			{
			    if(TrophySlotUsed[playerid][29]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][30], "{33cc33}", "{33cc33}", 1);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][30], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Deaths] <= 9) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][31], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Deaths]);
			else
			{
			    if(TrophySlotUsed[playerid][30]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][31], "{33cc33}", "{33cc33}", 10);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][31], COLOR_ACHS_UN, COLOR_ACHS_UN, 10);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Deaths] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][32], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Deaths]);
			else
			{
			    if(TrophySlotUsed[playerid][31]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][32], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][32], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Deaths] <= 999) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][33], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Deaths]);
			else
			{
			    if(TrophySlotUsed[playerid][32]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][33], "{33cc33}", "{33cc33}", 1000);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][33], COLOR_ACHS_UN, COLOR_ACHS_UN, 1000);
			}
			strcat(str, frmt);

			if(Achievements[playerid][WrongResort] <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][34], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][WrongResort]);
			else
			{
			    if(TrophySlotUsed[playerid][33]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][34], "{33cc33}", "{33cc33}", 1);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][34], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
			}
			strcat(str, frmt);

			if(GetUnlockedSlot(Achievements[playerid][esClan], 0) == 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][35], COLOR_ACHS_LO, COLOR_ACHS_LO, 0);
			else
			{
			    if(TrophySlotUsed[playerid][34]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][35], "{33cc33}", "{33cc33}", 1);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][35], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
			}
			strcat(str, frmt);

			if(GetUnlockedSlot(Achievements[playerid][esClan], 1) == 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][36], COLOR_ACHS_LO, COLOR_ACHS_LO, 0);
			else
			{
			    if(TrophySlotUsed[playerid][35]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][36], "{33cc33}", "{33cc33}", 1);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][36], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
			}
			strcat(str, frmt);

			if(GetUnlockedSlot(Achievements[playerid][esClan], 2) == 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][37], COLOR_ACHS_LO, COLOR_ACHS_LO, 0);
			else
			{
			    if(TrophySlotUsed[playerid][36]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][37], "{33cc33}", "{33cc33}", 1);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][37], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
			}
			strcat(str, frmt);

			if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 0) == 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][38], COLOR_ACHS_LO, COLOR_ACHS_LO, 0);
		    else
			{
			    if(TrophySlotUsed[playerid][37]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][38], "{33cc33}", "{33cc33}", 1);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][38], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
			}
			strcat(str, frmt);

			if(Achievements[playerid][reportTimes] <= 9) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][39], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][reportTimes]);
			else
			{
			    if(TrophySlotUsed[playerid][38]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][39], "{33cc33}", "{33cc33}", 10);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][39], COLOR_ACHS_UN, COLOR_ACHS_UN, 10);
			}
			strcat(str, frmt);

			if(Achievements[playerid][reportTimes] <= 49) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][40], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][reportTimes]);
			else
			{
			    if(TrophySlotUsed[playerid][39]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][40], "{33cc33}", "{33cc33}", 50);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][40], COLOR_ACHS_UN, COLOR_ACHS_UN, 50);
			}
			strcat(str, frmt);

			if(Achievements[playerid][reportTimes] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][41], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][reportTimes]);
			else
			{
			    if(TrophySlotUsed[playerid][40]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][41], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][41], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);

			if(Achievements[playerid][Purchases] <= 49) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][42], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Purchases]);
			else
			{
			    if(TrophySlotUsed[playerid][41]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][42], "{33cc33}", "{33cc33}", 50);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][42], COLOR_ACHS_UN, COLOR_ACHS_UN, 50);
			}
			strcat(str, frmt);
			strcat(str, "\t\n");
			strcat(str, achNames[Player[playerid][pLang]][89]); // Next
		}
		case 1:
		{
		    if(Achievements[playerid][Purchases] <= 99) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][43], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Purchases]);
			else
			{
			    if(TrophySlotUsed[playerid][42]  && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][43], "{33cc33}", "{33cc33}", 100);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][43], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
			}
			strcat(str, frmt);
			
			if(Achievements[playerid][Purchases] <= 199) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][44], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Purchases]);
			else
			{
		        if(TrophySlotUsed[playerid][43] && playerid == targetid) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][44], "{33cc33}", "{33cc33}", 200);
				else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][44], COLOR_ACHS_UN, COLOR_ACHS_UN, 200);
			}
			strcat(str, frmt);

			if(Player[playerid][RoundsWin] <= 299) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][57], COLOR_ACHS_LO, COLOR_ACHS_LO, Player[playerid][RoundsWin]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][57], COLOR_ACHS_UN, COLOR_ACHS_UN, 300);
		    strcat(str, frmt);
		    
		    if(Achievements[playerid][Hours] < 24) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][64], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Hours]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][64], COLOR_ACHS_UN, COLOR_ACHS_UN, 24);
		    strcat(str, frmt);

		    if(Achievements[playerid][Hours] < 300) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][65], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Hours]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][65], COLOR_ACHS_UN, COLOR_ACHS_UN, 300);
		    strcat(str, frmt);

	     	if(Achievements[playerid][Hours] < 650) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][66], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Hours]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][66], COLOR_ACHS_UN, COLOR_ACHS_UN, 650);
		    strcat(str, frmt);
		    
		    if(Achievements[playerid][Jumper] < 100) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][67], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Jumper]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][67], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
		 	strcat(str, frmt);

			if(Achievements[playerid][Jumper] < 300) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][68], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Jumper]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][68], COLOR_ACHS_UN, COLOR_ACHS_UN, 300);
		    strcat(str, frmt);

		    if(Achievements[playerid][Jumper] < 700) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][69], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][Jumper]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][69], COLOR_ACHS_UN, COLOR_ACHS_UN, 700);
		    strcat(str, frmt);
		    
		    if(Achievements[playerid][IronFist] < 300) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][70], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][IronFist]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][70], COLOR_ACHS_UN, COLOR_ACHS_UN, 300);
		    strcat(str, frmt);
		    
		    if(Achievements[playerid][AdrenalineDose] < 300) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][71], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][71], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);
		    
		    if(GetUnlockedSlot(Achievements[playerid][ac_InAirTime], 0) < 2) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][72], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][72], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);

		    if(GetUnlockedSlot(Achievements[playerid][ac_InAirTime], 0) < 4) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][73], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][73], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);
		    
		    if(Achievements[playerid][CuttingTheBrink] <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][74], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][74], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);

		    if(Achievements[playerid][TimeVictim] <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][75], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][75], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);
		    
		    if(Achievements[playerid][ac_QuestsCompleted] < 1) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][76], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ac_QuestsCompleted]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][76], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
		    strcat(str, frmt);

		    if(Achievements[playerid][ac_QuestsCompleted] < 10) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][77], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ac_QuestsCompleted]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][77], COLOR_ACHS_UN, COLOR_ACHS_UN, 10);
		    strcat(str, frmt);

		    if(Achievements[playerid][ac_QuestsCompleted] < 50) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][78], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ac_QuestsCompleted]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][78], COLOR_ACHS_UN, COLOR_ACHS_UN, 50);
		    strcat(str, frmt);

		    if(Achievements[playerid][ac_QuestsCompleted] < 100) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][79], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ac_QuestsCompleted]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][79], COLOR_ACHS_UN, COLOR_ACHS_UN, 100);
		    strcat(str, frmt);
		    
		    if(GetUnlockedSlot(Achievements[playerid][ac_PlayedTime], 0) <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][82], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][82], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);

		    if(GetUnlockedSlot(Achievements[playerid][ac_PlayedTime], 1) <= 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][83], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][83], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);

		    if(GetUnlockedSlot(Achievements[playerid][ac_Ruler], 0) == 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][80], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][80], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);

		    if(GetUnlockedSlot(Achievements[playerid][ac_Ruler], 1) == 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][81], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][81], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);
		    
		    if(Achievements[playerid][ac_Merchant] < 1) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][84], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ac_Merchant]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][84], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
		    strcat(str, frmt);

		    if(Achievements[playerid][ac_Merchant] < 50) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][85], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ac_Merchant]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][85], COLOR_ACHS_UN, COLOR_ACHS_UN, 50);
		    strcat(str, frmt);
		    
		    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 0) == 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][86], COLOR_ACHS_LO, COLOR_ACHS_LO, GetUnlockedSlot(Achievements[playerid][ac_Pets], 0));
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][86], COLOR_ACHS_UN, COLOR_ACHS_UN, 1);
		    strcat(str, frmt);

		    if(Achievements[playerid][ac_newPets] < 4) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][87], COLOR_ACHS_LO, COLOR_ACHS_LO, Achievements[playerid][ac_newPets]);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][87], COLOR_ACHS_UN, COLOR_ACHS_UN, 4);
		    strcat(str, frmt);

		    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 2) == 0) format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][88], COLOR_ACHS_LO, COLOR_ACHS_LO);
			else format(frmt, sizeof(frmt), achTrnsl[Player[playerid][pLang]][88], COLOR_ACHS_UN, COLOR_ACHS_UN);
		    strcat(str, frmt);
		}
	}
    
    if(!selectAch) ShowPlayerDialog(targetid, DIALOG_INFO_DIAL, DIALOG_STYLE_TABLIST_HEADERS, achNames[Player[playerid][pLang]][0], str, serverLang[Player[playerid][pLang]][4], "");
	else
	{
	    if(coin >= 0) ShowPlayerDialog(targetid, DIALOG_INFO_ACH, DIALOG_STYLE_TABLIST_HEADERS, achNames[Player[playerid][pLang]][0], str, "Create", "Cancel");
		else ShowPlayerDialog(targetid, DIALOG_INFO_ACH, DIALOG_STYLE_TABLIST_HEADERS, achNames[Player[playerid][pLang]][0], str, "Remove", "Cancel");
	}
}

/*CMD:achievements(playerid, params[])
{
    if(isnull(params))
	{
	    PrepareAchievements(playerid, playerid);
	}
	if(sscanf(params,"i",params[0])) return 1;
	if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(playerid == params[0]) PrepareAchievements(playerid, playerid);
	else PrepareAchievements(playerid, params[0]);
	return 1;
}
*/

new Float: positionCam[MAX_PLAYERS][3];
new Float: Reedeg[MAX_PLAYERS];
new const Float: Radiuses = 1.7;
new const Float: Height = 1.15;

/*
CMD:selfie(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN) return 1;
    if(!GetPVarInt(playerid,"Selfie"))
    {
        TogglePlayerControllable(playerid, 0);
        PlayerPlaySound(playerid, 17001, 0.0, 0.0, 0.0);
        GetPlayerPos(playerid, positionCam[playerid][0], positionCam[playerid][1], positionCam[playerid][2]);
        static Float: n1X, Float: n1Y, Float:PositionCam;
        GetPlayerFacingAngle(playerid, PositionCam);
        n1X = positionCam[playerid][0] + Radiuses * floatcos(180.0, degrees);
        n1Y = positionCam[playerid][1] + Radiuses * floatsin(180.0, degrees);
        SetPlayerAttachedObject(playerid, 9, 18868, 6, 0.06, 0.01, 0.08, 180.0, 270.0, 0.0);
        SetPlayerCameraPos(playerid, n1X, n1Y, positionCam[playerid][2] + Height);
        SetPlayerCameraLookAt(playerid, positionCam[playerid][0], positionCam[playerid][1], positionCam[playerid][2] + 1);
        SetPlayerFacingAngle(playerid, Reedeg[playerid] - 270.0);
        ApplyAnimation(playerid, "PED", "gang_gunstand", 4.1, 1, 1, 1, 1, 1, 1);
        SetPVarInt(playerid, "Selfie", 1);
        SetPVarInt(playerid, "selfie_knopka", 1);
    }
    else
    {
        TogglePlayerControllable(playerid, 1);
        SetCameraBehindPlayer(playerid);
        RemovePlayerAttachedObject(playerid, 9);
        ApplyAnimation(playerid, "PED", "ATM", 4.1, 0, 1, 1, 0, 1, 1);
        DeletePVar(playerid, "Selfie");
        DeletePVar(playerid, "selfie_knopka");
    }
    return 1;
}*/

CMD:weapons(playerid)
{
	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_TABLIST_HEADERS, "Weapons", "Weapon\tID\nChainsaw\t9\nGrenade\t16\nMolotov\t18\nColt45\t22\nSilenced Pistol\t23\nDesert Eagle\t24\nShotgun\t25\nSawnoff Shotgun\t26\nCombat Shotgun\t27\nUZI\t28\nMP5\t29\nAK-47\t30\nM4\t31\nTec-9\t32\nCountry Rifle\t33\nSniper Rifle\t34", "Ok", "");
	return 1;
}

/*
CMD:myweapons(playerid)
{
    PlayerSelectWeaponToUpgrade[playerid] = -1;
    PlayerSelectUpgraderToWeapon[playerid] = -1;
    
	new wn[24], s[128], str[1024];
	for( new i = 22; i < 39; i++ )
	{
	    GetWeaponName(i, wn, sizeof(wn));
	    if(strlen(wn) >= 2)
	    {
		    format(s,sizeof(s), "+%d %s\n", WeaponSkill[playerid][i], wn);
		    strcat(str, s);
		}
	}
	ShowPlayerDialog(playerid, DIALOG_UPGRADE_WEAPONS, DIALOG_STYLE_LIST, "Weapons", str, "Upgrade", "Close");
	return 1;
}
*/

/*
CMD:mychar(playerid)
{
    PlayerSelectStatToUpgrade[playerid] = -1;
    PlayerSelectUpgraderToStat[playerid] = -1;

	new s[128], str[256];
	for( new i = 0; i < sizeof(chs_n); i++ )
	{
	    format(s,sizeof(s), "+%d %s\n", CharacterSkill[playerid][i], chs_n[i]);
	    strcat(str, s);
	}
	ShowPlayerDialog(playerid, DIALOG_UPGRADE_CHAR, DIALOG_STYLE_LIST, "Character", str, "Upgrade", "Close");
	return 1;
}*/

CMD:duel(playerid, params[])
{
	new UserID = -1, weaponID = -1,
		dExp = 0, rules[2] = {0,0};

    sscanf(params, "iiiii", UserID, weaponID, dExp, rules[0], rules[1]);

	if(weaponID == -1 || UserID == -1)
	{
	    SendClientMessage(playerid, -1, "/duel (id) (weapon id) [..exp (1000 MAX), c-bug = 0 - OFF | 1 - ON, type = 0 - 50 Armour | 1 - No Armour | 2 - 85 Armour]");
		return 1;
	}
	if(!IsPlayerConnected(UserID))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(playerid == UserID) return 1;
	if(weaponID > 34 || weaponID < 9 || weaponID >= 10 && weaponID <= 15 || weaponID == 17 || weaponID == 19 || weaponID == 20 || weaponID == 21)
	{
	    SendClientMessage(playerid, -1, "{B2F558}>> Use /weapons to see weapons list");
		return 1;
	}

    if(rules[0] > 1) rules[1] = 1;
	if(rules[0] < 0) rules[1] = 0;

	if(rules[1] > 2) rules[1] = 2;
	if(rules[1] < 0) rules[1] = 0;
	
	if(dExp > Player[playerid][pXP] || dExp > Player[UserID][pXP])
	{
        SendClientMessage(playerid, -1, "{B2F558}>> Not enough exp from one of sides");
		return 1;
	}
	
	if(HumanHumanBoss[playerid] || HumanZombieBoss[playerid] || HumanHumanBoss[UserID] || HumanZombieBoss[UserID] || GetUnlockedSlot(Player[UserID][pSettings], PS_BLOCK_DUELS) == 1 || IsPlayerOnDuel[UserID] || Player[UserID][aDuty] || Player[playerid][aDuty])
	{
	    SendClientMessage(playerid, -1, "{e9dec8}>> You cannot send a request to this person");
		return 1;
	}
	
	if(dExp <= 0)
	{
		rules[0] = 0;
		rules[1] = 0;
	}
	
	if(dExp > 0 && (Player[playerid][pRank] < 10 ||  Player[UserID][pRank] < 10))
	{
	    SendClientMessage(playerid, -1, "{e9dec8}>> You / your opponent need min. rank 10!");
	    return 1;
	}
	
	DuelReceived[UserID] = true;
	DuelerID[UserID] = playerid;
	DuelerID[playerid] = UserID;
	DuelerWeapon[playerid] = weaponID;
	
	if(dExp > 1000) dExp = 1000;
	
	DuelEXP[playerid] = dExp;
	DuelRules[0][playerid] = rules[0];
	DuelRules[1][playerid] = rules[1];
	
	DuelEXP[UserID] = dExp;
	DuelRules[0][UserID] = rules[0];
	DuelRules[1][UserID] = rules[1];
	
	switch(Player[UserID][pLang])
	{
		case 0: GameTextForPlayer(UserID, "~y~DUEL REQUEST RECEIVED", 2000, 5);
		case 1: GameTextForPlayer(UserID, RusToGame("~y~ЗАЯВКА НА ДУЭЛЬ"), 2000, 5);
		case 2: GameTextForPlayer(UserID, "~y~SOLICITUD DE DUELO RECIBIDA", 2000, 5);
	}
	
	new gunname[32], rls[32]=" ";
	GetWeaponName(weaponID, gunname, sizeof(gunname));
	
	DuelEXP[UserID] = dExp;
	DuelRules[0][UserID] = rules[0];
	DuelRules[1][UserID] = rules[1];
	
	switch(Player[UserID][pLang])
	{
	    case 0:
	    {
	        switch(rules[1])
	        {
	            case 1: rls = " (No Armour)";
	            case 2: rls = " (85 '/. of Armour)";
				case 0: rls = " (50 '/. of Armour)";
				default: rls = " (50 '/. of Armour)";
			}
	        
	        if(dExp <= 0) SendClientMessageFormat(UserID, -1, "{e9dec8}>> %s is inviting you to duel with weapon: %s (ID %d)", Player[playerid][UserName], gunname, weaponID);
            else SendClientMessageFormat(UserID, -1, "{e9dec8}>> %s is inviting you to duel with weapon: %s (ID %d) (Bet %d EXP) %s%s", Player[playerid][UserName], gunname, weaponID, dExp, (rules[0] >= 1) ? ("With C-BUG") : ("(Without C-BUG)"), rls);
            
			SendClientMessage(UserID, -1, "{e9dec8}>> Type {00FF00}/y{e9dec8} to agree and {FF0000}/n{e9dec8} to deny");
		}
		case 1:
	    {
	        switch(rules[1])
	        {
	            case 1: rls = " (Без Брони)";
	            case 2: rls = " (С 85 '/. брони)";
				case 0: rls = " (С 50 '/. брони)";
				default: rls = " (С 50 '/. брони)";
			}
			
			if(dExp <= 0) SendClientMessageFormat(UserID, -1, "{e9dec8}>> Игрок %s приглашает вас на дуэль с оружием: %s (ИД %d)", Player[playerid][UserName], gunname, weaponID);
			else SendClientMessageFormat(UserID, -1, "{e9dec8}>> Игрок %s приглашает вас на дуэль с оружием: %s (ИД %d) (Ставка: %d опыта) %s%s", Player[playerid][UserName], gunname, weaponID, dExp, (rules[0] >= 1) ? ("+С разрешено") : ("(+С отключено)"), rls);
			
			SendClientMessage(UserID, -1, "{e9dec8}>> Введите {00FF00}/y{e9dec8} для согласия и {FF0000}/n{e9dec8} для отказа");
		}
		case 2:
	    {
	        switch(rules[1])
	        {
	            case 1: rls = " (Sin armadura)";
	            case 2: rls = " (85 '/. de armadura)";
				case 0: rls = " (50 '/. de armadura)";
				default: rls = " (50 '/. de armadura)";
			}
			
			if(dExp <= 0) SendClientMessageFormat(UserID, -1, "{e9dec8}>> El jugador %s te invita a un duelo con un arma: %s (ID %d)", Player[playerid][UserName], gunname, weaponID);
			else SendClientMessageFormat(UserID, -1, "{e9dec8}>> El jugador %s te invita a un duelo con un arma: %s (ID %d) (Tasa: %d EXP) %s%s", Player[playerid][UserName], gunname, weaponID, dExp, (rules[0] >= 1) ? ("Con C-BUG") : ("(Sin C-BUG)"), rls);
			
			SendClientMessage(UserID, -1, "{e9dec8}>> Entrar {00FF00}/y{e9dec8} por consentimiento y {FF0000}/n{e9dec8} para el rechazo");
		}
	}
	
	switch(Player[playerid][pLang])
	{
		case 0: SendClientMessageFormat(playerid, -1, "{e9dec8}>> You sent a duel request to %s!", Player[UserID][UserName]);
	    case 1: SendClientMessageFormat(playerid, -1, "{e9dec8}>> Вы отослали заявку игроку %s!", Player[UserID][UserName]);
	    case 2: SendClientMessageFormat(playerid, -1, "{e9dec8}>> Enviaste una solicitud de duelo a %s!", Player[UserID][UserName]);
	}
	return 1;
	
}

CMD:n(playerid)
{
	if(DuelReceived[playerid])
	{
		SendClientMessage(playerid, -1, "{e9dec8}>> You have denied the duel!");
		SendClientMessage(DuelerID[playerid], -1, "{e9dec8}>> The player denied your request!");
		DuelReceived[playerid] = false;
		DuelerID[playerid] = -1;
		
		DuelEXP[playerid] = 0;
		DuelRules[0][playerid] = 0;
		DuelRules[1][playerid] = 0;
	}
	else
	{
	    SendClientMessage(playerid, -1, "{C0C0C0}[Server] You aren't invited!");
	}
	return 1;
}

CMD:y(playerid)
{
    if(!CanPay) return 0;
	if(DuelReceived[playerid])
	{
	    new Float:hp[2];
		GetPlayerHealth(playerid, hp[0]);
		GetPlayerHealth(DuelerID[playerid], hp[1]);
		if(hp[0] <= 2.0 || hp[1] <= 2.0)
		{
		    SendClientMessage(playerid, -1, "You / Opponent isn't ready to accept the duel!");
			return 1;
		}
	    if(IsPlayerConnected(DuelerID[playerid]) && DuelerID[DuelerID[playerid]] == playerid && Player[DuelerID[playerid]][pLogged])
	    {
	        if(Player[playerid][pXP] < DuelEXP[playerid] || Player[DuelerID[playerid]][pXP] < DuelEXP[DuelerID[playerid]])
	        {
	            cmd::n(playerid);
	            return 1;
	        }
	        
	        SetPlayerTeamEx(DuelerID[playerid], NO_TEAM);
	        SetPlayerTeamEx(playerid, NO_TEAM);
	        
	        CanUseCBugTime[playerid] = 0;
	        CanUseCBugTime[DuelerID[playerid]] = 0;
	        
			SendClientMessage(playerid, -1, "{e9dec8}>> You have accepted the duel!");
			SendClientMessage(DuelerID[playerid], -1, "{e9dec8}>> The player accepted your request!");
			IsPlayerOnDuel[playerid] = true;
			IsPlayerOnDuel[DuelerID[playerid]] = true;
			DuelReceived[playerid] = false;
			CockroachAbility[playerid] = false;
			CockroachAbility[DuelerID[playerid]] = false;
			
			ResetWeapons(playerid);
			SetPlayerColor(playerid, 0x9900CCFF);
			SetPlayerSkinAC(playerid, 217, 1);
			SetPlayerPosAC(playerid, 1406.0436,-17.5633,1000.9139);
			SetPlayerFacingAngle(playerid, 90.8023);
			SetPlayerHealthAC(playerid, 100.0);
			
			if(DuelEXP[playerid] >= 1)
			{
				if(DuelRules[1][playerid] <= 0) SetPlayerArmourAC(playerid, 50.0);
				if(DuelRules[1][playerid] >= 2) SetPlayerArmourAC(playerid, 85.0);
			}
			else
			{
			    SetPlayerArmourAC(playerid, 50.0);
			}
			SetPlayerInterior(playerid, 1);
			SetPlayerVirtualWorld(playerid, 2 + playerid);
			GivePlayerWeaponAC(playerid, DuelerWeapon[DuelerID[playerid]], 9999, false);
			SetPlayerTime(playerid, 12, 0);
			SetPlayerWeather(playerid, 0);

			ResetWeapons(DuelerID[playerid]);
			SetPlayerColor(DuelerID[playerid], 0x9900CCFF);
			SetPlayerSkinAC(DuelerID[playerid], 217, 1);
			SetPlayerPosAC(DuelerID[playerid], 1373.0170,-17.2518,1000.9219);
			SetPlayerFacingAngle(DuelerID[playerid], 267.2106);
		    SetPlayerHealthAC(DuelerID[playerid], 100.0);
			
			if(DuelEXP[playerid] >= 1)
			{
				if(DuelRules[1][playerid] <= 0) SetPlayerArmourAC(DuelerID[playerid], 50.0);
				if(DuelRules[1][playerid] >= 2) SetPlayerArmourAC(DuelerID[playerid], 85.0);
			}
			else
			{
			    SetPlayerArmourAC(DuelerID[playerid], 50.0);
			}
			
			SetPlayerInterior(DuelerID[playerid], 1);
			SetPlayerVirtualWorld(DuelerID[playerid], 2 + playerid);
			GivePlayerWeaponAC(DuelerID[playerid], DuelerWeapon[DuelerID[playerid]], 9999, false);
			SetPlayerTime(DuelerID[playerid], 12, 0);
			SetPlayerWeather(DuelerID[playerid], 0);
			
			for( new i = 0; i < 10; i++) RemovePlayerAttachedObject(playerid, i);
			for( new i = 0; i < 10; i++) RemovePlayerAttachedObject(DuelerID[playerid], i);

			new gunname[32];
			GetWeaponName( DuelerWeapon[DuelerID[playerid]], gunname, sizeof(gunname));
			
			foreach(Player, i)
			{
			    switch(Player[i][pLang])
			    {
			        case 0:
					{
						if(DuelEXP[playerid] <= 0) SendClientMessageFormat(i, -1, "{e9dec8}>> %s started a duel with %s. Weapon: %s (ID %d)", Player[playerid][UserName], Player[DuelerID[playerid]][UserName], gunname, DuelerWeapon[DuelerID[playerid]]);
						else
						{
						    new rls[32];
						    switch(DuelRules[1][playerid])
						    {
						        case 1: rls = " and No Armour";
						        case 2: rls = " and 85 '/. of Armour";
								case 0: rls = " and 50 '/. of Armour";
								default: rls = " and 50 '/. of Armour";
							}
							
							SendClientMessageFormat(i, -1, "{e9dec8}>> %s started a duel with %s. Weapon: %s (ID %d) (Bet %d EXP) (Rule(s): %s%s)", Player[playerid][UserName], Player[DuelerID[playerid]][UserName], gunname, DuelerWeapon[DuelerID[playerid]], DuelEXP[playerid], (DuelRules[0][playerid] >= 1) ? ("With C-BUG") : ("Without C-BUG"), rls);
						}
					}
					case 1:
					{
						if(DuelEXP[playerid] <= 0) SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s начал дуэль с игроком %s. Оружие: %s (ID %d)", Player[playerid][UserName], Player[DuelerID[playerid]][UserName], gunname, DuelerWeapon[DuelerID[playerid]]);
						else
						{
						    new rls[32];
						    switch(DuelRules[1][playerid])
						    {
						        case 1: rls = " и Без Брони";
						        case 2: rls = " и 85 '/. брони";
								case 0: rls = " и 50 '/. брони";
								default: rls = " и 50 '/. брони";
							}

							SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s начал дуэль с игроком %s. Оружие: %s (ID %d) (Ставка %d ОПЫТА) (Правило(а): %s%s)", Player[playerid][UserName], Player[DuelerID[playerid]][UserName], gunname, DuelerWeapon[DuelerID[playerid]], DuelEXP[playerid], (DuelRules[0][playerid] >= 1) ? ("С +C") : ("Без +C"), rls);
						}
					}
					case 2:
					{
						if(DuelEXP[playerid] <= 0) SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s comenzo un duelo con el jugador %s. Arma: %s (ID %d)", Player[playerid][UserName], Player[DuelerID[playerid]][UserName], gunname, DuelerWeapon[DuelerID[playerid]]);
						else
						{
						    new rls[32];
						    switch(DuelRules[1][playerid])
						    {
						        case 1: rls = " y Sin armadura";
					            case 2: rls = " y 85 '/. de armadura";
								case 0: rls = " y 50 '/. de armadura";
								default: rls = " y 50 '/. de armadura";
							}

							SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s comenzo un duelo con el jugador %s. Arma: %s (ID %d) (Tasa %d EXP) (Regla(s): %s%s)", Player[playerid][UserName], Player[DuelerID[playerid]][UserName], gunname, DuelerWeapon[DuelerID[playerid]], DuelEXP[playerid], (DuelRules[0][playerid] >= 1) ? ("Con C-BUG") : ("Sin C-BUG"), rls);
						}
					}
				}
			}
		}
		else
		{
		    SendClientMessage(playerid, -1, "{e9dec8}>> The player did not invite you!");
		    IsPlayerOnDuel[playerid] = false;
		    DuelReceived[playerid] = false;
			DuelerID[playerid] = -1;
		}
	}
	else
	{
	    SendClientMessage(playerid, -1, "{C0C0C0}[Server] You aren't invited!");
	}
	return 1;
}

CMD:savegangs(playerid)
{
    if(Player[playerid][pAdmin] <= 5) return 0;
	SaveGangs(true);
	SendClientMessage(playerid, -1, "Saved");
	return 1;
}

/*CMD:resetgangs(playerid)
{
    if(Player[playerid][pAdmin] <= 5) return 0;
    new query[128], i;
	for( i = 1; i < 30; i++ )
	{
		mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `users` WHERE `Clan` = '%d' AND `ClanRank` < 6", i);
		mysql_tquery(Base, query, "ClearGangMembers", "i", i);
	}
	for( i = 1; i < 30; i++ )
	{
		Clan[i][g_MaxMembers] = cache_num_rows();
		printf("Gang #%d is %d of members!", i, cache_num_rows());
		SetGangBuff(i, Clan[i][g_MaxMembers]);
	}
    return 1;
}*/

/*
CMD:gangexp(playerid, params[])
{
    if(Player[playerid][pAdmin] <= 5) return 0;
    if(sscanf(params, "ii", params[0], params[1])) return SendClientMessage(playerid, -1, "/gangexp (gang) (exp)");
    if(params[0] <= 0) return SendClientMessage(playerid, -1, "/gangexp (gang) (exp)");
    if(params[1] <= 0) return SendClientMessage(playerid, -1, "/gangexp (gang) (exp)");
	Clan[params[0]][EXP] = params[1];
	SendClientMessage(playerid, -1, "Set");
	return 1;
}*/

stock UnloadFilterScript(filename[])
{
	new string[128];
	format(string, sizeof(string), "unloadfs %s", filename);
	SendRconCommand(string);

	//printf("Unloaded in %d sec", GetTickCount() - time);

	return 1;
}

CMD:load_event(playerid, params[])
{
	if(Player[playerid][pAccountID] == 1)
	{
	    new str[64];
	    if(sscanf(params, "s[64]", str)) {
			SendClientMessage(playerid, -1, "/load_event (filename)");
			return 1;
		}
        LoadFilterScript(str);
        strmid(EventFilterScript, str, 0, 128, 129);
        return 1;
	}
	return 0;
}

CMD:unload_event(playerid, params[])
{
	if(Player[playerid][pAccountID] == 1)
	{
	    new str[64];
	    if(sscanf(params, "s[64]", str)) {
			SendClientMessage(playerid, -1, "/unload_event (filename)");
			return 1;
		}
        UnloadFilterScript(str);
        strmid(EventFilterScript, "", 0, 128, 129);
        return 1;
	}
	return 0;
}

CMD:gpin(me, params[])
{
    if(Player[me][pAccountID] == 1)
	{
	    new playerid = -1;
		if(sscanf(params, "i", playerid))
		{
		    SendClientMessage(me, -1, "/gpin (id)");
		    return 1;
		}
		if(!IsPlayerConnected(playerid))
		{
		    SendClientMessage(me, -1, "/gpin (id)");
		    return 1;
		}
		ShowInvItems(playerid, me);
		return 1;
	}
	return 0;
}

CMD:rpin(me, params[])
{
    if(Player[me][pAccountID] == 1)
	{
	    new playerid = -1, slot = -1;
		if(sscanf(params, "ii", playerid, slot))
		{
		    SendClientMessage(me, -1, "/rpin (id)");
		    return 1;
		}
		if(!IsPlayerConnected(playerid))
		{
		    SendClientMessage(me, -1, "/rpin (id) (slot)");
		    return 1;
		}
		if(slot <= -1 || slot >= MAX_SLOTS)
		{
		    SendClientMessage(me, -1, "/rpin (id) (slot)");
		    return 1;
		}
		Inventory[playerid][slot][II_ID] = -1;
		Inventory[playerid][slot][II_Count] = 0;
        Inventory[playerid][slot][II_CHAOS_INDEX] = -1;
        Inventory[playerid][slot][II_CHAOS_TYPE] = -1;
        Inventory[playerid][slot][II_CHAOS_PROGRESS] = -1;
        Inventory[playerid][slot][II_VIP] = 0;
       	Inventory[playerid][slot][II_Time] = -1;
       	Inventory[playerid][slot][II_CanNotDrop] = 0;
       	Inventory[playerid][slot][II_XPN] = 0;
		return 1;
	}
	return 0;
}

CMD:spks(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1)
	{
	    new id, slot;
	    if(sscanf(params, "ii", id, slot))
		{
		    SendClientMessage(playerid, -1, "/spks (playerid) (count)");
		    return 1;
		}
		if(!IsPlayerConnected(id))
		{
		    SendClientMessage(playerid, -1, "/spks (playerid) (count)");
		    return 1;
		}
		Player[id][Killstreak] = slot;
		UpdateKillstreaksList(id);
	}
	return 0;
}

CMD:rpac(me, params[])
{
    if(Player[me][pAccountID] == 1)
	{
	    new playerid = -1, slot = -1, count = 0;
		sscanf(params, "iii", playerid, slot, count);
		if(playerid == -1 || slot == -1)
		{
		    SendClientMessage(me, -1, "/rpac (id) (id)");
		    return 1;
		}
		if(!IsPlayerConnected(playerid))
		{
		    SendClientMessage(me, -1, "/rpac (id) (id)");
		    return 1;
		}
		RestoreAchievement(playerid, slot, count);
		return 1;
	}
	return 0;
}

CMD:gpet(me, params[])
{
    if(Player[me][pAccountID] == 1)
	{
	    new playerid = -1, item = 0, name[64]="",rare=0,vip=0,level=1;
	    if(sscanf(params, "iis[64]iii", playerid, item, name, rare, vip, level))
		{
		    SendClientMessage(me, -1, "/gpet (id) (item) (name) (rare) (vip) (level)");
		    return 1;
		}
		if(!IsPlayerConnected(playerid))
		{
		    SendClientMessage(me, -1, "/gpet (id) (slot)");
		    return 1;
		}
		AddPet(playerid, item, name, rare, vip, level);
	    return 1;
	}
	return 0;
}

CMD:rpts(me, params[])
{
    if(Player[me][pAccountID] == 1)
	{
	    new playerid = -1, slot = -1;
	    if(sscanf(params, "ii", playerid, slot))
		{
		    SendClientMessage(me, -1, "/rpts (id) (slot)");
		    return 1;
		}
		if(!IsPlayerConnected(playerid))
		{
		    SendClientMessage(me, -1, "/rpts (id) (slot)");
		    return 1;
		}
		if(slot <= -1 || slot >= MAX_PETS)
		{
		    SendClientMessage(me, -1, "/rpts (id) (slot)");
		    return 1;
		}
		UserPet[playerid][slot][PI_Level] = 0;
        UserPet[playerid][slot][PI_Type] = 6;
        UserPet[playerid][slot][PI_Rare] = 0;
        UserPet[playerid][slot][PI_VIP] = 0;
        UserPet[playerid][slot][PI_XP] = 0;
        UserPet[playerid][slot][PI_XPM] = 0;
        strmid(UserPet[playerid][slot][PI_Name], "", 0, 128, 129);
	    return 1;
	}
	return 0;
}

CMD:gpts(me, params[])
{
    if(Player[me][pAccountID] == 1)
	{
		new odtype = -1, playerid = -1;
		if(sscanf(params, "i", playerid))
		{
		    SendClientMessage(me, -1, "/gpts (id)");
		    return 1;
		}
		if(!IsPlayerConnected(playerid))
		{
		    SendClientMessage(me, -1, "/gpts (id)");
		    return 1;
		}
		new str[1024], frmt[164], vip[14], c, type;
	    for( new i; i < MAX_PETS; i++ )
		{
		    if(UserPet[playerid][i][PI_Level] >= 1)
		    {
		        switch(UserPet[playerid][i][PI_Type])
		        {
		            case ITEM_NAME_MOON_PET: type = 0;
		            case ITEM_NAME_FIRE_PET: type = 1;
		            case ITEM_NAME_THE_EARTH_PET: type = 2;
					case ITEM_NAME_AIR_PET: type = 3;
					case ITEM_NAME_LOVE_PET: type = 4;
					case ITEM_NAME_HORSE_PET..ITEM_NAME_SHARK_PET: type = 5;
					default: type = 6;
				}

				if(UserPet[playerid][i][PI_VIP]) vip = "{ffff80}@VIP"; else vip = "";

				if(PetUseds[playerid] == i)
					format(frmt, sizeof(frmt), "%d {ffcc00}%s {ffdb4d}%s%s{ffcc00} (LVL %d ~ %s)\n",
					i,
		            PetRares[UserPet[playerid][i][PI_Rare]][8],
					UserPet[playerid][i][PI_Name],
					vip,
					UserPet[playerid][i][PI_Level],
					PetType[type]);
				else
					format(frmt, sizeof(frmt), "%d {33ccff}%s {99e6ff}%s%s{33ccff} (LVL %d ~ %s)\n",
					i,
		            PetRares[UserPet[playerid][i][PI_Rare]][8],
					UserPet[playerid][i][PI_Name],
					vip,
					UserPet[playerid][i][PI_Level],
					PetType[type]);

				strcat(str, frmt);
		    	c++;
			}
		}
		if(c >= 1) ShowPlayerDialog(me, DIALOG_INFO, DIALOG_STYLE_LIST, "{3366ff}Pets", str, "Ok", "");
		else  ShowPlayerDialog(me, DIALOG_INFO, DIALOG_STYLE_LIST, "{3366ff}Pets", "Empty!", "Ok", "");
		return 1;
	}
	return 0;
}

CMD:getobjects(playerid)
{
    if(Player[playerid][pAccountID] == 1)
	{
		new i, count;
		for(i = 0; i < 1000; i++) if(IsValidObject(i)) count++;
		SendClientMessageFormat(playerid, -1, "Server: %d | GateID: (ID %d) Model: %d | Gate2ID: (ID %d) Model: %d | Script: %s", count, mapGate, Map[m_GateID], mapGate2, Map[m_Gate2ID], Map[m_FSMapName]);
		return 1;
	}
	return 0;
}

CMD:setmap(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3)
	{
	 	if(sscanf(params,"i", params[0]))
		{
		    SendClientMessage(playerid, -1, "/setmap (id)");
			return 1;
		}
		
		new query[128];
	    mysql_format(Base, query, sizeof(query), "SELECT `ID`,`Name` FROM `maps` ORDER BY `ID` DESC LIMIT 1");
	 	mysql_tquery(Base, query, "LoadMapsCount");
	 	
        mapid = (params[0]-1);
		if((params[0]-1) > maps || params[0] <= 0) mapid = 0;
		
		foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s has set next map ID to %d", Player[playerid][RealName], mapid == 0 ? 1 : mapid+1);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /setmap\n```", Player[playerid][RealName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:skip(playerid)
{
	if(Player[playerid][pAdmin] > 3)
	{
	    if(!already_skipped)
	    {
	        if(Time <= 280)
	        {
				KillTimerEx(mapvar[0]);
				KillTimerEx(mapvar[1]);
				KillTimerEx(mapvar[2]);
				mapvar[2] = SetTimer("EndMap", MAX_RESTART_TIME, false);
				if(Player[playerid][pAdmin] <= 5)
				{
				    #if debug_mode == 0
			        new __action[128];
					DiscordChannel = DCC_FindChannelById("623193667628433438");
					format(__action, sizeof __action, "```\n%s used /skip\n```",  Player[playerid][RealName]);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
				}
				already_skipped = true;
				return 1;
			}
			else
			{
			    SendClientMessage(playerid, -1, "Wait some time...");
			    return 1;
			}
		}
		else
		{
		    SendClientMessage(playerid, -1, "Already skipped");
		    return 1;
		}
	}
	return 0;
}

stock Justice(playerid)
{
    new Float:pos[4], j;
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	GetPlayerFacingAngle(playerid, pos[3]);

	j = CreateObject(18856, pos[0], pos[1], pos[2] + 2.5, 0.0, 0.0, pos[3]);
	SetTimerEx("RemoveObject", 15000, 0, "i", j);

	/*j = CreateObject(18751,  pos[0], pos[1], pos[2]-6.5,   0.00000, 0.00000, 0.0);
	for(new i = 0; i < 3; i++) SetObjectMaterial(j, i, 18752, "volcano", "LavaLake", 0);
	SetTimerEx("RemoveObject", 15000, 0, "i", j);*/

	SetPlayerPosAC(playerid, pos[0], pos[1], pos[2] + 1.5);
	CreateObjectsX(3524, pos[0], pos[1], pos[2], 0.0, 0.0, 35, 6.0, 15);

	CreateObjectsX(18691, pos[0], pos[1], pos[2], 0.0, 0.0, 10, 2.0, 15);

	ApplyAnimation(playerid, "SWEET", "Sweet_injuredloop", 4.1, 0, 0, 0, 0, 25000, 1);
	GameTextForPlayer(playerid, "~r~Sacrificed", 3000, 3);
	SetTimerEx("Drugsoff", 15000, false, "i", playerid);

	SetPlayerWeather(playerid, -84);
	SetPlayerDrunkLevel(playerid, 100000);
	SetPlayerTime(playerid,4,0);

	Player[playerid][IsBurned][0] = 1;
	Player[playerid][IsBurned][1] = 2;
	SetPlayerAttachedObject(playerid,9,18689,1,0.000000,-0.130999,-1.650999,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000);

	FirstPerson[playerid] = CreateObject(19300, 0, 0, 0, 0, 0, 0);
	AttachObjectToPlayer(FirstPerson[playerid], playerid, 0.0, 0.13, 0.65, 0, 0, 0);
	AttachCameraToObject(playerid, FirstPerson[playerid]);
	SetTimerEx("RemoveObject", 15000, 0, "i", FirstPerson[playerid]);
}

fun ReturnToDefaultGravity(playerid)
{
    if(GravityReset[playerid])
    {
    	SetPlayerGravity(playerid, 1.0);
	}
	RemovePlayerAttachedObject(playerid, 9);
	GravityReset[playerid]= false;
	return 1;
}

fun RemoveFromCoffin(playerid)
{
	if(IsInCoffin[playerid])
	{
		IsInCoffin[playerid] = false;
		RemovePlayerAttachedObject(playerid, 9);
	}
	return 1;
}

fun Shovel(playerid, times)
{
	if(times > 0)
	{
	    times--;
	    SetTimerEx("Shovel", 1000, 0, "ii", playerid, times);
    	new Float:pos[3];
		GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
		CreateObjectsX(18679, pos[0], pos[1], pos[2]-2.5, 0.0, 0.0, 5, 2.5, 5);
		CreateObjectsX(18679, pos[0], pos[1], pos[2]-2.5, 0.0, 0.0, 10, 5.0, 5);
		CreateObjectsX(18679, pos[0], pos[1], pos[2]-2.5, 0.0, 0.0, 15, 10.0, 5);
		
		foreach(Player, i)
		{
		    if(IsPlayerInRangeOfPoint(i, 10.0, pos[0], pos[1], pos[2]) && current_map != 1 && GetPlayerInterior(i) <= 0 && GetPlayerVirtualWorld(playerid) == GetPlayerVirtualWorld(i))
		    {
		        if(GetPlayerTeamEx(i) == TEAM_ZOMBIE && !IsInCoffin[i])
		        {
                    SetPlayerAttachedObject(i, 9, 19339, 1, -0.02400, 0.43199, -0.01400, -101.80000, 34.80000, -3.30000, 1.00000, 1.00000, 1.00000);
	    			ApplyAnimation(i, "BEACH", "LAY_BAC_LOOP", 4.1, false, 1, 1, false, 15000, true); // coffin
	    			IsInCoffin[i] = true;
	    			SetTimerEx("RemoveFromCoffin", 15000, 0, "i", i);
		        }
		    }
		}
	}
	return 1;
}

public OnPlayerEditObject(playerid, playerobject, objectid, response, Float:fX, Float:fY, Float:fZ, Float:fRotX, Float:fRotY, Float:fRotZ)
{
	new Float:oldX, Float:oldY, Float:oldZ, Float:oldRotX, Float:oldRotY, Float:oldRotZ;
	GetObjectPos(objectid, oldX, oldY, oldZ);
	GetObjectRot(objectid, oldRotX, oldRotY, oldRotZ);
	if(!playerobject) // If this is a global object, sync the position for other players
	{
	    if(!IsValidObject(objectid)) return 1;
	    SetObjectPos(objectid, fX, fY, fZ);
	    SetObjectRot(objectid, fRotX, fRotY, fRotZ);
	}

	if(response == EDIT_RESPONSE_FINAL)
	{
		printf("CreateObject(%d, %.2f, %.2f, %.2f, %.2f, %.2f, %.2f, 300.0);", objectid, fX, fY, fZ, fRotX, fRotY, fRotZ);
	}

	if(response == EDIT_RESPONSE_CANCEL)
	{
		//The player cancelled, so put the object back to it's old position
		if(!playerobject) //Object is not a playerobject
		{
			SetObjectPos(objectid, oldX, oldY, oldZ);
			SetObjectRot(objectid, oldRotX, oldRotY, oldRotZ);
		}
		else
		{
			SetPlayerObjectPos(playerid, objectid, oldX, oldY, oldZ);
			SetPlayerObjectRot(playerid, objectid, oldRotX, oldRotY, oldRotZ);
		}
	}
	return 0;
}

fun CreateDisplayInfo(playerid, Float:x, Float:y, type, Float:toX, Float:toY, Float:step, time)
{
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_ALERTS) == 1) return 0;
    if(alreadyNotificated[playerid] != type && alreadyNotificated[playerid] >= 0) return 0;
    
    alreadyNotificated[playerid] = type;
    
	new i, Float:size = 100.0;
	
	new text[96];
	switch(type)
	{
	    case 0: text = "~p~GANGWARS_~y~IN_15_MINUTES!";
		case 1: text = "~p~GANGWARS_~y~IN_30_MINUTES!";
        case 2: text = "~p~GANGWARS_~y~IN_45_MINUTES!";
        
        case 3: text = "~p~x2_EXP_~y~IN_5_MINUTES!";
        case 4: text = "~p~x2_EXP_~y~IN_10_MINUTES!";
		case 5: text = "~p~x2_EXP_~y~IN_15_MINUTES!";
        case 6: text = "~p~x2_EXP_~y~IN_30_MINUTES!";
        case 7: text = "~p~x2_EXP_~y~IN_45_MINUTES!";
        case 8: text = "~p~x2_EXP_~y~IN_1_HOUR!";
        case 9: text = "~p~x2_EXP_~y~IN_2_HOURS!";
        case 10: text = "~p~x2_EXP_~y~IN_3_HOURS!";
        
        case 11: text = "~y~YOUR_SHOP_ITEM_SOLD!";
        case 12: text = "~y~NEW_~p~PM~y~_notification!";
        case 13: text = "~p~NICE_DUDE!_~w~/chaos!";
        
        case 14: text = "~b~~h~~h~NEW_UPDATE!_~w~/news";
        case 15: text = "~g~~h~~h~NEW_ACHIEVEMENT!_~w~/achievements";
        
        case 16: text = "~p~GANGWARS_~y~IN_10_MINUTES!";
		case 17: text = "~p~GANGWARS_~y~IN_5_MINUTES!";
        case 18: text = "~p~GANGWARS_~y~has_begun!";
        
        case 19: text = "~p~x2_EXP_~y~has_begun!";
        case 20: text = "~p~x2_EXP_~y~is_gone!";
	}
	
	size = float(strlen(text))*6.8;
	if(type == 12) size -= 25.0;
	if(type == 15) size -= 35.0;

 	new Float:iDistance = 20.0,
		Float:tDistance = ((size - iDistance) / 1.75); // BOX: 558.0000 - Text: 485.0000 [73]
	 	// BOX: 558.0000 - Image: 462.0000 [96]
	if(step >= 0.1 && x > toX)
	{
		x -= step;
		for( i = 0; i < sizeof(DisplayAlerts); i++)
		{
			TextDrawHideForPlayer(playerid, DisplayAlerts[i][playerid]);
			TextDrawDestroy(DisplayAlerts[i][playerid]);
	    }

	    DisplayAlerts[0][playerid] = TextDrawCreate(x, 354.9375, "Box"); // ?????
		TextDrawLetterSize(DisplayAlerts[0][playerid], 0.0000, 1.4000);
		TextDrawTextSize(DisplayAlerts[0][playerid], (x + size), 0.0000); // (x + size)
		TextDrawAlignment(DisplayAlerts[0][playerid], 1);
		TextDrawColor(DisplayAlerts[0][playerid], 187);
		TextDrawUseBox(DisplayAlerts[0][playerid], 1);
		TextDrawBoxColor(DisplayAlerts[0][playerid], 85);
		TextDrawBackgroundColor(DisplayAlerts[0][playerid], 187);
		TextDrawFont(DisplayAlerts[0][playerid], 1);
		TextDrawSetProportional(DisplayAlerts[0][playerid], 1);
		TextDrawSetShadow(DisplayAlerts[0][playerid], 0);

		DisplayAlerts[1][playerid] = TextDrawCreate(x + tDistance, 355.3750, text); // ?????
		TextDrawLetterSize(DisplayAlerts[1][playerid], 0.2588, 1.2848);
		TextDrawTextSize(DisplayAlerts[1][playerid], 0.0000, 413.0000);
		TextDrawAlignment(DisplayAlerts[1][playerid], 2);
		TextDrawColor(DisplayAlerts[1][playerid], -1);
		TextDrawBackgroundColor(DisplayAlerts[1][playerid], 255);
		TextDrawFont(DisplayAlerts[1][playerid], 2);
		TextDrawSetProportional(DisplayAlerts[1][playerid], 1);
		TextDrawSetShadow(DisplayAlerts[1][playerid], 1);

		DisplayAlerts[2][playerid] = TextDrawCreate(x - iDistance, 349.2500, "ld_shtr:kami"); // ?????
		TextDrawTextSize(DisplayAlerts[2][playerid], 31.0000, 21.0000);
		TextDrawAlignment(DisplayAlerts[2][playerid], 1);
		TextDrawColor(DisplayAlerts[2][playerid], -2139062017);
		TextDrawBackgroundColor(DisplayAlerts[2][playerid], 255);
		TextDrawFont(DisplayAlerts[2][playerid], 4);
		TextDrawSetProportional(DisplayAlerts[2][playerid], 0);
		TextDrawSetShadow(DisplayAlerts[2][playerid], 0);

		for( i = 0; i < sizeof(DisplayAlerts); i++) TextDrawShowForPlayer(playerid, DisplayAlerts[i][playerid]);
		SetTimerEx("CreateDisplayInfo", 30, 0, "iffifffi", playerid, x, y, type, toX, toY, step, time);
		return 0;
	}
	
	if(time >= 1 && step >= 0.1)
	{
		for( i = 0; i < sizeof(DisplayAlerts); i++) TextDrawShowForPlayer(playerid, DisplayAlerts[i][playerid]);
		SetTimerEx("CreateDisplayInfo", time, 0, "iffifffi", playerid, x, y, type, toX+1024.0, toY, -step, 0);
		return 0;
	}
	
	if(step <= -0.1)
	{
		if(x < toX)
		{
			x -= step;
		    for( i = 0; i < sizeof(DisplayAlerts); i++)
			{
				TextDrawHideForPlayer(playerid, DisplayAlerts[i][playerid]);
				TextDrawDestroy(DisplayAlerts[i][playerid]);
		    }

		    DisplayAlerts[0][playerid] = TextDrawCreate(x, 354.9375, "Box"); // ?????
			TextDrawLetterSize(DisplayAlerts[0][playerid], 0.0000, 1.4000);
			TextDrawTextSize(DisplayAlerts[0][playerid], (x + size), 0.0000); // (x + size)
			TextDrawAlignment(DisplayAlerts[0][playerid], 1);
			TextDrawColor(DisplayAlerts[0][playerid], 187);
			TextDrawUseBox(DisplayAlerts[0][playerid], 1);
			TextDrawBoxColor(DisplayAlerts[0][playerid], 85);
			TextDrawBackgroundColor(DisplayAlerts[0][playerid], 187);
			TextDrawFont(DisplayAlerts[0][playerid], 1);
			TextDrawSetProportional(DisplayAlerts[0][playerid], 1);
			TextDrawSetShadow(DisplayAlerts[0][playerid], 0);

			DisplayAlerts[1][playerid] = TextDrawCreate(x + tDistance, 355.3750, text); // ?????
			TextDrawLetterSize(DisplayAlerts[1][playerid], 0.2588, 1.2848);
			TextDrawTextSize(DisplayAlerts[1][playerid], 0.0000, 413.0000);
			TextDrawAlignment(DisplayAlerts[1][playerid], 2);
			TextDrawColor(DisplayAlerts[1][playerid], -1);
			TextDrawBackgroundColor(DisplayAlerts[1][playerid], 255);
			TextDrawFont(DisplayAlerts[1][playerid], 2);
			TextDrawSetProportional(DisplayAlerts[1][playerid], 1);
			TextDrawSetShadow(DisplayAlerts[1][playerid], 1);

			DisplayAlerts[2][playerid] = TextDrawCreate(x - iDistance, 349.2500, "ld_shtr:kami"); // ?????
			TextDrawTextSize(DisplayAlerts[2][playerid], 31.0000, 21.0000);
			TextDrawAlignment(DisplayAlerts[2][playerid], 1);
			TextDrawColor(DisplayAlerts[2][playerid], -2139062017);
			TextDrawBackgroundColor(DisplayAlerts[2][playerid], 255);
			TextDrawFont(DisplayAlerts[2][playerid], 4);
			TextDrawSetProportional(DisplayAlerts[2][playerid], 0);
			TextDrawSetShadow(DisplayAlerts[2][playerid], 0);

			for( i = 0; i < sizeof(DisplayAlerts); i++) TextDrawShowForPlayer(playerid, DisplayAlerts[i][playerid]);
			SetTimerEx("CreateDisplayInfo", 30, 0, "iffifffi", playerid, x, y, type, toX, toY, step, time);
			return 0;
		}
		else
		{
		    for( i = 0; i < sizeof(DisplayAlerts); i++)
			{
				TextDrawHideForPlayer(playerid, DisplayAlerts[i][playerid]);
				TextDrawDestroy(DisplayAlerts[i][playerid]);
				alreadyNotificated[playerid] = -1;
		    }
		}
		return 0;
	}
	return 1;
}

fun ShowVIPShop(playerid)
{
    new s[48], dial[1600];
    format(s, sizeof(s), "Shop{ffd633} (%.2f ZAPs)", Player[playerid][pBalance]);
	strcat(dial, "{ffd633}--------------[VIP SHOP]--------------\n{ffd633}Bronze VIP - 4 ZAPs (30 days)\n{ffd633}Silver VIP - 7 ZAPs (30 days)\n{ffd633}Gold VIP - 10 ZAPs (30 days)");
    ShowPlayerDialog(playerid, DIALOG_VIP_SHOP, DIALOG_STYLE_LIST, s, dial, "Buy", "Cancel");
    return 1;
}

CMD:shop(playerid)
{
    ShowZombieShop(playerid);
    return 1;
}

stock ShowZombieShop(playerid)
{
    new dial[300], frmt[300];
    new newPrice = (floor(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] * 0.75) > 0 ? floor(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] * 0.75) : 1);
    format(frmt, sizeof(frmt), "{FFFFFF}Anti-Screamer - %d EXP\nHelmet - %d EXP (No headshots)", floor(ZombieShopPrices[0] / newPrice), floor(ZombieShopPrices[1] / newPrice));
    strcat(dial, frmt);
	ShowPlayerDialog(playerid, DIALOG_ZOMBIE_SHOP, DIALOG_STYLE_LIST, "{33cc33}Shop", dial, "Buy", "Cancel");
			
	return 1;
}

stock ShowShop(playerid)
{
    new dial[1600], frmt[500];
    
    new newPrice = (floor(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] * 0.75) > 0 ? floor(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] * 0.75) : 1);
    
	switch(Player[playerid][pLang])
	{
	    case 0:
	    {
			format(frmt, sizeof(frmt), "{FFFFFF}Camera - %d EXP (Can make a photo)\nAnti-Seeker - %d EXP\nAnti-Freezer - %d EXP\nArmour - %d EXP (No Radioactive Field)\nAnti-Burning - %d EXP\nMorphine - %d EXP (No Leg Breaks)\nAnti-Screamer - %d EXP\nAnti-Blind - %d EXP\nHelmet - %d EXP (No headshots)\nBible - %d EXP (No curse)\nBag of Chestnuts - %d EXP (No Spider Controll)\n",
			floor(ShopPrices[0] / newPrice), floor(ShopPrices[1] / newPrice), floor(ShopPrices[2] / newPrice),
            floor(ShopPrices[3] / newPrice), floor(ShopPrices[4] / newPrice), floor(ShopPrices[5] / newPrice),
            floor(ShopPrices[6] / newPrice), floor(ShopPrices[7] / newPrice), floor(ShopPrices[8] / newPrice),
            floor(ShopPrices[9] / newPrice), floor(ShopPrices[10] / newPrice));
            
			strcat(dial, frmt);
            ShowPlayerDialog(playerid, DIALOG_SHOP, DIALOG_STYLE_LIST, "Merchant's Shop", dial, "Buy", "Cancel");
		}
		case 1:
		{
			format(frmt, sizeof(frmt), "{FFFFFF}Камера - %d ОПЫТА (Может сделать фотку)\nАнти-Охотник - %d ОПЫТА\nАнти-Фриз - %d ОПЫТА\nБроня - %d ОПЫТА (Анти Радиоактивное поле)\nАнти-Поджог - 60 ОПЫТА\nМорфин - %d ОПЫТА (Нельзя сломать ноги)\nАнти-Устрашение - %d ОПЫТА\nАнти-Ослепление - %d ОПЫТА\nШлем - %d ОПЫТА (Без хедшотов)\nБиблия - %d ОПЫТА (Анти сглаз)\nМешок каштанов - %d ОПЫТА (Обезвреживает пауков)\n",
            floor(ShopPrices[0] / newPrice), floor(ShopPrices[1] / newPrice), floor(ShopPrices[2] / newPrice),
            floor(ShopPrices[3] / newPrice), floor(ShopPrices[4] / newPrice), floor(ShopPrices[5] / newPrice),
            floor(ShopPrices[6] / newPrice), floor(ShopPrices[7] / newPrice), floor(ShopPrices[8] / newPrice),
            floor(ShopPrices[9] / newPrice), floor(ShopPrices[10] / newPrice));
            
            strcat(dial, frmt);
			ShowPlayerDialog(playerid, DIALOG_SHOP, DIALOG_STYLE_LIST, "Магазин Торговца", dial, "Купить", "Закрыть");
		}
		case 2:
	    {
			format(frmt, sizeof(frmt), "{FFFFFF}Cбmara - %d EXP (Puede hacer una foto)\nAnti-Buscador - %d EXP\nAnti-Congelador - %d EXP\nArmadura - %d EXP (Sin Campo Radiactivo)\nAnti-Quemaduras - %d EXP\nMorfina - %d EXP (No se rompen piernas)\nAnti-Screamer - %d EXP\nAnti-Ciego - %d EXP\nCasco - %d EXP (Sin disparos a la cabeza)\nBiblia - %d EXP (Sin maldiciуn)\nBolsa de castanas - %d EXP (Neutraliza las aranas)",
            floor(ShopPrices[0] / newPrice), floor(ShopPrices[1] / newPrice), floor(ShopPrices[2] / newPrice),
            floor(ShopPrices[3] / newPrice), floor(ShopPrices[4] / newPrice), floor(ShopPrices[5] / newPrice),
            floor(ShopPrices[6] / newPrice), floor(ShopPrices[7] / newPrice), floor(ShopPrices[8] / newPrice),
            floor(ShopPrices[9] / newPrice), floor(ShopPrices[10] / newPrice));
            
			strcat(dial, frmt);
			ShowPlayerDialog(playerid, DIALOG_SHOP, DIALOG_STYLE_LIST, "Merchant's Tienda", dial, "Comprar", "Cancelar");
		}
	}
	return 1;
}

public OnPlayerGiveDamageActor(playerid, damaged_actorid, Float: amount, weaponid, bodypart)
{
    if(damaged_actorid >= ZombieMerchant[0] && damaged_actorid <= ZombieMerchant[4])
    {
        ApplyActorAnimation(damaged_actorid, "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 1, 1000);
        return 1;
    }
    
    if(damaged_actorid >= Merchants[0] && damaged_actorid <= Merchants[4])
    {
        /*if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
		{
		    ApplyActorAnimation(damaged_actorid, "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 1, 1000);
            new Float:damage = amount, Float:hp;
            if(weaponid == 9) damage /= 8.0;
            GetActorHealth(damaged_actorid, hp);
            SetActorHealth(damaged_actorid, hp - damage);
            if(hp - damage <= 0)
			{
			    if(damaged_actorid == Merchants[0]) Delete3DTextLabel(SpawnMerchants[0]);
			    if(damaged_actorid == Merchants[1]) Delete3DTextLabel(SpawnMerchants[1]);
			    if(damaged_actorid == Merchants[2]) Delete3DTextLabel(SpawnMerchants[2]);
			    if(damaged_actorid == Merchants[3]) Delete3DTextLabel(SpawnMerchants[3]);
			    if(damaged_actorid == Merchants[4]) Delete3DTextLabel(SpawnMerchants[4]);
			    
				DestroyActor(damaged_actorid);
			}
            return 1;
		}*/
		ApplyActorAnimation(damaged_actorid, "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 1, 1000);
        return 0;
	}
    
    foreach(Player, i)
    {
        if(damaged_actorid == MyFantom[i])
        {
            if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
			{
	            new Float:damage = amount;
	            if(weaponid == 9) damage /= 4.0;
	            GetActorHealth(MyFantom[i], MyFantomHP[i]);
	            SetActorHealth(MyFantom[i], MyFantomHP[i] - damage);
	            SetPlayerHealth(i, MyFantomHP[i] - damage);
	            ApplyActorAnimation(MyFantom[i], "CRACK", "crckidle2", 4.1, 1, 0, 0, 1, 1000);
	            if(MyFantomHP[i] - damage <= 0.0)
				{
                    new eid = MyFantomCreatedBy[i];
					SetPlayerInterior(eid, Map[m_Interior]);
					SetPlayerVirtualWorld(eid, Map[m_World]);
				 	SetPlayerPosAC(eid, Map[ZombieSpawnX][0], Map[ZombieSpawnY][0], Map[ZombieSpawnZ][0]);
					SetPlayerWeather(eid, Map[m_Weather]);
					SetPlayerTime(eid, Map[m_Time], 0);
				
					DestroyActor(MyFantom[i]);
					MyFantomCreatedBy[i] = -1;
					MyFantom[i] = -1;
					Delete3DTextLabel(FantomHelp[i]);
				}
	            return 1;
			}
			else
			{
			    ApplyActorAnimation(MyFantom[i], "CRACK", "crckidle2", 4.1, 1, 0, 0, 1, 1000);
			    return 1;
			}
        }
    }
	return 0;
}

fun sf_ServerAuction(playerid, params[])
{
	if(strlen(params) >= 1) sscanf(params, "s[128]", Player[playerid][pShopFilter]);
	else strmid(Player[playerid][pShopFilter], "", 0, 128, 129);
	
    if(EmptyMessage(Player[playerid][pShopFilter])) strmid(Player[playerid][pShopFilter], "", 0, 128, 129);
    
	for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
    new query[164];
    mysql_format(Base, query, sizeof(query), "SELECT *, (SELECT count(auction.acc) as `it_count` FROM `auction`) FROM `auction` WHERE auction.acc = '%d' GROUP BY auction.ID", Player[playerid][pAccountID]);
    mysql_tquery(Base, query, "GetMyAuctionItems", "i", playerid);
	return 1;
}

CMD:att(playerid)
{
    new string[128], ind = 0;
    if(Player[playerid][e_Days] >= 349) ind = 1;
    for(new x;x<4+ind;x++)
    {
    	if(IsPlayerAttachedObjectSlotUsed(playerid, x)) format(string, sizeof(string), "%s%d (Used)\n", string, x);
     	else format(string, sizeof(string), "%s%d\n", string, x);
    }
    ShowPlayerDialog(playerid, DIALOG_ATTACH_INDEX_SELECTION, DIALOG_STYLE_LIST, "{FF0000}Attachment Modification - Index Selection", string, "Select", "Cancel");
	return 1;
}

CMD:vipmenu(playerid)
{
	if(Player[playerid][pVip] <= 1) {
	    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}VIP MENU", "This section is only for VIP Level 2+", "Ok", "");
	    return 1;
	}
	ShowPlayerDialog(playerid, DIALOG_VIP_MENU, DIALOG_STYLE_LIST, "{FFFFFF}VIP MENU", "{FFFFFF}- Start a Round as a {00CCCC}Human\n{FFFFFF}- Start a Round as a {99CC00}Zombie\n{FFFFFF}Reset To Random", "Select", "Close");

	return 1;
}

CMD:vips(playerid)
{
    SendClientMessage(playerid, -1, "{FF500A}VIPS online");
	foreach(Player, i)
	{
	    if(Player[i][pVip] >= 1 || FakeData[i][2] >= 1)
	    {
	        SendClientMessageFormat(playerid, -1, "%s Level: %d", Player[i][UserName], min(3, Player[i][pVip]+FakeData[i][2]));
	    }
	}
	return 1;
}

CMD:dance(playerid, params[])
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE || IsPlayerInRangeOfPoint(playerid, 30.0, 493.390991, -22.722799, 1000.679687) && GetPlayerInterior(playerid) == 17)
	{
	    if(sscanf(params,"i", params[0]))
		{
		    SendClientMessage(playerid, -1, "/dance (1-4)");
			return 1;
		}
		if(params[0] < 1 || params[0] > 4)
		{
		    SendClientMessage(playerid, -1, "/dance (1-4)");
			return 1;
		}
		SetPlayerSpecialAction(playerid, 5+params[0]);
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		return 1;
	}
	return 1;
}

CMD:radio(playerid)
{
    if(GetUnlockedSlot(Player[playerid][pSettings], PS_MUSIC) == 0) PlayAudioStreamForPlayer(playerid, "http://ep256.hostingradio.ru:8052/europaplus256.mp3");
    return 1;
}

CMD:dleave(playerid)
{
    if(IsPlayerOnDuel[playerid])
	{
		DeathInDuel(playerid);
		setupZombie(playerid);
		SpawnPlayer(playerid);
	}
	else
	{
	    switch(Player[playerid][pLang])
	    {
	    	case 0: SendClientMessage(playerid, -1, "{FFF000}You need to be in a duel!");
	    	case 1: SendClientMessage(playerid, -1, "{FFF000}Вам нужно быть в дуэле!");
	    	case 2: SendClientMessage(playerid, -1, "{FFF000}Necesitas estar en un duelo!");
		}
	}
	return 1;
}

CMD:cmds(playerid)
{
    SendClientMessage(playerid, -1, "{737373}GLOBAL COMMANDS:{b3b3b3} /help /rules /report (/votekick) /cmds /class /maps /stats /ss /radio /settings /pm (Private Message)");
    SendClientMessage(playerid, -1, "{737373}CLASS COMMANDS:{b3b3b3} /cure (Medics) /giveammo (Heavy Support)");
    SendClientMessage(playerid, -1, "{737373}VIP COMMANDS:{b3b3b3} /skin /changename (Free for VIPs) /vipmenu (VIPs 2+) /kickback (VIPs 3+)");
	SendClientMessage(playerid, -1, "{737373}DUEL COMMANDS:{b3b3b3} /duel /dleave (To leave the duel) /weapons (To see Weapon's ID)");
    SendClientMessage(playerid, -1, "{737373}LOCAL EVENT COMMANDS:{b3b3b3} /event help");
    
	//SendClientMessage(playerid, -1, "{cdcdcd}/cureall /ignore /unignore /pm /class /radio /language /ss /dance /shop /vips /att /changename");
	//SendClientMessage(playerid, -1, "{cdcdcd}/v /admins /animlist /duel /weapons /changepass /selfie /achievements /news /top /r(eply), /ask");
	//SendClientMessage(playerid, -1, "{cdcdcd}/pay /verify /me /do /try /b /s /todo /ame /network /quest /give /givevip /trade /trophies /collections");
	//SendClientMessage(playerid, -1, "{cdcdcd}/ranks /lastlogin /channel /chaos /effshow /dleave /email /changeemail /changesword /showtrophy /show");
	//SendClientMessage(playerid, -1, "{cdcdcd}/cards /speciality /merchant /myweapons /mychar /arshow");
	return 1;
}

/*CMD:channel(playerid)
{
	new str[128];//, f[96];
	strcat(str, "Global Chat\n");
	if(Player[playerid][pClan] > 0) strcat(str, "Gang Channel\n");
    if(Player[playerid][pAdmin] > 0) strcat(str, "Admin Channel\n");
    ShowPlayerDialog(playerid, DIALOG_CHANNELS, DIALOG_STYLE_LIST, "{FF8800}Channels", str, "Select", "Close");
	return 1;
}

CMD:lastlogin(playerid, params[])
{
	if(sscanf(params, "i", params[0]))
	{
	    SendClientMessage(playerid, -1, "{cdcdcd}>> /lastlogin (Account ID)");
	    return 1;
	}
	if(params[0] < 1)
	{
	    SendClientMessage(playerid, -1, "{cdcdcd}>> /lastlogin (Account ID)");
	    return 1;
	}
	new query[200];
	mysql_format(Base, query, sizeof(query), "SELECT userinfo.*, users.Name FROM userinfo JOIN users WHERE userinfo.id = '%d' AND users.ID = '%d' LIMIT 1;", params[0], params[0]);
	mysql_tquery(Base, query, "ShowLastUserLogin", "i", playerid);
	return 1;
}*/

fun ShowLastUserLogin(playerid)
{
	if(cache_num_rows() > 0)
	{
	    new ll, Name[24];
	    cache_get_value_name_int(0, "last_log", ll);
	    if(ll > 0)
	    {
		    cache_get_value_name(0, "Name", Name, 24);
		    new y, m, d, h, i, s;
			TimestampToDate(ll, y, m, d, h, i, s, 3);
		    SendClientMessageFormat(playerid, -1, "{E68687}>> %s's last login: %04d-%02d-%02d at %02d:%02d", Name, y, m, d, h, i);
		}
		else SendClientMessage(playerid, -1, "{E68687}>> Unknow");
	}
	return 1;
}

/*CMD:collections(playerid)
{
	new str[4096], f[256];
	
	format(f, sizeof(f), "{0080ff}Rocketman(3 days) - {66b3ff}Wrench(%d), Oil(%d), Hammer(%d), Scrap(%d), Screwdriver(%d)\n",
	GetItemCount(playerid, ITEM_NAME_WRENCH), GetItemCount(playerid, ITEM_NAME_OIL), GetItemCount(playerid, ITEM_NAME_HAMMER),
	GetItemCount(playerid, ITEM_NAME_SCRAP), GetItemCount(playerid, ITEM_NAME_SCREWDRIVER));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}Adv. Policeman (3 days) - {66b3ff}Walkie talkie(%d), Key(%d), Handcuffs(%d), Pistol(%d), Badge(%d)\n",
	GetItemCount(playerid, ITEM_NAME_RADIO), GetItemCount(playerid, ITEM_NAME_KEY), GetItemCount(playerid, ITEM_NAME_HANDCUFFS),
	GetItemCount(playerid, ITEM_NAME_PISTOL), GetItemCount(playerid, ITEM_NAME_POLICE_BADGE));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}Guitarist (14 days) - {66b3ff}Bas(%d), Electric(%d), Rock(%d), Microphone(%d), Sound Record(%d)\n",
	GetItemCount(playerid, ITEM_NAME_BAS_GUITAR), GetItemCount(playerid, ITEM_NAME_ELECTRIC_GUITAR), GetItemCount(playerid, ITEM_NAME_ROCK_GUITAR),
	GetItemCount(playerid, ITEM_NAME_MICROPHONE), GetItemCount(playerid, ITEM_NAME_SOUND_RECORD));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}Adv. Support (14 days) - {66b3ff}Sniper(%d), Deagle(%d), MP5(%d), Sawnoff(%d), M4(%d)\n",
	GetItemCount(playerid, ITEM_NAME_OLD_SNIPER), GetItemCount(playerid, ITEM_NAME_OLD_DEAGLE), GetItemCount(playerid, ITEM_NAME_OLD_MP5),
	GetItemCount(playerid, ITEM_NAME_OLD_SAWNOFF), GetItemCount(playerid, ITEM_NAME_OLD_M4));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}Human Queen (7 days) - {66b3ff}Royal Hall(%d), Mirror(%d), Ice figure(%d), Ring(%d), Recognition(%d)\n",
	GetItemCount(playerid, ITEM_NAME_QUEEN_HEAD), GetItemCount(playerid, ITEM_NAME_QUEEN_SHIRT), GetItemCount(playerid, ITEM_NAME_QUEEN_DRESS),
	GetItemCount(playerid, ITEM_NAME_QUEEN_RING), GetItemCount(playerid, ITEM_NAME_QUEEN_WEALTH));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}Adv. Hero (7 days) - {66b3ff}Badge(%d), Compass(%d), Clothes(%d), First-aid kit(%d), Vengeance(%d)\n",
	GetItemCount(playerid, ITEM_NAME_HERO_HEAD), GetItemCount(playerid, ITEM_NAME_HERO_CLOTHES), GetItemCount(playerid, ITEM_NAME_HERO_F_AKIT),
	GetItemCount(playerid, ITEM_NAME_HERO_TEAM), GetItemCount(playerid, ITEM_NAME_HERO_BADGE));
	strcat(str, f);

	format(f, sizeof(f), "{0080ff}8000 EXP - {66b3ff}Fork(%d), Iron Knife(%d), Pan(%d), Frying pan(%d), Kitchen knife(%d)\n",
	GetItemCount(playerid, ITEM_NAME_FORK), GetItemCount(playerid, ITEM_NAME_KNIFE1), GetItemCount(playerid, ITEM_NAME_PAN),
	GetItemCount(playerid, ITEM_NAME_FRYING_PAN), GetItemCount(playerid, ITEM_NAME_KNIFE2));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}6000 EXP - {66b3ff}Bread(%d), Pizza(%d), Meat(%d), Fish(%d), Grilled meat(%d)\n",
	GetItemCount(playerid, ITEM_NAME_BREAD), GetItemCount(playerid, ITEM_NAME_PIZZA), GetItemCount(playerid, ITEM_NAME_MEAT),
	GetItemCount(playerid, ITEM_NAME_FISH), GetItemCount(playerid, ITEM_NAME_GRILLED_MEAT));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}7000 EXP - {66b3ff}Orange(%d), Apple(%d), Avocado(%d), Cherry(%d), Banana(%d)\n",
	GetItemCount(playerid, ITEM_NAME_ORANGE), GetItemCount(playerid, ITEM_NAME_APPLE), GetItemCount(playerid, ITEM_NAME_AVOCADO),
	GetItemCount(playerid, ITEM_NAME_CHERRY), GetItemCount(playerid, ITEM_NAME_BANANA));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}5000 EXP - {66b3ff}Blue cap(%d), Black hat(%d), Panama(%d), Farm hat(%d), Gangster hat(%d)\n",
	GetItemCount(playerid, ITEM_NAME_BLUE_CAP), GetItemCount(playerid, ITEM_NAME_BLACK_HAT), GetItemCount(playerid, ITEM_NAME_PANAMA),
	GetItemCount(playerid, ITEM_NAME_FARM_HAT), GetItemCount(playerid, ITEM_NAME_GANGSTER_HAT));
	strcat(str, f);
	
	format(f, sizeof(f), "{0080ff}20000 EXP - {66b3ff}Fish(%d), Fishingrod(%d), Fishing line(%d), Hook set(%d), Bait bowl(%d)\n",
	GetItemCount(playerid, ITEM_NAME_FISH), GetItemCount(playerid, ITEM_NAME_FISHINGROD), GetItemCount(playerid, ITEM_NAME_FISHINGLINE),
	GetItemCount(playerid, ITEM_NAME_HOOKSET), GetItemCount(playerid, ITEM_NAME_BAITBOWL));
	strcat(str, f);

    format(f, sizeof(f), "{0080ff}15000 EXP - {66b3ff}Apple Pie(%d), Apricot pie(%d), Chocolate pie(%d), Half-eaten pie(%d), Milk(%d)\n",
	GetItemCount(playerid, ITEM_NAME_APPLE_PIE), GetItemCount(playerid, ITEM_NAME_APRICOT_PIE), GetItemCount(playerid, ITEM_NAME_CHOCOLATE_PIE),
	GetItemCount(playerid, ITEM_NAME_HALF_EATENPIE), GetItemCount(playerid, ITEM_NAME_MILK));
	strcat(str, f);
	
    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS, DIALOG_STYLE_LIST, "{0080ff}Collections", str, serverLang[Player[playerid][pLang]][4], "Cancel");
	return 1;
}*/

static const collections[][5] =
{
	{19627, 19621, 18635, 18634, 18644}, //Wrench, Oil, Hammer, Scrap, Screwdriver
	{11715, 11716, 11718, 19581, 19583}, // Fork, Knife, Pan, Frying pan, Knife
    {19942, 11746, 11749, 19995, 19776}, // Radio, Key, Handcuffs, Pistol, Police badge
    {19574, 19575, 19576, 19577, 19578}, // Orange, Apple, Avocado, Cherry, Banana
    {18939, 18962, 18968, 19553, 19554}, //Blue cap, Black hat, Panama, Farm hat, Gangster hat
    {19317, 19318, 19319, 19610, 19617}, //Bas-guitar, Electric guitar, Rock guitar, Microphone, Sound Record
    {19579, 19580, 19582, 19630, 19847}, //Bread, Pizza, Meat, Fish, Grilled meat
    {2036, 2034, 2044, 2033, 2035}, // Old Sniper, Old Deagle, Old MP5, Old Sawnoff, Old M4
    {19630, 18632, 11747, 11748, 19993}, // Fish, Fishingrod, Fishing line, Hook set, Bait bowl
    {11739, 11740, 11741, 11742, 19569} // Apple Pie, Apricot pie, Chocolate pie, Half-eaten pie, Milk
};

static const collectionsIDs[][5] =
{
	{ITEM_NAME_WRENCH, ITEM_NAME_OIL, ITEM_NAME_HAMMER, ITEM_NAME_SCRAP, ITEM_NAME_SCREWDRIVER}, // 0
	{ITEM_NAME_FORK, ITEM_NAME_KNIFE1, ITEM_NAME_PAN, ITEM_NAME_FRYING_PAN, ITEM_NAME_KNIFE2}, // 1
	{ITEM_NAME_RADIO, ITEM_NAME_KEY, ITEM_NAME_HANDCUFFS, ITEM_NAME_PISTOL, ITEM_NAME_POLICE_BADGE}, // 2
	{ITEM_NAME_ORANGE, ITEM_NAME_APPLE, ITEM_NAME_AVOCADO, ITEM_NAME_CHERRY, ITEM_NAME_BANANA}, // 3
	{ITEM_NAME_BLUE_CAP, ITEM_NAME_BLACK_HAT, ITEM_NAME_PANAMA, ITEM_NAME_FARM_HAT, ITEM_NAME_GANGSTER_HAT}, // 4
	{ITEM_NAME_BAS_GUITAR, ITEM_NAME_ELECTRIC_GUITAR, ITEM_NAME_ROCK_GUITAR, ITEM_NAME_MICROPHONE, ITEM_NAME_SOUND_RECORD}, // 5
	{ITEM_NAME_BREAD, ITEM_NAME_PIZZA, ITEM_NAME_MEAT, ITEM_NAME_FISH, ITEM_NAME_GRILLED_MEAT}, // 6
	{ITEM_NAME_OLD_SNIPER, ITEM_NAME_OLD_DEAGLE, ITEM_NAME_OLD_MP5, ITEM_NAME_OLD_SAWNOFF, ITEM_NAME_OLD_M4}, // 7
	{ITEM_NAME_FISH, ITEM_NAME_FISHINGROD, ITEM_NAME_FISHINGLINE, ITEM_NAME_HOOKSET, ITEM_NAME_BAITBOWL}, // 8
	{ITEM_NAME_APPLE_PIE, ITEM_NAME_APRICOT_PIE, ITEM_NAME_CHOCOLATE_PIE, ITEM_NAME_HALF_EATENPIE, ITEM_NAME_MILK} // 9
};

/*CMD:animlist(playerid)
{
    SendClientMessage(playerid, -1, "{cdcdcd}/lay /sit /fucku /hide /shout /facepalm /stay /dealer /timelook /still /gun");
    SendClientMessage(playerid, -1, "{cdcdcd}/chat /come /stop /happy /handaround /yeah /airkick /handsup");
	return 1;
}

CMD:handsup(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		SetPlayerSpecialAction(playerid,SPECIAL_ACTION_HANDSUP);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:airkick(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"FIGHT_C","FightC_M",4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:nope(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"CLOTHES","CLO_Buy", 4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:yeah(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"CLOTHES","CLO_Buy", 4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:handaround(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"RIOT","RIOT_CHANT",4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:happy(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"OTB","wtchrace_win",4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:stop(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"PED","endchat_01",4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:come(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"POLICE","CopTraf_Come",4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:chat(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"PED","IDLE_CHAT",4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:gun(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"PED","gang_gunstand",4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:still(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid,"WUZI","Wuzi_stand_loop", 4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:timelook(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		ApplyAnimation(playerid, "COP_AMBIENT", "Coplook_watch",4.1, 0, 1, 1, 1, 1, 1);
 		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:dealer(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
		ApplyAnimation(playerid, "DEALER", "DEALER_DEAL", 4.1, 0, 1, 1, 1, 1, 1);
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:stay(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
		ApplyAnimation(playerid,"GANGS","leanIDLE",4.1, 0, 1, 1, 1, 1, 1);
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:facepalm(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
		ApplyAnimation(playerid, "MISC", "plyr_shkhead", 4.1, 0, 1, 1, 1, 1, 1);
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:shout(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
		ApplyAnimation(playerid,"RIOT","RIOT_shout",4.1, 0, 1, 1, 1, 1, 1);
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:hide(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
		ApplyAnimation(playerid, "ped", "cower",4.1, 0, 1, 1, 1, 1, 1);
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:lay(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
		ApplyAnimation(playerid,"BEACH", "bather",4.1, 0, 1, 1, 1, 1, 1); // Lay down
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:fucku(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
		ApplyAnimation(playerid,"PED","fucku",4.1, 0, 1, 1, 1, 1, 1);
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:sit(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
		ApplyAnimation(playerid,"BEACH", "ParkSit_M_loop", 4.1, 0, 1, 1, 1, 1, 1);
		if(Achievements[playerid][AnimationsUsed] <= 199) ++Achievements[playerid][AnimationsUsed];
 		if(Achievements[playerid][AnimationsUsed] == 200)
	 	{
		 	UnlockAchievement(playerid, 58, 1000);
		 	Achievements[playerid][AnimationsUsed] = 201;
		}
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
			if(NightEvent[evn_Mission][j] == ev_EMOTIONAL && e_ExclusionZone[playerid][e_ezMission][j] <= 4)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 5) ev_CompleteToNext(playerid, ev_EMOTIONAL);
				break;
		    }
		}
	}
	return 1;
}

CMD:lottery(playerid, params[])
{
    if(!lotteryStarted) return SendClientMessage(playerid, -1, "{A5CED9}>> Lottery has not yet begun!");
    if(Player[playerid][pXP] < 10) return SendClientMessage(playerid, -1, "{A5CED9}>> Lottery: You need 10 EXP!");
	if(lotteryNumber[playerid] >= 0) return SendClientMessage(playerid, -1, "{A5CED9}>> You have already chosen your number!");
	if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "{A5CED9}/lottery (1-50)");
	if(params[0] < 1 || params[0] > 50) return SendClientMessage(playerid, -1, "{A5CED9}/lottery (1-50)");
	foreach(Player, i) if(lotteryNumber[i] == params[0]) return SendClientMessage(playerid, -1, "{A5CED9}>> This number is already chosen, choose another!");
	SendClientMessageFormat(playerid, -1, "{A5CED9}>> Your number is %d", params[0]);
	lotteryNumber[playerid] = params[0];
    Player[playerid][pXP] -= 10;
	return 1;
}

CMD:admins(playerid)
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    SendClientMessage(playerid, -1, "{00CCCC}Online Admins:");
		foreach(Player, i)
		{
			if(Player[i][pAdmin] > 0 && Player[i][pLogged] && FakeData[i][7] <= 0)
			{
			    if(Player[i][aDuty]) SendClientMessageFormat(playerid, -1, "{FFFFFF}>> %s (ID: %d) (Level: %d){ff3300} (On Duty)", Player[i][RealName], i, Player[i][pAdmin]);
				else SendClientMessageFormat(playerid, -1, "{FFFFFF}>> %s (ID: %d) (Level: %d)", Player[i][RealName], i, Player[i][pAdmin]);
			}
		}
		SendClientMessage(playerid, -1, "{FFFFFF}--------------------------------------------");
	}
	else
	{
	    foreach(Player, i) if(Player[i][pAdmin] > 0 && !Player[i][CanCheckCMD] && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> %s(%d) used /admins", Player[playerid][UserName], playerid);
	    SendClientMessage(playerid, -1, "{FF0000}No admins online!");
	}
	return 1;
}*/

CMD:help(playerid)
{
    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN) {
        SendClientMessage(playerid, -1, "At the moment you are playing as a team of Humans(Blue), kill another team - Zombies(Green)");
       	SendClientMessage(playerid, -1, "For killing a member of another team, you will gain EXP (/stats, TAB -> Score), later you can open new classes (/class)");
	    SendClientMessage(playerid, -1, "EXP does not disappear when choosing a class");
		SendClientMessage(playerid, -1, "You can use the LEFT ALT to use the class abilities (If it is)");
		SendClientMessage(playerid, -1, "Medics have access to the command /cure (player's ID)");
		SendClientMessage(playerid, -1, "Heavy Support have access to the command /giveammo (player's ID)");
		SendClientMessage(playerid, -1, "In the left corner of the screen - there is a time that you need to survive, as soon as it ends - get to the Checkpoint");
	}
	
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) {
        SendClientMessage(playerid, -1, "At the moment you are playing as a team of Zombies(Green), kill another team - Humans(Blue)");
       	SendClientMessage(playerid, -1, "For killing a member of another team, you will gain EXP (/stats, TAB -> Score), later you can open new classes (/class)");
	    SendClientMessage(playerid, -1, "EXP does not disappear when choosing a class");
		SendClientMessage(playerid, -1, "You can use the LEFT ALT to use the class abilities (If it is)");
		SendClientMessage(playerid, -1, "Kill the human before he/she has time to evacuate (Get to the checkpoint)");
		SendClientMessage(playerid, -1, "You can see this time in the left corner of the screen");
	}
    
	return 1;
}

CMD:rules(playerid)
{
    new str[1600];
    switch(Player[playerid][pLang])
    {
        case 0:
        {
		    strcat(str, "1. You are not allowed to use any kind of hacks/programms that would give you an advantage over the players\n");
			strcat(str, "2. You are not allowed to stay or shoot at zombie's spawn area if you have been spawned as a human\n");
			strcat(str, "3. You are not allowed to block player's way (by human)\n");
			strcat(str, "4. You are not allowed to abuse bugs\n");
			strcat(str, "5. You are not allowed to go out of map\n");
			strcat(str, "7. You are not to demonstrate your hate to others races/nationalities, discuss the politics\n");
			strcat(str, "8. You are not allowed to insult player's honour, trying to humiliate somebody or hurt somebody's feelings\n");
			strcat(str, "9. You are not allowed to prevent player's game, punching them\n");
			strcat(str, "10. You are not allowed to spam/flood at server.(Spam is considered from 5 messages in chat)\n");
			strcat(str, "11. You are not allowed to advertise any servers, unknown links that are not confirmed by the Management Team\n");
			strcat(str, "12. You are allowed to bunny hop, except for these zombies classes: Boomer, Demon, Kamikadze\n");
			strcat(str, "13. You are not allowed to killing friends, etc. for pumping your EXP, doesn't swing the farming of killing an enemy team\n");
			strcat(str, "14. You are not allowed to spam asking / begging for xp\n");
			strcat(str, "15. You do not have the right to sell gaming experience for real money if such actions are noticed - yours and the account of another player will be deleted");
		    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Rules", str, "Ok", "");
		}
		case 1:
		{
		    strcat(str, "1. Вам не разрешается использовать какие-либо читы / программы, которые дадут вам преимущество перед игроками.\n");
			strcat(str, "2. Вам не разрешается оставаться или стрелять в зону возрождения зомби, если вы были возрождены как человек\n");
			strcat(str, "3. Вы не можете заблокировать путь игрока (играя человеком)\n");
			strcat(str, "4. Вам запрещено пользоватся багами сервера\n");
			strcat(str, "5. Вам запрещено выходить из карты, до эвакуации\n");
			strcat(str, "7. Вы не должны демонстрировать свою ненависть к другим расам / народам, обсуждать политику\n");
			strcat(str, "8. Вы не можете оскорблять честь игрока, пытаться кого-то унизить или обидеть\n");
			strcat(str, "9. Вы не можете помешать игре игрока, избивать его\n");
			strcat(str, "10. Вам запрещено спамить / флудить на сервере\n");
			strcat(str, "11. Вы не имеете права рекламировать любые серверы, неизвестные ссылки, которые не подтверждены Командой управления\n");
			strcat(str, "12. Вам разрешено использовать банихоп, кроме этих классов зомби: Бумер, Демон, Камикадзе\n");
			strcat(str, "13. Вы не можете убивать друзей, чтобы быстро получить опыт (Совместный фарминг)\n");
			strcat(str, "14. Вам не разрешено спамить / просить / умолять дать XP\n");
			strcat(str, "15. Вы не имеете права продавать игровой опыт за реальные деньги, если такие действия замечены - ваша учетная запись другого игрока будет удалена");
		    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Правила", str, "Ok", "");
		}
		default:
		{
		    strcat(str, "1. No esta permitido usar ningun tipo de hacks / programas que le den una ventaja sobre los jugadores\n");
			strcat(str, "2. No puedes quedarte ni disparar al бrea de desove de zombies si has sido engendrado como humano\n");
			strcat(str, "3. No tienes permitido bloquear el camino del jugador (por humano)\n");
			strcat(str, "4. No estб permitido abusar de los errores\n");
			strcat(str, "5. No tienes permitido salir del mapa\n");
			strcat(str, "7. No debes demostrar tu odio a otras razas / nacionalidades, discutir la polнtica\n");
			strcat(str, "8. No estб permitido insultar el honor del jugador, tratar de humillar a alguien o herir los sentimientos de alguien\n");
			strcat(str, "9. No estб permitido evitar el juego del jugador, golpeбndolo\n");
			strcat(str, "10. No estб permitido enviar spam / inundaciones en el servidor\n");
			strcat(str, "11. No estб autorizado a anunciar ningъn servidor, enlaces desconocidos que el equipo de gestiуn no ha confirmado\n");
			strcat(str, "12. Se te permite hacer bunnyhop, a excepciуn de estas clases de zombies: Boomer, Demon, Kamikadze\n");
			strcat(str, "13. No estб permitido matar amigos, etc. por bombear su EXP, no hace que la agricultura de matar a un equipo enemigo\n");
			strcat(str, "14. No estб permitido hacer spam pidiendo XP\n");
			strcat(str, "15. No tiene derecho a vender experiencia de juego por dinero real si se notan tales acciones: la suya y la cuenta de otro jugador se eliminaran");
		    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Reglas", str, "Ok", "");
		}
	}
	return 1;
}

CMD:kickback(playerid)
{
	if(Player[playerid][pVip] >= 3)
	{
		Player[playerid][KickBack] =!Player[playerid][KickBack];
		if(Player[playerid][KickBack]) SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][153]);
		else SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][154]);
		return 1;
	}
	return 0;
}

/*CMD:changesword(playerid, params[])
{
    if(IsUsingProxy{playerid})
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
		return 1;
	}
	if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 0)
    {
        SendClientMessage(playerid, -1, "{FFF000}>> In order to protect your account you need to enable IAP (/settings)");
		return 1;
    }
	new password[128], secretword[64];
    if(sscanf(params,"s[128]s[64]", password, secretword))
	{
	    SendClientMessage(playerid, -1, "/changesword (new secret word) (old secret word)");
		return 1;
	}
    new query[300];
    mysql_format(Base, query, sizeof(query), "SELECT `Secret` FROM `users` WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", Player[playerid][pAccountID]);
    mysql_tquery(Base, query, "TryToChangeSecret", "iss", playerid, password, secretword);
	return 1;
}*/

fun TryToChangeSecret(playerid, const password[], const secretword[])
{
    if(cache_num_rows() > 0)
	{
	    new secret[64];
   		cache_get_value_name(0, "Secret", secret, 65);
	   	if(!strcmp(secretword, secret, true))
	   	{
	   	    for( new i = strlen(password); i > -1; i-- )
		  	{
			  	if(password[i] == ' ')
			  	{
			  	    SendClientMessage(playerid, -1, "{FFF000}>> Spaces ins't allowed!");
			  		return 1;
				}
			}
			new query[200];
	   	    mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Secret` = '%e' WHERE `ID` = '%d'", password, Player[playerid][pAccountID]);
			mysql_tquery(Base, query, "", "", "");
			SendClientMessageFormat(playerid, -1, "{FFF000}>> Your secret word has been changed to:{FFFFFF} %s", password);
	   	}
	   	else
	   	{
	   	    SendClientMessage(playerid, -1, "{FFF000}>> The entered data is incorrect!");
	   	}
	}
	return 1;
}

/*CMD:changeemail(playerid, params[])
{
    if(IsUsingProxy{playerid})
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
		return 1;
	}
	new password[128], secretword[64];
    if(sscanf(params,"s[128]s[64]", password, secretword))
	{
	    SendClientMessage(playerid, -1, "/changeemail (new email) (secret word)");
		return 1;
	}
    new query[300];
    mysql_format(Base, query, sizeof(query), "SELECT `Secret` FROM `users` WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", Player[playerid][pAccountID]);
    mysql_tquery(Base, query, "TryToChangeEmail", "iss", playerid, password, secretword);
	return 1;
}*/

fun TryToChangeEmail(playerid, const password[], const secretword[])
{
    if(cache_num_rows() > 0)
	{
	    new secret[64];
   		cache_get_value_name(0, "Secret", secret, 65);
	   	if(!strcmp(secretword, secret, true))
	   	{
	   	    for( new i = strlen(password); i > -1; i-- )
		  	{
			  	if(password[i] == ' ')
			  	{
			  	    SendClientMessage(playerid, -1, "{FFF000}>> Spaces ins't allowed!");
			  		return 1;
				}
			}
			new query[200];
	   	    mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Email` = '%e' WHERE `ID` = '%d'", password, Player[playerid][pAccountID]);
			mysql_tquery(Base, query, "", "", "");
			SendClientMessageFormat(playerid, -1, "{FFF000}>> Your email has been changed to:{FFFFFF} %s", password);
	   	}
	   	else
	   	{
	   	    SendClientMessage(playerid, -1, "{FFF000}>> The entered data is incorrect!");
	   	}
	}
	return 1;
}

/*CMD:changepass(playerid, params[])
{
    if(IsUsingProxy{playerid})
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
		return 1;
	}
	new password[64], secretword[64];
    if(sscanf(params,"s[64]s[64]", password, secretword))
	{
	    SendClientMessage(playerid, -1, "/changepass (new pass) (secret word)");
		return 1;
	}
    new query[300];
    mysql_format(Base, query, sizeof(query), "SELECT `Password`,`Secret` FROM `users` WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", Player[playerid][pAccountID]);
    mysql_tquery(Base, query, "TryToChangePassword", "iss", playerid, password, secretword);
	return 1;
}*/

fun TryToChangePassword(playerid, const password[], const secretword[])
{
    if(cache_num_rows() > 0)
	{
	    new pass[64], secret[64];
    	cache_get_value_name(0, "Password", pass, 65);
   		cache_get_value_name(0, "Secret", secret, 65);
	   	if(!strcmp(secretword, secret, true))
	   	{
	   	    for( new i = strlen(password); i > -1; i-- )
		  	{
			  	if(password[i] == ' ')
			  	{
			  	    SendClientMessage(playerid, -1, "{FFF000}>> Spaces ins't allowed!");
			  		return 1;
				}
			}
			new query[500];
	   	    mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Password` = '%e' WHERE `ID` = '%d'", password, Player[playerid][pAccountID]);
			mysql_tquery(Base, query, "", "", "");
			SendClientMessageFormat(playerid, -1, "{FFF000}>> Your password has been changed to:{FFFFFF} %s", password);

			new g[41], y, m, d, h, i, s, ip[16], str[128];
			gpci(playerid, g, sizeof(g));
			GetPlayerIp(playerid, ip, sizeof(ip));
  			TimestampToDate(gettime(), y, m, d, h, i, s, 3);
            mysql_format(Base, query, sizeof(query), "INSERT INTO `security` (`acc`,`ip`,`date`,`reg`,`sign`,`type`) VALUES ('%d','%e','%d','%e','%e', '1')", Player[playerid][pAccountID], ip, gettime(), Player[playerid][pIP], g);
			mysql_tquery(Base, query, "", "", "");

            #if debug_mode == 0
			DiscordChannel = DCC_FindChannelById("614265642966843404");
    		format(str, sizeof str, "```%04d-%02d-%02d %02d:%02d:%02d Password: %s(%d) has changed a password (REG: %s | CUR: %s)", y, m, d, h, i, s, Player[playerid][UserName], Player[playerid][pAccountID], Player[playerid][pIP], ip);
			DCC_SendChannelMessageEx(DiscordChannel, str);
			#endif
	   	}
	   	else
	   	{
	   	    SendClientMessage(playerid, -1, "{FFF000}>> The entered data is incorrect!");
	   	}
	}
	return 1;
}

CMD:changename(playerid, params[])
{
    if(IsUsingProxy{playerid})
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
		return 1;
	}
	if(Player[playerid][pXP] >= 1000 || Player[playerid][pVip] > 0)
	{
	    new newname[25];
	    if(sscanf(params,"s[24]", newname))
		{
		    SendClientMessage(playerid, -1, "/changename (new name)");
			return 1;
		}
		
		if(CheckForWebsite(newname) || strlen(newname) >= 20 || strlen(newname) <= 3)
		{
		    SendClientMessage(playerid, -1, "{FFF000}>> This nickname does not fit, come up with another one.");
			return 1;
		}
		
        if(strfind(newname, ".", true) != -1)
		{
	        new i_numcount, i_period, i_pos;
	        while(newname[i_pos])
			{
	            if('0' <= newname[i_pos] <= '9') i_numcount ++;
	            switch(newname[i_pos])
	            {
	                case '.': i_period ++;
	            }
				i_pos++;
	        }
	        if(i_numcount >= 5 && i_period >= 3)
		 	{
	            SendClientMessage(playerid, -1, "{FFF000}>> This nickname does not fit, come up with another one");
	        }
		}
		
		new query[300], IP[16];
		GetPlayerIp(playerid, IP, sizeof(IP));
		mysql_format(Base, query, sizeof(query), "SELECT `Date` FROM `namechanger` WHERE `account` = '%d' AND `build`='"SERVER_BUILD"' ORDER BY `Date` DESC LIMIT 1;", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "TryToFindUserName", "iss", playerid, IP, newname);
	}
	else
	{
	    ShowExpError(playerid, 1000);
		return 1;
	}
	return 1;
}

fun TryToFindUserName(playerid, const IP[], const newname[])
{
    if(cache_num_rows() > 0)
	{
	    new time;
	   	cache_get_value_name_int(0, "Date", time);
	   	if(gettime() < time)
  		{
		  	SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][157]);
	    	return 1;
		}
		else
		{
		    new query[200];
		    mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", newname);
			mysql_tquery(Base, query, "TryToChangeName", "iss", playerid, newname, IP);
		}
	}
	else
	{
	    new query[200];
	    mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", newname);
		mysql_tquery(Base, query, "TryToChangeName", "iss", playerid, newname, IP);
	}
	return 1;
}

fun TryToChangeName(playerid, const newname[], const IP[])
{
    if(cache_num_rows() > 0)
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][155]);
	}
	else
	{
	    if(SetPlayerName(playerid, newname) != 1) return SendClientMessage(playerid, -1, "{FFF000}>> This nickname does not fit, come up with another one!") && 1 || 1;

	    foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][156], Player[playerid][UserName], newname);

        new query[300];
	    mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Name` = '%e' WHERE `ID` = '%d'", newname, Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "");
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `namechanger` (`newName`,`oldName`,`Date`,`IP`,`account`) VALUES ('%e','%e','%d','%e','%d')", newname, Player[playerid][UserName], gettime()+86400, IP, Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");

        #if debug_mode == 0
  	    DiscordChannel = DCC_FindChannelById("619188479401787425");
  		format(query, sizeof query, "```\n%s has changed his/her name to %s\n```",  Player[playerid][UserName], newname);
   		DCC_SendChannelMessageEx(DiscordChannel, query);
		#endif
		
		SetPlayerName(playerid, newname);
		GetPlayerName(playerid, Player[playerid][RealName], MAX_PLAYER_NAME);
		GetPlayerName(playerid, Player[playerid][UserName], MAX_PLAYER_NAME);

	    if(Player[playerid][pVip] < 1) { Player[playerid][pXP] -= 1000; }
	    else {}
	}
	return 1;
}

fun CheckForOffStatsDiscord(p, dstype)
{
    #if debug_mode == 0
    if(cache_num_rows() > 0)
	{
	    new DCC_Channel:ForChannel;
	    if(dstype == 1) ForChannel = DCC_FindChannelById("674323910648397894");
	    else ForChannel = DCC_FindChannelById("613185790683513003");
	    
	    new y, m, d, h, i, s, rd, IP[16];
	    cache_get_value_name_int(0, "reg_date", rd);
		cache_get_value_name(0, "last_ip", IP, 17);
	 	TimestampToDate(rd, y, m, d, h, i, s, 3);
	    new msg[128];
    	format(msg, sizeof(msg), "```\n>> Registered: %04d-%02d-%02d - Last IP: %s\n```", y, m, d, IP);
		DCC_SendChannelMessageEx(ForChannel, msg);
	}
	#endif
	return 1;
}

fun ShowOffStats(playerid, targetid)
{
   	if(cache_num_rows())
	{
		new vip[21], y, m, d, h, i, s, k, ksm, rw, dw, dl, vp, vpt, rk, xp, cln, clnr, nm[24];

	    cache_get_value_name(0, "Name", nm);
	    cache_get_value_name_int(0, "Kills", k);
        cache_get_value_name_int(0, "Killstreak", ksm);
        cache_get_value_name_int(0, "RoundWins", rw);
        cache_get_value_name_int(0, "DuelWins", dw);
        cache_get_value_name_int(0, "DuelLoses", dl);
        cache_get_value_name_int(0, "VIP", vp);
        cache_get_value_name_int(0, "Rank", rk);
        cache_get_value_name_int(0, "EXP", xp);
        cache_get_value_name_int(0, "Clan", cln);
        cache_get_value_name_int(0, "ClanRank", clnr);
        cache_get_value_name_int(0, "VipTime", vpt);

		TimestampToDate(vpt, y, m, d, h, i, s, 3);

		switch(vp)
		{
		    case 0: vip = "No";
		    case 1: vip = "Bronze(1)";
		    case 2: vip = "Silver(2)";
		    case 3: vip = "Gold(3)";
		}
		
		SendClientMessage(playerid, -1, "{33CCFF}********Player Status********");
		SendClientMessageFormat(playerid, -1, ">> Name: %s - Kills: %d - Best Killstreak: %d", nm, k, ksm);
        SendClientMessageFormat(playerid, -1, ">> Wins: %d - Duel Wins: %d - Duel Loses: %d", rw, dw, dl);
        if(d > 0) SendClientMessageFormat(playerid, -1, ">> EXP: %d - VIP: %s - VIP Expire: %02dD/%02dM/%dY", xp, vip, d, m, y);
		else SendClientMessageFormat(playerid, -1, ">> EXP: %d - VIP: %s - VIP Expire: ---", xp, vip);
		SendClientMessageFormat(playerid, -1, ">> Clan: (ID %d)(Rank: %d) - {dfb7bc}Account ID: %d", cln, clnr, targetid);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /ostats on player %s\n```", Player[playerid][RealName], nm);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	}
	else
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][48]);
	}
	return 1;
}

fun CheckForOffStats(playerid, p)
{
	new query[128];
    if(cache_num_rows())
	{
		new y, m, d, h, i, s, rd, IP[16], vip[21],
  			k, ksm, rw, dw, dl, vp, vpt, rk, xp,
  			cln, clnr, nm[24];

		cache_get_value_name(0, "Name", nm);

		cache_get_value_name_int(0, "reg_date", rd);
		cache_get_value_name(0, "last_ip", IP, 17);
		
	    cache_get_value_name_int(0, "Kills", k);
        cache_get_value_name_int(0, "Killstreak", ksm);
        cache_get_value_name_int(0, "RoundWins", rw);
        cache_get_value_name_int(0, "DuelWins", dw);
        cache_get_value_name_int(0, "DuelLoses", dl);
        cache_get_value_name_int(0, "VIP", vp);
        cache_get_value_name_int(0, "Rank", rk);
        cache_get_value_name_int(0, "EXP", xp);
        cache_get_value_name_int(0, "Clan", cln);
        cache_get_value_name_int(0, "ClanRank", clnr);
        cache_get_value_name_int(0, "VipTime", vpt);

		TimestampToDate(vpt, y, m, d, h, i, s, 3);
        
		switch(vp)
		{
		    case 0: vip = "No";
		    case 1: vip = "Bronze(1)";
		    case 2: vip = "Silver(2)";
		    case 3: vip = "Gold(3)";
		}

		SendClientMessage(playerid, -1, "{33CCFF}********Player Status********");
		SendClientMessageFormat(playerid, -1, ">> Name: %s - Kills: %d - Best Killstreak: %d", nm, k, ksm);
        SendClientMessageFormat(playerid, -1, ">> Wins: %d - Duel Wins: %d - Duel Loses: %d", rw, dw, dl);
        if(d > 0) SendClientMessageFormat(playerid, -1, ">> EXP: %d - VIP: %s - VIP Expire: %02dD/%02dM/%dY", xp, vip, d, m, y);
		else SendClientMessageFormat(playerid, -1, ">> EXP: %d - VIP: %s - VIP Expire: ---", xp, vip);
		SendClientMessageFormat(playerid, -1, ">> Clan: (ID %d)(Rank: %d) - {dfb7bc}Account ID: %d", cln, clnr, p);
		TimestampToDate(rd, y, m, d, h, i, s, 3);
		SendClientMessageFormat(playerid, -1, "{cccccc}>> Registered: %02dD/%02dM/%04dY - Last IP: %s", d, m, y, IP);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /ostats on player %s\n```", Player[playerid][RealName], nm);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	}
	else
	{
   		mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", p);
	 	mysql_tquery(Base, query, "ShowOffStats", "ii", playerid, p);
	}
	return 1;
}

/*CMD:ostats(playerid, params[])
{
	if(Player[playerid][pAdmin] < 1) return 0;
	if(sscanf(params, "i", params[0]))
	{
	    SendClientMessage(playerid, -1, "/ostats (Account ID)");
		return 1;
	}
	
	if(params[0] > 0)
	{
		new query[128];
		mysql_format(Base, query, sizeof(query), "SELECT userinfo.last_log, userinfo.last_ip, users.Name, users.Kills, users.Killstreak, users.RoundWins, users.DuelWins, users.DuelLoses, users.VIP, users.Rank, users.EXP, users.Clan, users.ClanRank, users.VipTime FROM userinfo JOIN users ON users.ID = userinfo.id WHERE users.ID ='%d' AND `build`='"SERVER_BUILD"'", params[0]);
		mysql_tquery(Base, query, "CheckForOffStats", "ii", playerid, params[0]);
	}
	return 1;
}*/

CMD:stats(lol, params[])
{
    new vip[21], year, month, day;
	getdate(year, month, day);
    new y, m, d, h, i, s,
	targetid = -1;
	
	static const toLangs[][][] =
	{
	    {
			"{33CCFF}********Player Status********",
			">> Name: %s - Kills: %d - Killstreak: %d (best: %d)",
			">> Wins: %d - Duel Wins: %d - Duel Loses: %d",
			">> Rank: %s (%d) - Next Rank: %s - (%d / %d Kills)",
			">> EXP: %d - VIP: %s - VIP Expire: %02dD/%02dM/%dY",
			">> EXP: %d - VIP: %s - VIP Expire: ---",
			">> Played: %d Hours - %d Minutes - %d Seconds",
			">> Clan: (ID %d)(Rank: %d) - {dfb7bc}Account ID: %d",
			">> Date: %02dD/%02dM/%dY  Sign: %s",
			">> Players Killed: %d"
		},
		{
		    "{33CCFF}*******************Статистика Игрока*******************",
		    ">> Ник: %s - Убийств: %d - Серия убийств: %d (лучшая: %d)",
            ">> Побед: %d - Дуэлей выиграно: %d - Дуэлей проиграно: %d",
            ">> Ранг: %s (%d) - Следующий: %s - (%d / %d убийств)",
            ">> Опыт: %d - VIP: %s - VIP истекает: %02dD/%02dM/%dY",
			">> Опыт: %d - VIP: %s - VIP истекает: ---",
			">> Наигранно: %d час(ов) - %d минут(ы) - %d Секунд(ы)",
			">> Клан: (ИД %d)(Ранг: %d) - {dfb7bc}Account ID: %d",
			">> Дата: %02dD/%02dM/%dY  Запись: %s",
			">> Убито Игроков: %d"
		},
		{
		    "{33CCFF}********Estadнsticas de jugador********",
		    ">> Nombre: %s - Mata: %d - Killstreak: %d (mejor: %d)",
		    ">> Gana: %d - Duelo gana: %d - Duelo pierde: %d",
		    ">> Rango: %s (%d) - Siguiente rango: %s - (%d / %d Mata)",
		    ">> EXP: %d - VIP: %s - VIP Expirar: %02dD/%02dM/%dY",
			">> EXP: %d - VIP: %s - VIP Expirar: ---",
			">> Jugo: %d Horas - %d Minutos - %d Segundos",
			">> Clan: (ID %d)(Rango: %d) - {dfb7bc}Account ID: %d",
			">> Fecha: %02dD/%02dM/%dY  Firmar: %s",
			">> Players Killed: %d"
		}
	};
	
	sscanf(params,"i", targetid);
	if(targetid == -1 || isnull(params)) targetid = lol;
	if(!IsPlayerConnected(targetid))
	{
		SendClientMessage(lol, -1, serverLang[Player[lol][pLang]][15]);
		return 1;
	}
	
	if(FakeData[targetid][3] > 0) TimestampToDate(FakeData[targetid][3], y, m, d, h, i, s, 3);
    else TimestampToDate(Player[targetid][pVipTime], y, m, d, h, i, s, 3);
    
	switch(Player[targetid][pVip]+FakeData[targetid][2])
	{
	    case 0: vip = "No";
	    case 1: vip = "Bronze(1)";
	    case 2: vip = "Silver(2)";
	    case 3: vip = "Gold(3)";
	}
	SendClientMessage(lol, -1, toLangs[Player[lol][pLang]][0]);
	
	if(FakeData[targetid][0] <= 0) SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][1], Player[targetid][UserName], Player[targetid][pKills], Player[targetid][Killstreak], Player[targetid][pKillstreakMax] + FakeData[targetid][4]);
	else SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][1], Player[targetid][UserName], FakeData[targetid][0], Player[targetid][Killstreak], Player[targetid][pKillstreakMax] + FakeData[targetid][4]);
	
	SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][2], Player[targetid][RoundsWin] + FakeData[targetid][5], Player[targetid][DuelsWin], Player[targetid][DuelsLose]);

    if(FakeData[targetid][6] <= 0)
	{
	    new nRank = (Player[targetid][pRank]+1) < sizeof(PlayerRank[]) ? Player[targetid][pRank]+1 : sizeof(PlayerRank[])-1;
	    new nKills = (Player[targetid][pRank]+1) < sizeof(PlayerRank[]) ? RanksEXP[Player[targetid][pRank]+1] : RanksEXP[sizeof(RanksEXP)-1];

		if(FakeData[targetid][0] <= 0) SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][3], PlayerRank[Player[lol][pLang]][Player[targetid][pRank]], Player[targetid][pRank], PlayerRank[Player[lol][pLang]][nRank], Player[targetid][pKills], nKills);
		else SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][3], PlayerRank[Player[lol][pLang]][Player[targetid][pRank]], Player[targetid][pRank], PlayerRank[Player[lol][pLang]][nRank], FakeData[targetid][0], nKills);
	}
    else
    {
        for( new re = 0; re < sizeof(RanksEXP); re++ )
		{
	        if(FakeData[targetid][0] >= RanksEXP[re] && FakeData[targetid][6] < re)
			{
			    FakeData[targetid][6] = re;
			}
		}
		
        new nRank = (FakeData[targetid][6]+1) < sizeof(PlayerRank[]) ? FakeData[targetid][6]+1 : sizeof(PlayerRank[])-1;
	    new nKills = (FakeData[targetid][6]+1) < sizeof(PlayerRank[]) ? RanksEXP[FakeData[targetid][6]+1] : RanksEXP[sizeof(RanksEXP)-1];

		if(FakeData[targetid][0] <= 0) SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][3], PlayerRank[Player[lol][pLang]][FakeData[targetid][6]], FakeData[targetid][6], PlayerRank[Player[lol][pLang]][nRank], Player[targetid][pKills], nKills);
		else SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][3], PlayerRank[Player[lol][pLang]][FakeData[targetid][6]], FakeData[targetid][6], PlayerRank[Player[lol][pLang]][nRank], FakeData[targetid][0], nKills);
	}

	if(d > 0)
	{
	    if(FakeData[targetid][0] == 0) SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][4], Player[targetid][pXP], vip, d, m, y);
		else SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][4], FakeData[targetid][8], vip, d, m, y);
	}
	else
	{
		if(FakeData[targetid][0] == 0) SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][5], Player[targetid][pXP], vip);
		else SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][5], FakeData[targetid][8], vip);
	}
	SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][6], Achievements[targetid][Hours], Achievements[targetid][Minutes], Achievements[targetid][Seconds]);

	if(FakeData[targetid][7] <= 0) SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][7], Player[targetid][pClan], Player[targetid][pClanRank], Player[targetid][pAccountID] + FakeData[targetid][1]);
	else SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][7], 0, 0, Player[targetid][pAccountID] + FakeData[targetid][1]);
	SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][8], day, month, year, Player[targetid][pSign]);
	
	if(Player[targetid][totalPlayersKilledInGW] > 1 && Player[targetid][pClan] > 0) SendClientMessageFormat(lol, -1, toLangs[Player[lol][pLang]][9], Player[targetid][totalPlayersKilledInGW]);
	
	return 1;
}

fun GangWarTimeBack(time, stage)
{
	time--;
	if(time <= 0)
	{
	    if(War[wi_GangWarIsStarted])
	    {
	        if(strlen(Clan[War[wi_TeamsInBattle][0]][Full]) <= 0 || strlen(Clan[War[wi_TeamsInBattle][1]][Full]) <= 0)
			{
			    War[wi_GangSorted][War[wi_TeamsInBattle][1]] = false;
		        War[wi_GangSorted][War[wi_TeamsInBattle][0]] = false;
		        
		        War[KickGang][War[wi_TeamsInBattle][1]] = 0;
		        War[KickGang][War[wi_TeamsInBattle][0]] = 0;
		        
		        War[wi_Stage] = 0;
		        War[wi_Members][0] = 99999;
		       	War[wi_Members][1] = 99999;
		       	War[wi_Damage][0] = 0.0;
				War[wi_Damage][1] = 0.0;
		       	War[wi_GangWarIsStarted] = false;
		        for( new j; j < 6; j++ )
				{
					WarSort[War[wi_TeamsInBattle][0]][j] = -1;
					WarSort[War[wi_TeamsInBattle][1]][j] = -1;
				}
				
				ClearWarInfo();
				return 0;
			}
			switch(stage)
			{
			    case 3:
			    {
			        War[wi_StageTime][War[wi_TeamsInBattle][0]] = (gettime() + 240);
			        War[wi_StageAgainst][War[wi_TeamsInBattle][0]] = War[wi_TeamsInBattle][1];
			        new p;
			        foreach(Player, i)
			        {
			            if(Player[i][pClan] == War[wi_TeamsInBattle][0])
			            {
	                        p = random(sizeof(gw_fts));
							SetPlayerPosAC(i, gw_fts[p][0], gw_fts[p][1], gw_fts[p][2]);
				            SetPlayerFacingAngle(i, gw_fts[p][3]);
				            AttachGangName(i);
				            InGangWar{i} = true;
				            InWarStage2{i} = true;
				            WarStageAgainst{i} = War[wi_TeamsInBattle][1];
				            WarStageTeam{i} = 12;
				            SetPlayerWeather(i, 0);
				            SetPlayerTime(i, 12, 0);
				            ResetWeapons(i);
				            GivePlayerWeaponAC(i, 24, 200);
				            GivePlayerWeaponAC(i, 31, 750);
				            GivePlayerWeaponAC(i, 25, 200);
				            SetPlayerSkinAC(i, 108);
				            SetPlayerHealthAC(i, 100.0);
				            SetPlayerArmourAC(i, 50.0);
				            SetPlayerColor(i, 0xFFFFFFFF);
				            SetPlayerTeamEx(i, 12);
				            SetPlayerVirtualWorld(i, 30 + War[wi_TeamsInBattle][0]);
			            }
			            if(Player[i][pClan] == War[wi_TeamsInBattle][1])
			            {
	                        p = random(sizeof(gw_sds));
							SetPlayerPosAC(i, gw_sds[p][0], gw_sds[p][1], gw_sds[p][2]);
				            SetPlayerFacingAngle(i, gw_sds[p][3]);
				            AttachGangName(i);
				            InGangWar{i} = true;
				            InWarStage2{i} = true;
				            WarStageTeam{i} = 13;
				            WarStageAgainst{i} = War[wi_TeamsInBattle][0];
				            SetPlayerWeather(i, 0);
				            SetPlayerTime(i, 12, 0);
				            ResetWeapons(i);
				            GivePlayerWeaponAC(i, 24, 200);
				            GivePlayerWeaponAC(i, 31, 750);
				            GivePlayerWeaponAC(i, 25, 200);
				            SetPlayerSkinAC(i, 114);
				            SetPlayerHealthAC(i, 100.0);
				            SetPlayerArmourAC(i, 50.0);
				            SetPlayerColor(i, 0xFFFFFFFF);
				            SetPlayerTeamEx(i, 13);
				            SetPlayerVirtualWorld(i, 30 + War[wi_TeamsInBattle][0]);
			            }
			        }
			        War[wi_GangSorted][War[wi_TeamsInBattle][1]] = false;
			        War[wi_GangSorted][War[wi_TeamsInBattle][0]] = false;
			        War[wi_Stage] = 0;
			        War[wi_Members][0] = 99999;
			       	War[wi_Members][1] = 99999;
			       	War[wi_Damage][0] = 0.0;
					War[wi_Damage][1] = 0.0;
			       	War[wi_GangWarIsStarted] = false;
			        for( new j; j < 6; j++ )
					{
						WarSort[War[wi_TeamsInBattle][0]][j] = -1;
						WarSort[War[wi_TeamsInBattle][1]][j] = -1;
					}
					new n, t;
					for(n = 0; n < 30; n++ )
				    {
				        for( t = 0; t < 30; t++ )
				        {
					        if(War[wi_GangSorted][n] && n != t)
							{
							    if(Clan[n][g_AllianceWith][t] <= 1)
								{
								    if(strlen(Clan[t][Full]) >= 1 && strlen(Clan[n][Full]) >= 1)
								    {
								        for( new gangs; gangs < 30; gangs++ ) if(gangs != n && gangs != t) War[KickGang][gangs] = gettime() + 240;
									    War[wi_TeamsInBattle][0] = t;
										War[wi_TeamsInBattle][1] = n;
										War[wi_GangWarIsStarted] = true;
										War[KickGang][t] = 0;
										War[KickGang][n] = 0;
										War[wi_Members][0] = 9999999;
					       				War[wi_Members][1] = 9999999;
					       				War[wi_Damage][0] = 0.0;
										War[wi_Damage][1] = 0.0;
										War[wi_Stage] = 0;
										Clan[t][g_WasInWarTimes]++;
										Clan[n][g_WasInWarTimes]++;
									    SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs begins!");
										SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (0 / 0)", Clan[t][Full], Clan[n][Full]);
										SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
										GameTextForAll("~w~15", 1000, 5);
										return 1;
									}
								}
							}
						}
				    }
			    }
			    case 2:
			    {
			        War[wi_AttEndTime] = (gettime() + 120);
			        War[wi_Stage]++;
			        new fc_fid = -1, fc_sid = -1, fc_tid = -1, sc_fid = -1, sc_sid = -1, sc_tid = -1;
			        foreach(Player, i)
			        {
			            if(WarSort[War[wi_TeamsInBattle][0]][3] == Player[i][pAccountID] && Player[i][pLogged]) fc_fid = i;
			            if(WarSort[War[wi_TeamsInBattle][0]][4] == Player[i][pAccountID] && Player[i][pLogged]) fc_sid = i;
			            if(WarSort[War[wi_TeamsInBattle][0]][5] == Player[i][pAccountID] && Player[i][pLogged]) fc_tid = i;
			            if(WarSort[War[wi_TeamsInBattle][1]][3] == Player[i][pAccountID] && Player[i][pLogged]) sc_fid = i;
			            if(WarSort[War[wi_TeamsInBattle][1]][4] == Player[i][pAccountID] && Player[i][pLogged]) sc_sid = i;
			            if(WarSort[War[wi_TeamsInBattle][1]][5] == Player[i][pAccountID] && Player[i][pLogged]) sc_tid = i;
			        }
			        InWarDuel{fc_fid} = true;
                    InWarDuel{fc_sid} = true;
                    InWarDuel{fc_tid} = true;
                    
                    InWarDuel{sc_fid} = true;
                    InWarDuel{sc_sid} = true;
                    InWarDuel{sc_tid} = true;
                    
                    if(!IsPlayerConnected(fc_fid) || !IsPlayerConnected(fc_sid) || !IsPlayerConnected(fc_tid))
				    {
                        Clan[War[wi_TeamsInBattle][0]][g_TempLoses]++;
				        Clan[War[wi_TeamsInBattle][1]][g_TempWins]++;
		                SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
						SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
						SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
						GameTextForAll("~w~15", 1000, 5);
						new p;
						foreach(Player, i)
						{
						    if(InWarDuel{i} && !KilledInWar{i})
						    {
								p = random(sizeof(rnd_mhs));
								SetPlayerPosAC(i, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
						        SetPlayerFacingAngle(i, rnd_mhs[p][3]);
						        AttachGangName(i);
						        SetPlayerWeather(i, 0);
						        SetPlayerTime(i, 12, 0);
						        ResetWeapons(i);
						        SetPlayerHealthAC(i, 100.0);
						        SetPlayerArmourAC(i, 0.0);
						        SetPlayerColor(i, 0xFFFFFFFF);
						        InWarDuel{i} = false;
						        SetPlayerTeamEx(i, 12);
							}
						}
						War[wi_AttEndTime] = 0;
						return 1;
				    }
                    if(!IsPlayerConnected(sc_fid) || !IsPlayerConnected(sc_sid) || !IsPlayerConnected(sc_tid))
				    {
                        Clan[War[wi_TeamsInBattle][1]][g_TempLoses]++;
				        Clan[War[wi_TeamsInBattle][0]][g_TempWins]++;
		                SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
						SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
						SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
						GameTextForAll("~w~15", 1000, 5);
						new p;
						foreach(Player, i)
						{
						    if(InWarDuel{i} && !KilledInWar{i})
						    {
								p = random(sizeof(rnd_mhs));
								SetPlayerPosAC(i, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
						        SetPlayerFacingAngle(i, rnd_mhs[p][3]);
						        AttachGangName(i);
						        SetPlayerWeather(i, 0);
						        SetPlayerTime(i, 12, 0);
						        ResetWeapons(i);
						        SetPlayerHealthAC(i, 100.0);
						        SetPlayerArmourAC(i, 0.0);
						        SetPlayerColor(i, 0xFFFFFFFF);
						        InWarDuel{i} = false;
						        SetPlayerTeamEx(i, 12);
							}
						}
						War[wi_AttEndTime] = 0;
						return 1;
				    }
				    SetPlayerPosAC(fc_fid, rnd_mh_as[0][0], rnd_mh_as[0][1], rnd_mh_as[0][2]);
				    SetPlayerFacingAngle(fc_fid, rnd_mh_as[0][3]);
					SetPlayerPosAC(fc_sid, rnd_mh_as[2][0], rnd_mh_as[2][1], rnd_mh_as[2][2]);
				    SetPlayerFacingAngle(fc_sid, rnd_mh_as[2][3]);
					SetPlayerPosAC(sc_fid, rnd_mh_as[1][0], rnd_mh_as[1][1], rnd_mh_as[1][2]);
				    SetPlayerFacingAngle(sc_fid, rnd_mh_as[1][3]);

				    SetPlayerPosAC(fc_tid, rnd_mh_as[3][0], rnd_mh_as[3][1], rnd_mh_as[3][2]);
				    SetPlayerFacingAngle(fc_tid, rnd_mh_as[3][3]);
				    SetPlayerPosAC(sc_sid, rnd_mh_as[4][0], rnd_mh_as[4][1], rnd_mh_as[4][2]);
				    SetPlayerFacingAngle(sc_sid, rnd_mh_as[4][3]);
				    SetPlayerPosAC(sc_tid, rnd_mh_as[5][0], rnd_mh_as[3][1], rnd_mh_as[5][2]);
				    SetPlayerFacingAngle(sc_tid, rnd_mh_as[5][3]);
				    
				    SetPlayerTeamEx(fc_fid, NO_TEAM);
		            SetPlayerTeamEx(fc_sid, NO_TEAM);
		            SetPlayerTeamEx(fc_tid, NO_TEAM);
		            SetPlayerTeamEx(sc_fid, NO_TEAM);
		            SetPlayerTeamEx(sc_sid, NO_TEAM);
		            SetPlayerTeamEx(sc_tid, NO_TEAM);

		            SetPlayerSkinAC(fc_fid, 108); // Vagos
		            SetPlayerSkinAC(fc_sid, 108); // Vagos
		            SetPlayerSkinAC(fc_tid, 108); // Vagos
		            
		            SetPlayerSkinAC(sc_fid, 114); // Aztec
		            SetPlayerSkinAC(sc_sid, 114); // Aztec
                    SetPlayerSkinAC(sc_tid, 114); // Aztec
                    
				    ResetWeapons(fc_fid);
			      	SetPlayerHealthAC(fc_fid, 100.0);
			       	SetPlayerArmourAC(fc_fid, 50.0);
			       	GivePlayerWeaponAC(fc_fid, 24, 100);
			       	GivePlayerWeaponAC(fc_fid, 25, 150);
			       	GivePlayerWeaponAC(fc_fid, 31, 550);

			       	ResetWeapons(fc_sid);
			      	SetPlayerHealthAC(fc_sid, 100.0);
			       	SetPlayerArmourAC(fc_sid, 50.0);
			       	GivePlayerWeaponAC(fc_sid, 24, 100);
			       	GivePlayerWeaponAC(fc_sid, 25, 150);
			       	GivePlayerWeaponAC(fc_sid, 31, 550);
			       	
			       	ResetWeapons(fc_tid);
			      	SetPlayerHealthAC(fc_tid, 100.0);
			       	SetPlayerArmourAC(fc_tid, 50.0);
			       	GivePlayerWeaponAC(fc_tid, 24, 100);
			       	GivePlayerWeaponAC(fc_tid, 25, 150);
			       	GivePlayerWeaponAC(fc_tid, 31, 550);
			       	
			       	ResetWeapons(sc_fid);
			      	SetPlayerHealthAC(sc_fid, 100.0);
			       	SetPlayerArmourAC(sc_fid, 50.0);
			       	GivePlayerWeaponAC(sc_fid, 24, 100);
			       	GivePlayerWeaponAC(sc_fid, 25, 150);
			       	GivePlayerWeaponAC(sc_fid, 31, 550);
			       	
			       	ResetWeapons(sc_sid);
			      	SetPlayerHealthAC(sc_sid, 100.0);
			       	SetPlayerArmourAC(sc_sid, 50.0);
			       	GivePlayerWeaponAC(sc_sid, 24, 100);
			       	GivePlayerWeaponAC(sc_sid, 25, 150);
			       	GivePlayerWeaponAC(sc_sid, 31, 550);
			       	
			       	ResetWeapons(sc_tid);
			      	SetPlayerHealthAC(sc_tid, 100.0);
			       	SetPlayerArmourAC(sc_tid, 50.0);
			       	GivePlayerWeaponAC(sc_tid, 24, 100);
			       	GivePlayerWeaponAC(sc_tid, 25, 150);
			       	GivePlayerWeaponAC(sc_tid, 31, 550);
			       	
			       	War[wi_Members][0] = 3;
			       	War[wi_Members][1] = 3;
				    
			    }
				case 1:
				{
				    War[wi_AttEndTime] = (gettime() + 120);
				    War[wi_Stage]++;
				    new fi_comID = -1, se_comID = -1, si_comID = -1, sise_comID = -1;
                    foreach(Player, i)
			        {
			            if(WarSort[War[wi_TeamsInBattle][0]][1] == Player[i][pAccountID] && Player[i][pLogged]) fi_comID = i;
			            if(WarSort[War[wi_TeamsInBattle][0]][2] == Player[i][pAccountID] && Player[i][pLogged]) se_comID = i;
			            if(WarSort[War[wi_TeamsInBattle][1]][1] == Player[i][pAccountID] && Player[i][pLogged]) si_comID = i;
			            if(WarSort[War[wi_TeamsInBattle][1]][2] == Player[i][pAccountID] && Player[i][pLogged]) sise_comID = i;
			        }
			        
			        InWarDuel{fi_comID} = true;
                    InWarDuel{se_comID} = true;
                    InWarDuel{si_comID} = true;
                    InWarDuel{sise_comID} = true;
			        
                    if(!IsPlayerConnected(fi_comID) || !IsPlayerConnected(se_comID))
				    {
                        Clan[War[wi_TeamsInBattle][0]][g_TempLoses]++;
				        Clan[War[wi_TeamsInBattle][1]][g_TempWins]++;
		                SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
						SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
						SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
						GameTextForAll("~w~15", 1000, 5);
						new p;
						foreach(Player, i)
						{
						    if(InWarDuel{i} && !KilledInWar{i})
						    {
								p = random(sizeof(rnd_mhs));
								SetPlayerPosAC(i, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
						        SetPlayerFacingAngle(i, rnd_mhs[p][3]);
						        AttachGangName(i);
						        SetPlayerWeather(i, 0);
						        SetPlayerTime(i, 12, 0);
						        ResetWeapons(i);
						        SetPlayerHealthAC(i, 100.0);
						        SetPlayerArmourAC(i, 0.0);
						        SetPlayerColor(i, 0xFFFFFFFF);
						        InWarDuel{i} = false;
						        SetPlayerTeamEx(i, 12);
							}
						}
						War[wi_AttEndTime] = 0;
						return 1;
				    }
				    if(!IsPlayerConnected(si_comID) || !IsPlayerConnected(sise_comID))
				    {
                        Clan[War[wi_TeamsInBattle][1]][g_TempLoses]++;
				        Clan[War[wi_TeamsInBattle][0]][g_TempWins]++;
		                SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
						SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
						SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
						GameTextForAll("~w~15", 1000, 5);
						new p;
						foreach(Player, i)
						{
						    if(InWarDuel{i} && !KilledInWar{i})
						    {
								p = random(sizeof(rnd_mhs));
								SetPlayerPosAC(i, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
						        SetPlayerFacingAngle(i, rnd_mhs[p][3]);
						        AttachGangName(i);
						        SetPlayerWeather(i, 0);
						        SetPlayerTime(i, 12, 0);
						        ResetWeapons(i);
						        SetPlayerHealthAC(i, 100.0);
						        SetPlayerArmourAC(i, 0.0);
						        SetPlayerColor(i, 0xFFFFFFFF);
						        InWarDuel{i} = false;
						        SetPlayerTeamEx(i, 12);
							}
						}
						War[wi_AttEndTime] = 0;
						return 1;
				    }
				    SetPlayerPosAC(fi_comID, rnd_mh_as[0][0], rnd_mh_as[0][1], rnd_mh_as[0][2]);
				    SetPlayerFacingAngle(fi_comID, rnd_mh_as[0][3]);
				    
				    SetPlayerPosAC(se_comID, rnd_mh_as[2][0], rnd_mh_as[2][1], rnd_mh_as[2][2]);
				    SetPlayerFacingAngle(se_comID, rnd_mh_as[2][3]);
				    
				    SetPlayerPosAC(si_comID, rnd_mh_as[1][0], rnd_mh_as[1][1], rnd_mh_as[1][2]);
				    SetPlayerFacingAngle(si_comID, rnd_mh_as[1][3]);
				    
				    SetPlayerPosAC(sise_comID, rnd_mh_as[3][0], rnd_mh_as[3][1], rnd_mh_as[3][2]);
				    SetPlayerFacingAngle(sise_comID, rnd_mh_as[3][3]);

		            SetPlayerTeamEx(fi_comID, NO_TEAM);
		            SetPlayerTeamEx(se_comID, NO_TEAM);
		            SetPlayerTeamEx(si_comID, NO_TEAM);
		            SetPlayerTeamEx(sise_comID, NO_TEAM);

		            SetPlayerSkinAC(fi_comID, 108); // Vagos
		            SetPlayerSkinAC(se_comID, 108); // Vagos
		            SetPlayerSkinAC(si_comID, 114); // Aztec
		            SetPlayerSkinAC(sise_comID, 114); // Aztec

				    ResetWeapons(fi_comID);
			      	SetPlayerHealthAC(fi_comID, 100.0);
			       	SetPlayerArmourAC(fi_comID, 50.0);
			       	GivePlayerWeaponAC(fi_comID, 24, 100);
			       	GivePlayerWeaponAC(fi_comID, 25, 150);
			       	GivePlayerWeaponAC(fi_comID, 31, 550);
			       	
			       	ResetWeapons(se_comID);
			      	SetPlayerHealthAC(se_comID, 100.0);
			       	SetPlayerArmourAC(se_comID, 50.0);
			       	GivePlayerWeaponAC(se_comID, 24, 100);
			       	GivePlayerWeaponAC(se_comID, 25, 150);
			       	GivePlayerWeaponAC(se_comID, 31, 550);

			     	ResetWeapons(si_comID);
			      	SetPlayerHealthAC(si_comID, 100.0);
			       	SetPlayerArmourAC(si_comID, 50.0);
			       	GivePlayerWeaponAC(si_comID, 24, 100);
			       	GivePlayerWeaponAC(si_comID, 25, 150);
			       	GivePlayerWeaponAC(si_comID, 31, 550);
			       	
			       	ResetWeapons(sise_comID);
			      	SetPlayerHealthAC(sise_comID, 100.0);
			       	SetPlayerArmourAC(sise_comID, 50.0);
			       	GivePlayerWeaponAC(sise_comID, 24, 100);
			       	GivePlayerWeaponAC(sise_comID, 25, 150);
			       	GivePlayerWeaponAC(sise_comID, 31, 550);

			       	War[wi_Members][0] = 2;
			       	War[wi_Members][1] = 2;
				}
			    case 0:
			    {
			        War[wi_AttEndTime] = (gettime() + 120);
			        War[wi_Stage]++;
			        new fid = -1, sid = -1;
			        foreach(Player, i)
			        {
			            if(WarSort[War[wi_TeamsInBattle][0]][0] == Player[i][pAccountID] && Player[i][pLogged]) fid = i;
			            if(WarSort[War[wi_TeamsInBattle][1]][0] == Player[i][pAccountID] && Player[i][pLogged]) sid = i;
			        }
			        
				    //new fid = WarSort[War[wi_TeamsInBattle][0]][0], sid = WarSort[War[wi_TeamsInBattle][1]][0];

				    if(!IsPlayerConnected(fid))
				    {
				        Clan[War[wi_TeamsInBattle][0]][g_TempLoses]++;
				        Clan[War[wi_TeamsInBattle][1]][g_TempWins]++;
		                SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
						SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
						SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
						GameTextForAll("~w~15", 1000, 5);

						if(IsPlayerConnected(sid))
						{
							new p = random(sizeof(rnd_mhs));
							SetPlayerPosAC(sid, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
					        SetPlayerFacingAngle(sid, rnd_mhs[p][3]);
					        AttachGangName(sid);
					        SetPlayerWeather(sid, 0);
					        SetPlayerTime(sid, 12, 0);
					        ResetWeapons(sid);
					        SetPlayerHealthAC(sid, 100.0);
					        SetPlayerArmourAC(sid, 0.0);
					        SetPlayerColor(sid, 0xFFFFFFFF);
					        War[wi_AttEndTime] = 0;
						}
				        return 1;
				    }

				    if(!IsPlayerConnected(sid))
				    {
				        Clan[War[wi_TeamsInBattle][1]][g_TempLoses]++;
				        Clan[War[wi_TeamsInBattle][0]][g_TempWins]++;
		                SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
						SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
						SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
						GameTextForAll("~w~15", 1000, 5);

						if(IsPlayerConnected(fid))
						{
							new p = random(sizeof(rnd_mhs));
							SetPlayerPosAC(fid, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
					        SetPlayerFacingAngle(fid, rnd_mhs[p][3]);
					        AttachGangName(fid);
					        SetPlayerWeather(fid, 0);
					        SetPlayerTime(fid, 12, 0);
					        ResetWeapons(fid);
					        SetPlayerHealthAC(fid, 100.0);
					        SetPlayerArmourAC(fid, 0.0);
					        SetPlayerColor(fid, 0xFFFFFFFF);
					        War[wi_AttEndTime] = 0;
						}
				        return 1;
				    }

				    SetPlayerPosAC(fid, rnd_mh_as[0][0], rnd_mh_as[0][1], rnd_mh_as[0][2]);
				    SetPlayerFacingAngle(fid, rnd_mh_as[0][3]);

				    SetPlayerPosAC(sid, rnd_mh_as[1][0], rnd_mh_as[1][1], rnd_mh_as[1][2]);
				    SetPlayerFacingAngle(fid, rnd_mh_as[1][3]);

		            SetPlayerTeamEx(fid, NO_TEAM);
		            SetPlayerTeamEx(sid, NO_TEAM);

                    InWarDuel{fid} = true;
                    InWarDuel{sid} = true;

		            SetPlayerSkinAC(fid, 108); // Vagos
		            SetPlayerSkinAC(sid, 114); // Aztec

				    ResetWeapons(fid);
			      	SetPlayerHealthAC(fid, 100.0);
			       	SetPlayerArmourAC(fid, 50.0);
			       	GivePlayerWeaponAC(fid, 24, 100);
			       	GivePlayerWeaponAC(fid, 25, 150);
			       	GivePlayerWeaponAC(fid, 31, 550);

			     	ResetWeapons(sid);
			      	SetPlayerHealthAC(sid, 100.0);
			       	SetPlayerArmourAC(sid, 50.0);
			       	GivePlayerWeaponAC(sid, 24, 100);
			       	GivePlayerWeaponAC(sid, 25, 150);
			       	GivePlayerWeaponAC(sid, 31, 550);

			       	War[wi_Members][0] = 1;
			       	War[wi_Members][1] = 1;
			       	return 1;
				}
			}
		}
	}
	else
	{
	    new s[7];
	    if(time >= 10) format(s, sizeof(s), "~w~%d", time);
		if(time <= 9) format(s, sizeof(s), "~y~%d", time);
		if(time <= 5) format(s, sizeof(s), "~r~%d", time);
	    GameTextForAll(s, 1000, 5);
	    SetTimerEx("GangWarTimeBack", 1000, false, "ii", time, War[wi_Stage]);
	}
	return 1;
}

new EventColors[6] = {
	0xff0000FF,
	0xff6600FF,
	0xffcc00FF,
	0x33cc33FF,
	0x66ffffFF,
	0x0066ffFF
};

stock IsEventRuler(playerid)
{
    new i, j;
	for( i = 0; i < 10; i++ ) for( j = 0; j < 10; j++ ) if(EventInfo[i][e_Rulers][j] == Player[playerid][pAccountID]) return 1;
	return 0;
}

stock SendEventMessage(const message[]) foreach(Player, i) SendClientMessage(i, -1, message);

CMD:event(playerid, const params[])
{
	new command[128], command0[32], command1[32], command2[32], command3[32], command4[32], command5[32], command6[32], command7[32];
	sscanf(params, "S()[32]S()[32]S()[32]S()[32]S()[32]S()[32]S()[32]S()[32]S()[32]", command, command0, command1, command2, command3, command4, command5, command6, command7);
	
	if(strfind(command, "leave") == 0)
 	{
 	    if(Player[playerid][eventMember] <= -1) return 1;
 	    
 	    new bool:something = false, str[64], i;
        for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID]) { something = true; break; }

		new eventID = Player[playerid][eventMember];
        if(strlen(EventInfo[eventID][e_Name]) >= 1)
        {
			if(!something) {
				EventInfo[Player[playerid][eventMember]][e_curPlayers]--;
				format(str, sizeof(str), "{ff6600}[EVENT] %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
				SendEventMessage(str);
			} else {
			    format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
				SendEventMessage(str);
			}

			if(EventInfo[eventID][e_curPlayers] < EventInfo[eventID][e_minPlayers] && !EventInfo[eventID][e_IsStarted] && EventInfo[eventID][e_IsJoinsClosed])
	        {
	            EventInfo[eventID][e_IsJoinsClosed] = false;
				format(str, sizeof(str), "{bf00ff}[EVENT] Join requests auto opened (%s #%d)", EventInfo[eventID][e_Name], eventID+1);
				SendEventMessage(str);
	        }
		}
		
 	    SetPlayerVirtualWorld(playerid, 0);
 	    ClearAnimations(playerid);
 	    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		Player[playerid][Jailed] = -1;
		Player[playerid][eventMember] = -1;
		configureClass(playerid);
		setupZombie(playerid);
        SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		SpawnPlayer(playerid);
 	    setupZombie(playerid);
 	    SetPlayerGravity(playerid, 0.008);
	}
	
	if(strfind(command, "join") == 0)
 	{
 	    if(!Player[playerid][pLogged]) return 1;
  		if(IsPlayerOnDuel[playerid])  return 1;
    	if(Player[playerid][Jailed] >= 1) return 1;
		if(InGangWar{playerid}) return 1;
		if(Player[playerid][eventMember] > -1) return 1;
		if(InGangHouse[playerid]) return 1;
		if(IsPlayerInAnyVehicle(playerid)) return 1;
		if(CockroachAbility[playerid]) return 1;
		//if(UserTankInWarState[playerid] >= 1) return 1;
		
		if(Player[playerid][pClan] >= 1 && (Player[playerid][pClan] == War[wi_TeamsInBattle][0] || Player[playerid][pClan] == War[wi_TeamsInBattle][1])) return 1;
		if(strlen(command0) <= 0 || strval(command0)-1 >= sizeof(EventInfo) || strval(command0)-1 <= -1 || strlen(EventInfo[strval(command0)-1][e_Name]) <= 0)
		{
		    SendClientMessage(playerid, -1, "{ffc34d}/event join (event id)");
			return 1;
		}
		
		new eventID = strval(command0)-1, i, bool:something;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		
		SendClientMessage(playerid, -1, "{ffc34d}|: Attempting to join an event...");
		if(!EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: You were kicked, event did not start") && 1 || 1;
        if(EventInfo[eventID][e_IsJoinsClosed]) return SendClientMessage(playerid, -1, "{ffc34d}|: You were kicked, the event is no longer gaining participants") && 1 || 1;
		if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: You were kicked, event is preparing to ending") && 1 || 1;
  		if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: ERROR") && 1 || 1;
                
        something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;

        if(Player[playerid][pRank] < EventInfo[eventID][e_minRank]) {
            if(!something) {
			    SendClientMessageFormat(playerid, -1, "{ffc34d}|: You were kicked, you need min. rank %d to join an event", EventInfo[eventID][e_minRank]);
				return 1;
			}
        }
        
        if(Player[playerid][pXP] < EventInfo[eventID][e_minExp]) {
            if(!something) {
			    SendClientMessageFormat(playerid, -1, "{ffc34d}|: You were kicked, you need min. %d exp to join an event", EventInfo[eventID][e_minExp]);
				return 1;
			}
        }
        
        if(EventInfo[eventID][e_IsGangNeed] && Player[playerid][pClan] <= 0 && !something) return SendClientMessage(playerid, -1, "{ffc34d}|: You were kicked, you need to be in a gang") && 1 || 1;
        
        if((++EventInfo[eventID][e_curPlayers]) >= EventInfo[eventID][e_maxPlayers]) {
            if(!something) return SendClientMessage(playerid, -1, "{ffc34d}|: You were kicked, the event gained its maximum number of participants") && 1 || 1;
        }
        
        if(EventInfo[eventID][e_curPlayers] >= EventInfo[eventID][e_maxPlayers])
        {
            EventInfo[eventID][e_IsJoinsClosed] = true;
            new str[64];
			format(str, sizeof(str), "{bf00ff}[EVENT] Join requests auto closed (%s #%d)", EventInfo[eventID][e_Name], eventID+1);
			SendEventMessage(str);
        }
        
        SendClientMessageFormat(playerid, -1, "{ffc34d}|: Joined to %s", EventInfo[eventID][e_Name]);

		new str[64];
		if(!something) {
			EventInfo[eventID][e_curPlayers]++;
			format(str, sizeof(str), "{ff6600}[EVENT] %s has joined to an event (%s #%d)", Player[playerid][UserName], EventInfo[eventID][e_Name], eventID+1);
			SendEventMessage(str);
		} else {
		    format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has joined to an event (%s #%d)", Player[playerid][UserName], EventInfo[eventID][e_Name], eventID+1);
			SendEventMessage(str);
		}
		
		CurePlayer(playerid);
	    SetPlayerArmour(playerid, 0.0);
	    SetPlayerHealthAC(playerid, 100.0);
   	    Player[playerid][IsBurned][0] = 0;
		Player[playerid][IsBurned][1] = 0;
   	    Player[playerid][Poisioned] = false;
   	    Player[playerid][IsPlayerAdvancedInfected] = false;
	 	Player[playerid][AntiSeeker] = false;
		Player[playerid][AntiFreeze] = false;
		Player[playerid][AntiRadioctive] = false;
		Player[playerid][AntiBuring] = false;
		Player[playerid][AntiLegBreaks] = false;
		Player[playerid][AntiSpider] = false;
		Player[playerid][AntiScreamer] = false;
		Player[playerid][SlowWalk] = 0;
		Player[playerid][Helmet] = false;
        Player[playerid][Fearlessness] = false;
		
		Player[playerid][Cursed] = false;
		RemovePlayerAttachedObject(playerid, 4);
	   	RemovePlayerAttachedObject(playerid, 5);
	   	RemovePlayerAttachedObject(playerid, 6);
	    RemovePlayerAttachedObject(playerid, 7);
	   	RemovePlayerAttachedObject(playerid, 8);
	   	RemovePlayerAttachedObject(playerid, 9);
		ResetWeapons(playerid);
		
	 	HumanZombieBoss[playerid] = false;
	 	HumanHumanBoss[playerid] = false;
	 	Healer[playerid] = false;
		
		AntiTPTimerEx(playerid, 4);
		AntiSlap(playerid, 2);
		AntiSpeedHack(playerid, 3);
		
		SetPlayerTeamEx(playerid, 3);
		
		if(something) {
			SetPlayerSkinAC(playerid, 217, 1);
		    SetPlayerColor(playerid, 0xac00e6FF);
		    new gunname[32];
	    	GetWeaponName(42, gunname, sizeof(gunname));
			SetPVarInt(playerid, gunname, 999999);
			GivePlayerWeaponAC(playerid, 42, 999999);
			SetPlayerPosAC(playerid, EventInfo[eventID][e_defaultPoses][0], EventInfo[eventID][e_defaultPoses][1], EventInfo[eventID][e_defaultPoses][2]);
		} else {
		    SetPlayerSkinAC(playerid, EventInfo[eventID][e_Skin][0], 1);
		    SetPlayerColor(playerid, EventColors[0]);
			SetPlayerPosAC(playerid, EventInfo[eventID][e_HumanPos][0], EventInfo[eventID][e_HumanPos][1], EventInfo[eventID][e_HumanPos][2]);
			SetPlayerFacingAngle(playerid, EventInfo[eventID][e_HumanPos][3]);
		}
		SetCameraBehindPlayer(playerid);
		
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, EventInfo[eventID][e_VirtualWorld]);
		
		Player[playerid][eventMember] = eventID;
		SetPlayerGravity(playerid, EventInfo[eventID][e_Gravity]);
		
		SetPlayerTime(playerid, EventInfo[eventID][e_Time], 0);
		SetPlayerWeather(playerid, EventInfo[eventID][e_Weather]);
		
		return 1;
 	}
 	
 	if(strfind(command, "close") == 0)
 	{
 	    if(strfind(command0, "joins") == 0)
 	    {
 	        if(Player[playerid][eventMember] <= -1) return SendClientMessage(playerid, -1, "{ffc34d}|: You are not at the event");
            new bool:something = false, i;
        	for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[Player[playerid][eventMember]][e_RulersPermisions][1]) { something = true; break; }
        	if(EventInfo[Player[playerid][eventMember]][e_OwnerID] == Player[playerid][pAccountID]) something = true;
        	if(something)
        	{
		 		if(!EventInfo[Player[playerid][eventMember]][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event did not start") && 1 || 1;
				if(EventInfo[Player[playerid][eventMember]][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: The event is already ending") && 1 || 1;
	            if(EventInfo[Player[playerid][eventMember]][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
	            if(strlen(EventInfo[Player[playerid][eventMember]][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: ERROR") && 1 || 1;
	            
	            EventInfo[Player[playerid][eventMember]][e_IsJoinsClosed] = true;

				new str[64];
    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has closed join requests (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
				SendEventMessage(str);
			}
 	        return 1;
 	    }
 	    return 1;
 	}
 	
 	if(strfind(command, "kick") == 0)
 	{
 	    if(Player[playerid][eventMember] <= -1) return SendClientMessage(playerid, -1, "{ffc34d}|: You are not at the event");
 	    if(strlen(EventInfo[Player[playerid][eventMember]][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: ERROR") && 1 || 1;
 	    new bool:something = false, i;
     	for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[Player[playerid][eventMember]][e_RulersPermisions][6]) { something = true; break; }
     	if(EventInfo[Player[playerid][eventMember]][e_OwnerID] == Player[playerid][pAccountID]) something = true;
    	if(something)
    	{
    	    if(!EventInfo[Player[playerid][eventMember]][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event did not start") && 1 || 1;
			if(EventInfo[Player[playerid][eventMember]][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: The event is already ending") && 1 || 1;
            if(EventInfo[Player[playerid][eventMember]][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
    	    if(strlen(command0) <= 0 || !IsPlayerConnected(strval(command0))) return SendClientMessage(playerid, -1, "{ffc34d}|: Player not connected") && 1 || 1;
            if(Player[playerid][eventMember] != Player[strval(command0)][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: The player is not in your event") && 1 || 1;

			new str[64];

			something = false;
			for(i = 0; i < 10; i++) if(EventInfo[Player[strval(command0)][eventMember]][e_Rulers][i] == Player[strval(command0)][pAccountID] && EventInfo[Player[strval(command0)][eventMember]][e_RulersPermisions][6]) { something = true; break; }
			if(EventInfo[Player[strval(command0)][eventMember]][e_OwnerID] == Player[strval(command0)][pAccountID]) something = true;

			if(!something) {
				EventInfo[Player[playerid][eventMember]][e_curPlayers]--;
				if(strlen(command1)) format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has kicked player %s [Reason: %s]", Player[playerid][UserName], Player[strval(command0)][UserName], command1);
				else format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has kicked player %s (%s #%d)", Player[playerid][UserName], Player[strval(command0)][UserName], EventInfo[Player[strval(command0)][eventMember]][e_Name], Player[strval(command0)][eventMember]+1);
				foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
				format(str, sizeof(str), "{ff6600}[EVENT] %s has left the event (%s #%d)", Player[strval(command0)][UserName], EventInfo[Player[strval(command0)][eventMember]][e_Name], Player[strval(command0)][eventMember]+1);
				foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

                SetPlayerVirtualWorld(strval(command0), 0);
				ClearAnimations(strval(command0));
		 	    SetPlayerSpecialAction(strval(command0), SPECIAL_ACTION_NONE);
				Player[strval(command0)][Jailed] = -1;
				Player[strval(command0)][eventMember] = -1;
				SetPlayerGravity(strval(command0), 0.008);
				configureClass(strval(command0));
				setupZombie(strval(command0));
		        SetSpawnInfo(strval(command0),TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
				SpawnPlayer(strval(command0));
		 	    setupZombie(strval(command0));
		 	    
			} else {
			    SendClientMessage(playerid, -1, "{ffc34d}|: Not enough rights");
			}
			return 1;
		}
 	    return 1;
 	}
	
 	if(strfind(command, "devmode") == 0)
 	{
 	    if(!Player[playerid][pLogged]) return 1;
  		if(IsPlayerOnDuel[playerid])  return 1;
    	if(Player[playerid][Jailed] >= 1) return 1;
		if(InGangWar{playerid}) return 1;
		if(InGangHouse[playerid]) return 1;
		if(Player[playerid][eventMember] > -1) return 1;
		if(IsPlayerInAnyVehicle(playerid)) return 1;
		if(CockroachAbility[playerid]) return 1;
		if(Player[playerid][pClan] >= 1 && (Player[playerid][pClan] == War[wi_TeamsInBattle][0] || Player[playerid][pClan] == War[wi_TeamsInBattle][1])) return 1;

        new bool:something = false, i, j;
        for( i = 0; i < 10; i++ )
        {
        	for( j = 0; j < 10; j++ ) if(EventInfo[i][e_Rulers][j] == Player[playerid][pAccountID] && EventInfo[i][e_RulersPermisions][0]) { something = true; }
            if(something)
            {
                SendClientMessage(playerid, -1, "{ffc34d}|: Reconfiguration and event Integration...");
                
                SetPlayerHealthAC(playerid, 100.0);
                SetPlayerArmourAC(playerid, 0.0);
                SetPlayerTeamEx(playerid, 254);

                ResetWeapons(playerid);
                SendClientMessageFormat(playerid, -1, "{ffc34d}|: Integration completed, Location: #%d", i+1);
                SetPlayerVirtualWorld(playerid, 50 + i);
                Player[playerid][eventMember] = i;
                
                SetPlayerSkinAC(playerid, 217, 1);
			    SetPlayerColor(playerid, 0xac00e6FF);
			    new gunname[32];
		    	GetWeaponName(42, gunname, sizeof(gunname));
				SetPVarInt(playerid, gunname, 999999);
				GivePlayerWeaponAC(playerid, 42, 999999);

                SetPlayerGravity(playerid, EventInfo[i][e_Gravity]);
				SetPlayerTime(playerid, EventInfo[i][e_Time], 0);
				SetPlayerWeather(playerid, EventInfo[i][e_Weather]);

                return 1;
            }
		}

		something = false;
        if(GetUnlockedSlot(Player[playerid][pSettings], 29) == 1)
    	{
			for( i = 0; i < 10; i++ )
	        {
	            if(EventInfo[i][e_IsEnded] || EventInfo[i][e_OwnerID] == Player[playerid][pAccountID])
	            {
	                SetPlayerHealthAC(playerid, 100.0);
	                SetPlayerArmourAC(playerid, 0.0);
	                SetPlayerTeamEx(playerid, 254);
                    SendClientMessage(playerid, -1, "{ffc34d}|: Reconfiguration and event Integration...");
	                ResetWeapons(playerid);
	                SendClientMessageFormat(playerid, -1, "{ffc34d}|: Integration completed, Location: #%d", i+1);
	                SetPlayerVirtualWorld(playerid, 50 + i);
	                EventInfo[i][e_VirtualWorld] = 50 + i;
	                EventInfo[i][e_IsEnded] = false;
	                Player[playerid][eventMember] = i;
	                EventInfo[i][e_OwnerID] = Player[playerid][pAccountID];
	                EventInfo[i][e_IsTeamActive][0] = true;
	                EventInfo[i][e_IsTeamActive][1] = true;

	                SetPlayerSkinAC(playerid, 217, 1);
				    SetPlayerColor(playerid, 0xac00e6FF);
				    new gunname[32];
			    	GetWeaponName(42, gunname, sizeof(gunname));
					SetPVarInt(playerid, gunname, 999999);
					GivePlayerWeaponAC(playerid, 42, 999999);
					
					SetPlayerGravity(playerid, EventInfo[i][e_Gravity]);
					SetPlayerTime(playerid, EventInfo[i][e_Time], 0);
					SetPlayerWeather(playerid, EventInfo[i][e_Weather]);

	                return 1;
	            }
	        }
	    }
	    
	    SendClientMessage(playerid, -1, "{FF0000}>> Unable to Integrate, all slots is full");
	    return 1;
 	}
 	
 	if(strfind(command, "start") == 0)
 	{
 	    if(!Player[playerid][pLogged]) return 1;
  		if(IsPlayerOnDuel[playerid])  return 1;
    	if(Player[playerid][Jailed] >= 1) return 1;
		if(InGangWar{playerid}) return 1;
		if(InGangHouse[playerid]) return 1;
		if(IsPlayerInAnyVehicle(playerid)) return 1;
		if(CockroachAbility[playerid]) return 1;
		if(Player[playerid][pClan] >= 1 && (Player[playerid][pClan] == War[wi_TeamsInBattle][0] || Player[playerid][pClan] == War[wi_TeamsInBattle][1])) return 1;
		
		new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, enter an event /event devmode") && 1 || 1;
		
		if(EventInfo[eventID][e_RequestToDelete]) return 1;

        something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][7]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    SendClientMessage(playerid, -1, "{ffc34d}|: Attempting to create an event...");
			if(EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event already started") && 1 || 1;
            //if(EventInfo[eventID][e_curPlayers] < EventInfo[eventID][e_minPlayers]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, not enough members") && 1 || 1;
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
	        if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;

		    SendMessageFormatToAll(-1, "{33cc33}|: The \"%s\" event has begun! {FFF000}/event join %d", EventInfo[eventID][e_Name], eventID+1);
		    EventInfo[eventID][e_IsStarted] = true;
		    EventInfo[eventID][e_TimeToEnd] = gettime() + 1800;
		}
	}

    if(strfind(command, "end") == 0)
 	{
 	    if(!Player[playerid][pLogged]) return 1;
  		if(IsPlayerOnDuel[playerid])  return 1;
    	if(Player[playerid][Jailed] >= 1) return 1;
		if(InGangWar{playerid}) return 1;
		if(InGangHouse[playerid]) return 1;
		if(IsPlayerInAnyVehicle(playerid)) return 1;
		if(CockroachAbility[playerid]) return 1;
		
		new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;

        something = false;
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    if(!EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event did not started") && 1 || 1;
            if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;

			if(strlen(EventInfo[eventID][e_Name]) > 0) SendMessageFormatToAll(-1, "{33cc33}|: The event \"%s\" was over", EventInfo[eventID][e_Name]);

            EventInfo[eventID][e_IsStarted] = false;
            EventInfo[eventID][e_IsJoinsClosed] = false;
            EventInfo[eventID][e_IsGangNeed] = false;
            EventInfo[eventID][e_RequestToDelete] = false;
            for(i = 1; i < 6; i++) EventInfo[eventID][e_IsTeamActive][i] = false;
            for(i = 0; i < 6; i++) EventInfo[eventID][e_Skin][i] = 0;
           	for(i = 0; i < 3; i++) EventInfo[eventID][e_defaultPoses][i] = 0.0;
           	EventInfo[eventID][e_Gravity] = 0.008;
           	
           	EventInfo[eventID][e_Time] = 12;
			EventInfo[eventID][e_Weather] = 0;
           	
           	for(i = 0; i < MAX_PLAYERS; i++) if(IsValidPickup(EventInfo[eventID][e_Pickups][i])) DestroyPickupEx(EventInfo[eventID][e_Pickups][i], true);
           	
           	new newID;
			for( i = 0; i < 18; i++)
			{
			    newID = (i-1) > -1 ? i * 2 : 0;
 		    	if(EventInfo[eventID][e_CarProps][newID] > 0) DestroyVehicle(EventInfo[eventID][e_CarProps][newID]);
			}
            for(i = 0; i < 36; i++) EventInfo[eventID][e_CarProps][i] = 0;
            for(i = 0; i < 8; i++) EventInfo[eventID][e_RulersPermisions][i] = 0;
            
           	EventInfo[eventID][e_VirtualWorld] = 0;
           	EventInfo[eventID][e_minPlayers] = 0;
           	EventInfo[eventID][e_maxPlayers] = MAX_PLAYERS;
           	EventInfo[eventID][e_curPlayers] = 0;
           	EventInfo[eventID][e_minRank] = 0;
           	EventInfo[eventID][e_minExp] = 0;
           	EventInfo[eventID][e_TimerCount] = 0;
           	EventInfo[eventID][e_TimeToEnd] = -1;
            
            for(i = 0; i < 100; i++)
			{
				if(IsValidDynamicObject(EventInfo[eventID][e_Objects][i]))
			    {
					DestroyDynamicObject(EventInfo[eventID][e_Objects][i]);
					EventInfo[eventID][e_Objects][i] = INVALID_OBJECT_ID;
				}
			}
            
            EventInfo[eventID][e_IsEnded] = true;
            EventInfo[eventID][e_OwnerID] = -1;
            for(i = 0; i < 10; i++) EventInfo[eventID][e_Rulers][i] = 0;
            strmid(EventInfo[eventID][e_Name], "", 0, 65, 65);
            
			foreach(Player, j)
			{
				if(Player[j][eventMember] == eventID && Player[j][eventMember] > -1)
				{
                    SetPlayerVirtualWorld(j, 0);
			 	    ClearAnimations(j);
			 	    SetPlayerSpecialAction(j, SPECIAL_ACTION_NONE);
					Player[j][Jailed] = -1;
					Player[j][eventMember] = -1;
					SetPlayerGravity(j, 0.008);
					configureClass(j);
					setupZombie(j);
			        SetSpawnInfo(j,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
					SpawnPlayer(j);
			 	    setupZombie(j);
				}
			}
			return 1;
		}
		return 1;
	}
	
    if(strfind(command, "set") == 0)
 	{
 	    if(!Player[playerid][pLogged]) return 1;
  		if(IsPlayerOnDuel[playerid])  return 1;
    	if(Player[playerid][Jailed] >= 1) return 1;
		if(InGangWar{playerid}) return 1;
		if(InGangHouse[playerid]) return 1;
		if(IsPlayerInAnyVehicle(playerid)) return 1;
		if(CockroachAbility[playerid]) return 1;
		if(Player[playerid][pClan] >= 1 && (Player[playerid][pClan] == War[wi_TeamsInBattle][0] || Player[playerid][pClan] == War[wi_TeamsInBattle][1])) return 1;

		new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;

		if(EventInfo[eventID][e_RequestToDelete]) return 1;

        something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    //if(EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event already started") && 1 || 1;
			//if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			//if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;

            if(strfind(command0, "rank") == 0)
 	    	{
 	    	    if(strlen(command1) <= 0 || strval(command1) < 0 || strval(command1) >= sizeof(PlayerRank[])) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set rank (rank)") && 1 || 1;
 	    	    else
 	    		{
				    SendClientMessageFormat(playerid, -1, "{ffc34d}|: Event rank set to %d", strval(command1));
			        EventInfo[eventID][e_minRank] = strval(command1);
				}
				return 1;
			}
			if(strfind(command0, "exp") == 0)
 	    	{
 	    	    if(strlen(command1) <= 0 || strval(command1) < 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set exp (exp)") && 1 || 1;
 	    	    else
 	    		{
				    SendClientMessageFormat(playerid, -1, "{ffc34d}|: Event exp set to %d", strval(command1));
			        EventInfo[eventID][e_minExp] = strval(command1);
				}
				return 1;
			}
			if(strfind(command0, "gang") == 0)
 	    	{
 	    	    EventInfo[eventID][e_IsGangNeed] =! EventInfo[eventID][e_IsGangNeed];
 	    	    if(EventInfo[eventID][e_IsGangNeed]) SendClientMessage(playerid, -1, "{ffc34d}|: Event participants {33cc33}must be{ffc34d} in a gang");
       			else SendClientMessage(playerid, -1, "{ffc34d}|: Event participants {FF0000}should not be{ffc34d} in a gang");
				return 1;
			}
		    if(strfind(command0, "name") == 0)
 	    	{
 	    	    if(strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set name (name)") && 1 || 1;
 	    	    else
 	    		{
 	    		    if(CheckForWebsite(command1) || CheckForIP(command1)) return SendClientMessage(playerid, -1, "{ffc34d}|: Use a different name") && 1 || 1;
				    SendClientMessageFormat(playerid, -1, "{ffc34d}|: Event name set to %s", command1);
				    strmid(EventInfo[eventID][e_Name], command1, 0, 65, 65);
				}
				return 1;
			}
			if(strfind(command0, "hp") == 0)
 	    	{
 	    	    new ID = -1, Float:radius = 0.0, amount = 100;
 	    	    sscanf(command1, "f", radius);
 	    	    sscanf(command1, "i", ID);
 	    	    sscanf(command2, "i", amount);
 	    	    
 	    	    if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;
 	    	    
 	    	    if(ID == -1 && radius == 0.0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set hp (player id / radius) ([...amount])") && 1 || 1;
 	    	    else
 	    		{
 	    		    if(ID > -1)
 	    		    {
 	    		        if(!IsPlayerConnected(ID) || ID >= MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set hp (player id / radius) ([...amount])") && 1 || 1;
						if(Player[playerid][eventMember] != Player[ID][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set hp (player id / radius) ([...amount])") && 1 || 1;
 	    		        new str[128];
		    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set %s's HP (%s #%d)", Player[playerid][UserName], Player[ID][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
						SetPlayerHealthAC(ID, float(amount));
 	    		    }
 	    		    else if(radius > 0.0)
 	    		    {
 	    		        new str[128], Float:pos[3];
		    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set HP in a range (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
						GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
						foreach(Player, j) if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2])) if(Player[j][eventMember] == Player[playerid][eventMember]) SetPlayerHealthAC(j, float(amount));
 	    		    }
				}
				return 1;
			}
			if(strfind(command0, "armour") == 0)
 	    	{
 	    	    new ID = -1, Float:radius = 0.0, amount = 100;
 	    	    sscanf(command1, "f", radius);
 	    	    sscanf(command1, "i", ID);
 	    	    sscanf(command2, "i", amount);
 	    	    
 	    	    if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;

 	    	    if(ID == -1 && radius == 0.0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set armour (player id / radius) ([...amount])") && 1 || 1;
 	    	    else
 	    		{
 	    		    if(ID > -1)
 	    		    {
 	    		        if(!IsPlayerConnected(ID) || ID >= MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set armour (player id / radius) ([...amount])") && 1 || 1;
 	    		        if(Player[playerid][eventMember] != Player[ID][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set armour (player id / radius) ([...amount])") && 1 || 1;
 	    		        new str[128];
		    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set %s's Armour (%s #%d)", Player[playerid][UserName], Player[ID][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
						SetPlayerArmourAC(ID, float(amount));
 	    		    }
 	    		    else if(radius > 0.0)
 	    		    {
 	    		        new str[128], Float:pos[3];
		    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set Armour in a range (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
						GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
						foreach(Player, j) if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2])) if(Player[j][eventMember] == Player[playerid][eventMember]) SetPlayerArmourAC(j, float(amount));
 	    		    }
				}
				return 1;
			}
			
			if(strfind(command0, "car") == 0)
 	    	{
			    something = false;
			    for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][3]) { something = true; break; }
			    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;

			    if(something)
			    {
	 	    	    new ID = -1, carID = -1, color = -1, color2 = -1, for_team = -1;
	 	    	    sscanf(command1, "i", ID);
	 	    	    sscanf(command2, "i", carID);
	 	    	    sscanf(command3, "i", color);
	 	    	    sscanf(command4, "i", color2);
	 	    	    sscanf(command5, "i", for_team);

                    if(for_team > -1)
                    {
		 	    	    if(for_team < 1 || for_team > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: Min.1 and Max. 6 teams)") && 1 || 1;
			    		if(!EventInfo[eventID][e_IsTeamActive][for_team-1]) return SendClientMessage(playerid, -1, "{ffc34d}|: This team is not activated, /event set teams") && 1 || 1;
					}
					
					if(ID == -1 && carID == -1 && color == -1 && color2 == -1 || (ID-1) >= 17 || strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set car (car number) (carid) (color1) (color2) ([...for team]) [LIMIT 18]") && 1 || 1;
	 	    	    else
	 	    		{
	 	    		    if(carID < 400 || carID > 605) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set car (car number) (carid) (color1) (color2) ([...for team]) [LIMIT 18]") && 1 || 1;
	 	    		    new Float:pos[4];
	 	    		    GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
						GetPlayerFacingAngle(playerid, pos[3]);
						GetXYInFrontOfPlayer(playerid, pos[0], pos[1], 3.0);

						new newID = (ID-1) > -1 ? ID * 2 : 0;

	 	    		    if(EventInfo[eventID][e_CarProps][newID] == 0)
			 			{
						 	EventInfo[eventID][e_CarProps][newID] = CreateVehicle(carID, pos[0], pos[1], pos[2], pos[3], color, color2, 120);
							if(for_team == -1) EventInfo[eventID][e_CarProps][newID+1] = -1;
							else EventInfo[eventID][e_CarProps][newID+1] = (3*(eventID+1))+(for_team-1);
	                        SendClientMessageFormat(playerid, -1, "{FFF000}|: Vehicle created: #%d", ID);
	                        SetVehicleVirtualWorld(EventInfo[eventID][e_CarProps][newID], GetPlayerVirtualWorld(playerid));
						}
						else
						{
						    DestroyVehicle(EventInfo[eventID][e_CarProps][newID]);
						    EventInfo[eventID][e_CarProps][newID] = CreateVehicle(carID, pos[0], pos[1], pos[2], pos[3], color, color2, 120);
	        				if(for_team == -1) EventInfo[eventID][e_CarProps][newID+1] = -1;
							else EventInfo[eventID][e_CarProps][newID+1] = (3*(eventID+1))+(for_team-1);
	                        SendClientMessageFormat(playerid, -1, "{FFF000}|: Vehicle created: #%d", ID);
	                        SetVehicleVirtualWorld(EventInfo[eventID][e_CarProps][newID], GetPlayerVirtualWorld(playerid));
						}
	 	    		}
				}
				return 1;
			}
			
			if(strfind(command0, "permissions") == 0)
 	    	{
 	    	    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID])
 	    	    {
					if(strlen(command1) <= 0) return SendClientMessage(playerid, -1, "/event set permissions (dev mode) ([...close joins, set spawns, set car spawns, set skins, set teams, kick players])") && 1 || 1;

					new j, type[7][4] = {"OFF", ...}, desc[7][] = {"dev mode", "close joins", "set spawns", "set cars", "set skins", "set teams", "kick players"};
				 	sscanf(command1, "s[4]", type[0]);
 	    	        sscanf(command2, "s[4]", type[1]);
 	    	        sscanf(command3, "s[4]", type[2]);
 	    	        sscanf(command4, "s[4]", type[3]);
 	    	        sscanf(command5, "s[4]", type[4]);
 	    	        sscanf(command6, "s[4]", type[5]);
 	    	        sscanf(command7, "s[4]", type[6]);
 	    	        
 	    	        for( i = 0; i < 7; i++ )
 	    	        {
 	    	            EventInfo[eventID][e_RulersPermisions][i] = 0;
 	    	            if(!strcmp(type[i], "ON", true))
		 				{
						 	EventInfo[eventID][e_RulersPermisions][i] = 1;
						 	
						 	foreach(Player, a) for(j = 0; j < 10; j++) if(EventInfo[eventID][e_Rulers][j] == Player[a][pAccountID]) SendClientMessageFormat(a, -1, "{FFF000}%s = ON", desc[i]);

						 	SendClientMessageFormat(playerid, -1, "{FFF000}%s = ON", desc[i]);
						}
						else if(EventInfo[eventID][e_RulersPermisions][i] != 1)
						{
						    SendClientMessageFormat(playerid, -1, "%s = OFF", desc[i]);
						    foreach(Player, a) for(j = 0; j < 10; j++) if(EventInfo[eventID][e_Rulers][j] == Player[a][pAccountID]) SendClientMessageFormat(a, -1, "%s = OFF", desc[i]);
						}
 	    	        }
 	    	        return 1;
 	    	    }
 	    	    return 1;
 	    	}
			
			if(strfind(command0, "ruler") == 0)
 	    	{
 	    	    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID])
 	    	    {
 	    	        new ID = -1;
 	    	        //if(strlen(command1) >= 1) ID = strval(command1);
 	    	        sscanf(command1, "i", ID);
 	         		//sscanf(command2, "s[5]", type);
 	    	        if(ID == -1 || strlen(command1) <= 0) return SendClientMessage(playerid, -1, "/event set ruler (account id) ([...off])") && 1 || 1;
 	    	        if(ID < 1 || Player[playerid][pAccountID] == ID) return SendClientMessage(playerid, -1, "/event set ruler (account id) ([...off])") && 1 || 1;

					/*if(strlen(type) >= 3)
					{
					    if(!strcmp(type, "off", true))
					    {
					        for(i = 0; i < 10; i++)
							{
								if(EventInfo[eventID][e_Rulers][i] == ID)
								{
								    EventInfo[eventID][e_Rulers][i] = 0;
                                    SendClientMessage(playerid, -1, "{FFF000}Removed!");
									return 1;
								}
							}
							SendClientMessage(playerid, -1, "Not found");
							return 1;
					    }
					}*/
					printf("%d", ID);
					for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == ID) return SendClientMessage(playerid, -1, "He / She is already ruler") && 1 || 1;
                    for(i = 0; i < 10; i++)
					{
						if(EventInfo[eventID][e_Rulers][i] <= 0)
	                    {
	                        EventInfo[eventID][e_Rulers][i] = ID;
	                        SendClientMessageFormat(playerid, -1, "{FFF000}Set! (ID %d)", ID);
	                        return 1;
	                    }
					}
                    SendClientMessage(playerid, -1, "All places are already taken...");
                    return 1;
				}
				else SendClientMessage(playerid, -1, "Not enough permissions");
				return 1;
			}
			
			if(!strcmp(command0, "team"))
 	    	{
			    something = false;
			    for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][5]) { something = true; break; }
			    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;

			    if(something)
			    {
	 	    	    new ID = -1, Float:radius = 0.0, command_team = -1;
	 	    	    sscanf(command1, "f", radius);
	 	    	    sscanf(command1, "i", ID);
	                sscanf(command2, "i", command_team);
	 	    	    if(ID == -1 && radius == 0.0 &&  command_team == -1 || strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set team (player id / radius) (1 - 6)") && 1 || 1;
	 	    	    else
	 	    		{
	 	    		    if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;
						if(command_team < 1 || command_team > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: Min.1 and Max. 6 teams)") && 1 || 1;
	  	        		if(!EventInfo[eventID][e_IsTeamActive][command_team-1]) return SendClientMessage(playerid, -1, "{ffc34d}|: This team is not activated, /event set teams") && 1 || 1;

	 	    		    if(ID > -1)
	 	    		    {
	 	    		        if(!IsPlayerConnected(ID) || ID >= MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set team (player id / radius) (1 - 6)") && 1 || 1;
	 	    		        if(Player[playerid][eventMember] != Player[ID][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set team (player id / radius) (1 - 6)") && 1 || 1;

	                        if(EventInfo[eventID][e_OwnerID] == Player[ID][pAccountID]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set team (player id / radius) (1 - 6)") && 1 || 1;
							for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[ID][pAccountID]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set team (player id / radius) (1 - 6)") && 1 || 1;

						 	new str[128];
			    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set %s's team (%s #%d)", Player[playerid][UserName], Player[ID][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
							foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

							SetPlayerTeamEx(ID, (3*(eventID+1))+(command_team-1));
						 	SetPlayerSkinAC(ID, EventInfo[eventID][e_Skin][command_team-1], 1);
						    SetPlayerColor(ID, EventColors[command_team-1]);
						    
						    switch((command_team-1))
						    {
						        case 0:
						        {
									SetPlayerPosAC(ID, EventInfo[eventID][e_HumanPos][0], EventInfo[eventID][e_HumanPos][1], EventInfo[eventID][e_HumanPos][2]);
									SetPlayerFacingAngle(ID, EventInfo[eventID][e_HumanPos][3]);
								}
								case 1:
						        {
									SetPlayerPosAC(ID, EventInfo[eventID][e_HumanPos][4], EventInfo[eventID][e_HumanPos][5], EventInfo[eventID][e_HumanPos][6]);
									SetPlayerFacingAngle(ID, EventInfo[eventID][e_HumanPos][7]);
								}
								case 2:
						        {
									SetPlayerPosAC(ID, EventInfo[eventID][e_HumanPos][8], EventInfo[eventID][e_HumanPos][9], EventInfo[eventID][e_HumanPos][10]);
									SetPlayerFacingAngle(ID, EventInfo[eventID][e_HumanPos][11]);
								}
								case 3:
						        {
									SetPlayerPosAC(ID, EventInfo[eventID][e_HumanPos][12], EventInfo[eventID][e_HumanPos][13], EventInfo[eventID][e_HumanPos][14]);
									SetPlayerFacingAngle(ID, EventInfo[eventID][e_HumanPos][15]);
								}
								case 4:
						        {
									SetPlayerPosAC(ID, EventInfo[eventID][e_HumanPos][16], EventInfo[eventID][e_HumanPos][17], EventInfo[eventID][e_HumanPos][18]);
									SetPlayerFacingAngle(ID, EventInfo[eventID][e_HumanPos][19]);
								}
								case 5:
						        {
									SetPlayerPosAC(ID, EventInfo[eventID][e_HumanPos][20], EventInfo[eventID][e_HumanPos][21], EventInfo[eventID][e_HumanPos][22]);
									SetPlayerFacingAngle(ID, EventInfo[eventID][e_HumanPos][23]);
								}
							}
			    		}
	 	    		    else if(radius > 0.0)
	 	    		    {
	 	    		        new str[128], Float:pos[3];
			    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set team in a range (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
							foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

							GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
							foreach(Player, j)
							{
								if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2]))
								{
									if(Player[j][eventMember] == Player[playerid][eventMember])
									{
									    if(EventInfo[eventID][e_OwnerID] == Player[j][pAccountID]) continue;
										for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[j][pAccountID]) continue;

									    SetPlayerTeamEx(j, (3*(eventID+1))+(command_team-1));
									 	SetPlayerSkinAC(j, EventInfo[eventID][e_Skin][command_team-1], 1);
									    SetPlayerColor(j, EventColors[command_team-1]);
									    switch((command_team-1))
									    {
									        case 0:
									        {
												SetPlayerPosAC(j, EventInfo[eventID][e_HumanPos][0], EventInfo[eventID][e_HumanPos][1], EventInfo[eventID][e_HumanPos][2]);
												SetPlayerFacingAngle(j, EventInfo[eventID][e_HumanPos][3]);
											}
											case 1:
									        {
												SetPlayerPosAC(j, EventInfo[eventID][e_HumanPos][4], EventInfo[eventID][e_HumanPos][5], EventInfo[eventID][e_HumanPos][6]);
												SetPlayerFacingAngle(j, EventInfo[eventID][e_HumanPos][7]);
											}
											case 2:
									        {
												SetPlayerPosAC(j, EventInfo[eventID][e_HumanPos][8], EventInfo[eventID][e_HumanPos][9], EventInfo[eventID][e_HumanPos][10]);
												SetPlayerFacingAngle(j, EventInfo[eventID][e_HumanPos][11]);
											}
											case 3:
									        {
												SetPlayerPosAC(j, EventInfo[eventID][e_HumanPos][12], EventInfo[eventID][e_HumanPos][13], EventInfo[eventID][e_HumanPos][14]);
												SetPlayerFacingAngle(j, EventInfo[eventID][e_HumanPos][15]);
											}
											case 4:
									        {
												SetPlayerPosAC(j, EventInfo[eventID][e_HumanPos][16], EventInfo[eventID][e_HumanPos][17], EventInfo[eventID][e_HumanPos][18]);
												SetPlayerFacingAngle(j, EventInfo[eventID][e_HumanPos][19]);
											}
											case 5:
									        {
												SetPlayerPosAC(j, EventInfo[eventID][e_HumanPos][20], EventInfo[eventID][e_HumanPos][21], EventInfo[eventID][e_HumanPos][22]);
												SetPlayerFacingAngle(j, EventInfo[eventID][e_HumanPos][23]);
											}
										}
									}
								}
							}
	 	    		    }
					}
				}
				return 1;
			}
			
			if(!strcmp(command0, "teams"))
 	    	{
			    something = false;
			    for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][5]) { something = true; break; }
			    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;

			    if(something)
			    {
	 	    	    if(strlen(command1) <= 0 || strval(command1) < 1 || strval(command1) > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set teams (1-6)") && 1 || 1;

					for( i = 0; i < 6; i++ ) EventInfo[eventID][e_IsTeamActive][i] = false;
					for( i = 0; i < strval(command1); i++ ) EventInfo[eventID][e_IsTeamActive][i] = true;
					SendClientMessageFormat(playerid, -1, "{ffc34d}|: Event teams set to %d", strval(command1));
				}
			}
			
			if(strfind(command0, "pickup") == 0)
 	    	{
 	    	    new pid = -1, num = -1;
 	    	    sscanf(command1, "i", num);
 	    	    sscanf(command2, "i", pid);
 	    	    if(strlen(command1) <= 0 || strlen(command2) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set pickup (number = 1 ~ 40) (Pickup = Object ID)") && 1 || 1;
				if((num-1) <= -1 || (num-1) > 39) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, wrong number 1 ~ 40") && 1 || 1;
			 	if(pid < 811) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, wrong Object ID") && 1 || 1;
 	    	    
 	    	    new str[128], Float:pos[3];
 	    	    
 	    	    GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
 	    	    GetXYInFrontOfPlayer(playerid, pos[0], pos[1], 2.5);
 	    	    
 	    	    if(IsValidPickup(EventInfo[eventID][e_Pickups][num])) DestroyPickupEx(EventInfo[eventID][e_Pickups][num], true);
 	    	    EventInfo[eventID][e_Pickups][num] = CreatePickupEx(pid, 19, pos[0], pos[1], pos[2], EventInfo[eventID][e_VirtualWorld], false, Player[playerid][eventMember]);
 	    	    meatDropsID[EventInfo[eventID][e_Pickups][num]] = pid;
 	    	    
    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set a pickup (ID #%d)", Player[playerid][UserName], num);
    			foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

    			return 1;
 	    	}
 	    	
 	    	if(strfind(command0, "time") == 0)
 	    	{
 	    	    new time = -1;
 	    	    sscanf(command1, "i", time);
                if(strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set time (time)") && 1 || 1;
                if(time < 0 || time > 23) time = 0;
                new str[128];
    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set time to %d (EVENT #%d)", Player[playerid][UserName], time, Player[playerid][eventMember]+1);
    			foreach(Player, j)
				{
					if(Player[j][eventMember] == Player[playerid][eventMember])
					{
						SendClientMessage(j, -1, str);
						SetPlayerTime(j, time, 0);
					}
				}
				EventInfo[eventID][e_Time] = time;
				return 1;
			}
			
			if(strfind(command0, "weather") == 0)
 	    	{
 	    	    new time = -1;
 	    	    sscanf(command1, "i", time);
                if(strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set weather (weather)") && 1 || 1;
                if(time < 0) time = 0;
                new str[128];
    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set weather to %d (EVENT #%d)", Player[playerid][UserName], time, Player[playerid][eventMember]+1);
    			foreach(Player, j)
				{
					if(Player[j][eventMember] == Player[playerid][eventMember])
					{
						SendClientMessage(j, -1, str);
						SetPlayerWeather(j, time);
					}
				}
				EventInfo[eventID][e_Weather] = time;
				return 1;
			}
			
			if(strfind(command0, "gravity") == 0)
 	    	{
 	    	    new Float:intensity = 0.008;
 	    	    sscanf(command1, "f", intensity);
 	    	    
                if(strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set gravity (Float:intensity | Default: 0.008)") && 1 || 1;
                
                new str[128];
    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set gravity to %.8f (EVENT #%d)", Player[playerid][UserName], intensity, Player[playerid][eventMember]+1);
    			
				foreach(Player, j)
				{
					if(Player[j][eventMember] == Player[playerid][eventMember])
					{
					    SendClientMessage(j, -1, str);
					    SetPlayerGravity(j, intensity);
					}
				}
				
				EventInfo[eventID][e_Gravity] = intensity;
				return 1;
 	    	}
			
			if(strfind(command0, "weapon") == 0)
 	    	{
 	    	    new ID = -1, Float:radius = 0.0, weaponid = 0, ammo = 1000, command_team = 1, gunname[32];
 	    	    
 	    	    sscanf(command1, "f", radius);
 	    	    sscanf(command1, "i", ID);
 	    	    sscanf(command2, "i", weaponid);
                sscanf(command3, "i", ammo);
                sscanf(command4, "i", command_team);
                
 	    	    if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;

				if(command_team < 1 || command_team > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: Min.1 and Max. 6 teams)") && 1 || 1;
  	        	if(!EventInfo[eventID][e_IsTeamActive][command_team-1]) return SendClientMessage(playerid, -1, "{ffc34d}|: This team is not activated, /event set teams") && 1 || 1;

 	    	    if(ID == -1 && radius == 0.0 && weaponid == 0 && ammo == 0 || strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set weapon (player id / radius) (weaponid) (ammo) ([...team])") && 1 || 1;
 	    	    else
 	    		{
 	    		    if(ID > -1)
 	    		    {
 	    		        if(!IsPlayerConnected(ID) || ID >= MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set weapon (player id / radius) (weaponid) (ammo) ([...team])") && 1 || 1;
 	    		        if(Player[playerid][eventMember] != Player[ID][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set weapon (player id / radius) (weaponid) (ammo) ([...team])") && 1 || 1;
 	    		        new str[128];
		    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set %s's weapon (%s #%d)", Player[playerid][UserName], Player[ID][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
						
						GetWeaponName(weaponid, gunname, sizeof(gunname));
						if(GetPVarInt(ID, gunname) <= 1) GivePlayerWeaponAC(ID, weaponid, min(ammo, 1000));
 	    	    		else SetPlayerAmmoAC(ID, weaponid, ammo);
 	    	    		
 	    	    		SetPVarInt(ID, gunname, ammo);
 	    		    }
 	    		    else if(radius > 0.0)
 	    		    {
 	    		        new str[128], Float:pos[3];
		    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has set weapon in a range (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
						
						GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
						foreach(Player, j)
						{
							if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2]))
							{
								if(Player[j][eventMember] == Player[playerid][eventMember] && GetPlayerTeamEx(j) == (3*(eventID+1))+(command_team-1))
								{
								    GetWeaponName(weaponid, gunname, sizeof(gunname));
								    
								    if(GetPVarInt(j, gunname) <= 1) GivePlayerWeaponAC(j, weaponid, min(ammo, 1000));
 	    	    					else SetPlayerAmmoAC(j, weaponid, min(ammo, 1000));
 	    	    					SetPVarInt(j, gunname, min(ammo, 1000));
								}
							}
						}
 	    		    }
				}
				return 1;
			}
			
			if(strfind(command0, "spawn") == 0)
			{
			    something = false;
			    for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][2]) { something = true; break; }
			    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
			    
			    if(something)
			    {
				    new ID, Float:pos[4];
				    if(sscanf(command1, "i", ID)) return SendClientMessage(playerid, -1, "{ffc34d}/event set spawn (spawn number) [LIMIT 6]") && 1 || 1;
					if((ID-1) < 0 || (ID-1) >= 17) return SendClientMessage(playerid, -1, "{ffc34d}/event set spawn (spawn number) [LIMIT 6]") && 1 || 1;
					if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
					if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;

	                
					GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
					GetPlayerFacingAngle(playerid, pos[3]);
					
					switch(ID)
					{
					    case 1:
					    {
					        EventInfo[eventID][e_HumanPos][0] = pos[0];
							EventInfo[eventID][e_HumanPos][1] = pos[1];
				            EventInfo[eventID][e_HumanPos][2] = pos[2];
				            EventInfo[eventID][e_HumanPos][3] = pos[3];
					    }
					    case 2:
					    {
					        EventInfo[eventID][e_HumanPos][4] = pos[0];
							EventInfo[eventID][e_HumanPos][5] = pos[1];
				            EventInfo[eventID][e_HumanPos][6] = pos[2];
				            EventInfo[eventID][e_HumanPos][7] = pos[3];
					    }
					    case 3:
					    {
					        EventInfo[eventID][e_HumanPos][8] = pos[0];
							EventInfo[eventID][e_HumanPos][9] = pos[1];
				            EventInfo[eventID][e_HumanPos][10] = pos[2];
				            EventInfo[eventID][e_HumanPos][11] = pos[3];
					    }
					    case 4:
					    {
					        EventInfo[eventID][e_HumanPos][12] = pos[0];
							EventInfo[eventID][e_HumanPos][13] = pos[1];
				            EventInfo[eventID][e_HumanPos][14] = pos[2];
				            EventInfo[eventID][e_HumanPos][15] = pos[3];
					    }
					    case 5:
					    {
					        EventInfo[eventID][e_HumanPos][16] = pos[0];
							EventInfo[eventID][e_HumanPos][17] = pos[1];
				            EventInfo[eventID][e_HumanPos][18] = pos[2];
				            EventInfo[eventID][e_HumanPos][19] = pos[3];
					    }
					    case 6:
					    {
					        EventInfo[eventID][e_HumanPos][20] = pos[0];
							EventInfo[eventID][e_HumanPos][21] = pos[1];
				            EventInfo[eventID][e_HumanPos][22] = pos[2];
				            EventInfo[eventID][e_HumanPos][23] = pos[3];
					    }
					    default:
					    {
					        EventInfo[eventID][e_HumanPos][0] = pos[0];
							EventInfo[eventID][e_HumanPos][1] = pos[1];
				            EventInfo[eventID][e_HumanPos][2] = pos[2];
				            EventInfo[eventID][e_HumanPos][3] = pos[3];
					    }
					}
					
					

		            SendClientMessage(playerid, -1, "{FFF000}>> Set!");
				}
				return 1;
			}
			
			if(strfind(command0, "min") == 0)
 	    	{
 	    	    if(EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event already started") && 1 || 1;
 	    	    if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
				if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
				new count;
				if(sscanf(command1, "i", count)) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set min (min players)") && 1 || 1;
				if(count < 1 || count > MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set min (min players)") && 1 || 1;
				
				EventInfo[eventID][e_minPlayers] = count;
				SendClientMessageFormat(playerid, -1, "{ffc34d}|: Min. players is set to %d", count);
				return 1;
 	    	}
 	    	
 	    	if(strfind(command0, "max") == 0)
 	    	{
 	    	    if(EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event already started") && 1 || 1;
 	    	    if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
				if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
				new count;
				if(sscanf(command1, "i", count)) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set max (min players)") && 1 || 1;
				if(count < 1 || count > MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set max (min players)") && 1 || 1;

				EventInfo[eventID][e_maxPlayers] = count;
				SendClientMessageFormat(playerid, -1, "{ffc34d}|: Max. players is set to %d", count);
				return 1;
 	    	}
			
			if(strfind(command0, "skin") == 0)
 	    	{
			    something = false;
			    for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][4]) { something = true; break; }
			    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;

			    if(something)
			    {
	 	    	    if(strlen(command1) <= 0 || strval(command1) < 0 || strval(command1) > 311) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set skin (skin id) ([...team])") && 1 || 1;
	 	    	    if(strlen(command2) >= 1)
	 	    	    {
	 	    	        if(strval(command2) < 1 || strval(command2) > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: /event set skin (skin id) (1-6)") && 1 || 1;
	 	    	        if(!EventInfo[eventID][e_IsTeamActive][strval(command2)-1]) return SendClientMessage(playerid, -1, "{ffc34d}|: This team is not activated, /event set teams") && 1 || 1;

	                    foreach(Player, j)
	 	    		    {
							if(Player[j][eventMember] == Player[playerid][eventMember] && GetPlayerTeamEx(j) == (3*(eventID+1))+(strval(command2)-1))
							{
							    SetPlayerSkinAC(j, strval(command1), 1);
							    SetPlayerColor(j, EventColors[strval(command2)-1]);
							}
						}
					}
	 	    	    else
	 	    		{
	 	    		    foreach(Player, j)
	 	    		    {
	 	    		        if(Player[j][eventMember] == Player[playerid][eventMember])
	 	    		        {
	 	    		            SetPlayerSkinAC(j, strval(command1), 1);
	 	    		            SetPlayerColor(j, EventColors[strval(command2)-1]);
	 	    		        }
	 	    		    }
					}
				}
				return 1;
			}
		}
		return 1;
	}

	if(strfind(command, "take") == 0)
 	{
 	    if(strfind(command0, "weapons") == 0)
 		{
 		    new something = false, i, eventID = Player[playerid][eventMember];
		    for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID]) { something = true; break; }
		    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		    if(something)
		    {
		        new command_team = -1, Float:radius = 0.0;
				sscanf(command1, "i", command_team);
				sscanf(command1, "f", radius);
				
			 	if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;
				if(command_team > -1)
				{
					if(command_team < 1 || command_team > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: Min.1 and Max. 6 teams)") && 1 || 1;
	  				if(!EventInfo[eventID][e_IsTeamActive][command_team-1]) return SendClientMessage(playerid, -1, "{ffc34d}|: This team is not activated, /event set teams") && 1 || 1;
				}
				
				if(command_team == -1 && radius == 0.0)
    		    {
    		        new str[128];
	    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has take weapons (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

					foreach(Player, j)
					{
						if(Player[j][eventMember] == Player[playerid][eventMember])
						{
						   ResetWeapons(j);
						}
					}
    		    }
    		    else if(command_team > -1)
    		    {
    		        new str[128];
	    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has take weapons from a team (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

					foreach(Player, j)
					{
						if(Player[j][eventMember] == Player[playerid][eventMember] && GetPlayerTeamEx(j) == (3*(eventID+1))+(command_team-1))
						{
						   ResetWeapons(j);
						}
					}
    		    }
    		    else if(radius > 0.0)
    		    {
    		        new str[128], Float:pos[3];
	    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has take weapons in a range (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

					GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
					foreach(Player, j)
					{
						if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2]))
						{
							if(Player[j][eventMember] == Player[playerid][eventMember])
							{
								ResetWeapons(j);
							}
						}
					}
    		    }
				return 1;
		    }
		    return 1;
		}
 	    if(strfind(command0, "weapon") == 0)
 		{
 		    new something = false, i, eventID = Player[playerid][eventMember];
		    for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID]) { something = true; break; }
		    if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;

		    if(something)
		    {
				new ID = -1, command_team = -1, Float:radius = 0.0;
				sscanf(command1, "i", ID);
				sscanf(command2, "i", command_team);
				sscanf(command2, "f", radius);
				if(command_team == -1 && radius == 0.0 || strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event take weapon (weapon) ([...player id / radius])") && 1 || 1;
				
				if(ID >= 0 && ID <= 45)
				{
				    if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: ERROR") && 1 || 1;
					new gunname[32];
					GetWeaponName(ID, gunname, sizeof(gunname));
                    
					if(radius > 0.0)
				    {
	       				new str[128], Float:pos[3];
		    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has take weapon in a range (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

						GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
						foreach(Player, j)
						{
							if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2]))
							{
								if(Player[j][eventMember] == Player[playerid][eventMember])
								{
					               	SetPVarInt(j, gunname, 0);
					        		SetPlayerAmmoAC(j, ID, 0);
								}
							}
						}
				    }
				    else if(command_team > -1)
				    {
				        if(!IsPlayerConnected(command_team) || command_team >= MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event take weapon (weapon) ([...player id / radius])") && 1 || 1;
				        if(Player[command_team][eventMember] != Player[playerid][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event take weapon (weapon) ([...player id / radius])") && 1 || 1;
				        new str[128];
		    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has take %s's weapon (%s #%d)", Player[playerid][UserName], Player[command_team][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
						
                        GetWeaponName(ID, gunname, sizeof(gunname));
						SetPVarInt(command_team, gunname, 0);
    					SetPlayerAmmoAC(command_team, ID, 0);
						return 1;
					}
				}
				else return SendClientMessage(playerid, -1, "{ffc34d}|: /event take weapon (weapon) ([...player id / radius])") && 1 || 1;
			}
			return 1;
 		}
 		return 1;
	}
	
    if(strfind(command, "show") == 0)
 	{
 	    if(!Player[playerid][pLogged]) return 1;
  		if(IsPlayerOnDuel[playerid])  return 1;
    	if(Player[playerid][Jailed] >= 1) return 1;
		if(InGangWar{playerid}) return 1;
		if(InGangHouse[playerid]) return 1;
		if(IsPlayerInAnyVehicle(playerid)) return 1;
		if(CockroachAbility[playerid]) return 1;
		if(Player[playerid][pClan] >= 1 && (Player[playerid][pClan] == War[wi_TeamsInBattle][0] || Player[playerid][pClan] == War[wi_TeamsInBattle][1])) return 1;

		new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;

		if(EventInfo[eventID][e_RequestToDelete]) return 1;

        something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    if(strfind(command0, "text") == 0)
 	    	{
 	    	    if(strlen(command1) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event show text (text)") && 1 || 1;
 	    	    else
 	    		{
 	    		    if(!EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event did not started") && 1 || 1;
					if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
					if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;

 	    		    if(CheckForWebsite(command1) || CheckForIP(command1)) return SendClientMessage(playerid, -1, "{ffc34d}|: Use a different text") && 1 || 1;
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) GameTextForPlayer(j, command1, 2000, 5);
				}
				return 1;
			}
		}
		return 1;
	}
	
	if(strfind(command, "freeze") == 0)
	{
	    new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][7]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    //if(EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event already started") && 1 || 1;
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;

			new ID = -1, Float:radius = 0.0, command_team = 1;
		    sscanf(command0, "f", radius);
		    sscanf(command0, "i", ID);
	        sscanf(command1, "i", command_team);

		    if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;

			if(command_team < 1 || command_team > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: Min.1 and Max. 6 teams)") && 1 || 1;
	    	if(!EventInfo[eventID][e_IsTeamActive][command_team-1]) return SendClientMessage(playerid, -1, "{ffc34d}|: This team is not activated, /event set teams") && 1 || 1;

		    if(ID == -1 && radius == 0.0 || strlen(command0) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event freeze (player id / radius) ([...team])") && 1 || 1;
		    else
			{
			    if(ID > -1)
			    {
			        if(!IsPlayerConnected(ID) || ID >= MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event freeze (player id / radius) ([...team])") && 1 || 1;
			        if(Player[playerid][eventMember] != Player[ID][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event freeze (player id / radius) ([...team])") && 1 || 1;
                    if(EventInfo[eventID][e_OwnerID] != Player[ID][pAccountID])
                    {
                        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[ID][pAccountID] && EventInfo[eventID][e_RulersPermisions][7]) {}
                        else
                        {
							new str[128];
			    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has froze %s (%s #%d)", Player[playerid][UserName], Player[ID][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
							foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
							TogglePlayerControllable(ID, 0);
						}
					}
				}
			    else if(radius > 0.0)
			    {
			        new str[128], Float:pos[3];
	    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has froze players in a range (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

					GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
					foreach(Player, j)
					{
						if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2]))
						{
							if(Player[j][eventMember] == Player[playerid][eventMember] && GetPlayerTeamEx(j) == (3*(eventID+1))+(command_team-1) && EventInfo[eventID][e_OwnerID] != Player[j][pAccountID])
							{
							    for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[j][pAccountID] && EventInfo[eventID][e_RulersPermisions][7]) {}
							    else TogglePlayerControllable(j, 0);
							}
						}
					}
			    }
		    	return 1;
			}
		}
		return 1;
 	}
 	
 	if(strfind(command, "getall") == 0)
	{
	    new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][7]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    //if(EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event already started") && 1 || 1;
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
			if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;
   			new str[128], Float:pos[3];
			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has teleported all players to him (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
			foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
			foreach(Player, j)
			{
				if(Player[j][eventMember] == Player[playerid][eventMember] && j != playerid)
				{
    				SetPlayerPos(j, pos[0] + 0.2, pos[1] + 0.2, pos[2] + 0.5);
				}
			}
		}
		return 1;
	}
 	
 	if(strfind(command, "get") == 0)
	{
	    new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][7]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    //if(EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event already started") && 1 || 1;
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;

			new ID = -1, Float:radius = 0.0, command_team = 1;
		    sscanf(command0, "f", radius);
		    sscanf(command0, "i", ID);
	        sscanf(command1, "i", command_team);

		    if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;

			if(command_team < 1 || command_team > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: Min.1 and Max. 6 teams)") && 1 || 1;
	    	if(!EventInfo[eventID][e_IsTeamActive][command_team-1]) return SendClientMessage(playerid, -1, "{ffc34d}|: This team is not activated, /event set teams") && 1 || 1;

		    if(ID == -1 && radius == 0.0 || strlen(command0) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event get (player id / radius) ([...team])") && 1 || 1;
		    else
			{
			    if(ID > -1)
			    {
			        if(!IsPlayerConnected(ID) || ID >= MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event get (player id / radius) ([...team])") && 1 || 1;
			        if(Player[playerid][eventMember] != Player[ID][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event get (player id / radius) ([...team])") && 1 || 1;
			        new str[128], Float:pos[3];
	    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has teleported %s to him (%s #%d)", Player[playerid][UserName], Player[ID][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
					GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
					SetPlayerPos(ID, pos[0] + 0.2, pos[1] + 0.2, pos[2] + 0.5);
			    }
			    else if(radius > 0.0)
			    {
			        new str[128], Float:pos[3];
	    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has teleported players in a range to him (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

					GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
					foreach(Player, j)
					{
						if(Player[j][eventMember] == Player[playerid][eventMember] && GetPlayerTeamEx(j) == (3*(eventID+1))+(command_team-1) && j != playerid)
						{
		    				SetPlayerPos(j, pos[0] + 0.2, pos[1] + 0.2, pos[2] + 0.5);
						}
					}
			    }
	            return 1;
	        }
		}
	}

    if(strfind(command, "edit") == 0)
	{
	    new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][0]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    new ID;
		    if(sscanf(command0, "i", ID)) return SendClientMessage(playerid, -1, "{ffc34d}|: /event edit (object id)") && 1 || 1;
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
            if(ID < 0 || ID > 100 || !IsValidDynamicObject(EventInfo[eventID][e_Objects][ID])) return SendClientMessage(playerid, -1, "{ffc34d}|: /event edit (object id)") && 1 || 1;
            EditDynamicObject(playerid, EventInfo[eventID][e_Objects][ID]);
		}
	}
	
	if(strfind(command, "here") == 0)
	{
	    new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][7]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    new Float:pos[3];
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
            GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
			EventInfo[eventID][e_defaultPoses][0] = pos[0];
			EventInfo[eventID][e_defaultPoses][1] = pos[1];
            EventInfo[eventID][e_defaultPoses][2] = pos[2];
            SendClientMessage(playerid, -1, "{FFF000}>> Set!");
		}
		return 1;
	}
	
	if(strfind(command, "odel") == 0)
	{
	    new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][0]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    new ID;
		    if(sscanf(command0, "i", ID)) return SendClientMessage(playerid, -1, "{ffc34d}|: /event odel (object id)") && 1 || 1;
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
            if(ID < 0 || ID > 100 || !IsValidDynamicObject(EventInfo[eventID][e_Objects][ID])) return SendClientMessage(playerid, -1, "{ffc34d}|: /event edit (object id)") && 1 || 1;
			DestroyDynamicObject(EventInfo[eventID][e_Objects][ID]);
			EventInfo[eventID][e_Objects][ID] = INVALID_OBJECT_ID;
		}
	}

	if(strfind(command, "object") == 0)
	{
	    new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][0]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    new ID, Float:pos[3];
		    if(sscanf(command0, "i", ID)) return SendClientMessage(playerid, -1, "{ffc34d}|: /event object (object id)") && 1 || 1;
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;
            GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
            GetXYInFrontOfPlayer(playerid, pos[0], pos[1], 3.0);

	        for( new eoID = 0; eoID < 100; eoID++)
			{
				if(EventInfo[eventID][e_Objects][eoID] == INVALID_OBJECT_ID || !IsValidDynamicObject(EventInfo[eventID][e_Objects][eoID]))
				{
					EventInfo[eventID][e_Objects][eoID] = CreateDynamicObject(ID, pos[0], pos[1], pos[2], 0.0, 0.0, 0.0, GetPlayerVirtualWorld(playerid), -1, -1);
					EditDynamicObject(playerid, EventInfo[eventID][e_Objects][eoID]);
					SendClientMessageFormat(playerid, -1, "{FFF000}[DEVMODE] | Object created: #%d", eoID);
					break;
				}
			}
		}
	}

	if(strfind(command, "unfreeze") == 0)
	{
	    new eventID = Player[playerid][eventMember], i, bool:something;
		if(eventID <= -1) return 1;
		if(EventInfo[eventID][e_RequestToDelete]) return 1;
		something = false;
        for(i = 0; i < 10; i++) if(EventInfo[eventID][e_Rulers][i] == Player[playerid][pAccountID] && EventInfo[eventID][e_RulersPermisions][7]) { something = true; break; }
		if(EventInfo[eventID][e_OwnerID] == Player[playerid][pAccountID]) something = true;
		if(something)
		{
		    //if(EventInfo[eventID][e_IsStarted]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event already started") && 1 || 1;
			if(EventInfo[eventID][e_IsEnded]) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event is preparing to ending") && 1 || 1;
			if(EventInfo[eventID][e_RequestToDelete]) return SendClientMessage(playerid, -1, "{ffc34d}|: Event in reset processing") && 1 || 1;

			new ID = -1, Float:radius = 0.0, command_team = 1;
		    sscanf(command0, "f", radius);
		    sscanf(command0, "i", ID);
	        sscanf(command1, "i", command_team);

		    if(strlen(EventInfo[eventID][e_Name]) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: Error, event name not set, /event set name") && 1 || 1;

			if(command_team < 1 || command_team > 6) return SendClientMessage(playerid, -1, "{ffc34d}|: Min.1 and Max. 6 teams)") && 1 || 1;
	    	if(!EventInfo[eventID][e_IsTeamActive][command_team-1]) return SendClientMessage(playerid, -1, "{ffc34d}|: This team is not activated, /event set teams") && 1 || 1;

		    if(ID == -1 && radius == 0.0 || strlen(command0) <= 0) return SendClientMessage(playerid, -1, "{ffc34d}|: /event unfreeze (player id / radius) ([...team])") && 1 || 1;
		    else
			{
			    if(ID > -1)
			    {
			        if(!IsPlayerConnected(ID) || ID >= MAX_PLAYERS) return SendClientMessage(playerid, -1, "{ffc34d}|: /event unfreeze (player id / radius) ([...team])") && 1 || 1;
			        if(Player[playerid][eventMember] != Player[ID][eventMember]) return SendClientMessage(playerid, -1, "{ffc34d}|: /event unfreeze (player id / radius) ([...team])") && 1 || 1;
			        new str[128];
	    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has thawed %s (%s #%d)", Player[playerid][UserName], Player[ID][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);
					TogglePlayerControllable(ID, 1);
			    }
			    else if(radius > 0.0)
			    {
			        new str[128], Float:pos[3];
	    			format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has thawed players in a range (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
					foreach(Player, j) if(Player[j][eventMember] == Player[playerid][eventMember]) SendClientMessage(j, -1, str);

					GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
					foreach(Player, j)
					{
						if(IsPlayerInRangeOfPoint(j, radius, pos[0], pos[1], pos[2]))
						{
							if(Player[j][eventMember] == Player[playerid][eventMember] && GetPlayerTeamEx(j) == (3*(eventID+1))+(command_team-1))
							{
							    TogglePlayerControllable(j, 1);
							}
						}
					}
			    }
		    	return 1;
			}
		}
		return 1;
 	}
 	
    if(!strlen(command) || strfind(command, "help") == 0)
	{
	    SendClientMessage(playerid, -1, "/event help");
	    SendClientMessage(playerid, -1, "/event join");
	    SendClientMessage(playerid, -1, "/event leave");
	    if(GetUnlockedSlot(Player[playerid][pSettings], 29) == 1 || IsEventRuler(playerid))
	    {
			//SendClientMessage(playerid, -1, "/jetpack");
			SendClientMessage(playerid, -1, "/event set permissions [ON|OFF] (dev mode) ([...close joins, set spawns, set car spawns, set skins, set teams, kick players])"); // OK
			SendClientMessage(playerid, -1, "/event set ruler (account id) ([...off])"); // OK
			SendClientMessage(playerid, -1, "/event set min (min players count)"); // OK
			SendClientMessage(playerid, -1, "/event set max (max players count)"); // OK
			SendClientMessage(playerid, -1, "/event set spawn (spawn number)"); // OK
			SendClientMessage(playerid, -1, "/event set team (player id / radius) (team)"); // OK
			SendClientMessage(playerid, -1, "/event set car (car number) (carid) (color1) (color2) ([...for team])  [LIMIT 18]"); // OK
			SendClientMessage(playerid, -1, "/event here (sets ruler & creator default spawn pos)"); // OK
			SendClientMessage(playerid, -1, "/event odel (event's object id)"); // OK
			SendClientMessage(playerid, -1, "/event edit (event's object id)"); // OK
			SendClientMessage(playerid, -1, "/event object (object id)"); // OK
			SendClientMessage(playerid, -1, "/event devmode"); // OK
            SendClientMessage(playerid, -1, "/event get (player id / radius) ([...team])"); // OK
            SendClientMessage(playerid, -1, "/event getall"); // OK
			SendClientMessage(playerid, -1, "/event freeze (player id / radius) ([...team])"); // OK
			SendClientMessage(playerid, -1, "/event unfreeze (player id / radius) ([...team])"); // OK
			SendClientMessage(playerid, -1, "/event set name (name)"); // OK
			SendClientMessage(playerid, -1, "/event set weapon (player id / radius) (weaponid) (ammo) ([...team])"); // OK
			SendClientMessage(playerid, -1, "/event set hp (player id / radius) ([...team])"); // OK
			SendClientMessage(playerid, -1, "/event set armor (player id / radius) ([...team])"); // OK
			SendClientMessage(playerid, -1, "/event start");// OK
			SendClientMessage(playerid, -1, "/event close joins"); // OK
			SendClientMessage(playerid, -1, "/event end");// ok
			SendClientMessage(playerid, -1, "/event show text (text)"); // OK
			SendClientMessage(playerid, -1, "/event kick (player id)"); // OK
			SendClientMessage(playerid, -1, "/event set skin (skin id) ([...team])");// OK
			SendClientMessage(playerid, -1, "/event set rank (min rank)"); // OK
			SendClientMessage(playerid, -1, "/event set exp (min exp)"); // OK
			SendClientMessage(playerid, -1, "/event set gang"); // OK
			SendClientMessage(playerid, -1, "/event set teams (1 - 6)"); // OK
			SendClientMessage(playerid, -1, "/event set gravity (intensity | Default: 0.008)"); // OK
			SendClientMessage(playerid, -1, "/event set pickup (number 1 ~ 40) (Pickup = Object ID)"); // OK
			SendClientMessage(playerid, -1, "/event set time (time)"); // OK
			SendClientMessage(playerid, -1, "/event set weather (weather)"); // OK
			
	    }
	    return 1;
	}
    return 1;
}

fun FirePlayerFromAGang(playerid)
{
	if(cache_num_rows() > 0)
	{
	    new clan, rank, id, name[MAX_PLAYER_NAME];
	    cache_get_value_name_int(0, "Clan", clan);
		cache_get_value_name_int(0, "ClanRank", rank);
		cache_get_value_name_int(0, "ID", id);
		cache_get_value_name(0, "Name", name, MAX_PLAYER_NAME);
		
		if(Player[playerid][pClan] != clan || Player[playerid][pClan] == clan && Player[playerid][pClanRank] <= rank)
		{
		    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][135]);
			return 1;
		}
		
		new query[144];
		mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan` = '0',`ClanRank` = '0' WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
		mysql_tquery(Base, query, "", "", "");
		
		foreach(Player, i)
        {
            if(Player[i][pClan] == Player[playerid][pClan])
            {
                SendClientMessageFormat(i, -1, "{C659B6}>> %s has been fired by %s", name, Player[playerid][UserName]);
			}
        }
        
        foreach(Player, i)
		{
			if(Player[i][pAccountID] == id)
            {
                Player[i][pClanWarns] = 0;
	            Player[i][pClan] = 0;
	            Player[i][pClanRank] = 0;
            }
		}
		
        Clan[Player[playerid][pClan]][g_MaxMembers]--;
        SetGangBuff(Player[playerid][pClan], Clan[Player[playerid][pClan]][g_MaxMembers]);
        #if debug_mode == 0
        new __action[200], y, m, d, h, minutes, s;
		TimestampToDate(gettime(), y, m, d, h, minutes, s, 3);
		DiscordChannel = DCC_FindChannelById("662009624110694440");
		format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has been fired by %s\n```", d, m, y, h, minutes, Player[playerid][pClan], name, Player[playerid][UserName]);
		DCC_SendChannelMessageEx(DiscordChannel, __action);
		#endif
	}
	else
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][161]);
	}
	return 1;
}

fun CreateAGang(playerid, kid, targetid, const amount[])
{
	Clan[kid][__RealID] = cache_insert_id();
	if(Clan[kid][__RealID] > -1)
	{
		foreach(Player, i) SendClientMessageFormat(i, -1,  serverLang[Player[i][pLang]][121], Player[targetid][UserName], amount, kid);
		Player[targetid][pClan] = kid;
		Player[targetid][pClanRank] = 6;

		strmid(Clan[Player[targetid][pClan]][Full], amount, 0, 128, 129);
		strmid(Clan[Player[targetid][pClan]][Short], amount, 0, 5, 6);
		strmid(Clan[Player[targetid][pClan]][Rank_0], "Peon", 0, 6, 6);
		strmid(Clan[Player[targetid][pClan]][Rank_1], "Policeman", 0, 15, 15);
		strmid(Clan[Player[targetid][pClan]][Rank_2], "Scout", 0, 8, 8);
		strmid(Clan[Player[targetid][pClan]][Rank_3], "Agent", 0, 8, 8);
		strmid(Clan[Player[targetid][pClan]][Rank_4], "Senior Agent", 0, 20, 20);
		strmid(Clan[Player[targetid][pClan]][Rank_5], "Director", 0, 20, 20);
		strmid(Clan[Player[targetid][pClan]][Owner], Player[targetid][UserName], 0, 25, 25);
		Clan[kid][__isActive] = true;
		Clan[kid][EXP] = 0;

		Clan[kid][g_isClosed] = 0;
	    Clan[kid][g_MinExp] = 0;
	    Clan[kid][g_MaxPayAmt] = 5000;
	    Clan[kid][g_MaxWarns] = 3;
	    Clan[kid][g_RankToPromote] = 2;
	    Clan[kid][g_RankToAccept] = 3;
	    Clan[kid][g_RankToWarn] = 3;
	    Clan[kid][g_RankToMotd] = 5;
	    Clan[kid][g_RankGivePayDay] = 5;
	    Clan[kid][g_RankToEdit] = 6;
	    Clan[kid][g_RankToEditReq] = 6;
	    Clan[kid][g_RankToChangeRules] = 5;
		Clan[kid][g_RankToBan] = 5;
		Clan[kid][g_MaxMembers] = 1;
		Clan[kid][g_IsNeutral] = 1;
		Clan[kid][g_CanPanelUse] = 6;
		Clan[kid][g_OwnerID] = Player[targetid][pAccountID];
		

		SetGangBuff(kid, Clan[kid][g_MaxMembers]);

		for( new i; i < 30; i++ )
		{
		    Clan[kid][g_EnemysWith][i] = 0;
		    Clan[kid][g_AllianceWith][i] = 0;
			Clan[kid][g_Cups][i] = 0;
		    Clan[kid][g_CupsAlliance][i] = 0;

		    Clan[i][g_EnemysWith][kid] = 0;
		    Clan[i][g_AllianceWith][kid] = 0;
		    Clan[i][g_CupsAlliance][kid] = 0;
		}

		if(GetUnlockedSlot(Achievements[targetid][esClan], 1) == 0)
	    {
	        UnlockAchievement(targetid, 36, 200);
	        SetUnlockedSlot(Achievements[targetid][esClan], 1, 1);
	    }
	    if(GetUnlockedSlot(Achievements[targetid][esClan], 2) == 0)
	    {
	        UnlockAchievement(targetid, 37, 1000);
	        SetUnlockedSlot(Achievements[targetid][esClan], 2, 1);
		}

		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /gang create on player %s\n```",  Player[playerid][RealName], Player[targetid][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	}
	return 1;
}

public OnPlayerEditDynamicObject(playerid, objectid, response, Float:x, Float:y, Float:z, Float:rx, Float:ry, Float:rz)
{
    if(response == EDIT_RESPONSE_FINAL)
    {
		SetDynamicObjectPos(objectid, x, y, z);
		SetDynamicObjectRot(objectid, rx, ry, rz);
	}
	return 1;
}

CMD:gang(playerid, const params[])
{
	new command[32], name[96], amount[128];
	//sscanf(params, "S()[32]I(-1)", command, index);
	sscanf(params, "S()[32]S()[96]S()[128]", command, name, amount);
	
	if(!strlen(command) || strfind(command, "help") == 0)
	{
    	SendClientMessage(playerid, -1, "/gang list");
     	SendClientMessage(playerid, -1, "/gang members");
     	SendClientMessage(playerid, -1, "/gang chat");
     	SendClientMessage(playerid, -1, "/gang mot");
     	SendClientMessage(playerid, -1, "/gang rules");
     	SendClientMessage(playerid, -1, "/gang policy");
      	SendClientMessage(playerid, -1, "/gang info");
      	SendClientMessage(playerid, -1, "/gang pay");
      	SendClientMessage(playerid, -1, "/gang deposit");
       	SendClientMessage(playerid, -1, "/gang join");
       	SendClientMessage(playerid, -1, "/gang accept");
       	SendClientMessage(playerid, -1, "/gang leave");
       	SendClientMessage(playerid, -1, "/gang promote");
       	SendClientMessage(playerid, -1, "/gang demote");
       	SendClientMessage(playerid, -1, "/gang rank");
       	SendClientMessage(playerid, -1, "/gang tag");
       	SendClientMessage(playerid, -1, "/gang name");
       	
       	//SendClientMessage(playerid, -1, "/gang fire");
       	//SendClientMessage(playerid, -1, "/gang ban");
       	//SendClientMessage(playerid, -1, "/gang create - Contact Gang Manager");
     	//SendClientMessage(playerid, -1, "/gang delete - Contact Gang Manager");
       	//SendClientMessage(playerid, -1, "/gang settings");
       	//SendClientMessage(playerid, -1, "/gang warn"); // Add it
       	//SendClientMessage(playerid, -1, "/gang close");
       	//SendClientMessage(playerid, -1, "/gang unban");
       	//SendClientMessage(playerid, -1, "/gang cups");
       	/*SendClientMessage(playerid, -1, "/gang alliance");
       	SendClientMessage(playerid, -1, "/gang terminate");
       	SendClientMessage(playerid, -1, "/gang war");
       	SendClientMessage(playerid, -1, "/gang cup ...[cup id]");
       	SendClientMessage(playerid, -1, "/gang 1x1 (playerid)");
       	SendClientMessage(playerid, -1, "/gang 2x2 (playerid) (playerid)");
       	SendClientMessage(playerid, -1, "/gang 3x3 (playerid) (playerid) (playerid)");
       	SendClientMessage(playerid, -1, "/gang house");
       	SendClientMessage(playerid, -1, "/gang neutral");
       	SendClientMessage(playerid, -1, "/gang applications");*/
	}
	else
	{
 	    if(strfind(command, "mot") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) mot");
		        }
			}
			if(Player[playerid][pClan] >= 1)
			{
				if(strlen(name) <= 0 || strlen(name) >= 1 && Player[playerid][pClanRank] < Clan[Player[playerid][pClan]][g_RankToMotd])
				{
				    SendClientMessageFormat(playerid, -1, "{C659B6}>> Gang mot: %s", Clan[Player[playerid][pClan]][g_Motd]);
	       			return 1;
				}
		        if(Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToMotd])
				{
			        if(strlen(name) > 128)
			        {
			            SendClientMessage(playerid, -1, "/gang mot (mot)");
			            return 1;
					}
					new fnm[128];
					strins(fnm, name, 0);
					if(strlen(amount) >= 1)
					{
						strins(fnm, " ", strlen(name));
						strins(fnm, amount, strlen(name)+1);
					}
					strmid(Clan[Player[playerid][pClan]][g_Motd], fnm, 0, 128, 129);
					foreach(Player, i)
	  				{
		                if(Player[i][pClan] == Player[playerid][pClan])
		                {
		                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed the motd, /gang mot", Player[playerid][UserName]);
		                }
		            }
		            
		            #if debug_mode == 0
		            new __action[200], y, m, d, h, minutes, s;
					TimestampToDate(gettime(), y, m, d, h, minutes, s, 3);
					DiscordChannel = DCC_FindChannelById("662009624110694440");
					format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has changed the motd (%s)\n```", d, m, y, h, minutes, Player[playerid][pClan], Player[playerid][UserName], Clan[Player[playerid][pClan]][g_Motd]);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
					
		            return 1;
				}
			}
	    }
 	
        if(strfind(command, "rules") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) rules");
		        }
			}
			if(Player[playerid][pClan] >= 1)
			{
				if(strlen(name) <= 0 || strlen(name) >= 1 && Player[playerid][pClanRank] < Clan[Player[playerid][pClan]][g_RankToChangeRules])
				{
				    SendClientMessageFormat(playerid, -1, "{C659B6}>> Gang rules: %s", Clan[Player[playerid][pClan]][g_Rules]);
	       			return 1;
				}
		        if(Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToChangeRules])
				{
			        if(strlen(name) > 128)
			        {
			            SendClientMessage(playerid, -1, "/gang rules (rules)");
			            return 1;
					}
					new fnm[128];
					strins(fnm, name, 0);
					if(strlen(amount) >= 1)
					{
						strins(fnm, " ", strlen(name));
						strins(fnm, amount, strlen(name)+1);
					}
					strmid(Clan[Player[playerid][pClan]][g_Rules], fnm, 0, 128, 129);
					/*printf("%s", name);
					printf("%s", amount);
					printf("%s", fnm);*/
					foreach(Player, i)
	  				{
		                if(Player[i][pClan] == Player[playerid][pClan])
		                {
		                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed the rules, /gang rules", Player[playerid][UserName]);
		                }
		            }
		            
		            #if debug_mode == 0
		            new __action[200], y, m, d, h, minutes, s;
					TimestampToDate(gettime(), y, m, d, h, minutes, s, 3);
					DiscordChannel = DCC_FindChannelById("662009624110694440");
					format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has changed the rules (%s)\n```", d, m, y, h, minutes, Player[playerid][pClan], Player[playerid][UserName], Clan[Player[playerid][pClan]][g_Rules]);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
					
		            return 1;
				}
			}
	    }

	    if(strfind(command, "destroy") == 0)
	    {
	        if(Player[playerid][pAccountID] == 1 || GetUnlockedSlot(Player[playerid][pSettings], 25) == 1)
	        {
		        foreach(Player, i)
			    {
			        if(Player[i][CanCheckCMD])
					{
			            SendClientMessage(i, -1, "{FFA500}>> parameter(s) destroy");
			        }
				}
		  		if(strlen(name) <= 0 || strval(name) == 0 || !Clan[strval(name)][__isActive])
		        {
		            SendClientMessage(playerid, -1, "/gang destroy (id)");
		            return 1;
		        }
		        new query[128];
		        mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan` = '0',`ClanRank` = '0' WHERE `Clan` = '%d' AND `build`='"SERVER_BUILD"'", strval(name));
		 		mysql_tquery(Base, query, "", "", "");
		 		mysql_format(Base, query, sizeof(query), "DELETE FROM `gangs` WHERE `ID` = '%d'", Clan[strval(name)][__RealID]);
		 		mysql_tquery(Base, query, "", "", "");
				
		 		foreach(Player, i)
			 	{
				 	if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][169], Player[playerid][RealName], strval(name));
                    SendClientMessageFormat(i, -1, "{FFF000}>> Gang %s(%d) has been deleted, it's all over %s!", Clan[strval(name)][Full], strval(name), Clan[strval(name)][Owner]);

					if(Player[i][pClan] == strval(name))
					{
					    Player[i][pClan] = 0;
					    Player[i][pClanRank] = 0;
					}
				}
                Clan[strval(name)][__isActive] = false;
                strmid(Clan[strval(name)][Owner], "", 0, 1, 1);
                if(Player[playerid][pAdmin] <= 5)
				{
					#if debug_mode == 0
			        new __action[128];
					DiscordChannel = DCC_FindChannelById("623193667628433438");
					format(__action, sizeof __action, "```\n%s used /gang destroy on gang #%d\n```",  Player[playerid][RealName], strval(name));
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
				}
				return 1;
			}
		}
				
	    if(strfind(command, "create") == 0)
	    {
	        if(Player[playerid][pAccountID] == 1 || GetUnlockedSlot(Player[playerid][pSettings], 25) == 1)
	        {
		        foreach(Player, i)
			    {
			        if(Player[i][CanCheckCMD])
					{
			            SendClientMessage(i, -1, "{FFA500}>> parameter(s) create");
			        }
				}

                if(strlen(name) <= 0)
		        {
		            SendClientMessage(playerid, -1, "/gang create (leader id) (tag)");
		            return 1;
		        }
		        
	         	if(!IsPlayerConnected(strval(name)))
				{
					SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
					return 1;
				}

				new kid;
				for( kid = 1; kid <= sizeof(Clan); kid++ )
				{
				    if(!Clan[kid][__isActive])
					{
				        break;
				    }
				}
		        if(kid >= sizeof(Clan))
		        {
		            SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][130]);
		            return 1;
		        }

	         	if(Player[strval(name)][pClan] <= 0)
		        {
		            if(Player[strval(amount)][pRank] < GlobalGsPolicy[0])
					{
					    SendClientMessage(playerid, -1, "{FFF000}>> The player does not meet the requirements!");
					    return 1;
					}
					if(strlen(amount) > 0 && strlen(amount) < 5)
					{
			        	new query[300], Ranks[] = "Peon,Policeman,Scout,Agent,Senior Agent, Director";
						mysql_format(Base, query, sizeof(query), "INSERT INTO `gangs` (`Short`,`Full`,`EXP`,`Ranks`,`Wins`,`Loses`,`Owner`,`build`,`igID`) VALUES ('%e','%e',0,'%e',0,0,'%e','"SERVER_BUILD"','%d')", amount, amount, Ranks, Player[strval(name)][UserName], kid);
					 	mysql_tquery(Base, query, "CreateAGang", "iiis", playerid, kid, strval(name), amount);
						return 1;
					}
					else
					{
					    SendClientMessage(playerid, -1, "/gang create (leader id) (tag)");
					}
				}
				else SendClientMessage(playerid, -1, "The player is already in a gang");
		    }
		    else
		    {
		        SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][168], FORUM);
		    }
		}
		
		if(strfind(command, "setleader") == 0)
	    {
	        if(Player[playerid][pAccountID] == 1 || GetUnlockedSlot(Player[playerid][pSettings], 25) == 1)
	        {
		        foreach(Player, i)
			    {
			        if(Player[i][CanCheckCMD])
					{
			            SendClientMessage(i, -1, "{FFA500}>> parameter(s) setleader");
			        }
				}
		        if(strlen(name) <= 0 || (!Clan[strval(name)][__isActive] && strval(name) != 0))
		        {
		            SendClientMessage(playerid, -1, "/gang setleader (gang id) (id)");
		        }
		        else
		        {
		            if(strlen(amount) > 0)
					{
					    if(!IsPlayerConnected(strval(amount)))
						{
							SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
							return 1;
						}
						if(Player[strval(amount)][pRank] < GlobalGsPolicy[0])
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> The player does not meet the requirements!");
						    return 1;
						}
						if(strval(name) > 0)
						{
		            		Player[strval(amount)][pClan] = strval(name);
							Player[strval(amount)][pClanRank] = 6;
						}
						else
						{
						    Player[strval(amount)][pClan] = 0;
							Player[strval(amount)][pClanRank] = 0;
						}
						if(GetUnlockedSlot(Achievements[strval(amount)][esClan], 1) == 0)
			            {
			                UnlockAchievement(strval(amount), 36, 200);
			                SetUnlockedSlot(Achievements[strval(amount)][esClan], 1, 1);
			            }
			            if(GetUnlockedSlot(Achievements[strval(amount)][esClan], 2) == 0)
			            {
			                UnlockAchievement(strval(amount), 37, 1000);
			                SetUnlockedSlot(Achievements[strval(amount)][esClan], 2, 1);
			            }
			            if(Player[playerid][pAdmin] <= 5)
						{
						    #if debug_mode == 0
					        new __action[128];
							DiscordChannel = DCC_FindChannelById("623193667628433438");
							format(__action, sizeof __action, "```\n%s used /gang setleader on player %s\n```", Player[playerid][RealName], Player[strval(amount)][UserName]);
							DCC_SendChannelMessageEx(DiscordChannel, __action);
							#endif
						}
						return 1;
					}
					else
					{
					    SendClientMessage(playerid, -1, "/gang setleader (gang id) (id)");
					    return 1;
					}
		        }
			}
			else
			{
			    SendClientMessage(playerid, -1, "{FFF000}>> A gang can have only 1 founder, if you want to add one more, report it on the forum.");
                return 1;
			}
	    }
		
	    if(strfind(command, "info") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) info");
		        }
			}
	        if(strlen(name) <= 0 || strval(name) == 0 || !Clan[strval(name)][__isActive])
	        {
	            SendClientMessage(playerid, -1, "/gang info (id)");
	            return 1;
	        }
	        else
	        {
	            SendClientMessageFormat(playerid, -1, "{B2F558}+---------- %s (%d EXP){B2F558} ----------+", Clan[strval(name)][Full], Clan[strval(name)][EXP]);
				foreach(Player, i)
	            {
             		if(Player[i][pClan] == strval(name) && FakeData[i][7] <= 0)
	                {
	                    SendClientMessageFormat(playerid, -1, "(Rank %d) >> %s (ID %d)", Player[i][pClanRank], Player[i][UserName], i);
	                }
	            }
	            return 1;
   			}
	    }
	   
	    if(strfind(command, "tag") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) tag");
		        }
			}
	        if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToEdit])
			{
		        if(strlen(name) <= 0 || strlen(name) > 4)
		        {
		            SendClientMessage(playerid, -1, "/gang tag (name)");
		            return 1;
				}
	            foreach(Player, i)
	            {
	                if(Player[i][pClan] == Player[playerid][pClan])
	                {
	                    SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][140], Player[playerid][UserName], name);
	                }
				}
				strmid(Clan[Player[playerid][pClan]][Short], name, 0, 5, 6);
				
				#if debug_mode == 0
				new __action[200], y, m, d, h, minutes, s;
				TimestampToDate(gettime(), y, m, d, h, minutes, s, 3);
				DiscordChannel = DCC_FindChannelById("662009624110694440");
				format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has changed gang tag to %s\n```", d, m, y, h, minutes, Player[playerid][pClan], Player[playerid][UserName], name);
				DCC_SendChannelMessageEx(DiscordChannel, __action);
				#endif
				return 1;
			}
	    }
	    
	    if(strfind(command, "name") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) name");
		        }
			}
	        if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToEdit])
			{
		        if(strlen(name) <= 0 || strlen(name) > 32)
		        {
		            SendClientMessage(playerid, -1, "/gang name (name)");
		            return 1;
				}

				new fnm[64];
				strins(fnm, name, 0);
				if(strlen(amount) >= 1)
				{
					strins(fnm, " ", strlen(name));
					strins(fnm, amount, strlen(name)+1);
				}
				foreach(Player, i)
				{
	                if(Player[i][pClan] == Player[playerid][pClan])
	                {
	                    SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][141], Player[playerid][UserName], fnm);
	                }
				}
				strmid(Clan[Player[playerid][pClan]][Full], fnm, 0, 64, 65);
				
				#if debug_mode == 0
				new __action[200], y, m, d, h, minutes, s;
				TimestampToDate(gettime(), y, m, d, h, minutes, s, 3);
				DiscordChannel = DCC_FindChannelById("662009624110694440");
				format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has changed gang name to %s\n```", d, m, y, h, minutes, Player[playerid][pClan], Player[playerid][UserName], fnm);
				DCC_SendChannelMessageEx(DiscordChannel, __action);
				#endif
				return 1;
			}
	    }
	    
	    if(strfind(command, "deposit") == 0)
	    {
	        if(IsUsingProxy{playerid})
			{
			    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
				return 1;
			}
			if(!CanPay) return 0;
	        if(ProccessPay(playerid))
	        {
		        foreach(Player, i)
			    {
			        if(Player[i][CanCheckCMD])
					{
			            SendClientMessage(i, -1, "{FFA500}>> parameter(s) deposit");
			        }
				}
		        if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= 1)
				{
			        if(strlen(name) <= 0 || strval(name) < 100)
			        {
			            SendClientMessage(playerid, -1, "/gang deposit (amount)");
			            return 1;
					}
	                if(Player[playerid][pXP] >= strval(name))
	                {
	                    if(Player[playerid][pXP] < 15000)
					    {
					        SendClientMessage(playerid, -1,"For security and YouTubers support, you must have atleast 15k experience to use this command!");
			        		return 1;
					    }
	                    
		                Clan[Player[playerid][pClan]][EXP] += strval(name)-GangSetTaxes(playerid, Player[playerid][pClan], strval(name));
		                Player[playerid][pXP] -= strval(name);
			            foreach(Player, i)
			            {
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][139], Player[playerid][UserName], strval(name), strval(name)-GangSetTaxes(playerid, Player[playerid][pClan], strval(name)));
			                }
			            }
			            new y, m, d, h, i, s, query[256], str[24], ip[16];
	        			format(str, sizeof(str), "gang #%d", Player[playerid][pClan]);
					  	TimestampToDate(gettime(), y, m, d, h, i, s, 3);
	                    GetPlayerIp(playerid, ip, 16);
						mysql_format(Base, query, sizeof(query), "INSERT INTO `payments` (`from`,`whom`,`amount`,`type`,`date`,`id`,`ip`) VALUES ('%e','%e','%d','%d','%d','%d','%e')", Player[playerid][UserName], str, strval(name), 1, gettime(), Player[playerid][pAccountID], ip);
					 	mysql_tquery(Base, query, "", "", "");
                        #if debug_mode == 0
						DiscordChannel = DCC_FindChannelById("622114307131572225");
						format(query, sizeof query, "```\n%s has deposited %d EXP to gang #%d [Date: %02d/%02d/%04d | Time: %02d:%02d]\n```", Player[playerid][UserName], strval(name), Player[playerid][pClan], d, m, y, h, i);
						DCC_SendChannelMessageEx(DiscordChannel, query);
						#endif
					}
					return 1;
				}
			}
	    }
	    
	    if(strfind(command, "pay") == 0)
	    {
	        if(IsUsingProxy{playerid})
			{
			    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
				return 1;
			}
			if(!CanPay) return 0;
	        if(ProccessPay(playerid))
	        {
		        foreach(Player, i)
			    {
			        if(Player[i][CanCheckCMD])
					{
			            SendClientMessage(i, -1, "{FFA500}>> parameter(s) pay");
			        }
				}
		        if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankGivePayDay])
				{
			        if(strlen(name) <= 0)
			        {
			            SendClientMessage(playerid, -1, "/gang pay (id) (amount)");
			            return 1;
			        }
			        if(strlen(amount) <= 0 || strval(amount) < 100)
			        {
			            SendClientMessage(playerid, -1, "/gang pay (id) (amount)");
			            return 1;
			        }
			        else if(strlen(amount) > Clan[Player[playerid][pClan]][g_MaxPayAmt])
			        {
			            SendClientMessageFormat(playerid, -1, "{FFF000}>> Withdrawal limit: %d EXP", Clan[Player[playerid][pClan]][g_MaxPayAmt]);
			            return 1;
			        }
			        else
			        {
			            if(!IsPlayerConnected(strval(name)))
						{
							SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
							return 1;
						}
		                if(Clan[Player[playerid][pClan]][EXP] < strval(amount))
		                {
		                    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][131]);
		                    return 1;
		                }
		                if(Player[strval(name)][pClan] != Player[playerid][pClan])
		                {
		                    SendClientMessage(playerid, -1, "/gang pay (id) (amount)");
			            	return 1;
		                }
		                
		                if(Player[strval(name)][pXP] < 15000)
					    {
					        SendClientMessage(playerid, -1,"For security and YouTubers support, he/she must have atleast 15k experience to be paid!");
			        		return 1;
					    }

		                Clan[Player[playerid][pClan]][EXP] -= strval(amount);
		                Player[strval(name)][pXP] += strval(amount) - GangSetTaxes(playerid, Player[playerid][pClan], strval(name));

		                GameTextForPlayer(strval(name), "~y~YOU ~g~GOT ~r~XP", 2000, 5);

			            foreach(Player, i)
			            {
			                if(Player[i][pClan] == Player[playerid][pClan] || (Player[i][pAdmin] > 0 && Player[i][pLogged] && i != playerid))
			                {
			                    SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][132], Player[playerid][UserName], Player[strval(name)][UserName], strval(amount), strval(amount) - GangSetTaxes(playerid, Player[playerid][pClan], strval(name)));
			                }
						}

						new y, m, d, h, i, s, query[256], ip[16];
					  	TimestampToDate(gettime(), y, m, d, h, i, s, 3);
						GetPlayerIp(playerid, ip, 16);
						mysql_format(Base, query, sizeof(query), "INSERT INTO `payments` (`from`,`whom`,`amount`,`type`,`date`,`id`,`ip`) VALUES ('%e','%e','%d','%d','%d','%d','%e')", Player[playerid][UserName], Player[strval(name)][UserName], strval(amount), 2, gettime(), Player[playerid][pAccountID], ip);
					 	mysql_tquery(Base, query, "", "", "");
                        #if debug_mode == 0
						DiscordChannel = DCC_FindChannelById("622114307131572225");
						format(query, sizeof query, "```\n%04d-%02d-%02d %02d:%02d %s has paid %d EXP to %s (/gang pay #%d)\n```", y, m, d, h, i, Player[playerid][UserName], strval(amount), Player[strval(name)][UserName], Player[playerid][pClan]);
						DCC_SendChannelMessageEx(DiscordChannel, query);
						#endif
                        return 1;
			        }
				}
			}
	    }
	    if(strfind(command, "members") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) members");
		        }
			}
	        if(strlen(name) <= 0 || strval(name) == 0 || !Clan[strval(name)][__isActive])
	        {
	            SendClientMessage(playerid, -1, "/gang members (id)");
	            return 1;
	        }
	        if(strval(name) == Player[playerid][pClan] && Player[playerid][pClanRank] >= 6)
	        {
	            if(gettime() < CommandFloodTimer[playerid][ShowGangMembers])
				{
				    SendClientMessage(playerid, -1, "{FFF000}>> Please, wait few seconds before use it again!");
				    return 1;
				}
				CommandFloodTimer[playerid][ShowGangMembers] = gettime() + 10;
				new query[128];
			    mysql_format(Base, query, sizeof(query), "SELECT `Name`,`ID`,`ClanRank`,`lalog` FROM `users` WHERE `Clan` = '%d' AND `build`='"SERVER_BUILD"'", strval(name));
				mysql_tquery(Base, query, "LoadMembers", "ii", playerid, strval(name));
    		}
	        else
	        {
		        new query[128];
				mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `Clan` = '%d' AND `build`='"SERVER_BUILD"'", strval(name));
			 	mysql_tquery(Base, query, "ShowGangActivity", "i", playerid);
			 	return 1;
			}
	    }
	    
	    if(strfind(command, "list") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) list");
		        }
			}

   			new qu[128];
		    mysql_format(Base, qu, sizeof(qu), "SELECT count(`controlled`), `controlled` FROM `maps` GROUP BY `controlled` ORDER BY count(`controlled`) DESC");
			mysql_tquery(Base, qu, "GetTopGangs", "i", playerid);
	        return 1;
	    }
	    
	    if(strfind(command, "join") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) join");
		        }
			}
	        if(Player[playerid][pClan] >= 1)
	        {
	            SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][122]);
	            return 1;
		 	}
		 	
	        if(strlen(name) <= 0 || strval(name) == 0 || !Clan[strval(name)][__isActive])
	        {
	            SendClientMessage(playerid, -1, "/gang join (id)");
	            return 1;
	        }
	        else
	        {
	            if(Clan[strval(name)][g_isClosed])
	            {
	                SendClientMessage(playerid, -1, "{FFF000}>> This gang currently doesn't accept requests!");
	                return 1;
	            }

                if(Clan[strval(name)][g_MaxMembers] >= 50)
	            {
	                SendClientMessage(playerid, -1, "{FFF000}>> This gang currently doesn't accept requests!");
	                return 1;
	            }

                if(gettime() < Player[playerid][pLastGangJoin])
                {
                    switch(Player[playerid][pLang])
                    {
                        case 0: SendClientMessage(playerid, -1, "{FFF000}>> You change gangs too often, wait for a week");
                        case 1: SendClientMessage(playerid, -1, "{FFF000}>> Вы подаёте заявки слишком часто, подождите неделю до следующией");
                        case 2: SendClientMessage(playerid, -1, "{FFF000}>> Cambias de pandillas con demasiada frecuencia, espera una semana");
					}
				}
                
				new addRank = 0;
				if(!Clan[strval(name)][g_IsRulles]) addRank = GangsSettings[6];
				if(Clan[strval(name)][g_IsNeutral]) addRank = 0;
                //if(Clan[strval(name)][g_IsRulles]) addRank += 5;
                
                if(Clan[strval(name)][g_IsNeutral])
				{
                    foreach(Player, i)
		            {
		                if(Player[i][pClan] == strval(name) && Player[i][pClanRank] >= Clan[strval(name)][g_RankToAccept])
		                {
		                    SendClientMessageFormat(i, -1, "{0099ff}------------------ %s's gang app {FFF000}(Rank: %d){0099ff} ------------------", Player[playerid][UserName], Player[playerid][pRank]);
						    SendClientMessageFormat(i, -1, "{0099ff}Played:{FFF000} %d hours", Achievements[playerid][Hours]);

						    new id = GetMaxTrophy(playerid, TROPHY_VITALITY), listitem, r;
						    if(id > -1)
						    {
						        listitem = id;
								r = TrophyInInv[playerid][plii_Rare][listitem];
						        SendClientMessageFormat(i, -1, "{0099ff}Vitality: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][listitem]]);
							}
							id = GetMaxTrophy(playerid, TROPHY_ACCURACY);
						    if(id > -1)
						    {
						        listitem = id;
						        r = TrophyInInv[playerid][plii_Rare][listitem];
						        SendClientMessageFormat(i, -1, "{0099ff}Accuracy: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][listitem]]);
							}
						    id = GetMaxTrophy(playerid, TROPHY_EVASION);
						    if(id > -1)
						    {
						        listitem = id;
						        r = TrophyInInv[playerid][plii_Rare][listitem];
						        SendClientMessageFormat(i, -1, "{0099ff}Evasion: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][listitem]]);
							}
						    id = GetMaxTrophy(playerid, TROPHY_WARRIOR);
						    if(id > -1)
						    {
						        listitem = id;
						        r = TrophyInInv[playerid][plii_Rare][listitem];
						        SendClientMessageFormat(i, -1, "{0099ff}Warrior: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][listitem]]);
							}
						    id = GetMaxTrophy(playerid, TROPHY_TITAN);
						    if(id > -1)
						    {
						        listitem = id;
						        r = TrophyInInv[playerid][plii_Rare][listitem];
						        SendClientMessageFormat(i, -1, "{0099ff}Titan: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][listitem]]);
							}
							id = GetMaxTrophy(playerid, TROPHY_MIRROR);
						    if(id > -1)
						    {
						        listitem = id;
						        r = TrophyInInv[playerid][plii_Rare][listitem];
						        SendClientMessageFormat(i, -1, "{0099ff}Mirror: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][listitem]]);
							}

							id = GetMaxPet(playerid, ITEM_NAME_MOON_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Moon Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_FIRE_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Fire Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_THE_EARTH_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}The Earth Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_AIR_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Air Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_LOVE_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Love Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_HORSE_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Horse Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_COW_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Cow Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_DEER_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Deer Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_TURTLE_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Turtle Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_DOLPHIN_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Dolphin Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

					        id = GetMaxPet(playerid, ITEM_NAME_SHARK_PET);
							if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Shark Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

                            if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] > 0) SendClientMessageFormat(i, -1, "{0099ff}Speciality: {FFF000}Pharmacist (Level: %d)", Specialty[playerid][spc_level][SPECIALITY_PHARMACIST]);
                            if(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] > 0) SendClientMessageFormat(i, -1, "{0099ff}Speciality: {FFF000}Huckster (Level: %d)", Specialty[playerid][spc_level][SPECIALITY_HUCKSTER]);
                            if(Specialty[playerid][spc_level][SPECIALITY_COLLECTOR] > 0) SendClientMessageFormat(i, -1, "{0099ff}Speciality: {FFF000}Collector (Level: %d)", Specialty[playerid][spc_level][SPECIALITY_COLLECTOR]);
                            if(Specialty[playerid][spc_level][SPECIALITY_MECHANIC] > 0) SendClientMessageFormat(i, -1, "{0099ff}Speciality: {FFF000}Mechanic (Level: %d)", Specialty[playerid][spc_level][SPECIALITY_MECHANIC]);
							if(Specialty[playerid][spc_level][SPECIALITY_DIPLOMAT] > 0) SendClientMessageFormat(i, -1, "{0099ff}Speciality: {FFF000}Diplomat (Level: %d)", Specialty[playerid][spc_level][SPECIALITY_DIPLOMAT]);

							SendClientMessage(i, -1, "{0099ff}-------------------------------------------------------------------------");
							SendClientMessageFormat(i, -1, "{0099ff}Use{FFF000} /gang accept %d{0099ff} to accept the player", playerid);
		                }
		            }
		            SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][126]);
		            Player[playerid][GangRequest] = strval(name);
				}
                else
                {
		            if(Player[playerid][pRank] < (Clan[strval(name)][g_MinExp]+addRank))
		            {
		                if(Clan[strval(name)][g_MinExp] >= sizeof(RanksEXP) || Clan[strval(name)][g_MinExp] <= 0)
		                {
		                    SendClientMessageFormat(playerid, -1, "{FFF000}>> You need rank %d to apply to this gang", (Clan[strval(name)][g_MinExp]+addRank));
		                }
		                else SendClientMessageFormat(playerid, -1, "{FFF000}>> You need rank %s(%d) to apply to this gang", PlayerRank[Player[playerid][pLang]][(Clan[strval(name)][g_MinExp]+addRank)], (Clan[strval(name)][g_MinExp]+addRank));
		                return 1;
		            }

		            if(GetUnlockedSlot(Player[playerid][GangBanned], strval(name)) >= 1)
		            {
		                SendClientMessage(playerid, -1, "{FFF000}>> You are on the blacklist of this gang!");
		                return 1;
		            }
	            }
	           
	           	if(!Clan[strval(name)][g_isClosed])
				{
		           	switch(Player[playerid][pLang])
		           	{
		            	case 0: ShowPlayerDialog(playerid, DIALOG_JOIN_GANG, DIALOG_STYLE_MSGBOX, "{FF0000}Warning", "By joining this gang you confirm that:\n\tyou are ready to fight against other gangs and know how to win\n-------------------------------------\nIf you are not ready yet - find a neutral gang\n-------------------------------------", "Join", "Close");
		                case 1: ShowPlayerDialog(playerid, DIALOG_JOIN_GANG, DIALOG_STYLE_MSGBOX, "{FF0000}Секунду!", "Вступая в эту банду вы подтверждаете:\n\tчто готовы к бою против других банд и знаете как победить\n-------------------------------------\nЕсли вы еще не готовы - найдите нейтральную банду\n-------------------------------------", "Вступить", "Закрыть");
		                case 2: ShowPlayerDialog(playerid, DIALOG_JOIN_GANG, DIALOG_STYLE_MSGBOX, "{FF0000}Advertencia", "Al unirte a esta pandilla confirmas que:\n\testбs listo para luchar contra otras pandillas y sabes cуmo ganar\n-------------------------------------\nSi aъn no estбs listo, busca una pandilla neutral\n-------------------------------------", "Unirse", "Cerca");
					}

		            Player[playerid][GangRequest] = strval(name);
				}
	            return 1;
	        }
	    }
	    
     	if(strfind(command, "chat") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) chat");
		        }
			}
			if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= 1)
			{
                if(strlen(name) <= 0)
		        {
		            SendClientMessage(playerid, -1, "/gang chat (message)");
		            return 1;
		        }
		        else
		        {
		            new fnm[128], rank[32], str[128];
					strins(fnm, name, 0);
					if(strlen(amount) >= 1)
					{
						strins(fnm, " ", strlen(name));
						strins(fnm, amount, strlen(name)+1);
					}
					switch(Player[playerid][pClanRank])
					{
						case 1: strmid(rank, Clan[Player[playerid][pClan]][Rank_0], 0, 32, 33);
						case 2: strmid(rank, Clan[Player[playerid][pClan]][Rank_1], 0, 32, 33);
						case 3: strmid(rank, Clan[Player[playerid][pClan]][Rank_2], 0, 32, 33);
						case 4: strmid(rank, Clan[Player[playerid][pClan]][Rank_3], 0, 32, 33);
						case 5: strmid(rank, Clan[Player[playerid][pClan]][Rank_4], 0, 32, 33);
						case 6: strmid(rank, Clan[Player[playerid][pClan]][Rank_5], 0, 32, 33);
					}
				    format(str, 128, "{C659B6}[%s] %s(%d): %s", rank, Player[playerid][UserName], playerid, fnm);
					SendGangMessage(playerid, str);
					
					#if debug_mode == 0
					new __action[200], y, ms, d, h, minutes, s;
					TimestampToDate(gettime(), y, ms, d, h, minutes, s, 3);
					DiscordChannel = DCC_FindChannelById("662009624110694440");
					format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s: %s\n```", d, ms, y, h, minutes, Player[playerid][pClan], Player[playerid][UserName], fnm);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
					
					return 1;
		        }
			}
		}
	    
	    if(strfind(command, "promote") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) promote");
		        }
			}
	        if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToPromote])
			{
		        if(strlen(name) <= 0)
		        {
		            SendClientMessage(playerid, -1, "/gang promote (id)");
		            return 1;
		        }
		        else
		        {
		            if(!IsPlayerConnected(strval(name)))
					{
						SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
						return 1;
					}
					if(Player[strval(name)][pClan] != Player[playerid][pClan])
					{
					    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][134]);
					    return 1;
					}
					
					if(Player[strval(name)][pClanRank] < Player[playerid][pClanRank] && Player[strval(name)][pClanRank] <= 5)
					{
					    if((Player[strval(name)][pClanRank]+1) >= 5 && Player[strval(name)][pRank] < GlobalGsPolicy[1])
					    {
					        SendClientMessageFormat(playerid, -1, "{FFF000}>> The player does not meet the requirements. Min Deputy's rank is %d!", GlobalGsPolicy[1]);
							return 1;
					    }
					    else
					    {
						    Player[strval(name)][pClanRank]++;
						    foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][133], Player[strval(name)][UserName], Player[playerid][UserName], Player[strval(name)][pClanRank]);
						}
					}
					if(GetUnlockedSlot(Achievements[strval(name)][esClan], 1) == 0 && Player[strval(name)][pClanRank] == 5)
		            {
		                UnlockAchievement(strval(name), 36, 200);
		                SetUnlockedSlot(Achievements[strval(name)][esClan], 1, 1);
		            }
		            if(GetUnlockedSlot(Achievements[strval(name)][esClan], 2) == 0 && Player[strval(name)][pClanRank] == 6)
		            {
		                UnlockAchievement(strval(name), 37, 1000);
		                SetUnlockedSlot(Achievements[strval(name)][esClan], 2, 1);
		            }
		            
		            new query[128];
					mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='%d',`ClanRank`='%d' WHERE `ID` = '%d'", Player[strval(name)][pClan], Player[strval(name)][pClanRank], Player[strval(name)][pAccountID]);
					mysql_tquery(Base, query, "", "", "");
		            
		            #if debug_mode == 0
		            new __action[200], y, ms, d, h, minutes, s;
					TimestampToDate(gettime(), y, ms, d, h, minutes, s, 3);
					DiscordChannel = DCC_FindChannelById("662009624110694440");
					format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has been promoted to rank %d by %s\n```", d, ms, y, h, minutes, Player[playerid][pClan], Player[strval(name)][UserName], Player[strval(name)][pClanRank], Player[playerid][UserName]);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
					
		            return 1;
				}
			}
		}
		
		if(strfind(command, "demote") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) demote");
		        }
			}
	        if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToPromote])
			{
		        if(strlen(name) <= 0)
		        {
		            SendClientMessage(playerid, -1, "/gang demote (id)");
		            return 1;
		        }
		        else
		        {
		            if(!IsPlayerConnected(strval(name)))
					{
						SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
						return 1;
					}
					if(Player[strval(name)][pClan] != Player[playerid][pClan])
					{
					    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][134]);
					    return 1;
					}
					if(Player[strval(name)][pClanRank] >= Player[playerid][pClanRank])
					{
					    if(strval(name) != playerid && Player[strval(name)][pAccountID] != Clan[Player[strval(name)][pClan]][g_OwnerID])
					    {
						    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][135]);
						    return 1;
						}
						else
						{
						    if(Player[strval(name)][pAccountID] == Clan[Player[strval(name)][pClan]][g_OwnerID])
						    {
						        SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][135]);
						    	return 1;
						    }
						}
					}
					new __action[200], y, ms, d, h, minutes, s;
					if(Player[strval(name)][pClanRank] >= 1)
					{
					    Player[strval(name)][pClanRank]--;
					    
					    new query[128];
						mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='%d',`ClanRank`='%d' WHERE `ID` = '%d'", Player[strval(name)][pClan], Player[strval(name)][pClanRank], Player[strval(name)][pAccountID]);
						mysql_tquery(Base, query, "", "", "");
					    
						TimestampToDate(gettime(), y, ms, d, h, minutes, s, 3);
                         #if debug_mode == 0
						DiscordChannel = DCC_FindChannelById("662009624110694440");
						format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has been demoted to rank %d by %s\n```", d, ms, y, h, minutes, Player[playerid][pClan], Player[strval(name)][UserName], Player[strval(name)][pClanRank], Player[playerid][UserName]);
						DCC_SendChannelMessageEx(DiscordChannel, __action);
					    #endif
					    
					    foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][136], Player[strval(name)][UserName], Player[playerid][UserName], Player[strval(name)][pClanRank]);
						if(Player[strval(name)][pClanRank] <= 0)
						{
						    foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][137], Player[strval(name)][UserName], Player[playerid][UserName]);
                            Clan[Player[playerid][pClan]][g_MaxMembers]--;
                            SetGangBuff(Player[playerid][pClan], Clan[Player[playerid][pClan]][g_MaxMembers]);
							Player[strval(name)][pClan] = 0;
							
							#if debug_mode == 0
							TimestampToDate(gettime(), y, ms, d, h, minutes, s, 3);
							DiscordChannel = DCC_FindChannelById("662009624110694440");
							format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has been fired by %s (demoted)\n```", d, ms, y, h, minutes, Player[playerid][pClan], Player[strval(name)][UserName], Player[playerid][UserName]);
							DCC_SendChannelMessageEx(DiscordChannel, __action);
							#endif
							
							mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='0',`ClanRank`='0' WHERE `ID` = '%d'", Player[strval(name)][pAccountID]);
							mysql_tquery(Base, query, "", "", "");
							
						}
					}
					return 1;
				}
			}
		}
	    
	    if(strfind(command, "rank") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) rank");
		        }
			}
	        if(strlen(name) <= 0 || strval(name) <= 0 || strval(name) > 6)
	        {
	            SendClientMessage(playerid, -1, "/gang rank (1-6) (name)");
	            return 1;
	        }
	        if(strlen(amount) <= 0 || strlen(amount) > 32)
	        {
	            SendClientMessage(playerid, -1, "/gang rank (1-6) (name)");
	            return 1;
	        }
	        else
	        {
	            if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToEdit])
	            {
				 	switch(strval(name))
					{
						case 1: foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) { SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][138], Player[playerid][UserName], Clan[Player[playerid][pClan]][Rank_0], amount); strmid(Clan[Player[playerid][pClan]][Rank_0], amount, 0, 32, 33); }
						case 2: foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) { SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][138], Player[playerid][UserName], Clan[Player[playerid][pClan]][Rank_1], amount); strmid(Clan[Player[playerid][pClan]][Rank_1], amount, 0, 32, 33); }
						case 3: foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) { SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][138], Player[playerid][UserName], Clan[Player[playerid][pClan]][Rank_2], amount); strmid(Clan[Player[playerid][pClan]][Rank_2], amount, 0, 32, 33); }
						case 4: foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) { SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][138], Player[playerid][UserName], Clan[Player[playerid][pClan]][Rank_3], amount); strmid(Clan[Player[playerid][pClan]][Rank_3], amount, 0, 32, 33); }
						case 5: foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) { SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][138], Player[playerid][UserName], Clan[Player[playerid][pClan]][Rank_4], amount); strmid(Clan[Player[playerid][pClan]][Rank_4], amount, 0, 32, 33); }
						case 6: foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) { SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][138], Player[playerid][UserName], Clan[Player[playerid][pClan]][Rank_5], amount); strmid(Clan[Player[playerid][pClan]][Rank_5], amount, 0, 32, 33); }
					}
				}
				return 1;
	        }
		}
	    
	    if(strfind(command, "accept") == 0)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) accept");
		        }
			}
	        if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToAccept])
			{
		        if(strlen(name) <= 0)
		        {
		            SendClientMessage(playerid, -1, "/gang accept (id)");
		            return 1;
		        }
		        else
		        {
		            if(!IsPlayerConnected(strval(name)))
					{
						SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
						return 1;
					}
					if(Player[strval(name)][GangRequest] != Player[playerid][pClan])
					{
					    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][127]);
					    return 1;
					}
					if(Player[strval(name)][pClan] > 0)
					{
					    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][128]);
					    return 1;
					}
					Player[strval(name)][pClan] = Player[playerid][pClan];
					Player[strval(name)][pClanRank] = 1;
					Player[strval(name)][pLastGangJoin] = (gettime() + (86400*8));
					
					Clan[Player[playerid][pClan]][g_MaxMembers]++;
					SetGangBuff(Player[playerid][pClan], Clan[Player[playerid][pClan]][g_MaxMembers]);
					
					new query[400];
					mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='%d',`ClanRank`='%d' WHERE `ID` = '%d'", Player[strval(name)][pClan], Player[strval(name)][pClanRank], Player[strval(name)][pAccountID]);
					mysql_tquery(Base, query, "", "", "");
					
					mysql_format(Base, query, sizeof(query), "DELETE FROM `applications` WHERE `ID` = '%d'", Player[strval(name)][pAccountID]);
					mysql_tquery(Base, query);
					
					foreach(Player, i)
		            {
		                if(Player[i][pClan] == Player[playerid][pClan] && Player[i][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToAccept])
		                {
		                    SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][129], Player[strval(name)][UserName], Player[playerid][UserName]);
		                }
		            }
		            Player[strval(name)][GangRequest] = 0;
		            
		            if(GetUnlockedSlot(Achievements[strval(name)][esClan], 0) == 0)
		            {
		                UnlockAchievement(strval(name), 35, 10);
		                SetUnlockedSlot(Achievements[strval(name)][esClan], 0, 1);
		            }
		            
		            #if debug_mode == 0
		            new __action[200], y, ms, d, h, minutes, s;
					TimestampToDate(gettime(), y, ms, d, h, minutes, s, 3);
					DiscordChannel = DCC_FindChannelById("662009624110694440");
					format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has been accepted in gang by %s\n```", d, ms, y, h, minutes, Player[playerid][pClan], Player[strval(name)][UserName], Player[playerid][UserName]);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
					
		            return 1;
		        }
			}
	    }
	    if(strfind(command, "leave") == 0 && Player[playerid][pClan] >= 1)
	    {
	        foreach(Player, i)
		    {
		        if(Player[i][CanCheckCMD])
				{
		            SendClientMessage(i, -1, "{FFA500}>> parameter(s) leave");
		        }
			}
	        if(Player[playerid][pClanRank] >= 6)
	        {
	            SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][123]);
	            return 1;
	        }
	        AttachGangName(playerid);
	        
	        #if debug_mode == 0
	        new __action[200], y, ms, d, h, minutes, s;
			TimestampToDate(gettime(), y, ms, d, h, minutes, s, 3);
			DiscordChannel = DCC_FindChannelById("662009624110694440");
			format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d | (GANG ID %d) %s has left the gang\n```", d, ms, y, h, minutes, Player[playerid][pClan], Player[playerid][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
			
			new query[400];
			mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='0',`ClanRank`='0' WHERE `ID` = '%d'", Player[playerid][pAccountID]);
			mysql_tquery(Base, query, "", "", "");
			
			mysql_format(Base, query, sizeof(query), "DELETE FROM `applications` WHERE `ID` = '%d'", Player[playerid][pAccountID]);
			mysql_tquery(Base, query);
			
	        Clan[Player[playerid][pClan]][g_MaxMembers]--;
	        SetGangBuff(Player[playerid][pClan], Clan[Player[playerid][pClan]][g_MaxMembers]);
	        Player[playerid][pClan] = 0;
	        Player[playerid][pClanRank] = 0;
	        SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][124]);
	        
	        return 1;
	    }
	}
	return 1;
}

public OnPlayerCommandText(playerid, cmdtext[])
{
    if(restartTimes >= 1 && restartTimes <= 30) return 0;
    if(!Player[playerid][pLogged]) return 0;
    if(!SelectReward[playerid]) return 0;
	return 0;
}

public OnPlayerCommandReceived(playerid, cmdtext[])
{
    if(restartTimes >= 1 && restartTimes <= 30)
    {
        return 0;
    }
    
    if(strfind(cmdtext, "/verify", true) != -1 || strfind(cmdtext, "/email", true) != -1)
    {
		return 1;
    }
	
    if(!Player[playerid][pLogged]) return 0;
    
    if(GetPVarInt(playerid,"cmdflood") > gettime())
	{
		GameTextForPlayer(playerid, "~r~Wait", 1000, 5);
		return 0;
	}
	
    if(Player[playerid][pAdmin] < 1) SetPVarInt(playerid,"cmdflood",gettime() + 2);

	if(strfind(cmdtext, "verify", true) == -1
	&& strfind(cmdtext, "sword", true) == -1
	&& strfind(cmdtext, "changepass", true) == -1
	&& strfind(cmdtext, "givezaps", true) == -1
	&& strfind(cmdtext, "changesword", true) == -1)
	{
	    new st[24];
	   	foreach(Player, i)
	    {
	        if(Player[i][CanCheckCMD])
	        {
				strmid(st, cmdtext, 0, strfind(cmdtext, " ") > -1 ? strfind(cmdtext, " ") : strlen(cmdtext), 24);
	            SendClientMessageFormat(i, -1, "{FFA500}>> [CMD CHECK]: %s(%d) uses {FFFFFF}%s", Player[playerid][UserName], playerid, st);
	        }
		}
	}
	return 1;
}

public OnPlayerCommandPerformed(playerid, cmdtext[], success)
{
    if(strlen(cmdtext) >= 2 && success != 1) {
		new a = CallRemoteFunction("OnServerRegisterCommand", "is", playerid, cmdtext);
		if(a > 0) return 1;
	}
	
	if(success != 1)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][1]);
		return 0;
	}

    if(strfind(cmdtext, "verify", true) == -1
	&& strfind(cmdtext, "sword", true) == -1
	&& strfind(cmdtext, "changepass", true) == -1
	&& strfind(cmdtext, "givezaps", true) == -1
	&& strfind(cmdtext, "changesword", true) == -1)
    {
		new query[900], serial[41];
	    gpci(playerid, serial, sizeof(serial));
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `pactions` (`acc`,`type`,`date`,`text`,`sign`,`reg_sign`,`ip`) VALUES ('%d','0','%d','%e','%e', '%e', '%e')", Player[playerid][pAccountID], gettime(), cmdtext, serial, Player[playerid][pGPCI], Player[playerid][pIP]);
		mysql_tquery(Base, query, "", "", "");
	}
	
	return 1;
}

CMD:votekick(playerid,params[])
{
    if(Player[playerid][pXP] >= 5000)
	{
	    if(AdminOnline()) return SendClientMessage(playerid,-1,"/report (playerid) (reason)");
	    if(sscanf(params,"us[128]",params[0],params[1])) return SendClientMessage(playerid,-1,"/votekick [playerid] [reason]");
    	if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(votekick == true)
		{
			SendClientMessage(playerid,-1, serverLang[Player[playerid][pLang]][77]);
			return 1;
		}
		
		votekick_max_voices = floor(playerOnline / 2);
 		if(playerOnline >= 12) votekick_max_voices = floor(playerOnline / 3);
		
		foreach(Player, i) SendClientMessageFormat(i, -1,  serverLang[Player[i][pLang]][78], Player[playerid][UserName], Player[params[0]][UserName], params[1], votekick_max_voices);
	    votekick = true;
	    voites = 0;
	    kick_player[params[0]] = true;
	    already_vote[playerid] = true;
	    VoteKickTimer = SetTimer("CloseVotekick", 180000, 0);
	    return 1;
	}
	else return ShowExpError(playerid, 5000);
}

fun CloseVotekick()
{
    foreach(Player, i)
    {
        kick_player[i] = false;
      	already_vote[i] = false;
      	SendClientMessage(i, -1,  serverLang[Player[i][pLang]][76]);
    }
    votekick_max_voices = 0;
    voites = 0;
}

CMD:yes(playerid)
{
	if(!votekick) return 0;
	if(already_vote[playerid] == true)
	{
 		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][83]);
		return 1;
	}
	voites++;
	foreach(Player, i) SendClientMessageFormat(i, -1,  serverLang[Player[i][pLang]][81], Player[playerid][UserName], voites, votekick_max_voices);

    if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 6) == 0)
	{
		UnlockAchievement(playerid, 55, 100);
     	SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 6, 1);
	}

 	if(voites >= votekick_max_voices)
 	{
 	    foreach(Player, i)
 	    {
            SendClientMessage(i, -1,  serverLang[Player[i][pLang]][82]);
            if(kick_player[i])
			{
			    new IP[16];
			    GetPlayerIp(i, IP, 16);
                BlockIpAddress(IP, 900000);
                PlayerKick(i);
			}
            kick_player[i] = false;
            already_vote[i] = false;
 	    }
 	    votekick_max_voices = 0;
 	    KillTimer(VoteKickTimer);
 	    votekick = false;
 	    return 1;
 	}
 	already_vote[playerid] = true;
 	return 1;
}

fun ReturnToDefaultName(playerid)
{
    if(cache_num_rows() > 0)
	{
	    new nm[MAX_PLAYER_NAME+1];
	    cache_get_value_name(0, "Name", nm);
	    //foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, -1, "{6A8EE2}[HIDE] >> %s(%d) has changed name to %s", Player[playerid][UserName], playerid, nm);
	    SetPlayerName(playerid, nm);
	    GetPlayerName(playerid, Player[playerid][UserName], 25);
		FakeData[playerid][0] = 0;
		FakeData[playerid][1] = 0;
		FakeData[playerid][2] = 0;
		FakeData[playerid][3] = 0;
		FakeData[playerid][4] = 0;
		FakeData[playerid][5] = 0;
		FakeData[playerid][6] = 0;
		FakeData[playerid][7] = 0;
		FakeData[playerid][8] = 0;
	}
	return 1;
}

fun TryToGiveFakeName(playerid, const newname[], e, k, r, v)
{
    if(cache_num_rows() > 0)
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][155]);
	}
	else
	{
	    //foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, -1, "{6A8EE2}[HIDE] >> %s(%d) has changed name to %s", Player[playerid][UserName], playerid, newname);
        SetPlayerName(playerid, newname);
        GetPlayerName(playerid, Player[playerid][UserName], 25);
        FakeData[playerid][0] = ((k <= 0) ? 1+random(19999) : k); // Kills

		FakeData[playerid][1] = 3000+random(48000); // Account ID

		if(v < 0) v = 0;
  		if(v > 3) v = 3;
  		FakeData[playerid][2] = v;
            
		if(FakeData[playerid][2] > 0) FakeData[playerid][3] = gettime() + (random(31)*86400);
		else FakeData[playerid][3] = 0;
		FakeData[playerid][4] = random(50);
		FakeData[playerid][5] = random(150);
		FakeData[playerid][6] = ((r <= 0) ? 1+random(19) : r); // Rank
		
		FakeData[playerid][7] = 1;
		FakeData[playerid][8] = ((e <= 0) ? 0+random(5000) : e); // Exp
		
   		if(Player[playerid][pAdmin] <= 5)
	    {
	        #if debug_mode == 0
    	 	new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /name [Name: %s]\n```", Player[playerid][RealName], newname);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	}
	return 1;
}

CMD:name(playerid, params[])
{
    if(Player[playerid][pAdmin] > 2)
    {
        new newname[MAX_PLAYER_NAME+1], e = 0, k = 0, r = 0, v = 0;
        sscanf(params,"s[24]iiii", newname, e, k, r, v);
        
        if(strlen(newname) <= 2 || strlen(newname) >= 20)
		{
		    if(Player[playerid][pAdmin] < 5) SendClientMessage(playerid, -1, "/name (name|off)");
		    else SendClientMessage(playerid, -1, "/name (name|off) [...exp, kills, rank, vip]");
		    
			return 1;
		}
        
        if(!strcmp(newname, "off", true))
		{
		    new query[128];
			mysql_format(Base, query, sizeof(query), "SELECT `Name` FROM `users` WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", Player[playerid][pAccountID]);
			mysql_tquery(Base, query, "ReturnToDefaultName", "i", playerid);
			return 1;
        }
		
		for( new i; i < 25; i++ )
		{
		    if(newname[i] == ' ' || newname[i] == '_')
		    {
		        SendClientMessage(playerid, -1, "{FFF000}>> 'Space' and '_' are not allowed!");
				return 1;
		    }
		}

		new query[128];
	 	mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", newname);
	 	
	 	if(Player[playerid][pAdmin] < 5) mysql_tquery(Base, query, "TryToGiveFakeName", "isiiii", playerid, newname, 0, 0, 0, random(3));
		else mysql_tquery(Base, query, "TryToGiveFakeName", "isiiii", playerid, newname, e, k, r, v);
		
		return 1;
    }
    return 0;
}

CMD:unjail(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
    {
        if(sscanf(params, "i", params[0]))
        {
            SendClientMessage(playerid, -1, "/unjail (id)");
            return 1;
        }
        if(IsPlayerConnected(params[0]))
		{
		    new i = params[0];
		    Player[i][Jailed] = -1;
	    	SetSpawnInfo(i,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		    SetPlayerSpecialAction(i, SPECIAL_ACTION_NONE);
		    SetPlayerTeamEx(i, TEAM_ZOMBIE);
		    SpawnPlayer(i);
			foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged] || j == i) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s has been unjailed by %s", Player[i][UserName], Player[playerid][UserName]);
		}
        return 1;
    }
    return 0;
}

CMD:jail(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
    {
        new time, targets[15] = {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, reason[64] = "";
        sscanf(params, "iis[64]", targets[0], time, reason);
        sscanf(params, "iiis[64]", targets[0], targets[1], time, reason);
		sscanf(params, "iiiis[64]", targets[0], targets[1], targets[2], time, reason);
		sscanf(params, "iiiiis[64]", targets[0], targets[1], targets[2], targets[3], time, reason);
		sscanf(params, "iiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], time, reason);
		sscanf(params, "iiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], time, reason);
		sscanf(params, "iiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], time, reason);
		sscanf(params, "iiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], time, reason);
		sscanf(params, "iiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], time, reason);
		sscanf(params, "iiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], time, reason);
        sscanf(params, "iiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], time, reason);
        sscanf(params, "iiiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], targets[11], time, reason);
        sscanf(params, "iiiiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], targets[11], targets[12], time, reason);
        sscanf(params, "iiiiiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], targets[11], targets[12], targets[13], time, reason);
	    sscanf(params, "iiiiiiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], targets[11], targets[12], targets[13], targets[14], time, reason);
		
		//SendClientMessageFormat(playerid, -1, "/jail (id...) (%d) (%s)", time, reason);
		
        if(time <= 0 || time > 5)
        {
            SendClientMessage(playerid, -1, "/jail (id...) (time) (reason)");
       		return 1;
        }
        
        if(strlen(reason) <= 0)
        {
       		SendClientMessage(playerid, -1, "/jail (id...) (time) (reason)");
       		return 1;
        }
        
        for( new j; j < sizeof(targets); j++ )
		{
			if(j <= sizeof(targets) - 1)
			{
				if(targets[j] != -1 && targets[j+1] == -1) targets[j] = -1;
			}
			else targets[sizeof(targets)-1] = -1;
		}
        
        for( new j; j < sizeof(targets); j++ )
	    {
			if(IsPlayerConnected(targets[j]) && Player[targets[j]][pLogged])
			{

			    if(Player[targets[j]][IsDefender] > 0)
				{
				    SendClientMessage(targets[j], -1, "{99ffff}[EVENT] Defender, you have breaks the rules, atone for your guilt!");
					Player[targets[j]][DefenderSorryTime] = gettime()+86400;
				}
				
				foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == targets[j]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[targets[j]][UserName], Player[playerid][RealName], time, MakeReasonFromShort(reason));
				SetPlayerSkinAC(targets[j], 62, 1);
				SetPlayerSpecialAction(targets[j], SPECIAL_ACTION_CUFFED);
				SetPlayerPosAC(targets[j],264.1425,77.4712,1001.0391);
    			SetPlayerFacingAngle(targets[j], 263.0160);
    			SetPlayerInterior(targets[j], 6);
    			SetPlayerColor(targets[j], 0x000000FF);
    			Player[targets[j]][Jailed] = time * 60;
    			SetPlayerTeamEx(targets[j], TEAM_ZOMBIE);
    			ResetWeapons(targets[j]);
    			SetPlayerArmourAC(targets[j], 0.0);
   				SetPlayerHealthAC(targets[j], 100.0);
   				Player[targets[j]][Accelerated] = -1;
   				RemoveCheater(targets[j]);
   				if(IsPlayerAcceleratedText[targets[j]]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[targets[j]]),IsPlayerAcceleratedText[targets[j]]=Text3D:-1;
				if(Player[playerid][pAdmin] <= 5)
				{
				    #if debug_mode == 0
			        new __action[128];
					DiscordChannel = DCC_FindChannelById("623193667628433438");
					format(__action, sizeof __action, "```\n%s used /jail on player %s (Time: %d) [Reason: %s]\n```",  Player[playerid][RealName], Player[targets[j]][UserName], time, MakeReasonFromShort(reason));
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
				}
			}
		}
		return 1;
	}
	return 0;
}

CMD:unwarn(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
    {
        if(sscanf(params, "i", params[0]))
		{
		    SendClientMessage(playerid, -1, ">> /unwarn (id)");
			return 1;
		}
		
		if(IsPlayerConnected(params[0]))
		{
		    if(Player[params[0]][Warnings] > 0)
			{
				Player[params[0]][Warnings]--;
				SendClientMessage(playerid, -1, "{99ffff}>> Appealed");
		    }
		    else
		    {
		        SendClientMessage(playerid, -1, "{FF0000}>> The player does not have warns");
		    }
		}
		
        return 1;
    }
    return 0;
}

CMD:warn(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
    {
        new targets[15] = {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}, reason[64] = "";
		sscanf(params, "is[64]", targets[0], reason);
		sscanf(params, "iis[64]", targets[0], targets[1], reason);
		sscanf(params, "iiis[64]", targets[0], targets[1], targets[2], reason);
		sscanf(params, "iiiis[64]", targets[0], targets[1], targets[2], targets[3], reason);
		sscanf(params, "iiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], reason);
		sscanf(params, "iiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], reason);
		sscanf(params, "iiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], reason);
		sscanf(params, "iiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], reason);
		sscanf(params, "iiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], reason);
		sscanf(params, "iiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], reason);
        sscanf(params, "iiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], reason);
        sscanf(params, "iiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], targets[11], reason);
        sscanf(params, "iiiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], targets[11], targets[12], reason);
        sscanf(params, "iiiiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], targets[11], targets[12], targets[13], reason);
	    sscanf(params, "iiiiiiiiiiiiiiis[64]", targets[0], targets[1], targets[2], targets[3], targets[4], targets[5], targets[6], targets[7], targets[8], targets[9], targets[10], targets[11], targets[12], targets[13], targets[14], reason);
	    
	    if(strlen(reason) <= 0)
        {
       		SendClientMessage(playerid, -1, "/warn (id...) (reason)");
       		return 1;
        }
	    
	    for( new j; j < sizeof(targets); j++ )
	    {
			if(IsPlayerConnected(targets[j]) && Player[targets[j]][pLogged])
			{
			    Player[targets[j]][Warnings]++;
			    if(Player[targets[j]][IsDefender] > 0)
				{
				    SendClientMessage(targets[j], -1, "{99ffff}[EVENT] Defender, you have breaks the rules, atone for your guilt!");
					Player[targets[j]][DefenderSorryTime] = gettime()+86400;
				}
			    
				foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == targets[j]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][145], Player[targets[j]][UserName], Player[playerid][RealName], Player[targets[j]][Warnings], MakeReasonFromShort(reason));
				ShowPlayerDialog(targets[j], DIALOG_WARNED, DIALOG_STYLE_MSGBOX, "Warning", MakeReasonFromShort(reason), "Ok", "");

				if(ItsNewbie(targets[j]) && Player[targets[j]][Warnings] >= 3)
				{
				    Player[targets[j]][Warnings]--;
	                foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == targets[j]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[targets[j]][UserName], Player[playerid][RealName], 3, MakeReasonFromShort(reason));
					SetPlayerSkinAC(targets[j], 62, 1);
					SetPlayerSpecialAction(targets[j], SPECIAL_ACTION_CUFFED);
					SetPlayerPosAC(targets[j],264.1425,77.4712,1001.0391);
	    			SetPlayerFacingAngle(targets[j], 263.0160);
	    			SetPlayerInterior(targets[j], 6);
	    			SetPlayerColor(targets[j], 0x000000FF);
	    			Player[targets[j]][Jailed] = 180;
	    			SetPlayerTeamEx(targets[j], TEAM_ZOMBIE);
	    			ResetWeapons(targets[j]);
	    			SetPlayerArmourAC(targets[j], 0.0);
	   				SetPlayerHealthAC(targets[j], 100.0);
	   				Player[targets[j]][Accelerated] = -1;
	   				RemoveCheater(targets[j]);
	   				if(IsPlayerAcceleratedText[targets[j]]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[targets[j]]),IsPlayerAcceleratedText[targets[j]]=Text3D:-1;
					if(Player[playerid][pAdmin] <= 5)
					{
					    #if debug_mode == 0
				        new __action[128];
						DiscordChannel = DCC_FindChannelById("623193667628433438");
						format(__action, sizeof __action, "```\n%s used /jail on player %s (Time: %d) [Reason: %s]\n```",  Player[playerid][RealName], Player[targets[j]][UserName], 3, MakeReasonFromShort(reason));
						DCC_SendChannelMessageEx(DiscordChannel, __action);
						#endif
					}
				}
                else
                {
					if(Player[targets[j]][Warnings] >= 3)
					{
						foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == targets[j]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][146], Player[targets[j]][UserName]);
						PlayerKick(targets[j]);
					}
				}
				if(Player[playerid][pAdmin] <= 5)
				{
				    #if debug_mode == 0
			        new __action[128];
					DiscordChannel = DCC_FindChannelById("623193667628433438");
					format(__action, sizeof __action, "```\n%s used /warn on player %s [Reason: %s]\n```",  Player[playerid][RealName], Player[targets[j]][UserName], MakeReasonFromShort(reason));
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif
				}
			}
		}
		
		return 1;
	}
	return 0;
}

CMD:no(playerid)
{
	if(!votekick) return 0;
	if(already_vote[playerid] == true)
	{
 		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][83]);
		return 1;
	}
	voites--;
    foreach(Player, i) SendClientMessageFormat(i, -1,  serverLang[Player[i][pLang]][80], Player[playerid][UserName], voites < 0 ? 0 : voites, votekick_max_voices);
    if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 6) == 0)
	{
		UnlockAchievement(playerid, 55, 100);
     	SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 6, 1);
	}
	
 	if(voites < 0)
 	{
 	    foreach(Player, i)
 	    {
 	        kick_player[i] = false;
          	already_vote[i] = false;
          	SendClientMessage(i, -1,  serverLang[Player[i][pLang]][76]);
 	    }
 	    votekick = false;
		voites = 0;
		votekick_max_voices = 0;
		KillTimer(VoteKickTimer);
		return 1;
 	}
 	already_vote[playerid] = true;
 	return 1;
}
/*
CMD:epanel(playerid, params[])
{
    if(GetUnlockedSlot(Player[playerid][pSettings], 29) <= 0) return 0;
    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "{FF0000}Event Menu", "Create object\nEdit object\nDelete Object\nCreate Car\nDelete Car\n-----------------------------\nSet Spawn Point(s)\nGive Players Weapon (Radius: 10m)\nSet Players Team (Radius: 10.0m)\nSet Players Skin (Radius: 10.0m)\n---------------------\nDelete all objects", "Ok", "");
	return 1;
}

CMD:verify(playerid, params[])
{
	new secretword[96];
	if(sscanf(params, "s[96]", secretword))
	{
		SendClientMessage(playerid, -1,"/verify (secret word)");
		return 1;
	}
    if(!strcmp(Player[playerid][pSecret], secretword)) SendClientMessage(playerid, -1, "{FFF000}>> Identity verified!"),Player[playerid][pIndentety] = true;
    return 1;
}*/

/*CMD:pay(playerid, params[])
{
    if(IsUsingProxy{playerid})
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][194]);
		return 1;
	}
	
	if(!CanPay) return 0;
	
	if(sscanf(params, "ii", params[0], params[1]))
	{
		SendClientMessage(playerid, -1,"/pay (id) (amount)");
		return 1;
	}

    if(Player[playerid][IsDefender] > 0)
    {
        SendClientMessage(playerid, -1,"Defender cannot give his experience to anyone!");
        return 1;
    }
	
	if(ProccessPay(playerid))
	{
		if(playerid == params[0]) return 1;
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(Player[playerid][pXP] >= params[1] && params[1] >= 20)
		{
		    if(Player[playerid][pXP] < 15000)
		    {
		        SendClientMessage(playerid, -1,"For security and YouTubers support, you must have atleast 15k experience to use this command!");
        		return 1;
		    }
		    
		    if(Player[params[0]][pXP] < 15000)
		    {
		        SendClientMessage(playerid, -1,"For security and YouTubers support, he/she must have atleast 15k experience to be paid!");
        		return 1;
		    }
		    
		    if(Player[params[0]][IsDefender] > 0)
    		{
        		SendClientMessage(playerid, -1,"Defenders cannot take experience from anyone!");
        		return 1;
    		}
    
	        new y, m, d, h, i, s, query[256], ip[16];
	        GetPlayerIp(playerid, ip, 16);

		  	TimestampToDate(gettime(), y, m, d, h, i, s, 3);

	        Player[params[0]][pXP] += (params[1] - floor(params[1]*TAXES));
		    Player[playerid][pXP] -= params[1];
		    foreach(Player, j) SendClientMessageFormat(j, -1, serverLang[Player[j][pLang]][75], Player[playerid][UserName], Player[params[0]][UserName], params[1], params[1] - floor(params[1]*TAXES));
	        GameTextForPlayer(params[0], "~y~YOU ~g~GOT ~r~XP", 2000, 5);

			mysql_format(Base, query, sizeof(query), "INSERT INTO `payments` (`from`,`whom`,`amount`,`type`,`date`,`id`,`ip`) VALUES ('%e','%e','%d','%d','%d','%d','%e')", Player[playerid][UserName], Player[params[0]][UserName], params[1], 0, gettime(), Player[playerid][pAccountID], ip);
		 	mysql_tquery(Base, query, "", "", "");

            #if debug_mode == 0
			DiscordChannel = DCC_FindChannelById("622114307131572225");
			format(query, sizeof query, "```\n%04d-%02d-%02d %02d:%02d %s has paid %d EXP to %s\n```", y, m, d, h, i, Player[playerid][UserName], params[1], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, query);
			#endif
		}
	}
	return 1;
}*/

CMD:skin(playerid, params[])
{
	if(Player[playerid][pVip] > 0)
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1,"/skin (id)");
	    if(params[0] == 0 || params[0] == 99 || params[0] == 92 || params[0] == 74 || params[0] == 217 || params[0] == 211)
		{
			SendClientMessage(playerid, -1,"/skin (id)");
			return 1;
		}
	    if(params[0] <= -2 || params[0] > 311)
	    {
	        SendClientMessage(playerid, -1,"/skin (id)");
			return 1;
	    }
	    
	    if(params[0] == -1)
		{
			Player[playerid][pVipSkin] = 0;
			SendClientMessage(playerid, -1,"{FF0000}>> Skin auto-change is off!");
			return 1;
		}
		SendClientMessage(playerid, -1,"{cdcdcd}Use {FF0000}/skin -1{cdcdcd} to switch auto-change off!");
		Player[playerid][pVipSkin] = params[0];
	    SetPlayerSkinAC(playerid, params[0]);
	    ClearAnimations(playerid);
	    
	    return 1;
	}
	return 0;
}

CMD:ss(playerid)
{
	SaveUserData(playerid);
	SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][160]);
	return 1;
}

CMD:acmds(playerid)
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
    {
		SendClientMessage(playerid, -1,"{33CCFF}------------------------ ADMIN COMMANDS ------------------------ ");
		if(Player[playerid][pAdmin] >= 1 )
		{
			SendClientMessage(playerid, -1,"{33CCFF}LVL 1: /aduty /atext /getip /slap /getinfo /sync /ostats /(un)jail");
			SendClientMessage(playerid, -1,"{33CCFF}LVL 1: /ex /cc /tban(only 3 hours) /checkip /kick /(un)warn /muwa /waja /spec /(un)mute");
		}
		if(Player[playerid][pAdmin] >= 2 ) SendClientMessage(playerid, -1,"{33CCFF}LVL 2: /request /evader /suspectaim /tban(only 72 hours) /goto /bslap /reconnect /apm /answer ");
		if(Player[playerid][pAdmin] >= 3 ) SendClientMessage(playerid, -1,"{33CCFF}LVL 3:/tban(999 hours) /ban /explode /time /weather /get /makezombie /veh /delveh /music /adva /name");
		if(Player[playerid][pAdmin] >= 4 )
		{
			SendClientMessage(playerid, -1,"{33CCFF}LVL 4: /makehuman /unbanip /skip /setmap /banip");
            SendClientMessage(playerid, -1,"{33CCFF}LVL 4: /(un)banport /offban(banname) /offtban /cmdcheck /freeze /unfreeze");
		}
		if(Player[playerid][pAdmin] >= 5 )
		{
			SendClientMessage(playerid, -1,"{33CCFF}LVL 5: /makeadmin /fire /demote /offmakeadmin /pmspy /getall /xp");
            SendClientMessage(playerid, -1,"{33CCFF}LVL 5: /(un)bankey (Can block up to 10k and more accounts at a time, use with caution) /banmachine (The same as /bankey, but by In-Game Slot ID)");
		}
		return 1;
	}
	return 0;
}

CMD:freeze(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "i", params[0]))
	    {
	        SendClientMessage(playerid, -1, "/freeze (id)");
	        return 1;
		}
		TogglePlayerControllable(params[0], 0);
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has been frozen up by %s", Player[params[0]][UserName], Player[playerid][UserName]);
	    return 1;
	}
	return 0;
}

CMD:unfreeze(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "i", params[0]))
	    {
	        SendClientMessage(playerid, -1, "/unfreeze (id)");
	        return 1;
		}
		TogglePlayerControllable(params[0], 1);
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has been thawed by %s", Player[params[0]][UserName], Player[playerid][UserName]);
	    return 1;
	}
	return 0;
}

CMD:sync(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "i", params[0]))
	    {
	        SendClientMessage(playerid, -1, "/sync (id)");
	        return 1;
		}
	 	SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
	    ClearAnimations(params[0]);
		TogglePlayerControllable(params[0], 0);
		TogglePlayerControllable(params[0], 1);
		RemoveCheater(params[0]);
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has been synced by %s", Player[params[0]][UserName], Player[playerid][UserName]);
	    return 1;
	}
	return 0;
}

ALTX:music("/m");
CMD:music(playerid, params[])
{
	if(Player[playerid][pAdmin] > 2 || Player[playerid][pVip] >= 3)
	{
	    if(sscanf(params, "s[128]", params[0]))
	    {
	        SendClientMessage(playerid, -1, "/music (direct link)");
	        return 1;
		}
		if(gettime() < MusicPlayTime)
		{
		    SendClientMessage(playerid, -1, "You can't set music too often");
		    return 1;
		}
		foreach(Player, i)
		{
		    if(GetUnlockedSlot(Player[i][pSettings], PS_MUSIC) == 0)
		    {
		    	SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][158], Player[playerid][UserName]);
				PlayAudioStreamForPlayer(i, params[0]);
			}
		}
		MusicPlayTime = gettime() + 180;
		return 1;
	}
	return 0;
}

CMD:off(playerid)
{
    StopAudioStreamForPlayer(playerid);
    PlayerPlaySound(playerid, 0, 0.0, 0.0, 0.0);
	return 1;
}

CMD:settings(playerid)
{
	new str[664], mask[6][40];
	for( new i = 0; i < sizeof(mask); i++ )
	{
		if(i != 9 && i != 11 && i!= 13) if(GetUnlockedSlot(Player[playerid][pSettings], i) == 1) mask[i] = "\t \t \t{FFFFFF}[{00FF00}YES{FFFFFF}]"; else mask[i] = "\t \t \t{FFFFFF}[{FF0000}NO{FFFFFF}]";
		else if(GetUnlockedSlot(Player[playerid][pSettings], i) == 0) mask[i] = "\t \t \t{FFFFFF}[{00FF00}YES{FFFFFF}]"; else mask[i] = "\t \t \t{FFFFFF}[{FF0000}NO{FFFFFF}]";
	}
	format(str, sizeof(str), "Block PMs%s\nDing%s\nBlock Duel Request%s\n\"Ability Is Ready\" sound%s\nAuto-Login%s\nUnhiden%s", mask[0], mask[1], mask[2], mask[3], mask[4], mask[5]);

	ShowPlayerDialog(playerid, DIALOG_SETTINGS, DIALOG_STYLE_TABLIST, serverLang[Player[playerid][pLang]][65], str, serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
    return 1;
}

CMD:giveammo(playerid, params[])
{
    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == HEAVYSUPPORT)
    {
        if(Time >= 281)
        {
            GameTextForPlayer(playerid,"~w~Wait",2000,5);
            return 1;
        }
        
        if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 1;
        if(sscanf(params, "i", params[0]))
        {
            SendClientMessage(playerid, -1, "/giveammo (playerid)");
			return 1;
        }
        
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		
		if(GetPlayerTeamEx(params[0]) == TEAM_HUMAN)
		{
			if(Abilitys[playerid][CanGiveAmmo] >= 1)
			{
				new slot, randomammo, weap, ammo, weapname[32];
			    for ( slot = 0; slot < 14; slot++ )
			    {
			        GetPlayerWeaponData(params[0],slot,weap,ammo);
			        if(IsValidWeapon(weap))
			        {
						if(weap != 24) randomammo = min(15, floor(float(ammo) * 0.25));
						else randomammo = min(8, floor(float(ammo) * 0.10));
						
		            	GetWeaponName(weap, weapname, sizeof(weapname));
		            	SetPVarInt(params[0], weapname, GetPVarInt(params[0], weapname) + randomammo);
		            	SetPlayerAmmoAC(params[0], weap, GetPVarInt(params[0], weapname));
					}
				}

                if(Achievements[playerid][AmmoGiven] <= 19) { ++Achievements[playerid][AmmoGiven]; }
 				if(Achievements[playerid][AmmoGiven] == 20 && GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 8) == 0)
			 	{
				 	UnlockAchievement(playerid, 60, 100);
				 	SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 8, 1);
				}

				SendClientMessageFormat(params[0], -1, serverLang[Player[params[0]][pLang]][68], Player[playerid][UserName]);
                SendClientMessageFormat(playerid, -1, "{E68687}>> You've sent ammo to %s", Player[params[0]][UserName]);
                
		        Abilitys[playerid][CanGiveAmmo]--;

		        for( new p; p < sizeof(NightEvent[evn_Mission]); p++)
		        {
					if(NightEvent[evn_Mission][p] == ev_SUPPORTNEEDED && e_ExclusionZone[playerid][e_ezMission][p] <= 199)
				    {
				        ++e_ExclusionZone[playerid][e_ezMission][p];
				        if(e_ExclusionZone[playerid][e_ezMission][p] >= 200) ev_CompleteToNext(playerid, ev_SUPPORTNEEDED);
						break;
				    }
				}
		        
		        return 1;
	        }
	        else
	        {
	            GameTextForPlayer(playerid, "~r~Empty", 2000, 5);
	            return 0;
	        }
		}
        return 1;
    }
    return 1;
}

CMD:cure(playerid, params[])
{
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
	    if(Player[playerid][pClass][TEAM_HUMAN] == MEDIC)
	    {
		    if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 1;
		    if(Time <= 0)
			{
			    switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~r~Time is up", 4000, 5);
					case 1: GameTextForPlayer(playerid,RusToGame("~r~УЖЕ КОНЕЦ"), 4000, 5);
					case 2: GameTextForPlayer(playerid,"~r~El tiempo ha terminado", 4000, 5);
				}
				return 1;
			}
	        if(gettime() - 8 < Abilitys[playerid][CureAbility])
	        {
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
			if(sscanf(params, "i", params[0]))
			{
				SendClientMessage(playerid, -1, "/cure (playerid)");
				return 1;
			}
			if(!IsPlayerConnected(params[0]))
			{
				SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
				return 1;
			}
	     	new Float: pos[3];
	  		GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	  		
	  		new Float:radius = 5.0;
			if(GetUnlockedCardEffect(playerid, CARD_EFFECT_HALLOWEEN) >= 1) radius += 3.0;
	  		
	    	if(IsPlayerInRangeOfPoint(params[0], radius, pos[0], pos[1], pos[2]) && Player[params[0]][IsPlayerInfected])
			{
			    new Float:hp;
			    GetPlayerHealth(params[0], hp);
			    if(hp <= 3.0)
			    {
			        switch(Player[playerid][pLang])
				    {
						case 0: GameTextForPlayer(playerid,"~r~Cannot do anything", 2000, 5);
				        case 1: GameTextForPlayer(playerid,RusToGame("~r~Слишком поздно"), 1000, 5);
				        case 2: GameTextForPlayer(playerid,"~r~No puedo hacer nada", 1000, 5);
					}
			        return 1;
			    }

				if(GetUnlockedCardEffect(playerid, CARD_EFFECT_TELEPATHY) >= 1 && random(4) == 0) ApplyAnimation(playerid, "MEDIC", "CPR", 4.1, 0, 1, 1, 1, 6000);
		    	else ApplyAnimation(playerid, "MEDIC", "CPR", 4.1, 0, 1, 1, 1, 6000);
		    
			    CurePlayer(params[0], playerid);
			    foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][61], Player[params[0]][UserName], Player[playerid][UserName]);

				if(params[0] != playerid)
		  			if(playerOnline >= 10)
			  			GivePlayerXP(playerid, (10 + ((Healer[playerid]) ? 5 : 0)) * Map[m_XPType]);
					  	else
					  	GivePlayerXP(playerid, 5);


			    switch(Player[params[0]][pLang])
		    	{
		    		case 0: GameTextForPlayer(params[0],"~g~ANTIDOTE TAKEN", 2000, 5);
		    		case 1: GameTextForPlayer(params[0],RusToGame("~g~ВЫЛЕЧЕН"), 2000, 5);
		    		case 2: GameTextForPlayer(params[0],"~g~ANTIDOTO TOMADO", 2000, 5);
				}

				CheckForChaosChestOpen(playerid, chaos_CURE_30_HUMANS);

			    Abilitys[playerid][CureAbility] = gettime();

			    ++Achievements[playerid][CuredHumans];
			    if(Achievements[playerid][CuredHumans] == 1) UnlockAchievement(playerid, 24, 10);
				if(Achievements[playerid][CuredHumans] == 50) UnlockAchievement(playerid, 25, 150);
	            if(Achievements[playerid][CuredHumans] == 100) UnlockAchievement(playerid, 26, 400);

	            for( new p; p < sizeof(NightEvent[evn_Mission]); p++)
				{
					if(NightEvent[evn_Mission][p] == ev_MEDICALASSISTANCE && e_ExclusionZone[playerid][e_ezMission][p] <= 49)
				    {
				        ++e_ExclusionZone[playerid][e_ezMission][p];
				        if(e_ExclusionZone[playerid][e_ezMission][p] >= 50) ev_CompleteToNext(playerid, ev_MEDICALASSISTANCE);
						break;
				    }
				}

				for( new p; p < sizeof(NightEvent[evn_Mission]); p++)
				{
					if(NightEvent[evn_Mission][p] == ev_ANTIVIRUS && e_ExclusionZone[playerid][e_ezMission][p] <= 49)
				    {
				        ++e_ExclusionZone[playerid][e_ezMission][p];
				        if(e_ExclusionZone[playerid][e_ezMission][p] >= 50) ev_CompleteToNext(playerid, ev_ANTIVIRUS);
						break;
				    }
				}
                return 1;
			}
			else
			{
		    	SendClientMessage(playerid, -1, "{FFF000}>> You need to be a Medic or have Medkit!");
		    	return 1;
			}
		}
		else
		{
		    SendClientMessage(playerid, -1, "{FFF000}>> You need to be a Medic or have Medkit!");
		    return 1;
		}
	}
	else
	{
	    SendClientMessage(playerid, -1, "{FFF000}>> You need to be a Human!");
	    return 1;
	}
}

fun ShowVPNActions(id)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
	{
     	new a, aid, date, country[64], ip[16], Name[MAX_PLAYER_NAME], str[256], query[164], kie[64], y, m, d, h, i, s;
	    for( a = 0; a < cache_num_rows(); a++ )
		{
		   	cache_get_value_name_int(a, "acc", aid);
 	    	cache_get_value_name_int(a, "login", date);
 	    	cache_get_value_name(a, "kie", kie, 64);
 	    	cache_get_value_name(a, "country", country, 64);
 	    	cache_get_value_name(a, "ip", ip, 16);
 	    	cache_get_value_name(a, "Name", Name, MAX_PLAYER_NAME);

			TimestampToDate(date, y, m, d, h, i, s, 3);
			format(str, sizeof str, "```\n%02d/%02d/%04d %02d:%02d:%02d %s(%d) has connected from %s (IP %s)\n```", d, m, y, h, i, s, Name, aid, country, ip);
			DCC_SendChannelMessageEx(DiscordChannel, str);
			
 			mysql_format(Base, query, sizeof(query), "SELECT `Name`, `lalog`, `ID` FROM `users` WHERE `kie` = '%e' AND `build`='"SERVER_BUILD"' LIMIT 30", kie);
			mysql_tquery(Base, query, "ShowSecurityErrorMessage", "i", 3);
			
		}
	}
	else
	{
		DCC_SendChannelMessageEx(DiscordChannel, "```\nNo matches found\n```");
	}
	#endif
	return 1;
}

fun ShowAccActions(id)
{
    if(cache_num_rows() > 0)
	{
	    #if debug_mode == 0
	    DiscordChannel = DCC_FindChannelById("674323910648397894");
    	DCC_SendChannelMessageEx(DiscordChannel, "```css\nInformation gathering process initiated\n```");
    
	    new a, text[164], aid, type, sign[41], reg_sign[41], ip[16], date, str[256], Name[MAX_PLAYER_NAME];
	    for( a = 0; a < cache_num_rows(); a++ )
		{
		   	cache_get_value_name_int(a, "acc", aid);
 	    	cache_get_value_name_int(a, "type", type);
 	    	cache_get_value_name(a, "text", text, 164);
 	    	cache_get_value_name(a, "sign", sign, 42);
 	    	cache_get_value_name_int(a, "date", date);
 	    	cache_get_value_name(a, "reg_sign", reg_sign, 42);
 	    	cache_get_value_name(a, "ip", ip, 16);
 	    	cache_get_value_name(a, "Name", Name, MAX_PLAYER_NAME);
 	    	
 	    	new y, m, d, h, i, s;
			TimestampToDate(date, y, m, d, h, i, s, 3);
 	    	
 	    	if(type == 0)
 	    	{
 	    	    if(strfind(reg_sign, sign, true) == -1) format(str, sizeof str, "```css\n[MISMATCH] %04d-%02d-%02d %02d:%02d:%02d %s(%d) used %s\n```", y, d, m, h, i, s, Name, aid, text);
 	    	    else format(str, sizeof str, "```css\n%04d-%02d-%02d %02d:%02d:%02d %s(%d) used %s\n```", y, d, m, h, i, s, Name, aid, text);
				DCC_SendChannelMessageEx(DiscordChannel, str);
 	    	}
 	    	if(type == 2)
 	    	{
 	    	    if(strfind(reg_sign, sign, true) == -1) format(str, sizeof str, "```css\n[MISMATCH] %04d-%02d-%02d %02d:%02d:%02d %s(%d) said %s\n```", y, d, m, h, i, s, Name, aid, text);
 	    	    else format(str, sizeof str, "```css\n%04d-%02d-%02d %02d:%02d:%02d %s(%d) said %s\n```", y, d, m, h, i, s, Name, aid, text);
				DCC_SendChannelMessageEx(DiscordChannel, str);
 	    	}
		}
		#endif
	}
	return 1;
}

fun ShowSecurityErrorMessage(type)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
	if(cache_num_rows())
	{
	    if(type == 0)
	    {
		    DCC_SendChannelMessageEx(DiscordChannel, "```css\n#Connection:  The following accounts are being processed for suspicion\n```");
		    new  id, name[MAX_PLAYER_NAME], lalog[15], str[256];
			for( new a; a < cache_num_rows(); a++ )
			{
	     	    cache_get_value_name(a, "Name", name, MAX_PLAYER_NAME+1);
	     	    cache_get_value_name(a, "lalog", lalog, 15);
				cache_get_value_name_int(a, "ID", id);
	 	    	format(str, sizeof str, "```css\n#Connection: %s(%d) - Last login: %s\n```", name, id, lalog);
				DCC_SendChannelMessageEx(DiscordChannel, str);
			}
			DCC_SendChannelMessageEx(DiscordChannel, "```\n-------------------------------------------------------------------\n```");
		}
		if(type == 1)
	    {
		    DCC_SendChannelMessageEx(DiscordChannel, "```css\n#Password: The following accounts are being processed for suspicion\n```");
		    new  id, name[MAX_PLAYER_NAME], lalog[15], str[256];
			for( new a; a < cache_num_rows(); a++ )
			{
	     	    cache_get_value_name(a, "Name", name, MAX_PLAYER_NAME+1);
	     	    cache_get_value_name(a, "lalog", lalog, 15);
				cache_get_value_name_int(a, "ID", id);
	 	    	format(str, sizeof str, "```css\n#Password: %s(%d) - Last login: %s\n```", name, id, lalog);
				DCC_SendChannelMessageEx(DiscordChannel, str);
			}
			DCC_SendChannelMessageEx(DiscordChannel, "```\n-------------------------------------------------------------------\n```");
		}
		if(type == 3)
	    {
		    DCC_SendChannelMessageEx(DiscordChannel, "```css\n#Login: The following accounts are being processed for suspicion\n```");
		    new  id, name[MAX_PLAYER_NAME], lalog[15], str[256];
			for( new a; a < cache_num_rows(); a++ )
			{
	     	    cache_get_value_name(a, "Name", name, MAX_PLAYER_NAME+1);
	     	    cache_get_value_name(a, "lalog", lalog, 15);
				cache_get_value_name_int(a, "ID", id);
	 	    	format(str, sizeof str, "```css\n#Login: %s(%d) - Last login: %s\n```", name, id, lalog);
				DCC_SendChannelMessageEx(DiscordChannel, str);
			}
			DCC_SendChannelMessageEx(DiscordChannel, "```\n--------------------------------------------------------------------\n```");
		}
	}
	else
	{
 		if(type == 0) DCC_SendChannelMessageEx(DiscordChannel, "```css\n#Connection: No account match found\n```");
 		if(type == 1) DCC_SendChannelMessageEx(DiscordChannel, "```css\n#Password: No account match found\n```");
 		if(type == 3) DCC_SendChannelMessageEx(DiscordChannel, "```css\n#Login: No account match found\n```");
	}
	#endif
	return 1;
}

fun ShowSecurityErrors(p)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
	{
	    new acc, ip[16], date, reg[16], sign[64], type, lsign[4][64], lp[4], str[256], j;
 		format(str, sizeof str, "```css\nSecurity detected %d messages\n```", cache_num_rows());
 		DCC_SendChannelMessageEx(DiscordChannel, str);
 		
		for( j = 0; j < cache_num_rows(); j++ )
		{
            cache_get_value_name_int(j, "acc", acc);
		    cache_get_value_name(j, "ip", ip, 17);
		    cache_get_value_name(j, "reg", reg, 17);
		    cache_get_value_name_int(j, "date", date);
		    cache_get_value_name(j, "sign", sign, 64);
		    cache_get_value_name_int(j, "type", type);
		   	new y, m, d, h, i, s;
      		TimestampToDate(date, y, m, d, h, i, s, 3);
		    format(str, sizeof str, "```\nA connection was initiated at this address: %s - Registrational: %s - Date: %02d/%02d/%04d Time: %02d:%02d\n```", ip, reg, d,m,y,h,i);
   			DCC_SendChannelMessageEx(DiscordChannel, str);

   			if(strlen(sign) >= 1 && type == 0)
			{
				if(strfind(lsign[type], sign, true) != -1 && j >= 1)
			    {
			        format(str, sizeof str, "```css\n#Connection: Proto(%d) - Same as Proto(%d), no action required\n```", j+1, lp[type]+1);
			        DCC_SendChannelMessageEx(DiscordChannel, str);
			    }
			    else
			    {
			        new query[164];
		    		mysql_format(Base, query, sizeof(query), "SELECT `Name`, `lalog`, `ID` FROM `users` WHERE `kie` = '%e' AND `build`='"SERVER_BUILD"'", sign);
					mysql_tquery(Base, query, "ShowSecurityErrorMessage", "i", type);
					strmid(lsign[type], sign, 0, 65, 65);
		        	lp[type] = j;
				}
   			}

   			if(type == 1)
   			{
   			    format(str, sizeof str, "```css\n#Password changed: Date: %02d/%02d/%04d Time: %02d:%02d - IP: %s - Reg: %s\n```", d, m, y, h, i, ip, reg);
   				DCC_SendChannelMessageEx(DiscordChannel, str);
				if(strfind(lsign[type], sign, true) != -1 && j >= 1)
			    {
			        format(str, sizeof str, "```css\n#Password: Proto(%d) - Same as Proto(%d), no action required\n```", j+1, lp[type]+1);
			        DCC_SendChannelMessageEx(DiscordChannel, str);
			    }
			    else
			    {
			        new query[164];
		    		mysql_format(Base, query, sizeof(query), "SELECT `Name`, `lalog`, `ID` FROM `users` WHERE `kie` = '%e' AND `build`='"SERVER_BUILD"'", sign);
					mysql_tquery(Base, query, "ShowSecurityErrorMessage", "i", type);
					strmid(lsign[type], sign, 0, 65, 65);
		        	lp[type] = j;
				}
   			}

            if(type == 3)
   			{
   			    format(str, sizeof str, "```css\n#Login error: Date: %02d/%02d/%04d Time: %02d:%02d - IP: %s - Reg: %s\n```", d, m, y, h, i, ip, reg);
   				DCC_SendChannelMessageEx(DiscordChannel, str);
				if(strfind(lsign[type], sign, true) != -1 && j >= 1)
			    {
			        format(str, sizeof str, "```css\n#Login: Proto(%d) - Same as Proto(%d), no action required\n```", j+1, lp[type]+1);
			        DCC_SendChannelMessageEx(DiscordChannel, str);
			    }
			    else
			    {
			        new query[164];
		    		mysql_format(Base, query, sizeof(query), "SELECT `Name`, `lalog`, `ID` FROM `users` WHERE `kie` = '%e' AND `build`='"SERVER_BUILD"'", sign);
					mysql_tquery(Base, query, "ShowSecurityErrorMessage", "i", type);
					strmid(lsign[type], sign, 0, 65, 65);
		        	lp[type] = j;
				}
   			}
		}
		DCC_SendChannelMessageEx(DiscordChannel, "```css\nSearch for changes in the username - [In processing]\n```");
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```css\nStabilized, no suspicion identified\nSearch for changes in the username\n```");
	}
	new query[128];
 	mysql_format(Base, query, sizeof(query), "SELECT * FROM `namechanger` WHERE `account` = '%d' AND `build`='"SERVER_BUILD"'", p);
	mysql_tquery(Base, query, "ProtocolShowNames", "i", p);
	#endif
	return 1;
}
	
fun ShowNameChanges(p)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
	{
	    new j, str[256];
  		format(str, sizeof(str), "```css\nFound: %d results\n```", cache_num_rows());
		DCC_SendChannelMessageEx(DiscordChannel, str);
		
	    for( j = 0; j < cache_num_rows(); j++ )
		{
		    new NN[24], ON[24], date, y, m, d, h, i, s, op[16];
			cache_get_value_name(j, "newName", NN);
   			cache_get_value_name(j, "oldName", ON);
      		cache_get_value_name_int(j, "Date", date);
        	cache_get_value_name(j, "IP", op);
            TimestampToDate(date, y, m, d, h, i, s, 3);
   			format(str, sizeof(str), "```\n%s has changed his/her name to %s [Date: %02d/%02d/%04d Time: %02d:%02d] - [IP: %s]\n```", ON, NN, d, m, y, h, i, op);
			DCC_SendChannelMessageEx(DiscordChannel, str);
		}
	}
	else
	{
        DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo name changes were detected\n```");
	}
	#endif
	return 1;
}

fun ProtocolShowNames(p)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
	{
	    for( new j, str[256]; j < cache_num_rows(); j++ )
		{
		    new NN[24], ON[24], date, y, m, d, h, i, s, op[16];
			cache_get_value_name(j, "newName", NN);
   			cache_get_value_name(j, "oldName", ON);
      		cache_get_value_name_int(j, "Date", date);
        	cache_get_value_name(j, "IP", op);
            TimestampToDate(date, y, m, d, h, i, s, 3);
   			format(str, sizeof(str), "```\n%s has changed his/her name to %s [Date: %02d/%02d/%04d Time: %02d:%02d] - [IP: %s]\n```", ON, NN, d, m, y, h, i, op);
			DCC_SendChannelMessageEx(DiscordChannel, str);
		}
		DCC_SendChannelMessageEx(DiscordChannel, "```css\nSwitching to bans\n```");
	}
	else
	{
        DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo name changes were detected, switching to bans\n```");
	}
	new query[128];
	mysql_format(Base, query, sizeof(query), "SELECT * FROM `banlog` WHERE `acc` = '%d' AND `build`='"SERVER_BUILD"'", p);
	mysql_tquery(Base, query, "ShowBanLog", "i", p);
	#endif
	return 1;
}

fun ITGetKey()
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
   	{
   	    new i, id, name[MAX_PLAYER_NAME], str[256], sign[41], reg_sign[41];
   	    for( i = 0; i < cache_num_rows(); i++)
   	    {
   	        cache_get_value_name_int(i, "acc", id);
		    cache_get_value_name(i, "Name", name, MAX_PLAYER_NAME);
		    
		    cache_get_value_name(i, "sign", sign, 41);
		    cache_get_value_name(i, "reg_sign", reg_sign, 41);
		    
			format(str, sizeof(str), "```yaml\n************ %s (Account ID %d) ************\n```", name, id);
            DCC_SendChannelMessageEx(DiscordChannel, str);
            
            if(!strcmp(sign, reg_sign, false)) format(str, sizeof(str), "```\nREG: %s\nCUR: %s\n\n$IDENTICAL```", reg_sign, sign);
            else format(str, sizeof(str), "```\nREG: %s\nCUR: %s\n\n$MISMATCH - Security system added error```", reg_sign, sign);
			
	  		DCC_SendChannelMessageEx(DiscordChannel, str);
   	    }
   	}
   	else
   	{
   	    DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo matches\n```");
   	}
   	#endif
   	return 1;
}

fun ITGetPort()
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
   	{
   	    new i, id, name[MAX_PLAYER_NAME], str[256], port;

   	    new bool:f=false;

   	    for( i = 0; i < cache_num_rows(); i++)
   	    {
   	        cache_get_value_name_int(i, "aid", id);
		    cache_get_value_name(i, "uname", name, MAX_PLAYER_NAME);
            cache_get_value_name_int(i, "port", port);
			if(port <= 0 || !strlen(name)) continue;

			format(str, sizeof(str), "```%d. %s(%d) > %04d-%02d-%02d %02d:%02d:%02d```", i+1, name, id);
	  		DCC_SendChannelMessageEx(DiscordChannel, str);
	  		f = true;
   	    }
   	    if(!f)
   	    {
            DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo matches\n```");
   	    }
   	}
   	else
   	{
   	    DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo matches\n```");
   	}
   	#endif
   	return 1;
}

fun ITComparePorts()
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
   	{
   	    new i, id, name[MAX_PLAYER_NAME], ll, str[256];

   	    new y, m, d, h, o, s;

   	    for( i = 0; i < cache_num_rows(); i++)
   	    {
   	        cache_get_value_name_int(i, "aid", id);
		    cache_get_value_name(i, "uname", name, MAX_PLAYER_NAME);
		    cache_get_value_name_int(i, "la_log", ll);
		    if(ll <= 0 || !strlen(name)) continue;

            TimestampToDate(ll, y, m, d, h, o, s, 3);

			if( i == 0 ) format(str, sizeof(str), "```LATEST: %s(%d) > %04d-%02d-%02d %02d:%02d:%02d```", name, id, y, m, d, h, o, s);
	  		else format(str, sizeof(str), "```RECENT: %s(%d) > %04d-%02d-%02d %02d:%02d:%02d```", name, id, y, m, d, h, o, s);
	  		DCC_SendChannelMessageEx(DiscordChannel, str);
   	    }
   	}
   	else
   	{
   	    DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo matches\n```");
   	}
   	#endif
   	return 1;
}

fun ITCompareKeys()
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
   	{
   	    new i, id, name[MAX_PLAYER_NAME], ll, str[256];
   	    
   	    new y, m, d, h, o, s;
   	    
   	    for( i = 0; i < cache_num_rows(); i++)
   	    {
   	        cache_get_value_name_int(i, "aid", id);
		    cache_get_value_name(i, "uname", name, MAX_PLAYER_NAME);
		    cache_get_value_name_int(i, "la_log", ll);
		    if(ll <= 0 || !strlen(name)) continue;

            TimestampToDate(ll, y, m, d, h, o, s, 3);

			if( i == 0 ) format(str, sizeof(str), "```LATEST: %s(%d) > %04d-%02d-%02d %02d:%02d:%02d```", name, id, y, m, d, h, o, s);
	  		else format(str, sizeof(str), "```RECENT: %s(%d) > %04d-%02d-%02d %02d:%02d:%02d```", name, id, y, m, d, h, o, s);
	  		DCC_SendChannelMessageEx(DiscordChannel, str);
   	    }
   	}
   	else
   	{
   	    DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo matches\n```");
   	}
   	#endif
   	return 1;
}

fun ITCompareAccunts(id, id2)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
   	{
   	    new fk[41], sk[41], str[90];
		cache_get_value_name(0, "fk", fk, 41);
		cache_get_value_name(1, "sk", sk, 41);
		if(strlen(fk) <= 0 || strlen(sk) <= 0) DCC_SendChannelMessageEx(DiscordChannel, "```css\nUnable to compare, signs are corrupted\n```");
		else
		{
	  		if(strfind(fk, sk, true) != -1)
  			{
  			    format(str, sizeof(str), "```css\n[Total percentage calculation of Account ID %d and Account ID %d]\n```", id, id2);
			  	DCC_SendChannelMessageEx(DiscordChannel, str);
			  	
			  	new query[128], Cache:Data, Float:percent = 0.0;
				mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `users` WHERE `kie` = '%e' AND `build`='"SERVER_BUILD"'", sk);
				Data = mysql_query(Base, query);
				if(cache_is_valid(Data))
			  	{
			  	    if(cache_num_rows() >= 3) percent = (100.0 / float(cache_num_rows()));
			  	    else percent = 100.0;
					cache_delete(Data);
				}
			  	
			  	format(str, sizeof(str), "```Matches on %.2f percents```", percent);
			  	DCC_SendChannelMessageEx(DiscordChannel, str);
			  	
			}
	  		else DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo matches\n```");
		}
	}
	else DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo matches\n```");
	#endif
	return 1;
}

fun ShowBanLog(p)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
   	{
   	    new admin[24], reason[64], perm, initiated, time, name[24], version[64];
    	new j, y, m, d, h, i, se, whounban[100], port = 0;
        new s[456], unban, untime, unadmin[24],acc, query[400];
        
		for( j = 0; j < cache_num_rows(); j++ )
		{
		    cache_get_value_name_int(j, "acc", acc);
		    cache_get_value_name(j, "admin", admin, 25);
		    cache_get_value_name(j, "reason", reason, 65);
		    cache_get_value_name_int(j, "time", time);
		    cache_get_value_name_int(j, "perm", perm);
		    cache_get_value_name_int(j, "initiated", initiated);
		    cache_get_value_name(j, "name", name, 25);
		    cache_get_value_name_int(j, "unbanned", unban);
		    cache_get_value_name_int(j, "untime", untime);
		    cache_get_value_name(j, "unadmin", unadmin, 25);
		    cache_get_value_name(j, "version", version, 64);
		    cache_get_value_name_int(j, "port", port);
		    
		    if( perm > 0 )
		    {
		        TimestampToDate(untime, y, m, d, h, i, se, 3);
				if(unban > 0) format(whounban, sizeof(whounban), "[Status: Unbanned by %s (Date: %02d/%02d/%04d Time: %02d:%02d)]", unadmin, d,m,y,h,i);
				else format(whounban, sizeof(whounban), "[Status: Banned]");
				TimestampToDate(initiated, y, m, d, h, i, se, 3);
				format(s, sizeof s, "```\n%s has been banned by %s [Reason: %s] - [Date: %02d/%02d/%04d Time: %02d:%02d] - [PERMANENT] - %s - [Version: %s]\n```", name, admin, reason, d,m,y,h,i, whounban, version);
				//else format(s, sizeof s, "```\n%s has been banned by %s [Reason: %s] - [Date: %02d/%02d/%04d Time: %02d:%02d] - [PERMANENT] - %s - [Version: %s] - [Port: %d]\n```", name, admin, reason, d,m,y,h,i, whounban, version, port);
	   			DCC_SendChannelMessageEx(DiscordChannel, s);
		    }
		    else if( time > 0 )
		    {
                TimestampToDate(untime, y, m, d, h, i, se, 3);
				if(unban > 0) format(whounban, sizeof(whounban), "[Status: Unbanned by %s (Date: %02d/%02d/%04d Time: %02d:%02d)]", unadmin, d,m,y,h,i);
				else
				{
				    if(gettime() > time)
				    {
				        mysql_format(Base, query, sizeof(query), "UPDATE `banlog` SET `unbanned` = '1',`untime` = '%d',`unadmin` = 'the System' WHERE `acc` = '%d'", time, acc);
						mysql_tquery(Base, query, "", "", "");
                        TimestampToDate(time, y, m, d, h, i, se, 3);
				    	format(whounban, sizeof(whounban), "[Status: Unbanned by the System (Date: %02d/%02d/%04d Time: %02d:%02d)]", d,m,y,h,i);
				    }
				    else format(whounban, sizeof(whounban), "[Status: Banned]");
				}
				TimestampToDate(initiated, y, m, d, h, i, se, 3);
     			format(s, sizeof s, "```\n%s has been banned by %s [Reason: %s] - [Date: %02d/%02d/%04d Time: %02d:%02d] - [TEMPORARLY] - %s - [Version: %s]\n```", name, admin, reason, d,m,y,h,i, whounban, version);
				//else format(s, sizeof s, "```\n%s has been banned by %s [Reason: %s] - [Date: %02d/%02d/%04d Time: %02d:%02d] - [TEMPORARLY] - %s - [Version: %s] - [Port: %d]\n```", name, admin, reason, d,m,y,h,i, whounban, version, port);
	   			DCC_SendChannelMessageEx(DiscordChannel, s);
		    }
		}
   	}
   	else
   	{
   	    DCC_SendChannelMessageEx(DiscordChannel, "```css\nNo bans were detected\n```");
   	}
   	#endif
	return 1;
}

/*9fun ShowPayLog(p)
{
    if(cache_num_rows() > 0)
   	{
   	    DiscordChannel = DCC_FindChannelById("613185790683513003");
        for( new z, msg[256]; z < cache_num_rows(); z++)
		{
			new NN[24], ON[24], date, IP[16], y, m, d, h, i, s, type, amt;
			cache_get_value_name(z, "from", NN);
		    cache_get_value_name(z, "whom", ON);
		    cache_get_value_name_int(z, "type", type);
		    cache_get_value_name_int(z, "amount", amt);
	        cache_get_value_name_int(z, "date", date);
	        cache_get_value_name(z, "ip", IP);

			TimestampToDate(date, y, m, d, h, i, s, 3);
			if(type == 0) format(msg, sizeof(msg), "```%s has paid %d EXP to %s [Date: %02d/%02d/%04d | Time: %02d:%02d] (IP %s)\n```", NN, amt, ON, d, m, y, h, i, IP);
            if(type == 1) format(msg, 200, "```%s has deposited %d EXP to %s [Date: %02d/%02d/%04d | Time: %02d:%02d] (IP %s)\n```", NN, amt, ON, d, m, y, h, i, IP);
			DCC_SendChannelMessageEx(DiscordChannel, msg);
		}
	}
	new query[64];
 	mysql_format(Base, query, sizeof(query), "SELECT * FROM `namechanger` WHERE `account` = '%d'", p);
	mysql_tquery(Base, query, "ProtocolShowNames", "i", p);
	return 1;
}*/


fun UpdateBanLog(playerid)
{
    if(cache_num_rows() > 0)
   	{
   	    new id, query[256];
   	    cache_get_value_name_int(0, "ID", id);
   	    mysql_format(Base, query, sizeof(query), "UPDATE `banlog` SET `unbanned` = '1',`untime` = '%d',`unadmin` = '%e' WHERE `acc` = '%d'", gettime(), Player[playerid][RealName], id);
		mysql_tquery(Base, query, "", "", "");
   	}
   	return 1;
}

fun TryToUnbanPlayerFromAGame(playerid, const name[])
{
    if(cache_num_rows() > 0)
 	{
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][47], name, Player[playerid][UserName]);

        new query[144];
        mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
		mysql_tquery(Base, query, "UpdateBanLog", "i", playerid);

		mysql_format(Base, query, sizeof(query), "DELETE FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
		mysql_tquery(Base, query, "", "", "");
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /unban on player %s\n```", Player[playerid][RealName], name);
			DCC_SendChannelMessageEx(DiscordChannel, __action);

			DiscordChannel = DCC_FindChannelById("624580613697175582");
			format(__action, sizeof __action, "```\n%s has been unbanned by %s (IG)\n```", name, Player[playerid][RealName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif

		}
	}
	else
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][48]);
	}
	return 1;
}

CMD:unban(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3)
	{
	    new query[144], name[24];
		if(sscanf(params, "s[24]", name)) return SendClientMessage(playerid, -1, "/unban (name)");
		mysql_format(Base, query, sizeof(query), "SELECT * FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
	 	mysql_tquery(Base, query, "TryToUnbanPlayerFromAGame", "is", playerid, name);
	    return 1;
	}
	return 0;
}

stock BanPlayer(playerid, const reason[], const conn[] = "")
{
    IsBanned{playerid} = true;
	new query[456], IP[16], serial[41], version[64];
    gpci(playerid, serial, sizeof(serial));
	GetPlayerIp(playerid, IP, 16);
	GetPlayerVersion(playerid, version, 64);
    mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`gpci`,`ip`,`build`) VALUES ('%e','Anti-Cheat','%e',1,0,'%e','%e','"SERVER_BUILD"')", Player[playerid][UserName],reason,serial,IP);
	mysql_tquery(Base, query, "", "", "");

	mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`version`,`build`,`port`) VALUES ('%d','%e','%e','%d','%d','%d','%e','%e','"SERVER_BUILD"','%d')", Player[playerid][pAccountID], "Anti-Cheat", reason, 0, 1, gettime(), Player[playerid][UserName], version, Player[playerid][pPort]);
	mysql_tquery(Base, query, "", "", "");

	SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][51]);
    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][52]);
    foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][100], Player[playerid][UserName], reason);

    new str[200], y, m, d, h, i, s;
	TimestampToDate(gettime(), y, m, d, h, i, s, 3);

    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("612998988609880076");
    if(DiscordChannel != DCC_INVALID_CHANNEL)
	{
		format(str, sizeof(str), "```yaml\n%04d-%02d-%02d %02d:%02d %s(%d) has been banned by Anti-Cheat (%s)\n```", y, m, d, h, i, Player[playerid][UserName], playerid, reason);
		DCC_SendChannelMessageEx(DiscordChannel, str);
	}
	
	DiscordChannel = DCC_FindChannelById("619186196718944256");
    if(DiscordChannel != DCC_INVALID_CHANNEL)
    {
		format(str, sizeof str, "```\n%04d-%02d-%02d %02d:%02d %s has been banned by Anti-Cheat (%s)\n```", y, m, d, h, i, Player[playerid][UserName], reason);
		DCC_SendChannelMessageEx(DiscordChannel, str);
	}
	#endif
	
 	PlayerKick(playerid, conn);
}

CMD:veh(playerid, params[])
{
    if(Player[playerid][pAdmin] > 2 && Player[playerid][aDuty])
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/veh (carid)");
	    if(AdminVeh[playerid] > -1)
		{
			DestroyVehicle(AdminVeh[playerid]);
			AdminVeh[playerid] = -1;
		}
	    new Float: pos[4];
	    GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	    GetPlayerFacingAngle(playerid, pos[3]);
	    AdminVeh[playerid] = CreateVehicle(params[0], pos[0], pos[1], pos[2], pos[3], 1, 1, -1);
	    LinkVehicleToInterior(AdminVeh[playerid], GetPlayerInterior(playerid));
		SetVehicleVirtualWorld(AdminVeh[playerid], GetPlayerVirtualWorld(playerid));
		PutPlayerInVehicle(playerid, AdminVeh[playerid], 0);
		//SendClientMessage(playerid, -1, "{FF0000}>> Currently disabled due to abuse...");
		return 1;
	}
	return 0;
}

CMD:delveh(playerid, params[])
{
    if(Player[playerid][pAdmin] > 2)
	{
	    if(AdminVeh[playerid] > -1)
		{
			DestroyVehicle(AdminVeh[playerid]);
			AdminVeh[playerid] = -1;
		}
		return 1;
	}
	return 0;
}

/*CMD:leave(playerid, params[])
{
    if(Player[playerid][pAdmin] > 1)
	{
		if(sscanf(params, "s[24]", params[0])) return SendClientMessage(playerid, -1, "/leave (name)");
 		foreach(Player, i)
	 	{
			SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][12], Name(playerid), serverLang[Player[i][pLang]][9 + random(3)]);
			SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][0], params[0], playerid);
		}
	 	SetPlayerName(playerid, params[0]);
 		SpawnPlayer(playerid);
	    return 1;
	}
	return 0;
}*/

CMD:kick(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "is[128]", params[0], params[1])) return SendClientMessage(playerid, -1, "/kick (playerid) (reason)");
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[0] == playerid) return 1;
		if(Player[params[0]][pAdmin] > 0 && Player[playerid][pAccountID] != 1) return 1;
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == params[0]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][106], Player[params[0]][UserName], Player[playerid][RealName], MakeReasonFromShort(params[1]));
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /kick on player %s [Reason: %s]\n```",  Player[playerid][RealName], Player[params[0]][UserName], params[1]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		PlayerKick(params[0]);
	    return 1;
	}
	return 0;
}

CMD:atext(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged] || GetUnlockedSlot(Player[playerid][pSettings], 29) == 1)
	{
	    new text[128];
    	if(sscanf(params, "s[128]", text))
		{
	 		SendClientMessage(playerid, -1, "/atext (text)");
	 		return 1;
		}
		//if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
		if(CheckForWebsite(text)) return 1;
		if(CheckForBehavoiur(text)) return 1;
        if(strfind(text, ".", true) != -1)
		{
	        new i_numcount, i_period, i_pos;
	        while(text[i_pos])
			{
	            if('0' <= text[i_pos] <= '9') i_numcount ++;
	            else if(text[i_pos] == '.') i_period ++;
	            i_pos++;
	        }
	        if(i_numcount >= 8 && i_period >= 3)
		 	{
	            return 1;
	        }
		}
    	foreach(Player, i)
		{
		    if(Player[i][pAdmin] <= 0) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][110], text);
		    else SendClientMessageFormat(i, -1, "{FFA500}>> Announcement{FFFFFF} %s {FFA500}(by %s)", text, Player[playerid][UserName]);
		}
    	if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /atext (%s)\n```", Player[playerid][RealName], text);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:unmute(playerid, params[])
{
	if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "i", params[0]))
		{
			SendClientMessage(playerid, -1, "/unmute (playerid)");
            return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(Player[params[0]][Muted] == 0)
		{
		    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][115]);
			return 1;
		}
	    Player[params[0]][Muted] = 0;
     	foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][114], Player[params[0]][UserName], Player[playerid][RealName]);
     	if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /unmute on player %s\n```", Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	    return 1;
	}
	return 0;
}

CMD:waja(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    new reason[64];
	    if(sscanf(params, "iis[128]", params[0], params[1], reason))
		{
			SendClientMessage(playerid, -1, "/waja (playerid) (time) (reason)");
            return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] <= 0)
		{
			SendClientMessage(playerid, -1, "/waja (playerid) (time) (reason)");
            return 1;
		}
		
		new player = params[0], time = params[1];
		
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == player) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[player][UserName], Player[playerid][RealName], time, MakeReasonFromShort(reason));
		SetPlayerSkinAC(player, 62, 1);
		SetPlayerSpecialAction(player, SPECIAL_ACTION_CUFFED);
		SetPlayerPosAC(player,264.1425,77.4712,1001.0391);
		SetPlayerFacingAngle(player, 263.0160);
		SetPlayerInterior(player, 6);
		SetPlayerColor(player, 0x000000FF);
		Player[player][Jailed] = time * 60;
		SetPlayerTeamEx(player, TEAM_ZOMBIE);
		ResetWeapons(player);
		SetPlayerArmourAC(player, 0.0);
		SetPlayerHealthAC(player, 100.0);
		Player[player][Accelerated] = -1;
		RemoveCheater(player);
		if(IsPlayerAcceleratedText[player]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[player]),IsPlayerAcceleratedText[player]=Text3D:-1;

        Player[params[0]][Warnings]++;

     	foreach(Player, i)
	 	{
       		if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == params[0]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][145], Player[params[0]][UserName], Player[playerid][RealName], Player[params[0]][Warnings], MakeReasonFromShort(reason));
		}
		ShowPlayerDialog(params[0], DIALOG_WARNED, DIALOG_STYLE_MSGBOX, "Warning", MakeReasonFromShort(params[2]), "Ok", "");

		if(Player[params[0]][Warnings] >= 3)
		{
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == params[0]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][146], Player[params[0]][UserName]);
			PlayerKick(params[0]);
		}
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /muja on player %s [Reason: %s]\n```",  Player[playerid][RealName], Player[params[0]][UserName], MakeReasonFromShort(params[2]));
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:muwa(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "iis[128]", params[0], params[1], params[2]))
		{
			SendClientMessage(playerid, -1, "/muwa (playerid) (time) (reason)");
            return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] <= 0)
		{
			SendClientMessage(playerid, -1, "/muwa (playerid) (time) (reason)");
            return 1;
		}
		Player[params[0]][Muted] = params[1]*60;
		Player[params[0]][Warnings]++;
		RemoveCheater(params[0]);
		
     	foreach(Player, i)
	 	{
		 	SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][111], Player[params[0]][UserName], Player[playerid][RealName], params[1], params[2]);
       		if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == params[0]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][145], Player[params[0]][UserName], Player[playerid][RealName], Player[params[0]][Warnings], MakeReasonFromShort(params[2]));
		}
		ShowPlayerDialog(params[0], DIALOG_WARNED, DIALOG_STYLE_MSGBOX, "Warning", MakeReasonFromShort(params[2]), "Ok", "");

		if(Player[params[0]][Warnings] >= 3)
		{
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == params[0]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][146], Player[params[0]][UserName]);
			PlayerKick(params[0]);
		}
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /muwa on player %s [Reason: %s]\n```",  Player[playerid][RealName], Player[params[0]][UserName], MakeReasonFromShort(params[2]));
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:mute(playerid, params[])
{
	if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "iis[128]", params[0], params[1], params[2]))
		{
			SendClientMessage(playerid, -1, "/mute (playerid) (time) (reason)");
            return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] <= 0)
		{
			SendClientMessage(playerid, -1, "/mute (playerid) (time) (reason)");
            return 1;
		}
	    Player[params[0]][Muted] = params[1]*60;
     	foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][111], Player[params[0]][UserName], Player[playerid][RealName], params[1], params[2]);

	    if(Player[params[0]][IsDefender] > 0)
		{
		    SendClientMessage(params[0], -1, "{99ffff}[EVENT] Defender, you have breaks the rules, atone for your guilt!");
			Player[params[0]][DefenderSorryTime] = gettime()+86400;
		}
        RemoveCheater(params[0]);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s has been muted by %s for %d minutes [Reason: %s]\n```", Player[params[0]][UserName], Player[playerid][RealName], params[1], params[2]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:getip(playerid, params[])
{
	if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/getip (playerid)");
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		new IP[16];
		GetPlayerIp(params[0], IP, 16);
		SendClientMessage(playerid, -1, IP);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /getip on player %s\n```", Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

fun CheckForBanEvader(playerid)
{
    new size = cache_num_rows();
	if(size > 0)
 	{
 	    SendClientMessage(playerid, -1, "{B2F558}+------------- IP Check -------------+");

        new User[MAX_PLAYER_NAME], id, i, query[144];
     	for( i = 0; i < size; i++ )
	 	{
	 	    cache_get_value_name(i, "Name", User, MAX_PLAYER_NAME);
	 	    cache_get_value_name_int(i, "ID", id);
	 		mysql_format(Base, query, sizeof(query), "SELECT `Name` FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", User);
			mysql_tquery(Base, query, "CheckForBan", "isiii", id, User, 0, playerid, 0);
		}
	}
	else
	{
	    SendClientMessage(playerid, -1, "No results found!");
	}
	return 1;
}

CMD:evader(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/evader (id)");
	    if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
	    
	    new query[144], IP[16];
	    GetPlayerIp(params[0], IP, sizeof(IP));
		mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `IP` LIKE '%e%%' AND `build`='"SERVER_BUILD"' LIMIT 10", IP);
	 	mysql_tquery(Base, query, "CheckForBanEvader", "i", playerid);
	 	
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /evader (IP: %s)\n```", Player[playerid][RealName], params[0]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:checkip(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "s[24]", params[0])) return SendClientMessage(playerid, -1, "/checkip (ip)");
	    new query[128];
		mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `IP` LIKE '%e%%' AND `build`='"SERVER_BUILD"' LIMIT 10", params[0]);
	 	mysql_tquery(Base, query, "CheckForBanEvader", "i", playerid);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /checkip (IP: %s)\n```", Player[playerid][RealName], params[0]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:slap(playerid, params[])
{
	if(Player[playerid][pAdmin] > 0 && Player[playerid][pLogged])
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/slap (playerid)");
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
	    new Float:pos[4];
	    SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
	    GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	    SetPlayerPosAC(params[0], pos[0], pos[1], pos[2] + 10.0);
	    GetPlayerHealth(params[0], pos[3]);
	    RemoveCheater(params[0]);
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][108], Player[playerid][RealName], Player[params[0]][UserName], pos[3]);
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /slap on player %s\n```", Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:bslap(playerid, params[])
{
	if(Player[playerid][pAdmin] > 1)
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/bslap (playerid)");
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
	    new Float:pos[4];
	    GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	    SetPlayerPosAC(params[0], pos[0], pos[1], pos[2] + 20.0);
	    GetPlayerHealth(params[0], pos[3]);
	    RemoveCheater(params[0]);
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][108], Player[playerid][RealName], Player[params[0]][UserName], pos[3]);
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /bslap on player %s\n```", Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:explode(playerid, params[])
{
	if(Player[playerid][pAdmin] > 2)
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/explode (playerid)");
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
	    new Float:pos[4];
	    SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
	    GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
        GetPlayerHealthEx(params[0], pos[3]);
        
        if(!Player[params[0]][aDuty])
        {
	        AntiCheat[params[0]][ex_OldHP] = pos[3];
		    SetTimerEx("AC_CheckForAntiExplosions", 2500, 0, "i", params[0]);
		}
		
		CreateExplosion(pos[0], pos[1], pos[2], 0, 7.0);
	    
     	GetPlayerHealth(params[0], pos[3]);
     	
     	RemoveCheater(params[0]);
     	AntiSlap(params[0], 3);
     	AntiSpeedHack(params[0], 3);
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][109], Player[params[0]][UserName], Player[playerid][RealName], pos[3]);
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /explode on player %s\n```", Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:goto(playerid, params[])
{
	if(Player[playerid][pAdmin] > 1)
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/goto (playerid)");
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
	    new Float:pos[3];
	    SetPlayerInterior(playerid, GetPlayerInterior(params[0]));
	    SetPlayerVirtualWorld(playerid, GetPlayerVirtualWorld(params[0]));
	    GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
	    SetPlayerPosAC(playerid, pos[0]+1.5, pos[1]+1.5, pos[2]+0.5);
	    if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /goto on player %s\n```", Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
     	return 1;
	}
	return 0;
}

CMD:get(playerid, params[])
{
	if(Player[playerid][pAdmin] > 2)
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/get (playerid)");
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
	    new Float:pos[3];
	    SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
	    SetPlayerInterior(params[0], GetPlayerInterior(playerid));
	    SetPlayerVirtualWorld(params[0], GetPlayerVirtualWorld(playerid));
	    GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	    SetPlayerPosAC(params[0], pos[0]+1.5, pos[1]+1.5, pos[2]+0.5);
	    if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /get on player %s\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
     	return 1;
	}
	return 0;
}

CMD:getall(playerid, params[])
{
	if(Player[playerid][pAdmin] > 4)
	{
	    new Float:pos[3];
	    GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	    foreach(Player, i)
	    {
	        if(i != playerid)
	        {
	            TogglePlayerSpectating(i, 0);
	     		SetPlayerSpecialAction(i, SPECIAL_ACTION_NONE);
	     		ClearAnimations(i);
		    	SetPlayerInterior(i, GetPlayerInterior(playerid));
		    	SetPlayerVirtualWorld(i, GetPlayerVirtualWorld(playerid));
		    	SetPlayerPosAC(i, pos[0]+1.5, pos[1]+1.5, pos[2]+0.5);
			}
			SendClientMessageFormat(i, -1, "{33CCFF}>> %s has teleported all players to himself", Player[playerid][RealName]);
	    }
	    if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /getall\n```", Player[playerid][RealName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
     	return 1;
	}
	return 0;
}

CMD:specoff(playerid)
{
    if(Player[playerid][pAdmin] <= 0) return 0;
	if(!IsSpecing[playerid]) return 0;
	AntiTPTimerEx(playerid, 4);
	AntiSlap(playerid, 2);
	AntiSpeedHack(playerid, 3);
	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][117], Player[playerid][RealName], Player[spectatorid[playerid]][UserName], spectatorid[playerid]);

	for(new k = 0; k < 10; k++) TextDrawHideForPlayer(playerid, CheatShow[0][k]),TextDrawHideForPlayer(playerid, CheatShow[1][k]);
    
	TogglePlayerSpectating(playerid, 0);
	IsSpecing[playerid] = false;
	SuspectForAIM[spectatorid[playerid]] = false;
	IsBeingSpeced[spectatorid[playerid]] = false;
	
	//SpawnPlayer(playerid);
	foreach(Player, i)
   	{
        if(Player[i][pAdmin] < 1)
		{
			ShowPlayerNameTagForPlayer(i, playerid, 0);
			SetPlayerMarkerForPlayer(i, playerid, 0xFFFFFF00);
		}
 	}
	if(Player[playerid][pAdmin] <= 5)
	{
	    #if debug_mode == 0
        new __action[128];
		DiscordChannel = DCC_FindChannelById("623193667628433438");
		format(__action, sizeof __action, "```\n%s used /specoff (Player %s)\n```",  Player[playerid][RealName], Player[spectatorid[playerid]][UserName]);
		DCC_SendChannelMessageEx(DiscordChannel, __action);
		#endif
	}
	
	spectatorid[playerid] = -1;
	for( new j; j < 8; j++ ) TextDrawHideForPlayer(playerid, APanel[playerid][j]);
	
	return 1;
}

CMD:hspec(playerid,params[])
{
	if(!Player[playerid][pLogged]) return 0;
	if(Player[playerid][pAdmin] < 5) return 0;
	if(sscanf(params,"u", params[0]))return SendClientMessage(playerid, -1, " /hspec (id)");
	if(params[0] == playerid) return SendClientMessage(playerid, -1, " /hspec (id)");
	if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	
	if(GetPlayerState(params[0]) == PLAYER_STATE_SPECTATING)
	{
	    SendClientMessage(playerid, -1, " /hspec (id)");
	    return 1;
	}

	SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(params[0]));
	SetPlayerInterior(playerid,GetPlayerInterior(params[0]));
    TogglePlayerSpectating(playerid, 1);
	PlayerSpectatePlayer(playerid,params[0]);
	IsSpecing[playerid] = true;
	IsBeingSpeced[params[0]] = true;
	spectatorid[playerid] = params[0];
 	SendClientMessage(playerid, -1, "/specoff");
 	AntiTPTimerEx(playerid, 4);
	AntiSlap(playerid, 2);
	AntiSpeedHack(playerid, 3);

 	GetPlayerPos(playerid, OldPos[playerid][0], OldPos[playerid][1], OldPos[playerid][2]);
	for(new k = 0; k < 10; k++) TextDrawHideForPlayer(playerid, CheatShow[0][k]),TextDrawHideForPlayer(playerid, CheatShow[1][k]);
	for( new j; j < 8; j++ ) TextDrawShowForPlayer(playerid, APanel[playerid][j]);
	return 1;
}

CMD:spec(playerid,params[])
{
	if(!Player[playerid][pLogged]) return 0;
	if(Player[playerid][pAdmin] < 1) return 0;
	if(!Player[playerid][aDuty]) return 0;
	if(sscanf(params,"u", params[0]))return SendClientMessage(playerid, -1, " /spec (id)");
	if(params[0] == playerid) return SendClientMessage(playerid, -1, " /spec (id)");
	if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(GetPlayerState(params[0]) == PLAYER_STATE_SPECTATING)
	{
	    SendClientMessage(playerid, -1, " /spec (id)");
	    return 1;
	}

	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(params[0]));
	SetPlayerInterior(playerid,GetPlayerInterior(params[0]));
    TogglePlayerSpectating(playerid, 1);
	PlayerSpectatePlayer(playerid,params[0]);
	IsSpecing[playerid] = true;
	IsBeingSpeced[params[0]] = true;
	spectatorid[playerid] = params[0];
	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][116], Player[playerid][RealName], Player[params[0]][UserName], params[0]);
 	SendClientMessage(playerid, -1, "/specoff");
 	AntiTPTimerEx(playerid, 4);
	AntiSlap(playerid, 2);
	AntiSpeedHack(playerid, 3);
	
	SuspectForAIM[params[0]] = true;
	
 	GetPlayerPos(playerid, OldPos[playerid][0], OldPos[playerid][1], OldPos[playerid][2]);
 	if(Player[playerid][pAdmin] <= 5)
	{
	    #if debug_mode == 0
        new __action[128];
		DiscordChannel = DCC_FindChannelById("623193667628433438");
		format(__action, sizeof __action, "```\n%s used /spec (Player %s)\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
		DCC_SendChannelMessageEx(DiscordChannel, __action);
		#endif
	}
	//for(new k = 0; k < 10; k++) TextDrawHideForPlayer(playerid, CheatShow[0][k]),TextDrawHideForPlayer(playerid, CheatShow[1][k]);
	//for( new j; j < 8; j++ ) TextDrawShowForPlayer(playerid, APanel[playerid][j]);
	if(reportsCount > 0) reportsCount--;
	return 1;
}

CMD:ex(playerid)
{
	if(Player[playerid][pAdmin] > 0 && Player[playerid][aDuty])
	{
	    ResetWeapons(playerid);
		new gunname[32];
    	GetWeaponName(42, gunname, sizeof(gunname));
		SetPVarInt(playerid, gunname, 999999);
		GivePlayerWeaponAC(playerid, 42, 999999);
	    return 1;
	}
	return 0;
}

CMD:cc(playerid)
{
	if(Player[playerid][pAdmin] > 0)
	{
	    foreach(Player, j)
	    {
	        if(Player[j][pAdmin] < 1)
	        {
			    for( new i; i < 100; i++ )
			    {
			        SendClientMessage(j, -1, " ");
			    }
			    SendClientMessage(j, -1, serverLang[Player[j][pLang]][107]);
			}
			else if(Player[j][pLogged])
			{
			    SendClientMessageFormat(j, -1, "{FFF000}>> Chat has been cleared by %s", Player[playerid][UserName]);
			}
		}
	    //foreach(Player, i) SendClientMessage(i, -1, serverLang[Player[i][pLang]][107]);
	    if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /cc\n```",  Player[playerid][RealName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	    return 1;
	}
	return 0;
}

CMD:bankey(playerid, params[])
{
	if(Player[playerid][pAdmin] > 4)
	{
	    new key[64], serial[41];
	    
    	if(sscanf(params, "s[64]", key))
		{
			SendClientMessage(playerid, -1, "/bankey (key)");
			return 1;
		}
		
		if(strlen(key) <= 38)
		{
		    SendClientMessage(playerid, -1, "/bankey (key)");
			return 1;
		}
		
        foreach(Player, i)
		{
			if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has blocked the key {FFFFFF}%s!", Player[playerid][UserName], key);
            gpci(i, serial, sizeof(serial));
            if(!strcmp(serial, key, false)) PlayerKick(i);
		}
		
		new query[128];
		mysql_format(Base, query, sizeof(query), "INSERT INTO `machines` (`ID`) VALUE ('%e')", key);
		mysql_tquery(Base, query, "", "", "");
		
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /bankey (Key: %s)\n```",  Player[playerid][RealName], key);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:unbankey(playerid, params[])
{
	if(Player[playerid][pAdmin] > 4)
	{
	    new key[64];
	    
    	if(sscanf(params, "s[64]", key))
		{
			SendClientMessage(playerid, -1, "/unbankey (key)");
			return 1;
		}

		if(strlen(key) <= 38)
		{
		    SendClientMessage(playerid, -1, "/unbankey (key)");
			return 1;
		}

        foreach(Player, i)
		{
			if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has unbankey the key {FFFFFF}%s!", Player[playerid][UserName], key);
		}

		new query[128];
		mysql_format(Base, query, sizeof(query), "DELETE FROM `machines` WHERE `ID` = '%e'", key);
		mysql_tquery(Base, query, "", "", "");

		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /unbankey (Key: %s)\n```",  Player[playerid][RealName], key);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:banmachine(playerid, params[])
{
	if(Player[playerid][pAdmin] > 4)
	{
    	if(sscanf(params, "i", params[0]))
		{
			SendClientMessage(playerid, -1, "/banmachine (id)");
			return 1;
		}
    	if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[0] == playerid) return 1;
		if(Player[params[0]][pAccountID] == 1) return 1;
		if(Player[params[0]][pAdmin] >= Player[playerid][pAdmin] && Player[playerid][pAccountID] != 1) return 1;

        foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s blocked {FFFFFF}%s’s Network card!", Player[playerid][UserName], Player[params[0]][UserName]);

		new query[128], serial[41], IP[16];
		GetPlayerIp(params[0], IP, sizeof(IP));
		gpci(params[0], serial, sizeof(serial));
		BlockIpAddress(IP, 900000);
		
		mysql_format(Base, query, sizeof(query), "INSERT INTO `machines` (`ID`) VALUE ('%e')", serial);
		mysql_tquery(Base, query, "", "", "");
		
		format(serial, sizeof(serial), "banip %s", IP);
        SendRconCommand(serial);
        SendRconCommand("reloadbans");
        
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /banmachine (Key: %s)\n```",  Player[playerid][RealName], serial);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:banip(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3)
	{
    	if(sscanf(params, "s[24]", params[0])) return SendClientMessage(playerid, -1, "/banip (ip)");

        new query[128];
        format(query, sizeof(query), "banip %s", params[0]);
        SendRconCommand(query);
        SendRconCommand("reloadbans");

    	mysql_format(Base, query, sizeof(query), "INSERT INTO `banip` (`IP`,`build`) VALUE ('%e','"SERVER_BUILD"')", params[0]);
		mysql_tquery(Base, query, "", "", "");

		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][142], Player[playerid][RealName],params[0]);

        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /banip (IP: %s)\n```",  Player[playerid][RealName], params[0]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}

		return 1;
	}
    return 0;
}

fun TryToUnbanIP(playerid, const ip[])
{
    if(cache_num_rows() > 0)
 	{
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][143], Player[playerid][RealName], ip);

        new query[128];
        format(query, 64, "unbanip %s", ip);
		SendRconCommand(query);
		SendRconCommand("reloadbans");

		mysql_format(Base, query, sizeof(query), "DELETE FROM `banip` WHERE `IP` = '%e'", ip);
		mysql_tquery(Base, query, "", "", "");

		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /unbanip (IP: %s)\n```", Player[playerid][RealName], ip);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	}
	else
	{
	    SendClientMessage(playerid, -1, "{FF0000}>> This ip address is not blocked");
	}
	return 1;
}

CMD:unbanip(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3)
	{
	    new query[128], ip[16];
    	if(sscanf(params, "s[16]", ip)) return SendClientMessage(playerid, -1, "/unbanip (ip)");
		mysql_format(Base, query, sizeof(query), "SELECT * FROM `banip` WHERE `IP` = '%e'", ip);
	 	mysql_tquery(Base, query, "TryToUnbanIP", "is", playerid, ip);
		return 1;
	}
    return 0;
}

fun TeamBan(playerid, admin, reason[])
{
    if(admin == playerid) return 1;
	if(Player[playerid][pAdmin] >= Player[admin][pAdmin]) return 1;
	new y, reas[64];
	sscanf(reason, "is[64]", y, reas);
    new query[456], serial[64], IP[16], version[64];
	gpci(playerid, serial, sizeof(serial));
	GetPlayerIp(playerid, IP, 16);
	GetPlayerVersion(playerid, version, 64);
	mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`gpci`,`ip`,`build`) VALUES ('%e','%e','%e',1,0,'%e','%e','"SERVER_BUILD"')", Player[playerid][UserName], Player[admin][RealName], MakeReasonFromShort(reas), serial, IP);
	mysql_tquery(Base, query, "", "", "");
	
	mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`version`,`build`,`port`) VALUES ('%d','%e','%e','%d','%d','%d','%e','%e','"SERVER_BUILD"','%d')", Player[playerid][pAccountID], Player[admin][RealName], MakeReasonFromShort(reas), 0, 1, gettime(), Player[playerid][UserName], version, Player[playerid][pPort]);
	mysql_tquery(Base, query, "", "", "");
	
	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == playerid) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][50], Player[playerid][UserName], Player[admin][RealName], MakeReasonFromShort(reas));
    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][51]);
    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][52]);

    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("619186196718944256");
	format(query, sizeof query, "```\n%s has been banned by %s [Reason: %s]\n```", Player[playerid][UserName], Player[admin][RealName], MakeReasonFromShort(reas));
	DCC_SendChannelMessageEx(DiscordChannel, query);
	#endif

    IsBanned{playerid} = true;
    PlayerKick(playerid);
	GivePlayerXP(admin, 10 * Map[m_XPType]);
	//GivePlayerXP(y, 10 * Map[m_XPType]);
	
 	BlockIpAddress(IP, 900000);
	
	foreach(Player, i)
	{
	    BanRequest[i] = -1;
		if(isReported[i][playerid])
		{
			SendClientMessage(i, -1, serverLang[Player[i][pLang]][164]);
			GivePlayerXP(i, 10);
			isReported[i][playerid] = false;
			if(Achievements[i][reportTimes] <= 99)
			{
				++Achievements[i][reportTimes];
		    	if(Achievements[i][reportTimes] == 10) UnlockAchievement(i, 39, 100);
				if(Achievements[i][reportTimes] == 50) UnlockAchievement(i, 40, 500);
            	if(Achievements[i][reportTimes] == 100) UnlockAchievement(i, 41, 2000);
            }
		}
	}
	return 1;
}

CMD:ban(playerid, params[])
{
    if(Player[playerid][pAdmin] > 2)
	{
		if(sscanf(params, "is[128]", params[0], params[1])) return SendClientMessage(playerid, -1, "/ban (playerid) (reason)");
        if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}

		if(params[0] == playerid) return 1;
		if(Player[params[0]][pAdmin] >= Player[playerid][pAdmin] && Player[playerid][pAccountID] != 1) return 1;
		
		new query[456], serial[64], IP[16], version[64];
		gpci(params[0], serial, sizeof(serial));
		GetPlayerIp(params[0], IP, 16);
		GetPlayerVersion(params[0], version, 64);
		mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`gpci`,`ip`,`build`) VALUES ('%e','%e','%e',1,0,'%e','%e','"SERVER_BUILD"')", Player[params[0]][UserName],Player[playerid][RealName],MakeReasonFromShort(params[1]), serial, IP);
		mysql_tquery(Base, query, "", "", "");
		
		mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`version`,`build`,`port`) VALUES ('%d','%e','%e','%d','%d','%d','%e','%e','"SERVER_BUILD"','%d')", Player[params[0]][pAccountID], Player[playerid][RealName], MakeReasonFromShort(params[1]), 0, 1, gettime(), Player[params[0]][UserName], version, Player[params[0]][pPort]);
  		mysql_tquery(Base, query, "", "", "");
		
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == params[0]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][50], Player[params[0]][UserName], Player[playerid][RealName], MakeReasonFromShort(params[1]));
  	    SendClientMessage(params[0], -1, serverLang[Player[params[0]][pLang]][51]);
  	    SendClientMessage(params[0], -1, serverLang[Player[params[0]][pLang]][52]);
  	    
  	    for( new j; j < 8; j++ ) TextDrawHideForPlayer(playerid, APanel[playerid][j]);
  	    
  	    #if debug_mode == 0
  	    DiscordChannel = DCC_FindChannelById("619186196718944256");
  		format(query, sizeof query, "```\n%s has been banned by %s [Reason: %s]\n```", Player[params[0]][UserName], Player[playerid][RealName], MakeReasonFromShort(params[1]));
   		DCC_SendChannelMessageEx(DiscordChannel, query);
   		#endif
  	    
  	    IsBanned{params[0]} = true;
  	    PlayerKick(params[0]);
		GivePlayerXP(playerid, 10 * Map[m_XPType]);
	    BlockIpAddress(IP, 900000);
	    
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /ban on player %s\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		
		foreach(Player, i)
		{
		    BanRequest[i] = -1;
			if(isReported[i][params[0]])
			{
				SendClientMessage(i, -1, serverLang[Player[i][pLang]][164]);
				GivePlayerXP(i, 10);
				isReported[i][params[0]] = false;
				if(Achievements[i][reportTimes] <= 99)
				{
					++Achievements[i][reportTimes];
			    	if(Achievements[i][reportTimes] == 10) UnlockAchievement(i, 39, 100);
					if(Achievements[i][reportTimes] == 50) UnlockAchievement(i, 40, 500);
	            	if(Achievements[i][reportTimes] == 100) UnlockAchievement(i, 41, 2000);
                }
			}
		}
 		return 1;
	}
	return 0;
}

CMD:tban(playerid, params[])
{
    if(Player[playerid][pAdmin] > 0)
	{
	    if(HighAdminOnline() && Player[playerid][pAdmin] <= 2)
		{
		    SendClientMessage(playerid, -1, "{FF0000}>> This command is not available at the moment, there is an administrator, type this:{FFFFFF} @ban ID reason");
			return 1;
		}
	    new timing[] = { 3, 72 };
        if(sscanf(params, "iis[128]", params[0], params[1], params[2]))
		{
			SendClientMessageFormat(playerid, -1, "/tban (playerid) (1-%d) (reason)", Player[playerid][pAdmin] < 3 ? timing[Player[playerid][pAdmin]-1] : 999);
			return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[0] == playerid) return 1;
		if(Player[params[0]][pAdmin] >= Player[playerid][pAdmin]) return 1;
		if(params[1] > ((Player[playerid][pAdmin] < 3) ? timing[Player[playerid][pAdmin]-1] : 999))
		{
		    SendClientMessageFormat(playerid, -1, "/tban (playerid) (1-%d) (reason)", ((Player[playerid][pAdmin] < 3) ? timing[Player[playerid][pAdmin]-1] : 999));
			return 1;
		}
		new query[456], serial[41], IP[16], version[64];
		gpci(params[0], serial, sizeof(serial));
		GetPlayerIp(params[0], IP, 16);
		GetPlayerVersion(params[0], version, 64);
		mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`gpci`,`ip`,`build`) VALUES ('%e','%e','%e',0,'%d','%e','%e','"SERVER_BUILD"')", Player[params[0]][UserName],Player[playerid][RealName],MakeReasonFromShort(params[2]),(params[1]*3600)+gettime(), serial, IP);
		mysql_tquery(Base, query, "", "", "");
		
		mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`version`,`build`,`port`) VALUES ('%d','%e','%e','%d','%d','%d','%e','%e','"SERVER_BUILD"','%d')", Player[params[0]][pAccountID], Player[playerid][RealName], MakeReasonFromShort(params[2]), (params[1]*3600)+gettime(), 0, gettime(), Player[params[0]][UserName], version, Player[params[0]][pPort]);
  		mysql_tquery(Base, query, "", "", "");
		
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || params[0] == i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][49], Player[params[0]][UserName], Player[playerid][RealName], params[1], MakeReasonFromShort(params[2]));
  	    SendClientMessage(params[0], -1, serverLang[Player[params[0]][pLang]][51]);
  	    SendClientMessage(params[0], -1, serverLang[Player[params[0]][pLang]][52]);

        for( new j; j < 8; j++ ) TextDrawHideForPlayer(playerid, APanel[playerid][j]);
        
        #if debug_mode == 0
        DiscordChannel = DCC_FindChannelById("619186196718944256");
  		format(query, sizeof query, "```\n%s has been banned by %s for %d hour(s) [Reason: %s]\n```", Player[params[0]][UserName], Player[playerid][RealName], params[1], MakeReasonFromShort(params[2]));
   		DCC_SendChannelMessageEx(DiscordChannel, query);
		#endif

		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /tban on player %s\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}

        foreach(Player, i)
		{
		    BanRequest[i] = -1;
			if(isReported[i][params[0]])
			{
				SendClientMessage(i, -1, serverLang[Player[i][pLang]][164]);
				GivePlayerXP(i, 10);
				isReported[i][params[0]] = false;
				if(Achievements[i][reportTimes] <= 99)
				{
					++Achievements[i][reportTimes];
			    	if(Achievements[i][reportTimes] == 10) UnlockAchievement(i, 39, 100);
					if(Achievements[i][reportTimes] == 50) UnlockAchievement(i, 40, 500);
	            	if(Achievements[i][reportTimes] == 100) UnlockAchievement(i, 41, 2000);
                }
			}
		}
		IsBanned{params[0]} = true;
		PlayerKick(params[0]);
		BlockIpAddress(IP, 900000);
 		return 1;
	}
	return 0;
}

fun TryToOffTimeBan(playerid, const name[], time, const reason[])
{
    if(cache_num_rows() > 0)
	{
	    new ime, id;
	   	cache_get_value_name_int(0, "Admin", ime);
	   	cache_get_value_name_int(0, "ID", id);
	   	if(Player[playerid][pAdmin] <= ime)
  		{
		  	SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][162]);
	    	return 1;
		}
		
		new query[256];
        mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',0,'%d','"SERVER_BUILD"')", name, Player[playerid][RealName], MakeReasonFromShort(reason), (time*3600)+gettime());
		mysql_tquery(Base, query, "", "", "");

        mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`build`) VALUES ('%d','%e','%e','%d','%d','%d','%e','"SERVER_BUILD"')", id, Player[playerid][RealName], MakeReasonFromShort(reason), (time*3600)+gettime(), 0, gettime(), name);
		mysql_tquery(Base, query, "", "", "");

        #if debug_mode == 0
		DiscordChannel = DCC_FindChannelById("619186196718944256");
  		format(query, sizeof query, "```\n%s has been banned by %s for %d hour(s) [Reason: %s]\n```", name, Player[playerid][RealName], time, MakeReasonFromShort(reason));
   		DCC_SendChannelMessageEx(DiscordChannel, query);
   		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][149], name, Player[playerid][RealName], time, MakeReasonFromShort(reason));
        if(Player[playerid][pAdmin] <= 5)
		{
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /offtban on player %s\n```",  Player[playerid][RealName], name);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
		}
		#endif
	}
	else
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][161]);
	    return 1;
	}
	return 1;
}

CMD:offtban(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3)
	{
		new name[24], time = 1, reason[128];
        if(sscanf(params, "s[24]is[128]", name, time, reason))
		{
			SendClientMessage(playerid, -1, "/offtban (name) (1-999) (reason)");
			return 1;
		}
		new query[256];
        mysql_format(Base, query, sizeof(query), "SELECT `ID`,`Admin` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
		mysql_tquery(Base, query, "TryToOffTimeBan", "isis", playerid, name, time, reason);
 		return 1;
	}
	return 0;
}

fun TryToOffBan(playerid, const name[], const reason[])
{
    if(cache_num_rows() > 0)
	{
	    new id, query[256];
	    cache_get_value_name_int(0, "ID", id);

	    mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',1,0,'"SERVER_BUILD"')", name, Player[playerid][RealName], MakeReasonFromShort(reason));
		mysql_tquery(Base, query, "", "", "");

		mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`build`) VALUES ('%d','%e','%e','%d','%d','%d','%e','"SERVER_BUILD"')", id, Player[playerid][RealName], MakeReasonFromShort(reason), 0, 0, gettime(), name);
		mysql_tquery(Base, query, "", "", "");

        #if debug_mode == 0
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][148], name, Player[playerid][RealName], MakeReasonFromShort(reason));
        DiscordChannel = DCC_FindChannelById("619186196718944256");
  		format(query, sizeof query, "```\n%s has been banned by %s [Reason: %s]\n```", name, Player[playerid][RealName], MakeReasonFromShort(reason));
   		DCC_SendChannelMessageEx(DiscordChannel, query);
        if(Player[playerid][pAdmin] <= 5)
		{
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /offban on player %s\n```",  Player[playerid][RealName], name);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
		}
		#endif
	}
	else
	{
	    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][161]);
	}
	return 1;
}

ALTX:offban("/banname");
CMD:offban(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3)
	{
	    new name[24], reason[128], query[256];
	    if(sscanf(params, "s[24]s[128]", name, reason)) return SendClientMessage(playerid, -1, "/offban (name) (reason)");
	    mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
		mysql_tquery(Base, query, "TryToOffBan", "iss", playerid, name, reason);
		return 1;
	}
	return 0;
}

ALTX:reconnect("/timeout");
CMD:reconnect(playerid, params[])
{
	if(Player[playerid][pAdmin] <= 1) return 0;
	if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/reconnect (id)");
	if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
    
	new string[32],ip[16];
	GetPlayerIp(params[0], ip, sizeof(ip));
    format(string, sizeof(string), "banip %s", ip);
    SetPVarString(params[0],"reconnect",ip);
    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has reconnected %s", Player[playerid][RealName], Player[params[0]][UserName]);
    reconnect[params[0]] = true;
    RemoveCheater(params[0]);
    SendRconCommand(string);
    if(Player[playerid][pAdmin] <= 5)
	{
	    #if debug_mode == 0
        new __action[128];
		DiscordChannel = DCC_FindChannelById("623193667628433438");
		format(__action, sizeof __action, "```\n%s used /reconnect on player %s\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
		DCC_SendChannelMessageEx(DiscordChannel, __action);
		#endif
	}
	return 1;
}

/*CMD:jetpack(playerid)
{
    if(GetPlayerTeamEx(playerid) == 254)
    {
        SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
        return 1;
    }
	if(Player[playerid][pAdmin] > 1)
	{
	    if(Player[playerid][aDuty])
	    {
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
			return 1;
		}
		return 0;
	}
	return 0;
}*/

/*CMD:makevip(playerid, params[])
{
    if(Player[playerid][pAdmin] > 5)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
		{
			SendClientMessage(playerid, -1, "/makevip (playerid) (level)");
			return 1;
		}
    	if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] < 0 || params[1] > 3)
		{
			SendClientMessage(playerid, -1, "/makevip (playerid) (level)");
			return 1;
		}
		if(params[1] >= 1)
		{
			Player[params[0]][pVip] = params[1];
			Player[params[0]][pVipTime] = gettime() + 2592000;
		}
		else
		{
		    Player[params[0]][pVipTime] = 0;
			Player[params[0]][pVip] = 0;
			new query[128];
			mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `VIP` = '0',`VipTime` = '0' WHERE `ID` = '%d'", Player[params[0]][pAccountID]);
			mysql_tquery(Base, query, "", "", "");
		}
	    return 1;
	}
	return 0;
}*/

fun TechRestart()
{
    --restartTimes;
    if(restartTimes > 0) SetTimer("TechRestart", 1000, 0);

	if(restartTimes == 10)
	{
		SendMessageFormatToAll(-1, "{C0C0C0}>> Preparation for Technical Work, the server will shutdown after %d seconds", restartTimes);
	}
	
	if(restartTimes <= 5 && restartTimes >= 1)
	{
	    SendMessageFormatToAll(-1, "{C0C0C0}>> Preparation for Technical Work, the server will shutdown after %d seconds", restartTimes);
	    foreach(Player, i)
		{
			PlayerPlaySound(i, 0, 0.0, 0.0, 0.0);
			PlayerPlaySound(i, 1056, 0.0, 0.0, 0.0);
		}
	}

	if(restartTimes <= 0)
	{
	    foreach(Player, i) PlayerPlaySound(i, 1039, 0.0, 0.0, 0.0);
		SendClientMessageToAll(-1, "{C0C0C0}>> Expect completion of Technical Work");
		SetGameModeText("Tech. work");
   		SendRconCommand("language Tech. work");
		SendRconCommand("exit");
	}
}

fun Restart()
{
    --restartTimes;
    if(restartTimes > 0) SetTimer("Restart", 1000, 0);

	if(restartTimes == 45)
	{
	    foreach(Player, i)
		{
			switch(Player[i][pLang])
		    {
				case 0:
				{
					GameTextForPlayer(i, "~b~Server will restart after 45 seconds", 5000, 5);
	    			SendClientMessage(i, -1, "{C0C0C0}>> Preparing updates...");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Configuration changes in progress...");
	    			
	            }
		        case 1:
				{
     				GameTextForPlayer(i, RusToGame("~b~Сервер будет перезапущен через 45 секунд"), 5000, 5);
	    			SendClientMessage(i, -1, "{C0C0C0}>> Подготовка к перезапуску...");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Выполняется изменение конфигураций...");
	            }
		        case 2:
		        {
					GameTextForPlayer(i, "~b~El servidor se reiniciara despues de 45 segundos", 5000, 5);
	    			SendClientMessage(i, -1, "{C0C0C0}>> Preparandose para reiniciar...");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Configuration changes in progress...");
	            }
			}
	    }
	}
	
	if(restartTimes == 30)
	{
	    foreach(Player, i)
		{
			switch(Player[i][pLang])
		    {
				case 0:
				{
					GameTextForPlayer(i, "~b~Server will restart after 30 seconds", 5000, 5);
					SendClientMessage(i, -1, "{C0C0C0}>> Shutdown all systems");
	            }
		        case 1:
				{
					GameTextForPlayer(i, RusToGame("~b~Сервер будет перезапущен через 30 секунд"), 5000, 5);
				 	SendClientMessage(i, -1, "{C0C0C0}>> Отключение всех систем");
	            }
		        case 2:
		        {
					GameTextForPlayer(i, "~b~El servidor se reiniciara despues de 30 segundos", 5000, 5);
				 	SendClientMessage(i, -1, "{C0C0C0}>> Shutdown all systems");
	            }
			}
	    }
	}
	
	if(restartTimes == 15)
	{
        foreach(Player, i)
		{
		    SaveTimeout(i);
    		PlayerPlaySound(i, 3401, 0.0, 0.0, 0.0);
    		switch(Player[i][pLang])
		    {
				case 0:
				{
					GameTextForPlayer(i, "~b~Server will restart after 15 seconds", 5000, 5);
				 	SendClientMessage(i, -1, "{C0C0C0}>> Finished, proceed to restart");
	       			SendClientMessage(i, -1, "{C0C0C0}>> Preparing updates, the server will restart after 15 seconds");
	            }
		        case 1:
				{
					GameTextForPlayer(i, RusToGame("~b~Сервер будет перезапущен через 15 секунд"), 5000, 5);
				 	SendClientMessage(i, -1, "{C0C0C0}>> Завершено, перехожу к перезапуску");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Подготовка к перезапуску...");
	            }
		        case 2:
		        {
					GameTextForPlayer(i, "~b~El servidor se reiniciara despues de 15 segundos", 5000, 5);
				 	SendClientMessage(i, -1, "{C0C0C0}>> Finished, proceed to restart");
	       			SendClientMessage(i, -1, "{C0C0C0}>> Preparing updates, the server will restart after 15 seconds");
	            }
			}
        }
	}
	
	if(restartTimes == 10)
	{
		SendMessageFormatToAll(-1, "{C0C0C0}>> The server will restart after %d seconds", restartTimes);
	}
	
	if(restartTimes <= 5 && restartTimes >= 1)
	{
	    SendMessageFormatToAll(-1, "{C0C0C0}>> The server will restart after %d seconds", restartTimes);
	    foreach(Player, i)
		{
			PlayerPlaySound(i, 0, 0.0, 0.0, 0.0);
			PlayerPlaySound(i, 1056, 0.0, 0.0, 0.0);
		}
	}
	
	if(restartTimes <= 0)
	{
	    foreach(Player, i) PlayerPlaySound(i, 1039, 0.0, 0.0, 0.0);
		SendClientMessageToAll(-1, "{C0C0C0}>> Reconfiguration...");
		SendRconCommand("gmx");
	}
	return 1;
}

CMD:gmx(playerid)
{
    if(Player[playerid][pAccountID] == 1)
	{
	    CanPay = false;
	    foreach(Player, i) SaveUserData(i);
	    restartTimes = 60;
	    SetTimer("Restart", 1000, 0);
		SaveGangs(true);
		SaveRulesPolicy();
		saveNightEvent();
	    foreach(Player, i)
		{
			switch(Player[i][pLang])
		    {
				case 0:
				{
					GameTextForPlayer(i, "~b~Server will restart after 60 seconds", 5000, 5);
				 	SendClientMessage(i, -1, "{C0C0C0}>> Forced restart initiated");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Preparing updates...");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Disable Payment Systems...");
	    			
	            }
		        case 1:
				{
					GameTextForPlayer(i, RusToGame("~b~Сервер будет перезапущен через 60 секунд"), 5000, 5);
				 	SendClientMessage(i, -1, "{C0C0C0}>> Инициирован принудительный перезапуск");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Подготовка к перезапуску...");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Disable Payment Systems...");
	            }
		        case 2:
		        {
					GameTextForPlayer(i, "~b~El servidor se reiniciara despues de 60 segundos", 5000, 5);
				 	SendClientMessage(i, -1, "{C0C0C0}>> Reinicio forzado iniciado");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Preparandose para reiniciar...");
	    			SendClientMessage(i, -1, "{C0C0C0}>> Disable Payment Systems...");
	            }
			}
	    }
	    return 1;
	}
	return 0;
}

CMD:xp(playerid, params[])
{
    if(Player[playerid][pAdmin] >= 5)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
		{
			SendClientMessage(playerid, -1, "/xp (playerid) (amount)");
			return 1;
		}
    	if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] < 0 )
		{
			SendClientMessage(playerid, -1, "/xp (playerid) (amount)");
			return 1;
		}
		
		/*if(Player[params[0]][IsDefender] > 1 && Player[playerid][pAdmin] <= 5)
		{
		    SendClientMessage(playerid, -1, "SYSTEM: This account cannot get experience.");
			return 1;
		}*/
		
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```css\n%s(%d) used /xp on %s(%d) EXP: %d (Given: %d)\n```", Player[playerid][RealName], Player[playerid][pAccountID], Player[params[0]][RealName], Player[params[0]][pAccountID], Player[params[0]][pXP], params[1]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		Player[params[0]][pXP] += params[1];
		SendClientMessageFormat(playerid, -1, "{FFF000}[XP]>> You're set %s's exp to %d", Player[params[0]][RealName],  Player[params[0]][pXP]);
	    return 1;
	}
	return 0;
}

CMD:aduty(playerid)
{
    if(IsPlayerOnDuel[playerid]) return 0;
    if(IsPlayerInAnyVehicle(playerid)) return 0;
    //if(UserTankInWarState[playerid] >= 1) return 0;
    
	if(Player[playerid][pAdmin] > 0)
	{
	    if(IsSpecing[playerid])
	    {
	    	TogglePlayerSpectating(playerid, 0);
			//SpawnPlayer(playerid);
	    }
	    
	    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	    Player[playerid][aDuty] =! Player[playerid][aDuty];
		if(Player[playerid][aDuty])
		{
		    ResetWeapons(playerid);
		    if(Player[playerid][pAccountID] == 17) SetPlayerSkinAC(playerid, 211);
		    else SetPlayerSkinAC(playerid, 217);
		    
		    CurePlayer(playerid);
		    setupZombie(playerid);
		    SetPlayerArmour(playerid, 0.0);
	   	    Player[playerid][IsBurned][0] = 0;
    		Player[playerid][IsBurned][1] = 0;
	   	    Player[playerid][Poisioned] = false;
	   	    Player[playerid][IsPlayerAdvancedInfected] = false;
		 	Player[playerid][AntiSeeker] = false;
			Player[playerid][AntiFreeze] = false;
			Player[playerid][AntiRadioctive] = false;
			Player[playerid][AntiBuring] = false;
			Player[playerid][AntiLegBreaks] = false;
			Player[playerid][AntiSpider] = false;
			Player[playerid][AntiScreamer] = false;
			Player[playerid][SlowWalk] = 0;
			Player[playerid][Helmet] = false;
			Player[playerid][Fearlessness] = false;
			Player[playerid][Cursed] = false;
			Player[playerid][hasBleedEffect] = false;
			RemovePlayerAttachedObject(playerid, 4);
		   	RemovePlayerAttachedObject(playerid, 5);
		   	RemovePlayerAttachedObject(playerid, 6);
		    RemovePlayerAttachedObject(playerid, 7);
		   	RemovePlayerAttachedObject(playerid, 8);
		   	RemovePlayerAttachedObject(playerid, 9);
		   	KillTimer(Player[playerid][PoisionTimer]);
			KillTimer(Player[playerid][InfectedTimer]);
			KillTimer(Player[playerid][BleedingTimer]);
		
		    SetPlayerColor(playerid, COLOR_ZOMBIE);
		}
		else
		{
		    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged])  SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][119], Player[playerid][UserName]);
		    ResetWeapons(playerid);
		    SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
            SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
			SpawnPlayer(playerid);
		}
		return 1;
	}
	return 0;
}

CMD:time(playerid, params[])
{
    if(Player[playerid][pAdmin] > 2)
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/time (time)");
	    SetWorldTime(params[0]);
	    Map[m_Time] = params[0];
	    return 1;
	}
	return 0;
}

CMD:weather(playerid, params[])
{
    if(Player[playerid][pAdmin] > 2)
	{
	    if(sscanf(params, "i", params[0])) return SendClientMessage(playerid, -1, "/weather (weather)");
	    SetWeather(params[0]);
	    Map[m_Weather] = params[0];
	    return 1;
	}
	return 0;
}

CMD:v(playerid, params[])
{
    if(Player[playerid][pVip] > 0 || FakeData[playerid][2] > 0)
    {
        new text[128];
        if(sscanf(params, "s[128]", text)) return SendClientMessage(playerid, -1, "/v (text)");

		new i_pos;
		while(text[i_pos])
		{
			if(text[i_pos] == '%') text[i_pos] = '#';
			i_pos++;
		}
		
		if(strfind(text, LastMessage[playerid]) != -1)
	    {
	        if(gettime() > LastMessageTime[playerid])
			{
				LastMessagesTryed[playerid] = 0;
			}
	        else
	        {
	            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
	            ++LastMessagesTryed[playerid];
	            if(LastMessagesTryed[playerid] >= 5)
	            {
	                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
	                PlayerKick(playerid);
	                LastMessagesTryed[playerid] = 0;
	            }
	            return 1;
	        }
	    }
	    strmid(LastMessage[playerid], text, 0, 144, 145);
	    LastMessageTime[playerid] = gettime() + 5;
	
	    //if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
 		if((CheckForWebsite(text) || CheckForBehavoiur(text)) && PlayerTextType[playerid] <= 999)
	 	{
	 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /v, use /adva %d to send a message", Player[playerid][UserName], text, playerid);
			SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
            strmid(PlayerText[playerid], text, 0, 128, 128);
			PlayerTextType[playerid] = 3;
			return 1;
	 	}
	 	
       	new i_numcount, i_period;
       	i_pos = 0;
        while(text[i_pos])
		{
            if('0' <= text[i_pos] <= '9') i_numcount ++;
            else if(text[i_pos] == '.') i_period ++;
            i_pos++;
        }
        if(i_numcount >= 5 && PlayerTextType[playerid] <= 999)
	 	{
	 	    //foreach(Player, i) SendClientMessageFormat(i, -1, "{33CCFF}>> %s has been muted by Server-Bot [Reason: Nice try, stay muted]", Name(playerid));
            //Player[playerid][Muted] = 300;
            foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /v, use /adva %d to send a message", Player[playerid][UserName], text, playerid);
			SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
            strmid(PlayerText[playerid], text, 0, 128, 128);
			PlayerTextType[playerid] = 3;
            return 1;
        }
	 	foreach(Player, i) if(Player[i][pVip] > 0) SendClientMessageFormat(i, -1, "{FFA500}[VIP CHAT]: %s(%d): %s", Player[playerid][UserName], playerid, text);
        #if debug_mode == 0
		new msg[200];
	    format(msg, 200, "```[VIP SPY]: %s(%d): %s```", Player[playerid][UserName], playerid, text);
	    DiscordChannel = DCC_FindChannelById("662021492225212447");
	    DCC_SendChannelMessageEx(DiscordChannel, msg);
	    #endif
		return 1;
	}
	return 0;
}

CMD:a(playerid, params[])
{
    if(!Player[playerid][pLogged]) return 0;
	if(Player[playerid][pAdmin] > 0)
	{
	    new message[128];
		if(sscanf(params, "s[128]", message)) return SendClientMessage(playerid, -1, "/a (message)");
        new i_pos;
		while(message[i_pos])
		{
			if(message[i_pos] == '%') message[i_pos] = '#';
			i_pos++;
		}
		if(EmptyMessage(message)) return 1;
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][29], Player[playerid][UserName], playerid, message);
		return 1;
	}
	return 0;
}

CMD:makehuman(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3)
	{
	    if(sscanf(params, "i", params[0]))
	    {
			SendClientMessage(playerid, -1, "/makehuman (playerid)");
			return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(Player[params[0]][aDuty]) return 0;
		SetSpawnInfo(params[0],TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		ZombieMoveTime[params[0]] = 0;
		Player[params[0]][Jailed] = -1;
		Player[params[0]][eventMember] = -1;
		SetPlayerGravity(params[0], 0.008);
		configureClass(params[0]);
		setupHuman(params[0]);
		SpawnPlayer(params[0]);
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /makehuman on player %s\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:makezombie(playerid, params[])
{
    if(Player[playerid][pAdmin] > 2)
	{
	    if(sscanf(params, "i", params[0]))
	    {
			SendClientMessage(playerid, -1, "/makezombie (playerid)");
			return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		Player[params[0]][Jailed] = -1;
		Player[params[0]][eventMember] = -1;
		SetPlayerGravity(params[0], 0.008);
		configureClass(params[0]);
		setupZombie(params[0]);
		RemoveCheater(params[0]);
        SetSpawnInfo(params[0],TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		SpawnPlayer(params[0]);
			
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /makezombie on player %s\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

/*CMD:makeirc(playerid, params[])
{
    if(Player[playerid][pAdmin] > 2)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
	    {
			SendClientMessage(playerid, -1, "/makeirc (playerid) (1-0)");
			return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] >= 1 && GetUnlockedSlot(Player[params[0]][pSettings], 21) == 0)
		{
			SetUnlockedSlot(Player[params[0]][pSettings], 21, params[1] < 0 ? 0 : params[1] > 1 ? 1 : params[1]);
			SendClientMessageFormat(playerid, -1, "{FFF000}>> %s's IRC role is set!", Player[params[0]][UserName]);
		}
		if(params[1] <= 0 && GetUnlockedSlot(Player[params[0]][pSettings], 21) == 1)
		{
			SetUnlockedSlot(Player[params[0]][pSettings], 21, 0);
			SendClientMessageFormat(playerid, -1, "{FFF000}>> %s's IRC role is removed!", Player[params[0]][UserName]);
		}
	}
	return 1;
}

CMD:makeem(playerid, params[])
{
    if(Player[playerid][pAdmin] > 4)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
	    {
			SendClientMessage(playerid, -1, "/makeem (playerid) (1-0)");
			return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] >= 1 && GetUnlockedSlot(Player[params[0]][pSettings], 29) == 0) SetUnlockedSlot(Player[params[0]][pSettings], 29, params[1] < 0 ? 0 : params[1] > 1 ? 1 : params[1]);
		if(params[1] <= 0 && GetUnlockedSlot(Player[params[0]][pSettings], 29) == 1) SetUnlockedSlot(Player[params[0]][pSettings], 29, 0);
	}
	return 1;
}

CMD:makeyt(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
	    {
			SendClientMessage(playerid, -1, "/makeyt (playerid) (1-0)");
			return 1;
		}
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] >= 1 && GetUnlockedSlot(Player[params[0]][pSettings], 17) == 0) SetUnlockedSlot(Player[params[0]][pSettings], 17, params[1] < 0 ? 0 : params[1] > 1 ? 1 : params[1]);
		if(params[1] <= 0 && GetUnlockedSlot(Player[params[0]][pSettings], 17) == 1) SetUnlockedSlot(Player[params[0]][pSettings], 17, 0);
	}
	return 1;
}

CMD:zombie(playerid)
{
     if(GetUnlockedSlot(Player[playerid][pSettings], 17) >= 1)
     {
        SendClientMessage(playerid, -1, "{FF0000}>> Always zombie");
		Player[playerid][pYouTuber] = 1;
        return 1;
     }
     return 0;
}

CMD:human(playerid)
{
     if(GetUnlockedSlot(Player[playerid][pSettings], 17) >= 1)
     {
        SendClientMessage(playerid, -1, "{FF0000}>> Always human");
        Player[playerid][pYouTuber] = 2;
        return 1;
     }
     return 0;
}

CMD:makecm(playerid, params[])
{
    if(Player[playerid][pAccountID] == 1)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
	    {
			SendClientMessage(playerid, -1, "/makecm (playerid) (1-0)");
			return 1;
		}
		if(params[0] == playerid) return 1;
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] >= 1 && GetUnlockedSlot(Player[params[0]][pSettings], 25) == 0)
		{
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s appointed a new General Clan Manager %s", Player[playerid][RealName], Player[params[0]][UserName]);
            SetUnlockedSlot(Player[params[0]][pSettings], 25, params[1] < 0 ? 0 : params[1] > 1 ? 1 : params[1]);
		}
		if(params[1] <= 0 && GetUnlockedSlot(Player[params[0]][pSettings], 25) == 1)
		{
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has been fired from General Clan Manager by %s", Player[params[0]][UserName], Player[playerid][RealName]);
            SetUnlockedSlot(Player[params[0]][pSettings], 25, 0);
		}
	}
	return 1;
}

CMD:makeinv(playerid, params[])
{
    if(Player[playerid][pAdmin] > 3)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
	    {
			SendClientMessage(playerid, -1, "/makeinv (playerid) (1-0)");
			return 1;
		}
		if(params[0] == playerid) return 1;
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(Player[params[0]][pAdmin] > 3 || Player[params[0]][pAdmin] <= 2) return 1;
		if(params[1] >= 1 && GetUnlockedSlot(Player[params[0]][pSettings], 30) == 0)
		{
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s appointed a new Investigator %s", Player[playerid][RealName], Player[params[0]][UserName]);
            SetUnlockedSlot(Player[params[0]][pSettings], 30, params[1] < 0 ? 0 : params[1] > 1 ? 1 : params[1]);
		}
		if(params[1] <= 0 && GetUnlockedSlot(Player[params[0]][pSettings], 30) == 1)
		{
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has been fired from Investigators Team by %s", Player[params[0]][UserName], Player[playerid][RealName]);
            SetUnlockedSlot(Player[params[0]][pSettings], 30, 0);
		}
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /makeinv on player %s\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	}
	return 1;
}
*/
CMD:makeadmin(playerid, params[])
{
    if(Player[playerid][pAdmin] > 4)
	{
	    if(sscanf(params, "ii", params[0], params[1]))
	    {
			SendClientMessage(playerid, -1, "/makeadmin (playerid) (1-4)");
			return 1;
		}
		if(params[0] == playerid) return 1;
		if(Player[params[0]][pAdmin] > 4) return 1;
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(params[1] < 1 || params[1] > 4)
		{
			SendClientMessage(playerid, -1, "/makeadmin (playerid) (1-4)");
			return 1;
		}
		
		if(params[1] == 4 && GetUnlockedSlot(Player[params[0]][pSettings], 30) == 1)
		{
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has been fired from Investigators Team by %s", Player[params[0]][UserName], Player[playerid][RealName]);
            SetUnlockedSlot(Player[params[0]][pSettings], 30, 0);
		}
		
		Player[params[0]][pAdmin] = params[1];
        foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][31], Player[playerid][RealName], AdminRanks[Player[i][pLang]][Player[params[0]][pAdmin]-1], Player[params[0]][UserName]);
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /makeadmin on player %s\n```",  Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:getinfo(playerid,params[])
{
    if(Player[playerid][pAdmin] <= 0) return 0;
	if(sscanf(params,"i", params[0]))
	{
		SendClientMessage(playerid,-1,"/getinfo (id)");
		return 1;
	}
	if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(!Player[params[0]][pLogged])
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	new Float: info[2], ip[16], vip[18];
	switch(Player[params[0]][pVip])
	{
	    case 0: vip = "No";
	    case 1: vip = "Bronze(1)";
	    case 2: vip = "Silver(2)";
	    case 3: vip = "Gold(3)";
	}
	new GunName[47][20] =
	{
	    "Fist","Brass Knuckles","Golf Club","Nightstick","Knife","Basebal Bat","Shovel","Pool Cue","Katana","Chainsaw","Double-ended Dildo","Dildo","Vibrator",
	    "Silver Vibrator","Flowers","Cane","Grenade","Tear Gas","Molotv Cocktail","?","?","?","9mm","Silenced 9mm","Desert Eagle","Shotgun","Sawnoff-Shotgun",
	    "Combat Shotgun","Micro-SMG","MP5","Ak-47","M4","Tec9","Country Rifle","Sniper Rifle","RPG","HS-RPG","Flame-Thrower","Minigun","Satchel Charge","Detonator",
	    "Spray Can","Fire Extinguisher","Camera","Night Goggles","Thermal Goggles","Parachute"
	};
	
	new y, m, d, h, i, s;
	TimestampToDate(Player[params[0]][pRegDate], y, m, d, h, i, s, 3);
	
	GetPlayerIp(params[0],ip,sizeof(ip));
	SendClientMessageFormat(playerid, -1, "{33CCFF}>> %s's Information (IP %s) (Last IP: %s)", Player[params[0]][UserName], ip, Player[params[0]][pLastIP]);
	SendClientMessageFormat(playerid, -1,"{cdcdcd}>> Registered IP (%s) (Date: %02dD/%02dM/%04dY)", Player[params[0]][pIP], d, m, y);
    SendClientMessageFormat(playerid, -1, "{FFF000}>> VPN: %s", (IsUsingProxy{params[0]}) ? ("{99ff99}Yes") : ("{FF0000}No"));
	//new ph, pd, pm;
	//TimestampToDate(gettime(), y, pm, pd, ph, i, s, 3);
	//SendClientMessageFormat(playerid, -1,"{cdcdcd}>> Playing %d Hours - %d Days - %d Months", ph-h > 0 ? ph-h : 0, pd - d > 0 ? pd-d : 0, pm - m > 0 ? pm-m : 0);
	GetPlayerHealth(params[0],info[0]);
	GetPlayerArmour(params[0],info[1]);
	new vtl[64], ghbs[64], gabs[64], gmbs[64];
	if(SetVitality(params[0]) >= 1.0) format(vtl, sizeof(vtl), " {FF0000}(Vitality: +%.2f){FFFFFF}", SetVitality(params[0]));
	else vtl = "";

	if(Clan[Player[params[0]][pClan]][g_Buff] == 1) format(gmbs, sizeof(gmbs), " {FFFFFF}(Gang: +%d)", GiveGangBuff(Player[params[0]][pClan]));
	else gmbs = "";
	if(Clan[Player[params[0]][pClan]][g_Buff] == 3  && InGangWar{params[0]}) format(ghbs, sizeof(ghbs), " {FF0000}(Gang: +%.2f){FFFFFF}", float(GiveGangBuff(Player[params[0]][pClan])));
	else ghbs = "";
	if(Clan[Player[params[0]][pClan]][g_Buff] == 2  && InGangWar{params[0]}) format(gabs, sizeof(gabs), " {FFFFFF}(Gang: +%.2f){FFFFFF}", float(GiveGangBuff(Player[params[0]][pClan])));
	else gabs = "";
	
	SendClientMessageFormat(playerid, -1, ">> Health: %.2f%s%s - Armour: %.2f%s", info[0], vtl, ghbs, info[1], gabs);
 	SendClientMessageFormat(playerid, -1, ">> EXP: %d - Money: %d", Player[params[0]][pXP], GetPlayerMoney(params[0]));
  	SendClientMessageFormat(playerid, -1, ">> Spawned: %s - S0beit: %s", Player[params[0]][pLogged] == false ? ("No") : ("Yes"), S0beitSuspecting[params[0]] >= 2 ? ("{FF0000}Yes") : S0beitSuspecting[params[0]] == 1 ? ("{FFF000}Suspected") : ("No"));
	new version[24];
	GetPlayerVersion(params[0], version, 24);
	SendClientMessageFormat(playerid, -1, ">> Country: %s - Version: %s", GetPlayerCountry(params[0]), version);
	if(GetPlayerTeamEx(params[0]) == TEAM_ZOMBIE && Player[params[0]][pClass][TEAM_ZOMBIE+1] < sizeof(zombieClassesListNames[])) SendClientMessageFormat(playerid, -1, ">> Team: Zombie - Class: %s", zombieClassesListNames[Player[playerid][pLang]][Player[params[0]][pClass][TEAM_ZOMBIE+1]]);
    if(GetPlayerTeamEx(params[0]) == TEAM_ZOMBIE && Player[params[0]][pClass][TEAM_ZOMBIE+1] > sizeof(zombieClassesListNames[])) SendClientMessageFormat(playerid, -1, ">> Team: Zombie - Class: %s", zombieVIPCl[Player[playerid][pLang]][Player[params[0]][pClass][TEAM_ZOMBIE+1]-5000]);
	if(GetPlayerTeamEx(params[0]) == TEAM_HUMAN && Player[params[0]][pClass][TEAM_HUMAN] < sizeof(humanClassesListNames[])) SendClientMessageFormat(playerid, -1, ">> Team: Human - Class: %s %s", humanClassesListNames[Player[playerid][pLang]][Player[params[0]][pClass][TEAM_HUMAN]], (HumanHumanBoss[params[0]]) ? ("{FFF000}(Human Hero)") : (" "));
    if(GetPlayerTeamEx(params[0]) == TEAM_HUMAN && Player[params[0]][pClass][TEAM_HUMAN] > sizeof(humanClassesListNames[])) SendClientMessageFormat(playerid, -1, ">> Team: Human - Class: %s %s", humanVIPCl[Player[playerid][pLang]][Player[params[0]][pClass][TEAM_HUMAN]-5000], (HumanHumanBoss[params[0]]) ? ("{FFF000}(Human Hero)") : (" "));

	if(Player[params[0]][pAdmin] > 0 && Player[params[0]][pLogged]) SendClientMessageFormat(playerid, -1, ">> V.I.P: %s - Admin: %s", vip, AdminRanks[0][Player[params[0]][pAdmin]-1]);
	else SendClientMessageFormat(playerid, -1, ">> V.I.P: %s - Admin: No", vip);
	
	new slot, weap[14], ammo[14];
    for ( slot = 0; slot < 14; slot++ )
    {
        GetPlayerWeaponData(params[0],slot,weap[slot],ammo[slot]);
        if(ammo[slot] >= 1)
        {
			SendClientMessageFormat(playerid, -1, ">> Weapon: %s - Ammo: %d%s", GunName[weap[slot]], ammo[slot], gmbs);
		}
	}
	if(Player[params[0]][pClan] > 0)
	{
		SendClientMessageFormat(playerid, -1, ">> Clan: (ID %d)(Rank: %d)", Player[params[0]][pClan],Player[params[0]][pClanRank]);
	}
	SendClientMessageFormat(playerid, -1, "{cdcdcd}>> Packets lost: %.2f", NetStats_PacketLossPercent(params[0]));
	if(Player[playerid][pAdmin] <= 5)
	{
	    #if debug_mode == 0
        new __action[128];
		DiscordChannel = DCC_FindChannelById("623193667628433438");
		format(__action, sizeof __action, "```\n%s used /getinfo on player %s\n```", Player[playerid][RealName], Player[params[0]][UserName]);
		DCC_SendChannelMessageEx(DiscordChannel, __action);
		#endif
	}
	return 1;
}

CMD:report(playerid, params[])
{
	new message[64];
	if(sscanf(params, "is[64]", params[0], message))
 	{
 	    SendClientMessage(playerid, -1, "/report (id) (reason)");
		return 1;
	}
	if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(strlen(message) >= 16)
	{
	    SendClientMessage(playerid, -1, "{FF0000}>> The report's text is too long!");
		return 1;
	}
	new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 0;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    
    if(!isReported[playerid][params[0]])
	{
	    if(AntiCheatAlertMode) AC_CompareScales(playerid, params[0], message);
		reportsCount++;
	}
    
	foreach(Player, i)
	{
		if(Player[i][pAdmin] > 0 && Player[i][pLogged])
		{
			SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][144], Player[playerid][UserName], playerid, Player[params[0]][UserName], params[0], message, reportsCount);
			GameTextForPlayer(i, "REPORT++", 3000, 1);
		}
	}
	
	if(!AntiCheatAlertMode)
	{
		AddCheater(params[0], 1);
		strmid(AC_Requests[params[0]][ac_reason], message, 0, 128, 128);
		AC_Requests[params[0]][ac_time] = gettime();
		AC_Requests[params[0]][ac_type] = 999;
		AC_Requests[params[0]][ac_additional] = 0;
		AC_Requests[params[0]][ac_pl] = NetStats_PacketLossPercent(params[0]);
	}
	
    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][147]);
    if(reportsCount > 1)
    {
	    switch(Player[playerid][pLang])
	    {
	        case 0: SendClientMessageFormat(playerid, -1, "{33CCFF}You are %d in line, Wait for other reports to be processed!", reportsCount);
	        case 1: SendClientMessageFormat(playerid, -1, "{33CCFF}Вы %d в очереди, Подождите пока другие жалобы будут обработаны!", reportsCount);
	        case 2: SendClientMessageFormat(playerid, -1, "{33CCFF}Eres %d en linea, Espere a que se procesen otras quejas!", reportsCount);
		}
    }
    isReported[playerid][params[0]] = true;
    
    if(!AdminOnline())
    {
        #if debug_mode == 0
	    DiscordChannel = DCC_FindChannelById("614695417635930115");
		new str[200];
		format(str, sizeof(str), "```yaml\nHEY, WAKE UP!\n%s(%d) has reported %s(%d) [Reason: %s]\n```", Player[playerid][UserName], playerid, Player[params[0]][UserName], params[0], message);
		DCC_SendChannelMessageEx(DiscordChannel, str);

		DiscordChannel = DCC_FindChannelById("613185790683513003");
	    format(str, sizeof(str), "```yaml\nHEY, WAKE UP!\n%s(%d) has reported %s(%d) [Reason: %s]\n```", Player[playerid][UserName], playerid, Player[params[0]][UserName], params[0], message);
		DCC_SendChannelMessageEx(DiscordChannel, str);
		#endif
	}
	return 1;
}

fun TryToDemoteAdmin(playerid, const name[])
{
    if(cache_num_rows() > 0)
	{
	    new time;
	   	cache_get_value_name_int(0, "Admin", time);
	   	if(Player[playerid][pAdmin] <= time)
  		{
		  	SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][162]);
	    	return 1;
		}
		else
		{
		    new query[256];
		    mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Admin`='0' WHERE `Name`='%e' AND `build`='"SERVER_BUILD"'", name);
			mysql_tquery(Base, query, "", "", "");
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][150], Player[playerid][RealName], name);
		}
	}
	else
	{
        SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][161]);
	    return 1;
	}
	return 1;
}

CMD:demote(playerid, params[])
{
    if(Player[playerid][pAdmin] > 4)
	{
	    new name[24];
        if(sscanf(params, "s[24]", name))
		{
			SendClientMessage(playerid, -1, "/demote (name)");
			return 1;
		}
		if(!strcmp(name, Player[playerid][UserName]))
		{
		    SendClientMessage(playerid, -1, "/demote (name)");
			return 1;
		}
		new query[256];
		mysql_format(Base, query, sizeof(query), "SELECT `Admin` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
		mysql_tquery(Base, query, "TryToDemoteAdmin", "is", playerid, name);
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /demote on player %s\n```", Player[playerid][RealName], name);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	 	return 1;
	}
	return 0;
}

fun TryToMakeAdminOffline(playerid, const name[], level)
{
    if(cache_num_rows() > 0)
	{
	    new time;
	   	cache_get_value_name_int(0, "Admin", time);
	   	if(Player[playerid][pAdmin] <= time)
  		{
		  	SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][162]);
	    	return 1;
		}
		else
		{
 			new query[256];
 			mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Admin`='%d' WHERE `Name`='%e' AND `build`='"SERVER_BUILD"'", level, name);
			mysql_tquery(Base, query, "", "", "");
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][163], Player[playerid][RealName], AdminRanks[Player[i][pLang]][level-1], name);
		}
	}
	else
	{
        SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][161]);
	}
	return 1;
}

CMD:offmakeadmin(playerid, params[])
{
    if(Player[playerid][pAdmin] > 4)
	{
	    new name[25];
        if(sscanf(params, "s[25]i", name, params[0]))
		{
			SendClientMessage(playerid, -1, "/offmakeadmin (name) (1-4)");
			return 1;
		}
		if(params[0] < 1 || params[0] > 4)
		{
			SendClientMessage(playerid, -1, "/offmakeadmin (name) (1-4)");
			return 1;
		}
		if(!strcmp(name, Player[playerid][UserName]))
		{
		    SendClientMessage(playerid, -1, "/offmakeadmin (name) (1-4)");
			return 1;
		}

		new query[256];
		mysql_format(Base, query, sizeof(query), "SELECT `Admin` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
		mysql_tquery(Base, query, "TryToMakeAdminOffline", "isi", playerid, name, params[0]);
		
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /offmakeadmin on player %s\n```", Player[playerid][RealName], name);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	 	return 1;
	}
	return 0;
}

CMD:fire(playerid, params[])
{
    if(Player[playerid][pAdmin] > 4)
	{
	    if(sscanf(params, "is[128]", params[0], params[1]))
	    {
			SendClientMessage(playerid, -1, "/fire (playerid) (reason)");
			return 1;
		}
		if(params[0] == playerid) return 1;
		if(Player[params[0]][pAdmin] > 4) return 1;
		if(!IsPlayerConnected(params[0]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
		if(Player[params[0]][pAdmin] < 1)
		{
			SendClientMessage(playerid, -1, "/fire (playerid) (reason)");
			return 1;
		}
		if(params[1] == 4 && GetUnlockedSlot(Player[params[0]][pSettings], 30) == 1)
		{
			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has been fired from Investigators Team by %s", Player[params[0]][UserName], Player[playerid][RealName]);
            SetUnlockedSlot(Player[params[0]][pSettings], 30, 0);
		}
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][32], Player[playerid][RealName], AdminRanks[Player[i][pLang]][Player[params[0]][pAdmin]-1], Player[params[0]][UserName], params[1]);
        Player[params[0]][pAdmin] = 0;
        if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /fire on player %s\n```", Player[playerid][RealName], Player[params[0]][UserName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
        return 1;
	}
	return 0;
}

/*CMD:ignore(playerid, params[])
{
    if(sscanf(params, "i", params[0]))
	{
		SendClientMessage(playerid, -1, "/ignore (playerid)");
		return 1;
	}
	if(params[0] == playerid) return 1;
    if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(Player[playerid][pIgnore][params[0]])
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][16]);
		return 1;
	}
	Player[playerid][pIgnore][params[0]] = true;
	SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][17], Player[params[0]][UserName]);
	return 1;
}

CMD:unignore(playerid, params[])
{
    if(sscanf(params, "i", params[0]))
	{
		SendClientMessage(playerid, -1, "/unignore (playerid)");
		return 1;
	}
	if(params[0] == playerid) return 1;
    if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(!Player[playerid][pIgnore][params[0]]) return 1;
	Player[playerid][pIgnore][params[0]] = false;
	return 1;
}*/

/*CMD:trade(playerid, params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[128];
	if(sscanf(params, "s[128]", message)) return SendClientMessage(playerid, -1, "/trade (text)");

 	new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}

	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;

    if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if((CheckForWebsite(message) || CheckForBehavoiur(message)) && PlayerTextType[playerid] <= 999)
	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /trade, use /adva %d to send a message", Player[playerid][UserName], message, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
        strmid(PlayerText[playerid], message, 0, 128, 128);
		PlayerTextType[playerid] = 5;
		return 1;
 	}

	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5 && PlayerTextType[playerid] <= 999)
 	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /trade, use /adva %d to send a message", Player[playerid][UserName], message, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
        strmid(PlayerText[playerid], message, 0, 128, 128);
		PlayerTextType[playerid] = 5;
        return 1;
    }
	SendMessageFormatToAll(-1, "{ff4dc4}[TRADE]: %s: %s", Player[playerid][UserName], message);
	return 1;
}

CMD:ask(playerid, params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[128];
	if(sscanf(params, "s[128]", message)) return SendClientMessage(playerid, -1, "/ask (question)");
	
 	new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
	
	if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if((CheckForWebsite(message) || CheckForBehavoiur(message)) && PlayerTextType[playerid] <= 999)
	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /ask, use /adva %d to send a message", Player[playerid][UserName], message, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
        strmid(PlayerText[playerid], message, 0, 128, 128);
		PlayerTextType[playerid] = 4;
		return 1;
 	}

	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5 && PlayerTextType[playerid] <= 999)
 	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /ask, use /adva %d to send a message", Player[playerid][UserName], message, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
        strmid(PlayerText[playerid], message, 0, 128, 128);
		PlayerTextType[playerid] = 4;
        return 1;
    }

	SendMessageFormatToAll(-1, "{ff80ff}>> %s(%d) asked a Question: %s", Player[playerid][UserName], playerid, message);
	return 1;
}

CMD:r(playerid, params[])
{
    if(lmrf[playerid] == INVALID_PLAYER_ID || lmrf[playerid] >= MAX_PLAYERS || !IsPlayerConnected(lmrf[playerid])) return 1;
	
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[128];
	if(sscanf(params, "s[128]", message)) return SendClientMessage(playerid, -1, "/r (message)");
	
	new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
	
	if(!IsPlayerConnected(lmrf[playerid]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	
	if(!Player[lmrf[playerid]][pLogged]) return 1;
	if(Player[lmrf[playerid]][pIgnore][playerid] || GetUnlockedSlot(Player[lmrf[playerid]][pSettings], PS_BLOCK_PMS) == 1)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][18]);
		return 1;
	}
	
	if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if((CheckForWebsite(message) || CheckForBehavoiur(message)) && PlayerTextType[playerid] <= 999)
	{
	    if(lmrf[playerid] == INVALID_PLAYER_ID || lmrf[playerid] >= MAX_PLAYERS)
	    {
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}

		if(!IsPlayerConnected(lmrf[playerid]))
		{
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
			return 1;
		}
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /r, use /adva %d to send a message", Player[playerid][UserName], message, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
		new st[6];
		format(st, 6, "%d ", lmrf[playerid]);
		strins(message, st, 0);
        strmid(PlayerText[playerid], message, 0, 128, 128);
		PlayerTextType[playerid] = 2;
		return 1;
 	}

	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5 && PlayerTextType[playerid] <= 999)
 	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /r, use /adva %d to send a message", Player[playerid][UserName], message, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
		new st[6];
		format(st, 6, "%d ", lmrf[playerid]);
		strins(message, st, 0);
        strmid(PlayerText[playerid], message, 0, 128, 128);
		PlayerTextType[playerid] = 2;
        return 1;
    }
    
    SendClientMessageFormat(lmrf[playerid], -1, serverLang[Player[lmrf[playerid]][pLang]][19], Player[playerid][UserName], playerid, message);
	SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][20], Player[lmrf[playerid]][UserName], lmrf[playerid], message);
    //lmrf[playerid] = playerid;

	foreach(Player, i)
    {
        if(Player[i][CanSpyPM] && i != lmrf[playerid] && i!= playerid)
        {
            SendClientMessageFormat(i, -1, "{B8CFDB}>> [PM SPY]: %s(%d) to %s(%d):{FFFFFF} %s", Player[playerid][UserName], playerid, Player[lmrf[playerid]][UserName], lmrf[playerid], message);
        }
	}
	PlayerPlaySound(lmrf[playerid], 1056, 0.0, 0.0, 0.0);
	
	SetTimerEx("CreateDisplayInfo", 30, 0, "iffifffi", lmrf[playerid], 1024.0, 354.9375, 12, 480.000, 354.9375, 10.0, 2000);
	
	#if debug_mode == 0
	new __action[200], y, m, d, h, minutes, s;
	TimestampToDate(gettime(), y, m, d, h, minutes, s, 3);
	DiscordChannel = DCC_FindChannelById("662009556817149962");
	format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d %s(%d) reply to %s(%d) (Message: %s)\n```", d, m, y, h, minutes, Player[playerid][RealName], Player[playerid][pAccountID], Player[lmrf[playerid]][UserName], Player[lmrf[playerid]][pAccountID], message);
	DCC_SendChannelMessageEx(DiscordChannel, __action);
	#endif
	return 1;
}

ALTX:r("/reply");
*/
stock datetime_to_unix(year, month, day, hour, minute, second)
{
	new jday = 367 * year - 7 * (year + (month + 9) / 12) / 4 - 3 * ((year + (month - 9) / 7) / 100 + 1) / 4 + 275 * month / 9 + day + 1721029 - 2440588;
	return jday * 86400 + hour * 3600 + minute * 60 + second;
}

CMD:pm(playerid, params[])
{
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
	new message[128];
	if(sscanf(params, "is[128]", params[0], message)) return SendClientMessage(playerid, -1, "/pm (playerid) (message)");
    
	new i_pos;
	while(message[i_pos])
	{
		if(message[i_pos] == '%') message[i_pos] = '#';
		i_pos++;
	}
	
	if(strfind(message, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 1;
        }
    }
    strmid(LastMessage[playerid], message, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
	
	if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(!Player[params[0]][pLogged]) return 1;
	if(Player[params[0]][pIgnore][playerid] || GetUnlockedSlot(Player[params[0]][pSettings], PS_BLOCK_PMS) == 1)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][18]);
		return 1;
	}
	
	//if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if((CheckForWebsite(message) || CheckForBehavoiur(message)) && PlayerTextType[playerid] <= 999)
	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /pm, use /adva %d to send a message", Player[playerid][UserName], message, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
		new st[6];
		format(st, 6, "%d ", params[0]);
		strins(message, st, 0);
        strmid(PlayerText[playerid], message, 0, 128, 128);
		PlayerTextType[playerid] = 2;
		return 1;
 	}
	
	new i_numcount, i_period;
	i_pos = 0;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5 && PlayerTextType[playerid] <= 999)
 	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s in /pm, use /adva %d to send a message", Player[playerid][UserName], message, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
		new st[6];
		format(st, 6, "%d ", params[0]);
		strins(message, st, 0);
        strmid(PlayerText[playerid], message, 0, 128, 128);
		PlayerTextType[playerid] = 2;
        return 1;
    }
	
	SendClientMessageFormat(params[0], -1, serverLang[Player[params[0]][pLang]][19], Player[playerid][UserName], playerid, message);
	SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][20], Player[params[0]][UserName], params[0], message);
	lmrf[params[0]] = playerid;
	
	SetTimerEx("CreateDisplayInfo", 30, 0, "iffifffi", params[0], 1024.0, 354.9375, 12, 480.000, 354.9375, 10.0, 2000);
	
 	foreach(Player, i)
    {
        if(Player[i][CanSpyPM] && i != params[0] && i!= playerid)
        {
            SendClientMessageFormat(i, -1, "{B8CFDB}>> [PM SPY]: %s(%d) to %s(%d):{FFFFFF} %s", Player[playerid][UserName], playerid, Player[params[0]][UserName], params[0], message);
        }
	}
	
	#if debug_mode == 0
	new __action[200], y, m, d, h, minutes, s;
	TimestampToDate(gettime(), y, m, d, h, minutes, s, 3);
	DiscordChannel = DCC_FindChannelById("662009556817149962");
	format(__action, sizeof __action, "```\n%02d/%02d/%04d %02d:%02d %s(%d) to %s(%d) (Message: %s)\n```", d, m, y, h, minutes, Player[playerid][RealName], Player[playerid][pAccountID], Player[params[0]][UserName], Player[params[0]][pAccountID], message);
	DCC_SendChannelMessageEx(DiscordChannel, __action);
	#endif
	
	PlayerPlaySound(params[0], 1056, 0.0, 0.0, 0.0);
	return 1;
}

CMD:pmspy(playerid)
{
	if(Player[playerid][pAdmin] > 4)
	{
	    Player[playerid][CanSpyPM] =! Player[playerid][CanSpyPM];
	    if(Player[playerid][CanSpyPM]) SendClientMessage(playerid, -1, "{FFA500}PM SPY is {FFFFFF}ON");
	    else SendClientMessage(playerid, -1, "{FFA500}PM SPY is {FFFFFF}OFF");
	    if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /pmspy\n```",  Player[playerid][RealName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	    return 1;
	}
    return 0;
}

CMD:cmdcheck(playerid)
{
	if(Player[playerid][pAdmin] > 3)
	{
	    Player[playerid][CanCheckCMD] =! Player[playerid][CanCheckCMD];
	    if(Player[playerid][CanCheckCMD]) SendClientMessage(playerid, -1, "{FFA500}CMD CHECKER is {FFFFFF}ON");
	    else SendClientMessage(playerid, -1, "{FFA500}CMD CHECKER is {FFFFFF}OFF");
	    if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
	        new __action[128];
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(__action, sizeof __action, "```\n%s used /cmdcheck\n```",  Player[playerid][RealName]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif
		}
	    return 1;
	}
    return 0;
}

CMD:class(playerid, const params[])
{
	if(strlen(params) > 1)
	{
	    new i;
	    for( i = 0; i < sizeof(svrCLHXP); i++ )
	    {
	        if(strfind(params, humanClassesListNames[0][i], true) != -1)
	        {
	            if(Player[playerid][pXP] >= svrCLHXP[i] || gettime() < PlayerClassUnlocked[playerid][TEAM_HUMAN][i])
		 		{
		 		    /*if(i == FIREMANIAC && GetWeekDay() == GANG_WARS_DAY)
				 	{
					 	i = CIVILIAN;
					 	SendClientMessage(playerid, -1, "{FF0000}>>You cannot select this class, select it tomorrow");
					}*/
		 		    if(!Player[playerid][pWasGangAffected]) setPlayerClass(playerid, i, TEAM_HUMAN);
		 		    else SendClientMessage(playerid, -1, "{FFF000}>> You are too wounded to change class");
		 		}
		 		else
				{
				    ShowExpError(playerid, svrCLHXP[i]);
				}
	            return 1;
	        }
	    }
	    
	    for( i = 0; i < sizeof(svrCLZXP); i++ )
	    {
	        if(strfind(params, zombieClassesListNames[0][i], true) != -1)
	        {
	            if(Player[playerid][pXP] >= svrCLZXP[i] || gettime() < PlayerClassUnlocked[playerid][TEAM_ZOMBIE][i])
		 		{
		 		    /*if(PlayerClassBought[playerid][TEAM_ZOMBIE][i] <= 0)
				    {
				        ShowDialogBuyClass(playerid, i, TEAM_ZOMBIE);
				        byingClass[playerid][0] = i;
	            		byingClass[playerid][1] = TEAM_ZOMBIE;
						return 1;
					}*/
			 		setPlayerClass(playerid, i, TEAM_ZOMBIE);
		 		}
		 		else
			 	{
				 	ShowExpError(playerid, svrCLZXP[i]);
				}
	            return 1;
	        }
	    }
	    ShowPlayerDialog(playerid, DIALOG_CLASSES, DIALOG_STYLE_LIST, serverLang[Player[playerid][pLang]][7], serverLang[Player[playerid][pLang]][8], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
	}
	else ShowPlayerDialog(playerid, DIALOG_CLASSES, DIALOG_STYLE_LIST, serverLang[Player[playerid][pLang]][7], serverLang[Player[playerid][pLang]][8], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
	return 1;
}

//CMD:language(playerid) return ShowPlayerDialog(playerid, DIALOG_LANGUAGE, DIALOG_STYLE_LIST, serverLang[Player[playerid][pLang]][2], serverLang[Player[playerid][pLang]][3], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);

public OnPlayerRequestClass(playerid, classid)
{
    SetPlayerHealthAC(playerid, 100.0);
    SetPlayerArmourAC(playerid, 0.0);
    CurePlayer(playerid);

	/*if(!SelectReward[playerid])
	{
		SetPlayerTime(playerid, 0, 0);
		SetPlayerWeather(playerid, 8);
		SetPlayerPosAC(playerid, 2481.5100, 926.8403, 10.3255);
		SetPlayerCameraPos(playerid, 2473.7588, 931.9109, 14.0419);
		SetPlayerCameraLookAt(playerid, 2474.6667, 931.4795, 14.2678);
		SetPlayerSkinAC(playerid, 181);
	}
	else
	{*/
    SetPlayerPosAC(playerid, 2415.5414,-50.4586,28.1535);
	SetPlayerFacingAngle(playerid, 1.4218);
	SetPlayerCameraPos(playerid, 2415.7615, -45.1561, 28.8247);
	SetPlayerCameraLookAt(playerid, 2415.7559, -46.1539, 28.6447);
	SetPlayerSkinAC(playerid, 181);
	//}
	if(!IsOnRegister[playerid] && !Player[playerid][pLogged]) { CheckForPlayerExists(playerid); IsOnRegister[playerid] = true; }
	
	return 1;
}

fun TooMuchTimeOfThinking(playerid)
{
	//TODO Translate and send to all
	if(!Player[playerid][pLogged])
	{
	    foreach(Player, i)
	    {
	        switch(Player[i][pLang])
	        {
	    		case 0: SendClientMessageFormat(i, -1, "{33CCFF}>> %s has been kicked [Reason: Exceeded time for logging in]", Player[playerid][UserName]);
				case 1: SendClientMessageFormat(i, -1, "{33CCFF}>> Игрок %s был кикнут [Причина: Превышено время для авторизации]", Player[playerid][UserName]);
                case 2: SendClientMessageFormat(i, -1, "{33CCFF}>> %s ha sido expulsado [Motivo: Tiempo excedido para iniciar sesion]", Player[playerid][UserName]);
			}
		}
		PlayerKick(playerid);
	}
}

fun GetLeadersActivity()
{
    new str[200], id, Name[MAX_PLAYER_NAME+1], c, d, online_t[25];
    if(cache_num_rows())
	{
	    #if debug_mode == 0
	    DiscordChannel = DCC_FindChannelById("667021505846312960");
	    for( new i = 0; i < cache_num_rows(); i++ )
	    {
		    cache_get_value_name_int(i, "ID", id);
			cache_get_value_name(i, "Name", Name, MAX_PLAYER_NAME+1);
			cache_get_value_name_int(i, "Clan", c);
			cache_get_value_name_int(i, "ClanRank", d);
            cache_get_value_name(i, "lalog", online_t, 25);
   			format(str, sizeof(str), "```css\n(GANG #%d) %s(%d) - Rank: %d - Last Login: %s\n```", c, Name, id, d, online_t);
		 	DCC_SendChannelMessageEx(DiscordChannel, str);
		}
		#endif
	}
	return 1;
}

fun GetAdminsActivity(mnt, type)
{
	if(cache_num_rows())
	{
	    new i, n[25], a, id, query[128];
		for( i = 0; i < cache_num_rows(); i++ )
		{
		    cache_get_value_name_int(i, "ID", id);
		    cache_get_value_name(i, "Name", n, 25);
		    cache_get_value_name_int(i, "Admin", a);
		    
		    mysql_format(Base, query, sizeof(query), "SELECT * FROM `aactivity` WHERE `month` = '%d' AND `id` = '%d' ORDER BY `h` DESC LIMIT 1", mnt, id);
			mysql_tquery(Base, query, "ShowAActivity", "siii", n, id, a, type);
		}
	}
	return 1;
}

fun ShowAActivity(const name[], const id, const admin, const type)
{
	new str[1024], h = 0, m = 0, s = 0, indays = 0, f[512], act[15] = "";
    if(cache_num_rows())
	{
	    cache_get_value_name_int(0, "h", h);
		cache_get_value_name_int(0, "m", m);
		cache_get_value_name_int(0, "s", s);
		cache_get_value_name_int(0, "indays", indays);
		
		if(m <= 0) m = 0;
		if(s <= 0) s = 0;
		
		act = "Inactive";
		if(h >= 15) act = "Semi-Active";
	    if(h >= 30) act = "Active";
		if(h >= 60) act = "Very-Active";
		if(indays > 0)
		{
			format(f, sizeof(f), "```diff\n- %s %s (ID: %d) - %s - (%02d:%02d) / (30:00) | [Days of Inactivity %d]\n```", AdminRanks[0][admin-1], name, id, act, h > -1 ? h : 0, m, indays);
            strcat(str, f);
		}
		else
		{
			format(f, sizeof(f), "```yaml\n- %s %s (ID: %d) - %s - (%02d:%02d) / (30:00)\n```", AdminRanks[0][admin-1], name, id, act, h > -1 ? h : 0, m);
  		    strcat(str, f);
		}
	}
	else
	{
	    format(f, sizeof(f), "```diff\n- %s %s (ID: %d) (Has never logged in to the server this month)\n```", AdminRanks[0][admin-1], name, id);
	    strcat(str, f);
	}
	#if debug_mode == 0
	if(type == 0)
	{
		DiscordChannel = DCC_FindChannelById("613185790683513003");
	 	DCC_SendChannelMessageEx(DiscordChannel, str);
	}
	else
	{
	    DiscordChannel = DCC_FindChannelById("610987221431877642");
	 	DCC_SendChannelMessageEx(DiscordChannel, str);
	}
	#endif
	
	return 1;
}

fun bool:CanUseDSComamnds(DCC_Guild:Guild, DCC_User:author, DCC_Role:role)
{
    #if debug_mode == 0
    new role_count, i, bool:hasRole, roleid[DCC_ID_SIZE];
    DCC_GetGuildMemberRoleCount(Guild, author, role_count);
    for (i = 0; i != role_count; i++)
	{
	    DCC_GetGuildMemberRole(Guild, author, i, role);
	    DCC_HasGuildMemberRole(Guild, author, role, hasRole);
	    if(hasRole)
	    {
	        DCC_GetRoleId(role, roleid);
	        if(!strcmp(SERVER_DEFINING_ROLE, roleid, true) && !strcmp(SERVER_DEFINING_BUILD, SERVER_BUILD, true)) return true;
	    }
	}
	#endif
	return false;
}

fun bool:GetRolePermissions(code, DCC_Guild:Guild, DCC_User:author, DCC_Role:role, perm_high, perm_low, DCC_Channel:channel)
{
    #if debug_mode == 0
	new role_count, i, bool:hasRole;
    DCC_GetGuildMemberRoleCount(Guild, author, role_count);

	/*if(role_count <= 1)
	{
	    DCC_SendChannelMessageEx(channel, "```diff\n- Set the rights you want to use (Build v16 | Build v20)\n```");
		return false;
	}*/
	
	if(CanUseDSComamnds(Guild, author, role))
 	{
		for (i = 0; i != role_count; i++)
		{
		    DCC_GetGuildMemberRole(Guild, author, i, role);
		    DCC_HasGuildMemberRole(Guild, author, role, hasRole);
		    if(hasRole)
		    {
                DCC_GetRolePermissions(role, perm_high, perm_low);
	   			if((perm_low & code) == code)
	   			{
				   	return true;
				}
		    }
		}
	}
	#endif
	return false;
}

fun bool:GetUserRolePermissions(DCC_Guild:Guild, DCC_User:author, DCC_Role:role, perm_high, perm_low, DCC_Channel:channel)
{
    #if debug_mode == 0
	new role_count, i, bool:canUseCommands, bool:hasRole, roleid[DCC_ID_SIZE];
    DCC_GetGuildMemberRoleCount(Guild, author, role_count);

	/*if(role_count <= 1)
	{
	    DCC_SendChannelMessageEx(channel, "```diff\n- Set the rights you want to use (Build v16 | Build v20)\n```");
		return false;
	}*/

	for (i = 0; i != role_count; i++)
	{
	    DCC_GetGuildMemberRole(Guild, author, i, role);
	    DCC_HasGuildMemberRole(Guild, author, role, hasRole);
	    if(hasRole)
	    {
	        DCC_GetRoleId(role, roleid);
            if(!strcmp(SERVER_DEFINING_ROLE, roleid, true) && !strcmp(SERVER_DEFINING_BUILD, SERVER_BUILD, true)) canUseCommands = true;
   			DCC_GetRolePermissions(role, perm_high, perm_low);
   			if(canUseCommands) return true;
	    }
	}
	#endif
	return false;
}

#define dcc_debug 0

#if debug_mode == 0
public DCC_OnMessageCreate(DCC_Message:message)
{
    new DCC_Guild:Guild = DCC_FindGuildById("596363897947160607");
    if(Guild == DCC_INVALID_GUILD)
	{
	    #if dcc_debug == 1
	        printf("Invalid guild");
	    #endif
		return 0;
    }
    
   	new DCC_Channel:channel = DCC_INVALID_CHANNEL;
    DCC_GetMessageChannel(message, channel);
    if(channel == DCC_INVALID_CHANNEL)
	{
	    #if dcc_debug == 1
	        printf("Invalid channel");
	    #endif
		return 0;
	}
	
    new DCC_User:author;
	DCC_GetMessageAuthor(message, author);
	if(author == DCC_INVALID_USER)
	{
 		#if dcc_debug == 1
	        printf("Invalid author");
	    #endif
		return 0;
	}
	
	new bool: IsBot, userMessage[128];
	DCC_IsUserBot(author, IsBot);
	DCC_GetMessageContent(message, userMessage);

	if(userMessage[0] != '!')
	{
	    #if dcc_debug == 1
	        printf("Not a command");
	    #endif
		return 0;
	}
	
	if(!strlen(userMessage))
	{
		#if dcc_debug == 1
	        printf("No text in the message");
	    #endif
		return 0;
	}
	
	new userName[32];
	DCC_GetGuildMemberNickname(Guild, author, userName);
	
    new msg[200], perm_high, perm_low, vip[21], i_pos = 0, DCC_Role:role;
	
	while(userMessage[i_pos])
	{
		if(userMessage[i_pos] == '%') userMessage[i_pos] = '#';
		i_pos++;
	}

 	// printf("PERSIMMIONS: %d", GetUserRolePermissions(Guild, author, role, perm_high, perm_low, channel));

	if(GetUserRolePermissions(Guild, author, role, perm_high, perm_low, channel) && !IsBot)
 	{
 	    if(channel == DCC_FindChannelById("612998988609880076"))
		{
			if(strfind(userMessage, "!say") == 0 && strlen(userMessage) > 4)
			{
	        	if(CheckForWebsite(userMessage)) {}
	        	else
	        	{
					new i_numcount, i_period, check_pos = 0;
			        if(strfind(userMessage, ".", true) != -1)
					{
				        while(userMessage[check_pos])
						{
				            if('0' <= userMessage[check_pos] <= '9') i_numcount ++;
				            else if(userMessage[check_pos] == '.') i_period ++;
				            check_pos++;
				        }
					}

	                if(i_numcount <= 7 && i_period <= 2)
					{
					    #if debug_mode == 0
				    	DCC_GetGuildMemberNickname(Guild, author, userName);
				    	if(strlen(userName) <= 0) DCC_GetUserName(author, userName);
				    	SendMessageFormatToAll(-1, "{7289da}>> [DISCORD]: %s:{FFFFFF} %s", userName, userMessage[5]);

						format(msg, 200, "```[DISCORD]: %s: %s```", userName, userMessage[5]);
						DCC_SendChannelMessageEx(channel, msg);
						#endif
					}
				}
				return 1;
			}
		}
 	   	if(!strcmp(userMessage, "!players"))
		{
		    if(playerOnline >= 1)
		    {
		        new str[900], frm[32], c;
		        strcat(str, "```yaml\n");
				foreach(Player, i)
				{
				    format(frm, 30, "%s (ID %d)\n", Player[i][UserName], i);
				    strcat(str, frm);
				    c++;
				}
				format(frm, 30, "Total of %d players\n```", c);
				strcat(str, frm);
				DCC_SendChannelMessageEx(channel, str);
				return 1;
			}
			else
			{
			    DCC_SendChannelMessageEx(channel, "```yaml\nNobody connected :(\n```");
			}
			return 1;
		}
	}
	if(channel == DCC_FindChannelById("610987221431877642"))
	{
	    if(strfind(userMessage, "!activity") == 0)
   		{
   		    if(gettime() > AdminActivityWait)
   		    {
	   		    strdel(userMessage, 0, 10);
				new reason;
				if(sscanf(userMessage, "i", reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!activity (month)```");
					return 1;
				}
	   		    if(reason < 1 || reason > 12)
	   		    {
				    DCC_SendChannelMessageEx(channel, "```!activity (month)```");
					return 1;
				}
	   		    DCC_SendChannelMessageEx(channel, "```Processing...```");

	   		    new query[128];
	   		    mysql_format(Base, query, sizeof(query), "SELECT `ID`,`Name`,`Admin` FROM `users` WHERE `Admin` > '0' AND `ID` > '1' ORDER BY `Admin` DESC");
				mysql_tquery(Base, query, "GetAdminsActivity", "ii", reason, 1);
				AdminActivityWait = gettime() + 45;
			}
			else
			{
			    DCC_SendChannelMessageEx(channel, "```Wait...```");
			}
			return 1;
		}
	    return 1;
	}
	if(channel == DCC_FindChannelById("613185790683513003"))
	{
	    if(strfind(userMessage, "!activity") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    if(gettime() > AdminActivityWait)
   		    {
	   		    strdel(userMessage, 0, 10);
				new reason;
				if(sscanf(userMessage, "i", reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!activity (month)```");
					return 1;
				}
	   		    if(reason < 1 || reason > 12)
	   		    {
				    DCC_SendChannelMessageEx(channel, "```!activity (month)```");
					return 1;
				}
	   		    DCC_SendChannelMessageEx(channel, "```Processing...```");

	   		    new query[128];
	   		    mysql_format(Base, query, sizeof(query), "SELECT `ID`,`Name`,`Admin` FROM `users` WHERE `Admin` > '0' AND `ID` > '1' ORDER BY `Admin` DESC");
				mysql_tquery(Base, query, "GetAdminsActivity", "ii", reason, 0);
				AdminActivityWait = gettime() + 45;
			}
			else
			{
			    DCC_SendChannelMessageEx(channel, "```Wait...```");
			}
			return 1;
		}
		
        if(strfind(userMessage, "!getinfo") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 9);
			new userid = -1;
			sscanf(userMessage, "I(-1)", userid);
			if(userid <= -1)
			{
			    DCC_SendChannelMessageEx(channel, "```!getinfo (id)```");
			    return 1;
			}
			else if(!IsPlayerConnected(userid))
			{
   				DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
   				return 1;
			}
			else
			{
				new Float: info[2], ip[16], info_str[512], frm_info[128];
				switch(Player[userid][pVip])
				{
				    case 0: vip = "No";
				    case 1: vip = "Bronze(1)";
				    case 2: vip = "Silver(2)";
				    case 3: vip = "Gold(3)";
				}
				new GunName[47][20] =
				{
				    "Fist","Brass Knuckles","Golf Club","Nightstick","Knife","Basebal Bat","Shovel","Pool Cue","Katana","Chainsaw","Double-ended Dildo","Dildo","Vibrator",
				    "Silver Vibrator","Flowers","Cane","Grenade","Tear Gas","Molotv Cocktail","?","?","?","9mm","Silenced 9mm","Desert Eagle","Shotgun","Sawnoff-Shotgun",
				    "Combat Shotgun","Micro-SMG","MP5","Ak-47","M4","Tec9","Country Rifle","Sniper Rifle","RPG","HS-RPG","Flame-Thrower","Minigun","Satchel Charge","Detonator",
				    "Spray Can","Fire Extinguisher","Camera","Night Goggles","Thermal Goggles","Parachute"
				};

				GetPlayerIp(userid,ip,sizeof(ip));
				GetPlayerHealth(userid,info[0]);
				GetPlayerArmour(userid,info[1]);

	            new y, m, d, h, i, s;
				TimestampToDate(Player[userid][pRegDate], y, m, d, h, i, s, 3);
	            strcat(info_str, "```\n");
	            format(frm_info, sizeof(frm_info), ">> %s's Information (IP: %s) (Last IP: %s)\n", Player[userid][UserName], ip, Player[userid][pLastIP]);
	            strcat(info_str, frm_info);
	            format(frm_info, sizeof(frm_info), ">> Registered IP (%s) (Date: %02dD/%02dM/%04dY)\n", Player[userid][pIP], d, m, y);
	            strcat(info_str, frm_info);
				new vtl[64], gmbs[64], ghbs[64], gabs[64];

				if(Clan[Player[userid][pClan]][g_Buff] == 1) format(gmbs, sizeof(gmbs), " (Gang: +%d)", GiveGangBuff(Player[userid][pClan]));
				else gmbs = "";
				if(Clan[Player[userid][pClan]][g_Buff] == 3) format(ghbs, sizeof(ghbs), " (Gang: +%.2f)", float(GiveGangBuff(Player[userid][pClan])));
				else ghbs = "";
				if(Clan[Player[userid][pClan]][g_Buff] == 2) format(gabs, sizeof(gabs), " (Gang: +%.2f)", float(GiveGangBuff(Player[userid][pClan])));
				else gabs = "";

				if(SetVitality(userid) >= 1.0) format(vtl, sizeof(vtl), " (Vitality: +%.2f)", SetVitality(userid));
				else vtl = "";
				format(frm_info, sizeof(frm_info), ">> Health: %.1f%s%s - Armour: %.1f\n", info[0], vtl, ghbs, info[1], gabs);
	            strcat(info_str, frm_info);
	            format(frm_info, sizeof(frm_info), ">> EXP: %d - Money: %d\n", Player[userid][pXP], GetPlayerMoney(userid));
	            strcat(info_str, frm_info);
	            format(frm_info, sizeof(frm_info), ">> Spawned: %s - S0BEIT: %s\n", Player[userid][pLogged] == false ? ("No") : ("Yes"), S0beitSuspecting[userid] >= 2 ? ("YES") : S0beitSuspecting[userid] == 1 ? ("SUSPECTED") : ("NO"));
	            strcat(info_str, frm_info);
	            format(frm_info, sizeof(frm_info), ">> Country: %s\n", GetPlayerCountry(userid));
	            strcat(info_str, frm_info);

				if(GetPlayerTeamEx(userid) == TEAM_ZOMBIE && Player[userid][pClass][TEAM_ZOMBIE+1] < sizeof(zombieClassesListNames[])) {
	                format(frm_info, sizeof(frm_info), ">> Team: Zombie - Class: %s\n", zombieClassesListNames[0][Player[userid][pClass][TEAM_ZOMBIE+1]]);
	            	strcat(info_str, frm_info);
				}
				if(GetPlayerTeamEx(userid) == TEAM_ZOMBIE && Player[userid][pClass][TEAM_ZOMBIE+1] > sizeof(zombieClassesListNames[])) {
	                format(frm_info, sizeof(frm_info), ">> Team: Zombie - Class: %s\n", zombieVIPCl[0][Player[userid][pClass][TEAM_ZOMBIE+1]-5000]);
	            	strcat(info_str, frm_info);
				}

				if(GetPlayerTeamEx(userid) == TEAM_HUMAN && Player[userid][pClass][TEAM_HUMAN] < sizeof(humanClassesListNames[])) {
					format(frm_info, sizeof(frm_info), ">> Team: Human - Class: %s\n", humanClassesListNames[0][Player[userid][pClass][TEAM_HUMAN]]);
	            	strcat(info_str, frm_info);
				}

				if(GetPlayerTeamEx(userid) == TEAM_HUMAN && Player[userid][pClass][TEAM_HUMAN] > sizeof(humanClassesListNames[])) {
	            	format(frm_info, sizeof(frm_info), ">> Team: Human - Class: %s\n", humanVIPCl[0][Player[userid][pClass][TEAM_HUMAN]-5000]);
	            	strcat(info_str, frm_info);
				}

				if(Player[userid][pAdmin] > 0) {
					format(frm_info, sizeof(frm_info),  ">> V.I.P: %s - Admin: %s\n", vip, AdminRanks[0][Player[userid][pAdmin]-1]);
	            	strcat(info_str, frm_info);
				}
				else {
					format(frm_info, sizeof(frm_info),  ">> V.I.P: %s - Admin: No\n", vip);
	            	strcat(info_str, frm_info);
				}

				new slot, weap[14], ammo[14];
			    for ( slot = 0; slot < 14; slot++ )
			    {
			        GetPlayerWeaponData(userid,slot,weap[slot],ammo[slot]);
			        if(ammo[slot] >= 1)
			        {
	    				format(frm_info, sizeof(frm_info),  ">> Weapon: %s - Ammo: %d%s\n", GunName[weap[slot]], ammo[slot], gmbs);
	            		strcat(info_str, frm_info);
					}
				}
				if(Player[userid][pClan] > 0)
				{
					format(frm_info, sizeof(frm_info),   ">> Clan: (ID %d)(Rank: %d)\n", Player[userid][pClan],Player[userid][pClanRank]);
	  				strcat(info_str, frm_info);
				}
	        	format(frm_info, sizeof(frm_info), ">> Packets lost: %.2f", NetStats_PacketLossPercent(userid));
				strcat(info_str, frm_info);
				strcat(info_str, "```");
				DCC_SendChannelMessageEx(channel, info_str);
			}
			return 1;
		}
		
		if(strfind(userMessage, "!acmds") == 0)
   		{
			if(GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!activity\n!offtban (name) (time) (reason)\n!banname (name)\n!unban (name)\n!banip (IP)\n!unbanip (IP)\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!blockport (port)\n!unblockport (port)\n!bankey (key)\n!unbankey (key)\n!admins\n```");
			}
			else if(GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!activity\n!offtban (name) (time) (reason)\n!banname (name)\n!unban (name)\n!banip (IP)\n!unbanip (IP)\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!blockport (port)\n!unblockport (port)\n!admins\n```");
			}
			else if(GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!activity\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!admins\n```");
			}
			else if(GetRolePermissions(0x2, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!activity\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!admins\n```");
			}
			else if(GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!activity\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!admins\n```");
			}
			return 1;
   		}

    	if(strfind(userMessage, "!admins") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			if(playerOnline >= 1)
	        {
		        new str[400], frm[64], count;
		        strcat(str, "```yaml\n");
				foreach(Player, i)
				{
				    if(Player[i][pAdmin] >= 1 && FakeData[i][7] <= 0)
				    {
				    	format(frm, 64, "%s (ID %d) (Level %d)\n", Player[i][UserName], i, Player[i][pAdmin]);
				    	strcat(str, frm);
				    	count++;
					}
				}
				strcat(str, "```");
				if(count >= 1) DCC_SendChannelMessageEx(channel, str);
				else DCC_SendChannelMessageEx(channel, "```yaml\nNo administrators\n```");
				return 1;
			}
			else
			{
			    DCC_SendChannelMessageEx(channel, "```yaml\nNobody connected :(\n```");
			}
			return 1;
		}
	}
	
    if(channel == DCC_FindChannelById("667021505846312960"))
	{
        if(!strcmp(userMessage, "!acmds"))
   		{
			if(GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!removeexp (name/Account ID) (percents)\n!makeadminoffline (name) (level)\n!unbanip (IP)\n!banip (IP)\n!banname (name) (reason)\n!unban (name)```");
			}
			return 1;
		}
    }
    
    if(channel == DCC_FindChannelById("674323910648397894"))
	{
        if(!strcmp(userMessage, "!acmds"))
   		{
			if(GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!ostats (name)\n!checkname (name)\n!checkip (ip)\n!banlog (account id)\n!compare (account id) (account id)\n!vpn (account id)\n!logs (account id) (day) (month) (year) (count)\n!all about (account id)\n!checkpay (account id) (limit) [type = 0 /paid | 1 = /gang deposit | 2 = /gang pay | 3 = /givezaps]\n!key (key)\n!getport (account id)\n!port (port)\n!getkey (account id)\n```");
			}
			return 1;
		}
	}

	if(channel == DCC_FindChannelById("674323910648397894"))
	{
        /*if(!strcmp(userMessage, "!acmds"))
   		{
			if(GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!ostats (name)\n!checkname (name)\n!checkip (ip)\n!banlog (account id)\n!compare (account id) (account id)\n!vpn (account id)\n!logs (account id) (day) (month) (year) (count)\n!all about (account id)\n!checkpay (account id) (limit) [type = 0 /paid | 1 = /gang deposit | 2 = /gang pay | 3 = /givezaps]\n!key (key)\n```");
			}
			return 1;
		}*/

	    if(strfind(userMessage, "!key") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			strdel(userMessage, 0, 5);
			new reason[41];
			if(sscanf(userMessage, "s[41]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!key (key)```");
			    return 1;
			}

			DCC_SendChannelMessageEx(channel, "```yaml\n+++ KEY FINDING +++\n```");

			new query[400];
			mysql_format(Base, query, sizeof(query), "SELECT users.ID aid, users.Name uname, userinfo.last_log la_log FROM users JOIN userinfo ON userinfo.id = users.id WHERE users.kie LIKE '%e%%' GROUP BY aid ORDER BY userinfo.last_log DESC;", reason);
			mysql_tquery(Base, query, "ITCompareKeys", "");
			return 1;
		}
		
		if(strfind(userMessage, "!getkey") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			strdel(userMessage, 0, 8);
			new reason;
			if(sscanf(userMessage, "i", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!getkey (account id)```");
			    return 1;
			}
            if(reason <= 0)
			{
			    DCC_SendChannelMessageEx(channel, "```!getkey (account id)```");
			    return 1;
			}

			new query[450];
			mysql_format(Base, query, sizeof(query), "SELECT users.Name, pactions.date, pactions.sign, pactions.reg_sign, pactions.acc FROM pactions JOIN users ON pactions.acc = users.id WHERE pactions.acc = '%d' ORDER BY pactions.date DESC LIMIT 1;", reason);
			mysql_tquery(Base, query, "ITGetKey", "");
			return 1;
		}
		
		if(strfind(userMessage, "!getport") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			strdel(userMessage, 0, 9);
			new reason;
			if(sscanf(userMessage, "i", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!getport (account id)```");
			    return 1;
			}
            if(reason <= 0)
			{
			    DCC_SendChannelMessageEx(channel, "```!getport (account id)```");
			    return 1;
			}
			DCC_SendChannelMessageEx(channel, "```yaml\n+++ PORT GETTING +++\n```");

			new query[450];
			mysql_format(Base, query, sizeof(query), "SELECT users.ID aid, users.Name uname, userinfo.port FROM users JOIN userinfo ON userinfo.id = users.id WHERE userinfo.port = '%d'", reason);
			mysql_tquery(Base, query, "ITGetPort", "");
			return 1;
		}
		
		if(strfind(userMessage, "!port") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			strdel(userMessage, 0, 6);
			new reason;
			if(sscanf(userMessage, "i", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!port (port)```");
			    return 1;
			}
			if(reason <= 0)
			{
			    DCC_SendChannelMessageEx(channel, "```!port (port)```");
			    return 1;
			}
			DCC_SendChannelMessageEx(channel, "```yaml\n+++ PORT FINDING +++\n```");

			new query[450];
			mysql_format(Base, query, sizeof(query), "SELECT users.ID aid, users.Name uname, userinfo.last_log la_log, userinfo.port upotr FROM users JOIN userinfo ON userinfo.id = users.id WHERE userinfo.port = '%d' GROUP BY aid ORDER BY userinfo.last_log DESC;", reason);
			mysql_tquery(Base, query, "ITComparePorts", "");
			return 1;
		}

		if(strfind(userMessage, "!checkname") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			strdel(userMessage, 0, 11);
			new reason[24];
			if(sscanf(userMessage, "s[24]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!checkname (name)```");
			    return 1;
			}
  			new query[164];
			mysql_format(Base, query, sizeof(query), "SELECT * FROM `namechanger` WHERE `newName` LIKE '%%%e%%' OR `oldName` LIKE '%%%e%%' AND `build`='"SERVER_BUILD"'", reason, reason);
			mysql_tquery(Base, query, "TryToFindUserNamesFromDiscord");
			return 1;
		}

        if(strfind(userMessage, "!compare") == 0 && GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 9);
		    new id, id2;
			if(sscanf(userMessage, "ii", id, id2))
			{
			    DCC_SendChannelMessageEx(channel, "```!compare (account id) (account id)```");
			    return 1;
			}
			if(id > 0 && id2 > 0)
			{
            	new query[128];
				mysql_format(Base, query, sizeof(query), "SELECT u.kie AS 'fk', u.kie AS 'sk' FROM users u WHERE `ID` IN('%d','%d') AND `build`='"SERVER_BUILD"'", id, id2);
				mysql_tquery(Base, query, "ITCompareAccunts", "ii", id, id2);
			}
			return 1;
		}

		if(strfind(userMessage, "!banlog") == 0 && GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 8);
		    new id;
			if(sscanf(userMessage, "i", id))
			{
			    DCC_SendChannelMessageEx(channel, "```!banlog (account id)```");
			    return 1;
			}
			if(id > 0)
			{
            	new query[128];
				mysql_format(Base, query, sizeof(query), "SELECT * FROM `banlog` WHERE `acc` = '%d' AND `build`='"SERVER_BUILD"'", id);
				mysql_tquery(Base, query, "ShowBanLog", "i", id);
			}
			return 1;
		}

		if(strfind(userMessage, "!vpn") == 0 && GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 5);
		    new id;
			if(sscanf(userMessage, "i", id))
			{
			    DCC_SendChannelMessageEx(channel, "```!vpn (account id)```");
			    return 1;
			}
			if(id > 0)
			{
				new query[256];
			    mysql_format(Base, query, sizeof(query), "SELECT vpns.*, users.Name FROM `vpns` JOIN `users` WHERE users.ID = '%d' AND vpns.acc = '%d' ORDER BY vpns.login DESC LIMIT 5", id, id);
				mysql_tquery(Base, query, "ShowVPNActions", "i", id);
			}
			return 1;
		}

		if(strfind(userMessage, "!logs") == 0 && GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 6);
		    new id, month, day, year, count;
			if(sscanf(userMessage, "iiiii", id, day, month, year, count))
			{
			    DCC_SendChannelMessageEx(channel, "```!logs (account id) (day) (month) (year) (count)```");
			    return 1;
			}
			if(id > 0)
			{
                new TimeDate = datetime_to_unix(year, month, day-1, 0, 0, 0);
                new TimeDateNext = datetime_to_unix(year, month, day+1, 0, 0, 0);
				new query[256];
			    mysql_format(Base, query, sizeof(query), "SELECT pactions.*, users.Name FROM `pactions` JOIN `users` WHERE users.ID = '%d' AND pactions.acc = '%d' AND pactions.date BETWEEN '%d' AND '%d' ORDER BY pactions.date DESC LIMIT %d", id, id, TimeDate, TimeDateNext, count);
				mysql_tquery(Base, query, "ShowAccActions", "i", id);
			}
			return 1;
		}

		if(strfind(userMessage, "!all about") == 0 && GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 11);
		    new id;
			if(sscanf(userMessage, "i", id))
			{
			    DCC_SendChannelMessageEx(channel, "```!all about (account id)```");
			    return 1;
			}
			if(id > 0)
			{
				DCC_SendChannelMessageEx(channel, "```css\nInformation gathering process initiated\nConnecting to security protocols [LIMIT 5 errors]\n```");
				new query[164];
			    mysql_format(Base, query, sizeof(query), "SELECT * FROM `security` WHERE `acc` = '%d' ORDER BY `type` DESC, `date` DESC LIMIT 5", id);
				mysql_tquery(Base, query, "ShowSecurityErrors", "i", id);
			}
			return 1;
		}

		if(strfind(userMessage, "!checkpay") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			strdel(userMessage, 0, 10);
			new reason = -1, lim = 10, payment_type = -1;
			sscanf(userMessage, "iI(10)I(-1)", reason, lim, payment_type);

			if(reason == -1)
			{
			    DCC_SendChannelMessageEx(channel, "```!checkpay (account ID) (limit) [type = 0 /paid | 1 = /gang deposit | 2 = /gang pay | 3 = /givezaps]```");
				return 1;
			}

			new query[128];
			if(payment_type <= -1 || payment_type > 3) mysql_format(Base, query, sizeof(query), "SELECT * FROM `payments` WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"' ORDER BY `date` DESC LIMIT %d", reason, lim);
			else mysql_format(Base, query, sizeof(query), "SELECT * FROM `payments` WHERE `ID` = '%d' AND `type` = '%d' AND `build`='"SERVER_BUILD"' ORDER BY `date` DESC LIMIT %d", reason, payment_type, lim);
			mysql_tquery(Base, query, "CheckUserForPayments");
			return 1;
		}

		if(strfind(userMessage, "!ostats") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			strdel(userMessage, 0, 8);
			new reason[24];
			if(sscanf(userMessage, "s[24]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!ostats (name)```");
				return 1;
			}
			new query[264];
			mysql_format(Base, query, sizeof(query), "SELECT users.*, userinfo.reg_date, userinfo.last_ip FROM users JOIN userinfo ON userinfo.id = users.ID WHERE `Name` LIKE '%e%%' OR users.ID = '%d' AND users.build ='"SERVER_BUILD"'", reason, strval(reason));
			mysql_tquery(Base, query, "CheckForOffStatsInInvDiscord", "i", 0);
		 	return 1;
		}
		if(strfind(userMessage, "!checkip") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 9);
			new reason[16];
			if(sscanf(userMessage, "s[16]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!checkip (ip)```");
				return 1;
			}
		    new query[144];
			mysql_format(Base, query, sizeof(query), "SELECT `Name`,`ID` FROM `users` WHERE `IP` LIKE '%e%%' AND `build`='"SERVER_BUILD"'", reason);
		 	mysql_tquery(Base, query, "CheckForIpsInDiscord", "i", 0);
			return 1;
		}
	}

	if(channel == DCC_FindChannelById("667021505846312960"))
	{
        /*if(strfind(userMessage, "!acmds") == 0)
   		{
			if(GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!activity\n!removeexp (name/Account ID) (percents)\n!makeadminoffline (name) (level)\n!unbanip (IP)\n!banip (IP)\n!banname (name) (reason)\n!unban (name)```");
			}
			return 1;
		}*/
		if(strfind(userMessage, "!leaders") == 0 && GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    new query[128];
   		    mysql_format(Base, query, sizeof(query), "SELECT `ID`,`Name`,`Clan`,`lalog`,`ClanRank` FROM `users` WHERE `ClanRank` > 4 AND `build`='"SERVER_BUILD"' ORDER BY `Clan` ASC");
			mysql_tquery(Base, query, "GetLeadersActivity");
   		    return 1;
   		}

		if(strfind(userMessage, "!makeadminoffline") == 0 && GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 18);
			new reason[24], lvl;
			if(sscanf(userMessage, "s[24]i", reason, lvl))
			{
			    DCC_SendChannelMessageEx(channel, "```!makeadminoffline (name) (lvl)```");
				return 1;
			}
			if(lvl < 0 || lvl > 4)
			{
			    DCC_SendChannelMessageEx(channel, "```!makeadminoffline (name) (0-4)```");
				return 1;
			}
			DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

			new query[128];
			mysql_format(Base, query, sizeof(query), "SELECT `Admin` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", reason);
			mysql_tquery(Base, query, "MakeAdminOfflineDiscord", "ssi", userName, reason, lvl);
			return 1;
   		}

        if(strfind(userMessage, "!unbanip") == 0 && GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 9);
			new reason[16];
			if(sscanf(userMessage, "s[16]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!unbanip (ip)```");
				return 1;
			}

			DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

            new query[128];
			mysql_format(Base, query, sizeof(query), "SELECT * FROM `banip` WHERE `IP` = '%e'", reason);
		 	mysql_tquery(Base, query, "CheckToUnbanIpFromDiscord", "ss", reason, userName);
			return 1;
		}

        if(strfind(userMessage, "!unban") == 0 && GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 7);
		    new reason[24];
			if(sscanf(userMessage, "s[24]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!unban (name)```");
				return 1;
			}
			new query[200];

			DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

			mysql_format(Base, query, sizeof(query), "SELECT * FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", reason);
		 	mysql_tquery(Base, query, "TryToUnbanFromDiscord", "ssi", reason, userName, 0);
			return 1;
		}

        if(strfind(userMessage, "!banname") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 9);
		    new user[24], reason[128];
			if(sscanf(userMessage, "s[24]s[128]", user, reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!banname (name) (reason)```");
				return 1;
			}
    		new query[256];
    		DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

		    mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", user);
			mysql_tquery(Base, query, "TryToBanNameFromDiscord", "sss", user, reason, userName);
			return 1;
		}

		if(strfind(userMessage, "!banip") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 7);
			new reason[16], query[128];
			if(sscanf(userMessage, "s[16]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!banip (ip)```");
				return 1;
			}
			DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

			format(query, 128, "banip %s", reason);
 			SendRconCommand(query);
 			SendRconCommand("reloadbans");

			mysql_format(Base, query, sizeof(query), "INSERT INTO `banip` (`IP`,`build`) VALUE ('%e','"SERVER_BUILD"')", reason);
			mysql_tquery(Base, query, "", "", "");

			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][142], userName, reason);
            format(msg, 128, "```yaml\n%s has banned IP %s\n```", userName, reason);
            DiscordChannel = DCC_FindChannelById("613185790683513003");
			DCC_SendChannelMessageEx(DiscordChannel, msg);
			return 1;
		}

   		if(strfind(userMessage, "!removeexp") == 0 && GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 10);
			new reason[24], percent;
			if(sscanf(userMessage, "s[24]i", reason, percent))
			{
			    DCC_SendChannelMessageEx(channel, "```!removeexp (name/Account ID) (percents)```");
				return 1;
			}

			if(percent <= 0 || percent > 100)
			{
			    DCC_SendChannelMessageEx(channel, "```!removeexp (name/Account ID) (percents)```");
				return 1;
			}

			DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

            new query[128];
			mysql_format(Base, query, sizeof(query), "SELECT `ID`,`Name`,`EXP` FROM `users` WHERE `Name` = '%e' OR `ID` = '%d' AND `build`='"SERVER_BUILD"'", reason, strval(reason));
			mysql_tquery(Base, query, "TryToRemovePlayerEXPFromDiscord", "si", userName, percent);
			return 1;
		}
	}

	if(channel == DCC_FindChannelById("613185790683513003"))
	{
        if(strfind(userMessage, "!say") == 0 && strlen(userMessage) > 4)
   		{
  			DCC_GetGuildMemberNickname(Guild, author, userName);
	    	if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

			format(msg, 200, "```<A-CHAT> %s: %s```", userName, userMessage[5]);
			DCC_SendChannelMessageEx(channel, msg);

			new utf8msg[300];
            utf8decode(utf8msg, userMessage[5]);
			foreach(Player, i)
			{
				if(Player[i][pAdmin] > 0 && Player[i][pLogged])
				{
					SendClientMessageFormat(i, -1, "{66ffff}<A-CHAT> %s: %s", userName, utf8msg);
				}
			}

            return 1;
		}

		/*if(strfind(userMessage, "!acmds") == 0)
   		{
			if(GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!offtban (name) (time) (reason)\n!banname (name)\n!unban (name)\n!banip (IP)\n!unbanip (IP)\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!admins\n```");
   		    	return 1;
			}

			if(GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!offtban (name) (time) (reason)\n!banname (name)\n!unban (name)\n!banip (IP)\n!unbanip (IP)\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!admins\n```");
   		    	return 1;
			}

			if(GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!admins\n```");
   		    	return 1;
			}

			if(GetRolePermissions(0x2, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!admins\n```");
   		    	return 1;
			}

			if(GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
			{
				DCC_SendChannelMessageEx(channel, "```\n!checkip (IP)\n!getip (name)\n!ostats (name/ID)\n!getinfo (id)\n!admins\n```");
   		    	return 1;
			}
			return 1;
   		}*/

   		if(strfind(userMessage, "!unbanip") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 9);
			new reason[16];
			if(sscanf(userMessage, "s[16]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!unbanip (ip)```");
				return 1;
			}
			DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

            new query[128];
			mysql_format(Base, query, sizeof(query), "SELECT * FROM `banip` WHERE `IP` = '%e'", reason);
		 	mysql_tquery(Base, query, "UnbanIPFromDiscord", "ss", userName, reason);
			return 1;
		}

   		if(strfind(userMessage, "!banip") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 7);
			new reason[16], query[128];
			if(sscanf(userMessage, "s[16]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!banip (ip)```");
				return 1;
			}
			DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

			format(query, 128, "banip %s", reason);
 			SendRconCommand(query);
 			SendRconCommand("reloadbans");

			mysql_format(Base, query, sizeof(query), "INSERT INTO `banip` (`IP`,`build`) VALUE ('%e','"SERVER_BUILD"')", reason);
			mysql_tquery(Base, query, "", "", "");

			foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][142], userName, reason);
            format(msg, 128, "```yaml\n%s has banned IP %s\n```", userName, reason);
            DiscordChannel = DCC_FindChannelById("613185790683513003");
			DCC_SendChannelMessageEx(DiscordChannel, msg);
			return 1;
		}

        if(strfind(userMessage, "!unbankey") == 0 && GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 10);
		    new port[41];
	     	if(sscanf(userMessage, "s[41]", port))
		    {
                DCC_SendChannelMessageEx(channel, "```!unbankey (key)```");
                return 1;
		    }

			if(strlen(port) <= 38)
			{
			    DCC_SendChannelMessageEx(channel, "```!unbankey (key)```");
				return 1;
			}

            DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

	        foreach(Player, i)
			{
				if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has unblocked the key {FFFFFF}%s!", userName, port);
			}

			new query[128];
			mysql_format(Base, query, sizeof(query), "DELETE FROM `machines` WHERE `ID` = '%e'", port);
			mysql_tquery(Base, query, "", "", "");

			return 1;
		}
        
        if(strfind(userMessage, "!unban") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 7);
		    new reason[24];
			if(sscanf(userMessage, "s[24]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!unban (name)```");
				return 1;
			}
			new query[200];

			DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

			mysql_format(Base, query, sizeof(query), "SELECT * FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", reason);
		 	mysql_tquery(Base, query, "TryToUnbanFromDiscord", "ssi", reason, userName, 1);

			return 1;
		}
        
        if(strfind(userMessage, "!bankey") == 0 && GetRolePermissions(0x00000008, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 8);
		    new port[41], serial[41];
	     	if(sscanf(userMessage, "s[41]", port))
		    {
                DCC_SendChannelMessageEx(channel, "```!bankey (key)```");
                return 1;
		    }
		    
			if(strlen(port) <= 38)
			{
			    DCC_SendChannelMessageEx(channel, "```!bankey (key)```");
				return 1;
			}

            DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

	        foreach(Player, i)
			{
				if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has blocked the key {FFFFFF}%s!", userName, port);
	            gpci(i, serial, sizeof(serial));
	            if(!strcmp(serial, port, false)) PlayerKick(i);
			}

			new query[128];
			mysql_format(Base, query, sizeof(query), "INSERT INTO `machines` (`ID`) VALUE ('%e')", port);
			mysql_tquery(Base, query, "", "", "");
			
			format(msg, 128, "```yaml\n%s has banned the key %d\n```", userName, port);
            DiscordChannel = DCC_FindChannelById("613185790683513003");
			DCC_SendChannelMessageEx(DiscordChannel, msg);
			
			return 1;
		}
		
		if(strfind(userMessage, "!blockport") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 11);
		    new port;
	     	if(sscanf(userMessage, "i", port))
		    {
                DCC_SendChannelMessageEx(channel, "```!blockport (port)```");
                return 1;
		    }
		    if(port <= 0)
			{
			    DCC_SendChannelMessageEx(channel, "```!blockport (port)```");
                return 1;
			}
		    new query[256];

		    DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

	        foreach(Player, i)
			{
				if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has blocked port %d!", userName, port);
				if(Player[i][pPort] == port) PlayerKick(i);
			}

			mysql_format(Base, query, sizeof(query), "INSERT INTO `ports` (`ptr`) VALUE ('%d')", port);
			mysql_tquery(Base, query, "", "", "");
			
            format(msg, 128, "```yaml\n%s has blocked port %d\n```", userName, port);
            DiscordChannel = DCC_FindChannelById("613185790683513003");
			DCC_SendChannelMessageEx(DiscordChannel, msg);
			
			return 1;
		}
		
		if(strfind(userMessage, "!unblockport") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 13);
		    new port;
	     	if(sscanf(userMessage, "i", port))
		    {
                DCC_SendChannelMessageEx(channel, "```!unblockport (port)```");
                return 1;
		    }
		    if(port <= 0)
			{
			    DCC_SendChannelMessageEx(channel, "```!unblockport (port)```");
                return 1;
			}
		    new query[256];

		    DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

	        foreach(Player, i)
			{
				if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has blocked port %d!", userName, port);
			}

			mysql_format(Base, query, sizeof(query), "DELETE FROM `ports` WHERE `ptr` = '%d'", port);
	  		mysql_tquery(Base, query, "", "", "");

            format(msg, 128, "```yaml\n%s has unblocked port %d\n```", userName, port);
            DiscordChannel = DCC_FindChannelById("613185790683513003");
			DCC_SendChannelMessageEx(DiscordChannel, msg);

			return 1;
		}

		if(strfind(userMessage, "!offtban") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 9);
		    new name[24], time, reason[64];
	     	if(sscanf(userMessage, "s[24]is[64]", name, time, reason))
		    {
                DCC_SendChannelMessageEx(channel, "```!offtban (name) (hours) (reason)```");
                return 1;
		    }
		    if(time <= 0 || time > 999)
			{
			    DCC_SendChannelMessageEx(channel, "```!offtban (name) (hours) (reason)```");
                return 1;
			}
		    new query[256];

		    DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

	        mysql_format(Base, query, sizeof(query), "SELECT `ID`,`Admin` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", name);
			mysql_tquery(Base, query, "OfftbanUserInDiscord", "ssis", userName, name, time, reason);
			return 1;
		}

		if(strfind(userMessage, "!banname") == 0 && GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 9);
		    new user[24], reason[128];
			if(sscanf(userMessage, "s[24]s[128]", user, reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!banname (name) (reason)```");
				return 1;
			}

            DCC_GetGuildMemberNickname(Guild, author, userName);
			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

			new query[256];
		    mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", user);
			mysql_tquery(Base, query, "BanNameInIRC", "sss", userName, user, reason);
			return 1;
		}

		/*if(strfind(userMessage, "!admins") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			if(playerOnline >= 1)
	        {
		        new str[850], frm[64], count;
		        strcat(str, "```yaml\n");
				foreach(Player, i)
				{
				    if(Player[i][pAdmin] >= 1)
				    {
				    	format(frm, 64, "%s (ID %d) (Level %d)\n", Player[i][UserName], i, Player[i][pAdmin]);
				    	strcat(str, frm);
				    	count++;
					}
				}
				strcat(str, "```");
				if(count >= 1) DCC_SendChannelMessageEx(channel, str);
				else DCC_SendChannelMessageEx(channel, "```yaml\nNo administrators\n```");
				return 1;
			}
			else
			{
			    DCC_SendChannelMessageEx(channel, "```yaml\nNobody connected :(\n```");
			}
			return 1;
		}*/
		
		/*
		if(strfind(userMessage, "!getinfo") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
		    strdel(userMessage, 0, 9);
			new userid;
			if(sscanf(userMessage, "i", userid))
			{
			    DCC_SendChannelMessageEx(channel, "```!getinfo (id)```");
				return 1;
			}
			if(!IsPlayerConnected(userid))
			{
   				DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
			    return 1;
			}

			new Float: info[2], ip[16], info_str[512], frm_info[128];
			switch(Player[userid][pVip])
			{
			    case 0: vip = "No";
			    case 1: vip = "Bronze(1)";
			    case 2: vip = "Silver(2)";
			    case 3: vip = "Gold(3)";
			}
			new GunName[47][20] =
			{
			    "Fist","Brass Knuckles","Golf Club","Nightstick","Knife","Basebal Bat","Shovel","Pool Cue","Katana","Chainsaw","Double-ended Dildo","Dildo","Vibrator",
			    "Silver Vibrator","Flowers","Cane","Grenade","Tear Gas","Molotv Cocktail","?","?","?","9mm","Silenced 9mm","Desert Eagle","Shotgun","Sawnoff-Shotgun",
			    "Combat Shotgun","Micro-SMG","MP5","Ak-47","M4","Tec9","Country Rifle","Sniper Rifle","RPG","HS-RPG","Flame-Thrower","Minigun","Satchel Charge","Detonator",
			    "Spray Can","Fire Extinguisher","Camera","Night Goggles","Thermal Goggles","Parachute"
			};

			GetPlayerIp(userid,ip,sizeof(ip));
			GetPlayerHealth(userid,info[0]);
			GetPlayerArmour(userid,info[1]);

            new y, m, d, h, i, s;
			TimestampToDate(Player[userid][pRegDate], y, m, d, h, i, s, 3);
            strcat(info_str, "```\n");
            format(frm_info, sizeof(frm_info), ">> %s's Information (IP: %s) (Last IP: %s)\n", Player[userid][UserName], ip, Player[userid][pLastIP]);
            strcat(info_str, frm_info);
            format(frm_info, sizeof(frm_info), ">> Registered IP (%s) (Date: %02dD/%02dM/%04dY)\n", Player[userid][pIP], d, m, y);
            strcat(info_str, frm_info);
			new vtl[64], gmbs[64], ghbs[64], gabs[64];

			if(Clan[Player[userid][pClan]][g_Buff] == 1) format(gmbs, sizeof(gmbs), " (Gang: +%d)", GiveGangBuff(Player[userid][pClan]));
			else gmbs = "";
			if(Clan[Player[userid][pClan]][g_Buff] == 3) format(ghbs, sizeof(ghbs), " (Gang: +%.2f)", float(GiveGangBuff(Player[userid][pClan])));
			else ghbs = "";
			if(Clan[Player[userid][pClan]][g_Buff] == 2) format(gabs, sizeof(gabs), " (Gang: +%.2f)", float(GiveGangBuff(Player[userid][pClan])));
			else gabs = "";

			if(SetVitality(userid) >= 1.0) format(vtl, sizeof(vtl), " (Vitality: +%.2f)", SetVitality(userid));
			else vtl = "";
			format(frm_info, sizeof(frm_info), ">> Health: %.1f%s%s - Armour: %.1f\n", info[0], vtl, ghbs, info[1], gabs);
            strcat(info_str, frm_info);
            format(frm_info, sizeof(frm_info), ">> EXP: %d - Money: %d\n", Player[userid][pXP], GetPlayerMoney(userid));
            strcat(info_str, frm_info);
            format(frm_info, sizeof(frm_info), ">> Spawned: %s - S0BEIT: %s\n", Player[userid][pLogged] == false ? ("No") : ("Yes"), S0beitSuspecting[userid] >= 2 ? ("YES") : S0beitSuspecting[userid] == 1 ? ("SUSPECTED") : ("NO"));
            strcat(info_str, frm_info);
            format(frm_info, sizeof(frm_info), ">> Country: %s\n", GetPlayerCountry(userid));
            strcat(info_str, frm_info);

			if(GetPlayerTeamEx(userid) == TEAM_ZOMBIE && Player[userid][pClass][TEAM_ZOMBIE+1] < sizeof(zombieClassesListNames[])) {
                format(frm_info, sizeof(frm_info), ">> Team: Zombie - Class: %s\n", zombieClassesListNames[0][Player[userid][pClass][TEAM_ZOMBIE+1]]);
            	strcat(info_str, frm_info);
			}
			if(GetPlayerTeamEx(userid) == TEAM_ZOMBIE && Player[userid][pClass][TEAM_ZOMBIE+1] > sizeof(zombieClassesListNames[])) {
                format(frm_info, sizeof(frm_info), ">> Team: Zombie - Class: %s\n", zombieVIPCl[0][Player[userid][pClass][TEAM_ZOMBIE+1]-5000]);
            	strcat(info_str, frm_info);
			}

			if(GetPlayerTeamEx(userid) == TEAM_HUMAN && Player[userid][pClass][TEAM_HUMAN] < sizeof(humanClassesListNames[])) {
				format(frm_info, sizeof(frm_info), ">> Team: Human - Class: %s\n", humanClassesListNames[0][Player[userid][pClass][TEAM_HUMAN]]);
            	strcat(info_str, frm_info);
			}

			if(GetPlayerTeamEx(userid) == TEAM_HUMAN && Player[userid][pClass][TEAM_HUMAN] > sizeof(humanClassesListNames[])) {
            	format(frm_info, sizeof(frm_info), ">> Team: Human - Class: %s\n", humanVIPCl[0][Player[userid][pClass][TEAM_HUMAN]-5000]);
            	strcat(info_str, frm_info);
			}

			if(Player[userid][pAdmin] > 0) {
				format(frm_info, sizeof(frm_info),  ">> V.I.P: %s - Admin: %s\n", vip, AdminRanks[0][Player[userid][pAdmin]-1]);
            	strcat(info_str, frm_info);
			}
			else {
				format(frm_info, sizeof(frm_info),  ">> V.I.P: %s - Admin: No\n", vip);
            	strcat(info_str, frm_info);
			}

			new slot, weap[14], ammo[14];
		    for ( slot = 0; slot < 14; slot++ )
		    {
		        GetPlayerWeaponData(userid,slot,weap[slot],ammo[slot]);
		        if(ammo[slot] >= 1)
		        {
    				format(frm_info, sizeof(frm_info),  ">> Weapon: %s - Ammo: %d%s\n", GunName[weap[slot]], ammo[slot], gmbs);
            		strcat(info_str, frm_info);
				}
			}
			if(Player[userid][pClan] > 0)
			{
				format(frm_info, sizeof(frm_info),   ">> Clan: (ID %d)(Rank: %d)\n", Player[userid][pClan],Player[userid][pClanRank]);
  				strcat(info_str, frm_info);
			}
        	format(frm_info, sizeof(frm_info), ">> Packets lost: %.2f", NetStats_PacketLossPercent(userid));
			strcat(info_str, frm_info);
			strcat(info_str, "```");
			DCC_SendChannelMessageEx(channel, info_str);
			return 1;
		}
		*/
		
		////////////////////////////////////////////////////////////////////

		if(strfind(userMessage, "!ostats") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
		{
			strdel(userMessage, 0, 8);
			new reason[24];
			if(sscanf(userMessage, "s[24]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!ostats (name)```");
				return 1;
			}
			new query[264];
			mysql_format(Base, query, sizeof(query), "SELECT users.*, userinfo.reg_date, userinfo.last_ip FROM users JOIN userinfo ON userinfo.id = users.ID WHERE `Name` LIKE '%e%%' OR users.ID = '%d' AND users.build ='"SERVER_BUILD"'", reason, strval(reason));
			mysql_tquery(Base, query, "CheckForOffStatsInInvDiscord", "i", 1);
		 	return 1;
		}

		if(strfind(userMessage, "!checkip") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 9);
			new reason[16];
			if(sscanf(userMessage, "s[16]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!checkip (ip)```");
				return 1;
			}

			new query[144];
			mysql_format(Base, query, sizeof(query), "SELECT `Name`,`ID` FROM `users` WHERE `IP` LIKE '%e%%' AND `build`='"SERVER_BUILD"'", reason);
		 	mysql_tquery(Base, query, "CheckForIpsInDiscord", "i", 1);
			return 1;
		}

		if(strfind(userMessage, "!getip") == 0 && GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
   		{
   		    strdel(userMessage, 0, 7);
			new reason[24];
			if(sscanf(userMessage, "s[24]", reason))
			{
			    DCC_SendChannelMessageEx(channel, "```!getip (name)```");
				return 1;
			}
		    new query[144];
			mysql_format(Base, query, sizeof(query), "SELECT `IP` FROM `users` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", reason);
		 	mysql_tquery(Base, query, "DiscordGetIpFromPlayer", "s", reason);
			return 1;
		}
	}

	if(channel == DCC_FindChannelById("612998988609880076"))
	{
	    if(strfind(userMessage, "!help") == 0)
   		{
   		    DCC_SendChannelMessageEx(channel, "```!say (message)\n!players```");
   		    return 1;
   		}

   		if(strfind(userMessage, "!acmds") == 0)
   		{
   		    if(GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
		   	{
		   		DCC_SendChannelMessageEx(channel, "```\n!a (text)\n!unban (name)\n!ban (id) (reason)\n!tban (id) (1 - 999 hours) (reason)\n!warn (id) (reason)\n!mute (id) (time) (reason)\n!unmute (id)\n!kick (id) (reason)\n```");
		   		return 1;
			}
   		    if(GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
			{
			   	DCC_SendChannelMessageEx(channel, "```\n!a (text)\n!ban (id) (reason)\n!tban (id) (1 - 999 hours) (reason)\n!warn (id) (reason)\n!mute (id) (time) (reason)\n!unmute (id)\n!kick (id) (reason)\n```");
				return 1;
			}

			if(GetRolePermissions(0x2, Guild, author, role, perm_high, perm_low, channel)) // 0x2
		   	{
   		    	DCC_SendChannelMessageEx(channel, "```\n!a (text)\n!tban (id) (1 - 999 hours) (reason)\n!warn (id) (reason)\n!mute (id) (time) (reason)\n!unmute (id)\n!kick (id) (reason)\n```");
				return 1;
	   		}

   		    if(GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel)) // 0x2
		   	{
		   	    DCC_SendChannelMessageEx(channel, "```\n!a (text)\n!tban (id) (1 - 3 hours) (reason)\n!warn (id) (reason)\n!mute (id) (time) (reason)\n!unmute (id)\n!kick (id) (reason)\n```");
                return 1;
	   		}
   		    return 1;
   		}

   		if(GetRolePermissions(0x08000000, Guild, author, role, perm_high, perm_low, channel))
	    {
	        if(strfind(userMessage, "!a") == 0)
    		{
	     		strdel(userMessage, 0, 3);
				new reason[128];
				if(sscanf(userMessage, "s[128]", reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!a (text)```");
					return 1;
				}
				foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][110], reason);
				format(msg, 200, "```yaml\nAdministrator Announcement: %s\n```", reason);
				DCC_SendChannelMessageEx(channel, msg);
				return 1;
    		}

	        if(strfind(userMessage, "!unban") == 0)
    		{
    		    strdel(userMessage, 0, 7);
    		    new reason[24];
				if(sscanf(userMessage, "s[24]", reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!unban (name)```");
					return 1;
				}
				new query[200];
				DCC_GetGuildMemberNickname(Guild, author, userName);
				if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

				mysql_format(Base, query, sizeof(query), "SELECT * FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", reason);
			 	mysql_tquery(Base, query, "UnbanPlayerInDiscord", "ss", userName, reason);
				return 1;
    		}
    		if(strfind(userMessage, "!tban") == 0)
			{
    		    strdel(userMessage, 0, 6);
    		    new id, time, reason[64];
    		    if(sscanf(userMessage, "iis[64]", id, time, reason))
    		    {
                    DCC_SendChannelMessageEx(channel, "```!tban (id) (hours) (reason)```");
                    return 1;
    		    }
    		    if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}
    		    if(time <= 0 || time > 999)
    		    {
    		        DCC_SendChannelMessageEx(channel, "```!tban (id) (hours only 1-999) (reason)```");
                    return 1;
    		    }
    		    if(Player[id][pAdmin] > 0)
				{
		    		DCC_SendChannelMessageEx(channel, "```Admins can be banned only in the game```");
					return 1;
				}
    		    DCC_GetGuildMemberNickname(Guild, author, userName);
    			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

				new query[256];
				mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',0,'%d','"SERVER_BUILD"')", Player[id][UserName], userName, reason, time*(60*60)+gettime());
				mysql_tquery(Base, query, "", "", "");
				foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || id == i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][49], Player[id][UserName], userName, time, reason);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][51]);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][52]);
		  	    DiscordChannel = DCC_FindChannelById("619186196718944256");
 				format(msg, sizeof msg, "```\n%s has been banned by %s for %d hours [Reason: %s]\n```", Player[id][UserName], userName, time, reason);
  				DCC_SendChannelMessageEx(DiscordChannel, msg);
                IsBanned{id} = true;
			  	PlayerKick(id);
				return 1;
			}
	    }

	    if(GetRolePermissions(0x4, Guild, author, role, perm_high, perm_low, channel))
	    {
	        if(strfind(userMessage, "!a") == 0)
    		{
	     		strdel(userMessage, 0, 3);
				new reason[128];
				if(sscanf(userMessage, "s[128]", reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!a (text)```");
					return 1;
				}
				foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][110], reason);
				format(msg, 200, "```yaml\nAdministrator Announcement: %s\n```", reason);
				DCC_SendChannelMessageEx(channel, msg);
				return 1;
    		}

	        if(strfind(userMessage, "!ban") == 0)
    		{
    		    strdel(userMessage, 0, 5);
    		    new id, reason[64];
				if(sscanf(userMessage, "is[64]", id, reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!ban (id) (reason)```");
					return 1;
				}
				if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}
				if(Player[id][pAdmin] > 0)
				{
		    		DCC_SendChannelMessageEx(channel, "```Admins can be banned only in the game```");
					return 1;
				}
				DCC_GetGuildMemberNickname(Guild, author, userName);
	    		if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

				new query[256];
				mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',1,0,'"SERVER_BUILD"')", Player[id][UserName], userName, reason);
				mysql_tquery(Base, query);
				foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == id) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][50], Player[id][UserName], userName, reason);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][51]);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][52]);
		  	    format(msg, 200, "%s(%d) has been banned by %s [Reason: %s]", Player[id][UserName], id, userName, reason);
				DCC_SendChannelMessageEx(channel, msg);

				DiscordChannel = DCC_FindChannelById("619186196718944256");
 				format(msg, sizeof msg, "```\n%s has been banned by %s [Reason: %s]\n```", Player[id][UserName], userName, reason);
  				DCC_SendChannelMessageEx(DiscordChannel, msg);
				IsBanned{id} = true;
		  	    PlayerKick(id);
				return 1;
    		}
    		if(strfind(userMessage, "!tban") == 0)
			{
    		    strdel(userMessage, 0, 6);
    		    new id, time, reason[64];
    		    if(sscanf(userMessage, "iis[64]", id, time, reason))
    		    {
                    DCC_SendChannelMessageEx(channel, "```!tban (id) (hours) (reason)```");
                    return 1;
    		    }
    		    if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}
    		    if(time <= 0 || time > 999)
    		    {
    		        DCC_SendChannelMessageEx(channel, "```!tban (id) (hours only 1-999) (reason)```");
                    return 1;
    		    }
    		    if(Player[id][pAdmin] > 0)
				{
		    		DCC_SendChannelMessageEx(channel, "```Admins can be banned only in the game```");
					return 1;
				}
    		    DCC_GetGuildMemberNickname(Guild, author, userName);
    			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

				new query[256];
				mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',0,'%d','"SERVER_BUILD"')", Player[id][UserName], userName, reason, time*(60*60)+gettime());
				mysql_tquery(Base, query, "", "", "");
			 	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || id == i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][49], Player[id][UserName], userName, time, reason);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][51]);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][52]);

		  	    DiscordChannel = DCC_FindChannelById("619186196718944256");
 				format(msg, sizeof msg, "```\n%s has been banned by %s for %d hours [Reason: %s]\n```", Player[id][UserName], userName, time, reason);
  				DCC_SendChannelMessageEx(DiscordChannel, msg);
		  	    IsBanned{id} = true;
		  	    PlayerKick(id);
				return 1;
			}
	    }

	    if(GetRolePermissions(0x2, Guild, author, role, perm_high, perm_low, channel))
	    {
	        if(strfind(userMessage, "!a") == 0)
    		{
	     		strdel(userMessage, 0, 3);
				new reason[128];
				if(sscanf(userMessage, "s[128]", reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!a (text)```");
					return 1;
				}
				foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][110], reason);
				format(msg, 200, "```yaml\nAdministrator Announcement: %s\n```", reason);
				DCC_SendChannelMessageEx(channel, msg);
				return 1;
    		}
	    	if(strfind(userMessage, "!tban") == 0)
			{
    		    strdel(userMessage, 0, 6);
    		    new id, time, reason[64];
    		    if(sscanf(userMessage, "iis[64]", id, time, reason))
    		    {
                    DCC_SendChannelMessageEx(channel, "```!tban (id) (hours) (reason)```");
                    return 1;
    		    }
    		    if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}
    		    if(time <= 0 || time > 24)
    		    {
    		        DCC_SendChannelMessageEx(channel, "```!tban (id) (hours only 1-24) (reason)```");
                    return 1;
    		    }
    		    if(Player[id][pAdmin] > 0)
				{
		    		DCC_SendChannelMessageEx(channel, "```Admins can be banned only in the game```");
					return 1;
				}
    		    DCC_GetGuildMemberNickname(Guild, author, userName);
    			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

				new query[256];
				mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',0,'%d','"SERVER_BUILD"')", Player[id][UserName], userName, reason, time*(60*60)+gettime());
				mysql_tquery(Base, query, "", "", "");
				foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || id == i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][49], Player[id][UserName], userName, time, reason);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][51]);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][52]);
		  	    DiscordChannel = DCC_FindChannelById("619186196718944256");
 				format(msg, sizeof msg, "```\n%s has been banned by %s for %d hours [Reason: %s]\n```", Player[id][UserName], userName, time, reason);
  				DCC_SendChannelMessageEx(DiscordChannel, msg);
  				IsBanned{id} = true;
		  	    PlayerKick(id);
				return 1;
			}
	    }

	    if(GetRolePermissions(0x00400000, Guild, author, role, perm_high, perm_low, channel))
	    {
	        if(strfind(userMessage, "!a") == 0)
    		{
	     		strdel(userMessage, 0, 3);
				new reason[128];
				if(sscanf(userMessage, "s[128]", reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!a (text)```");
					return 1;
				}
				foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][110], reason);
				format(msg, 200, "```yaml\nAdministrator Announcement: %s\n```", reason);
				DCC_SendChannelMessageEx(channel, msg);
				return 1;
    		}
        	if(strfind(userMessage, "!tban") == 0)
			{
    		    strdel(userMessage, 0, 6);
    		    new id, time, reason[64];
    		    if(sscanf(userMessage, "iis[64]", id, time, reason))
    		    {
                    DCC_SendChannelMessageEx(channel, "```!tban (id) (hours) (reason)```");
                    return 1;
    		    }
    		    if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}
    		    if(time <= 0 || time > 3)
    		    {
    		        DCC_SendChannelMessageEx(channel, "```!tban (id) (hours only 1-3) (reason)```");
                    return 1;
    		    }
    		    if(Player[id][pAdmin] > 0)
				{
		    		DCC_SendChannelMessageEx(channel, "```Admins can be banned only in the game```");
					return 1;
				}
    		    DCC_GetGuildMemberNickname(Guild, author, userName);
    			if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

				new query[256];
				mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',0,'%d','"SERVER_BUILD"')", Player[id][UserName], userName, reason, time*(60*60)+gettime());
				mysql_tquery(Base, query);
				foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || id == i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][49], Player[id][UserName], userName, time, reason);
    			SendClientMessage(id, -1, serverLang[Player[id][pLang]][51]);
		  	    SendClientMessage(id, -1, serverLang[Player[id][pLang]][52]);
		  	    IsBanned{id} = true;
		  	    PlayerKick(id);
				return 1;
			}

	        if(strfind(userMessage, "!warn") == 0)
    		{
				strdel(userMessage, 0, 6);
				new id, reason[64];
				if(sscanf(userMessage, "is[64]", id, reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!warn (id) (reason)```");
					return 1;
				}

				if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}
				DCC_GetGuildMemberNickname(Guild, author, userName);
	    		if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

				Player[id][Warnings]++;
				foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == id) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][145], Player[id][UserName], userName, Player[id][Warnings], reason);
				format(msg, 200, "%s(%d) has been warned by %s [Reason: %s]", Player[id][UserName], id, userName, reason);
				DCC_SendChannelMessageEx(channel, msg);
				ShowPlayerDialog(id, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", reason, "Ok", "");
				if(Player[id][Warnings] >= 3)
				{
					foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == id) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][146], Player[id][UserName]);
					PlayerKick(id);
					format(msg, 200, "%s(%d) has been kicked by %s [Reason: Warning limit]", Player[id][UserName], id, userName);
					DCC_SendChannelMessageEx(channel, msg);
				}
				return 1;
			}

			if(strfind(userMessage, "!mute") == 0)
    		{
				strdel(userMessage, 0, 6);
				new id, time, reason[64];
				if(sscanf(userMessage, "iis[64]", id, time, reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!mute (id) (minutes) (reason)```");
					return 1;
				}

				if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}
				DCC_GetGuildMemberNickname(Guild, author, userName);
	    		if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

                Player[id][Muted] = time*60;
 				foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][111], Player[id][UserName], userName, time, reason);
 				format(msg, 200, "%s(%d) has been muted by %s for %d minutes [Reason: %s]", Player[id][UserName], id, userName, time, reason);
				DCC_SendChannelMessageEx(channel, msg);
				return 1;
			}

			if(strfind(userMessage, "!unmute") == 0)
    		{
				strdel(userMessage, 0, 8);
				new id;
				if(sscanf(userMessage, "i", id))
				{
				    DCC_SendChannelMessageEx(channel, "```!unmute (id)```");
					return 1;
				}
				if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}

				if(Player[id][Muted] == 0)
				{
		    		DCC_SendChannelMessageEx(channel, "```The player isn't muted```");
					return 1;
				}

				DCC_GetGuildMemberNickname(Guild, author, userName);
	    		if(strlen(userName) <= 0) DCC_GetUserName(author, userName);

                Player[id][Muted] = 0;
 				foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][114], Player[id][UserName], userName);
 				format(msg, 200, "%s(%d) has been unmuted by %s", Player[id][UserName], id, userName);
				DCC_SendChannelMessageEx(channel, msg);
				return 1;
			}

			if(strfind(userMessage, "!kick") == 0)
    		{
				strdel(userMessage, 0, 6);
				new id, reason[64];
				if(sscanf(userMessage, "is[64]", id, reason))
				{
				    DCC_SendChannelMessageEx(channel, "```!kick (id) (reason)```");
					return 1;
				}
				if(!IsPlayerConnected(id))
				{
				    DCC_SendChannelMessageEx(channel, "```The player isn't connected```");
				    return 1;
				}

				if(Player[id][pAdmin] > 0)
				{
		    		DCC_SendChannelMessageEx(channel, "```The player is an Admin```");
					return 1;
				}

				DCC_GetGuildMemberNickname(Guild, author, userName);
	    		if(strlen(userName) <= 0) DCC_GetUserName(author, userName);
				foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == id) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][106], Player[id][UserName], userName, reason);
                format(msg, 200, "%s(%d) has been kicked by %s [Reason: %s]", Player[id][UserName], id, userName, reason);
				DCC_SendChannelMessageEx(channel, msg);
				PlayerKick(id);
				return 1;
			}
   		}
	}
    return 1;
}

fun CheckForBan(id, const User[], type, playerid, DStype)
{
	switch(type)
	{
	    case 0:
	    {
	        if(IsPlayerConnected(playerid))
	        {
		        if(cache_num_rows() > 0)
				{
				    SendClientMessageFormat(playerid, -1, "{FF0000}BANNED: {33CCFF}(Account ID %d) >> Name: %s", id, User);
				}
				else
				{
				    SendClientMessageFormat(playerid, -1, "{FF0000}{33CCFF}(Account ID %d) >> Name: %s", id, User);
				}
			}
	    }
	    case 1:
	    {
     		new msg[128];
     		if(DStype == 1) DiscordChannel = DCC_FindChannelById("674323910648397894");
     		else DiscordChannel = DCC_FindChannelById("613185790683513003");
			if(cache_num_rows() > 0)
			{
			    format(msg, 128, "```yaml\nBANNED: (Account ID %d) >> Name: %s\n```", id, User);
			    DCC_SendChannelMessageEx(DiscordChannel, msg);
			}
			else
			{
			    format(msg, 128, "```yaml\n(Account ID %d) >> Name: %s\n```", id, User);
				DCC_SendChannelMessageEx(DiscordChannel, msg);
			}
		}
	}
	return 1;
}

fun CheckMachineBan(playerid)
{
    if(cache_num_rows() > 0)
 	{
 	    foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> %s has been kicked [Reason: Banned]", Player[playerid][UserName]);

        #if debug_mode == 0
        new y, m, d, h, i, s, msg[164], desc[128], ID[128];
        cache_get_value_name(0, "desc", desc, 128);
        cache_get_value_name(0, "ID", ID, 128);

		TimestampToDate(gettime(), y, m, d, h, i, s, 3);
		DiscordChannel = DCC_FindChannelById("674323910648397894");
		format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s's (%d) key banned (Key: %s) (Desc: %s)\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], ID, desc);
		DCC_SendChannelMessageEx(DiscordChannel, msg);
		#endif

		IsBanned{playerid} = true;
	 	PlayerKick(playerid);
 	}
 	return 1;
}

fun UnbanPlayerInDiscord(const userName[], const reason[])
{
	if(cache_num_rows())
	{
	    new query[128], msg[128];
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][47], reason, userName);
		mysql_format(Base, query, sizeof(query), "DELETE FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", reason);
		mysql_tquery(Base, query, "", "", "");
		format(msg, 128, "```%s has been unbanned by %s```", reason, userName);
		DCC_SendChannelMessageEx(DiscordChannel, msg);

		DiscordChannel = DCC_FindChannelById("624580613697175582");
		format(query, sizeof query, "```\n%s has been unbanned by %s (IRC)\n```", reason, userName);
		DCC_SendChannelMessageEx(DiscordChannel, query);
	}
	else
	{
		DCC_SendChannelMessageEx(DiscordChannel, "```This player is not found, check the data```");
	}
	return 1;
}
#endif

fun CheckIpBan(playerid)
{
    if(cache_num_rows() > 0)
 	{
 	    /*foreach(Player, j)
	 	{
	 	    if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> %s has been kicked [Reason: IP Banned]", Player[playerid][UserName]);
		}
		IsBanned{playerid} = true;
	 	PlayerKick(playerid);*/
 	}
 	return 1;
}

fun CheckBan(playerid)
{
    if(cache_num_rows() > 0)
 	{
 	    new time, p;
 	    cache_get_value_name_int(0, "Permanent", p);
     	cache_get_value_name_int(0, "Time", time);
		if(p)
		{
		    new admin[MAX_PLAYER_NAME],reason[128];
     	    foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][43], Player[playerid][UserName]);
     	    cache_get_value_name(0, "Admin", admin);
            cache_get_value_name(0, "Why", reason, 128);
            SendClientMessage(playerid, -1, "Congratulations, you're {FF0000}banned!");
     	    SendClientMessageFormat(playerid, -1, "Reason: %s | Admin: %s", reason, admin);
     	    SendClientMessageFormat(playerid, -1, "Appeal at %s", FORUM);
		    PlayerKick(playerid);
		    return 1;
		}
 	    if(gettime() > time)
		{
		    new query[164];
		    mysql_format(Base, query, sizeof(query), "DELETE FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", Player[playerid][UserName]);
			mysql_tquery(Base, query, "", "", "");
		}
		else
		{
     	    new admin[MAX_PLAYER_NAME],reason[128], y, m, d, h, a, s;
     	    foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][44], Player[playerid][UserName]);
     	    cache_get_value_name(0, "Admin", admin);
            cache_get_value_name(0, "Why", reason, 128);
    		TimestampToDate(time, y, m, d, h, a, s, 3);
     	    SendClientMessage(playerid, -1, "Congratulations, you're {FF0000}temp banned!");
     	    SendClientMessageFormat(playerid, -1, "Reason: %s | Admin: %s", reason, admin);
     	    SendClientMessageFormat(playerid, -1, "Till: %02d.%02d.%04d %02d:%02d", d, m, y, h, a);
     	    SendClientMessageFormat(playerid, -1, "Appeal at %s", FORUM);
     	    PlayerKick(playerid);
		}
 	}
 	else
 	{
 	    new IP[16], serial[64], query[256];
 	    GetPlayerIp(playerid, IP, 16);
 	    gpci(playerid, serial, 64);
 	    mysql_format(Base, query, sizeof(query), "SELECT * FROM `banlist` WHERE `ip` = '%e' AND `gpci` = '%e' AND `build`='"SERVER_BUILD"'", IP, serial);
 		mysql_tquery(Base, query, "CheckBanEvader", "i", playerid);
 	}
 	return 1;
}

fun CheckBanEvader(playerid)
{
    if(cache_num_rows() > 0)
 	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly Ban Evader", Player[playerid][UserName], playerid);
        AddCheater(playerid, 0);
		strmid(AC_Requests[playerid][ac_reason], "Ban Evader", 0, 128, 128);
		AC_Requests[playerid][ac_time] = gettime();
		AC_Requests[playerid][ac_type] = 0;
		AC_Requests[playerid][ac_additional] = 0;
		AC_Requests[playerid][ac_pl] = NetStats_PacketLossPercent(playerid);
	}
 	return 1;
}

fun AutoLogin(playerid)
{
	if(cache_num_rows() > 0)
	{
	    new N[25], PIP[16], ip[16];
     	GetPlayerIp(playerid, ip, sizeof(ip));
        cache_get_value_name(0, "Name", N, 25);
        cache_get_value_name(0, "IP", PIP, 17);
        if(!strcmp(N, Player[playerid][UserName]) && !strcmp(PIP, ip)) SetPVarInt(playerid, "auto-log", 1);
	}
	else
	{
	    SetPVarInt(playerid, "auto-log", 0);
	}
	return 1;
}

#define VK_KEY_Z 0x5A

CMD:banport(playerid, params[])
{
	if(Player[playerid][pAdmin] > 3)
	{
    	if(sscanf(params, "i", params[0]))
		{
			SendClientMessage(playerid, -1, "/banport (port)");
    	    return 1;
		}
		if(params[0] <= 0)
		{
		    SendClientMessage(playerid, -1, "/banport (port)");
    	    return 1;
		}
        foreach(Player, i)
		{
			if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has blocked port %d!", Player[playerid][UserName], params[0]);
			if(Player[i][pPort] == params[0]) PlayerKick(i);
		}

        new query[144];
		mysql_format(Base, query, sizeof(query), "INSERT INTO `ports` (`ptr`) VALUE ('%d')", params[0]);
		mysql_tquery(Base, query, "", "", "");
		
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(query, sizeof query, "```\n%s used /banport %d\n```",  Player[playerid][RealName], params[0]);
			DCC_SendChannelMessageEx(DiscordChannel, query);
			#endif
		}
		return 1;
	}
	return 0;
}

CMD:unbanport(playerid, params[])
{
	if(Player[playerid][pAdmin] > 3)
	{
    	if(sscanf(params, "i", params[0]))
		{
			SendClientMessage(playerid, -1, "/unbanport (port)");
    	    return 1;
		}
		if(params[0] <= 0)
		{
		    SendClientMessage(playerid, -1, "/unbanport (port)");
    	    return 1;
		}
        foreach(Player, i)
		{
			if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s has unblocked port %d!", Player[playerid][UserName], params[0]);
		}

        new query[144];
		mysql_format(Base, query, sizeof(query), "DELETE FROM `ports` WHERE `ptr` = '%d'", params[0]);
  		mysql_tquery(Base, query, "", "", "");
		
		if(Player[playerid][pAdmin] <= 5)
		{
		    #if debug_mode == 0
			DiscordChannel = DCC_FindChannelById("623193667628433438");
			format(query, sizeof query, "```\n%s used /unbanport %d\n```",  Player[playerid][RealName], params[0]);
			DCC_SendChannelMessageEx(DiscordChannel, query);
			#endif
		}
		return 1;
	}
	return 0;
}

fun OnIncomingConnection(playerid, ip_address[], port)
{
	foreach(Player, i)
	{
	    if(Player[i][pAdmin] > 0 && Player[i][pLogged])
	    {
	        SendClientMessageFormat(i, -1, "{e1eaea}Incoming connection for player (ID %i) [IP & Port: %s:%i]", playerid, ip_address, port);
	    }
	}
	Player[playerid][pPort] = port;
	new query[144];
	mysql_format(Base, query, sizeof(query), "SELECT `ptr` FROM `ports` WHERE `ptr` = '%d' AND `build`='"SERVER_BUILD"'", port);
	mysql_tquery(Base, query, "GetBannedPort", "i", playerid);
    return 1;
}

fun GetBannedPort(playerid)
{
	if(cache_num_rows())
	{
	    PlayerKick(playerid);
	}
	return 1;
}

fun OnPlayerConnect(playerid)
{
    Invisible[playerid] = false;
    FatalAttack[playerid] = false;
    PR_VirtualWorldForPlayer[playerid] = 0;
    
	/////////////////////// EVENT //////////////////////////////////////////////
   	/*DestroyVehicle(EventTank[playerid]);
    DestroyVehicle(CurTankID[playerid]);
	EventTank[playerid] = -1;
	CurTankID[playerid] = -1;
 	CurTankTextID[playerid] = -1;
  	WarPlayerTeam[playerid] = -1;
  	WarTankSelected[playerid] = 0;
  	UserTankInWarState[playerid] = -1; // Event
    DestroyVehicle(CurTankID[playerid]);
    TK_CanDisplayEvent[playerid] = 1;
    
	DestroyVehicle(EventTank[playerid]);
	SetPlayerCameraPos(playerid, 646.8121, 1609.2610, 12.8967);
	SetPlayerCameraLookAt(playerid, 647.2643, 1608.3638, 12.6266);
	InterpolateCameraPos(playerid, 646.8121, 1609.2610, 12.8967, 646.8121, 1609.2610, 12.8967, 100, CAMERA_MOVE);
    InterpolateCameraLookAt(playerid, 647.2643, 1608.3638, 12.6266, 647.2643, 1608.3638, 12.6266, 100, CAMERA_MOVE);
	*/
	////////////////////////////////////////////////////////////////////////////
	
    Player[playerid][pChannel] = 0;
    
    IsUsingProxy{playerid} = false;
    PlayerPlaySound(playerid, 0, 0.0, 0.0, 0.0);
    IsPlayerDead[playerid] = false;
    Iter_Add(Players, playerid);
    
    RemoveObjects(playerid);
    SetPlayerHealthAC(playerid, 100.0);
    SetPlayerArmourAC(playerid, 0.0);

    GetPlayerName(playerid, Player[playerid][RealName], MAX_PLAYER_NAME);
    GetPlayerName(playerid, Player[playerid][UserName], MAX_PLAYER_NAME);
    
	if(mapid >= 2) Player[playerid][ConnectedMap] = mapid - 1;
	
    if(IsPlayerNPC(playerid))
    {
        foreach(Player, j)
		{
		    if(Player[j][pAdmin] > 0 && Player[j][pLogged] || j == playerid)
		    {
				SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) has been banned [Reason: NPC]", Player[playerid][UserName], playerid);
			}
		}
       	BanPlayer(playerid, "NPC hack");
		//PlayerKick(playerid);
	}

    SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
    Player[playerid][pClass][TEAM_HUMAN] = CIVILIAN;
	Player[playerid][pClass][TEAM_ZOMBIE+1] = STANDARDZOMBIE;
    Player[playerid][pClass][TEAM_HUMAN+1] = CIVILIAN;
	Player[playerid][pClass][TEAM_ZOMBIE+2] = STANDARDZOMBIE;
    Player[playerid][IsBurned][0] = 0;
    Player[playerid][IsBurned][1] = 0;
   	Player[playerid][aDuty] = false;
   	Portals[playerid] = INVALID_OBJECT_ID;
   	PlayerTextType[playerid] = 0;
   	Player[playerid][SlowWalk] = 0;
   	lotteryNumber[playerid] = -1;
   	p_FallingTime[playerid] = -1;
   	p_FallingCheck{playerid} = 0;
   	AimOff[playerid] = 0;
   	LastHealth[playerid][0] = 0.0;
   	LastHealth[playerid][1] = 0.0;
   	Player[playerid][Poisioned] = false;
   	Player[playerid][hasBleedEffect] = false;
   	S0beitSuspecting[playerid] = 0;
   	Player[playerid][Blidness] = 0;
   	KillTimer(Player[playerid][InfectedTimer]);
   	KillTimer(Player[playerid][PoisionTimer]);
   	KillTimer(Player[playerid][BlidnessTimer]);
   	KillTimer(Player[playerid][BleedingTimer]);
   	
   	TextDrawHideForPlayer(playerid, Blidnes[playerid]);
   	TextDrawHideForPlayer(playerid, Infected[playerid]);
   	TextDrawHideForPlayer(playerid, Poision[playerid]);
   	TextDrawHideForPlayer(playerid, GreenScreen[playerid]);
   	TextDrawHideForPlayer(playerid, Stun[playerid]);
    for( new i; i < 10; i++ ) RemovePlayerAttachedObject(playerid, i);
	CurePlayer(playerid);
    new query[164], IP[16], serial[41];
    GetPlayerIp(playerid, IP, 16);
    
    /*new contime = GetTickCount();
    if(strlen(gIP[playerid]) && gTime[playerid] != 0)
    {
        if(!strcmp(IP, gIP[playerid]))
        {
            foreach(Player, j)
			{
			    if(Player[j][pAdmin] > 0 && Player[j][pLogged] || j == playerid)
			    {
					SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) has been kicked [Reason: Fast reconnect]", Player[playerid][UserName], playerid);
				}
			}
            if(contime - gTime[playerid] < MIN_RECONNECT_TIME) PlayerKick(playerid);
            return 1;
        }
    }
    for(new i; i < MAX_PLAYERS; i++)
    {
        if((i == playerid) || IsPlayerConnected(i)) continue;
        if(strlen(gIP[i]))
        {
            if(!strcmp(IP, gIP[i]))
            {
                Kick(playerid);
               	return 1;
            }
        }
    }*/
    
	mysql_format(Base, query, sizeof(query), "SELECT * FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", Player[playerid][UserName]);
 	mysql_tquery(Base, query, "CheckBan", "i", playerid);
	
	mysql_format(Base, query, sizeof(query), "SELECT * FROM `autolog` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", Player[playerid][UserName]);
	mysql_tquery(Base, query, "AutoLogin", "i", playerid);
	
	mysql_format(Base, query, sizeof(query), "SELECT * FROM `banip` WHERE `IP` = '%e'", IP);
 	mysql_tquery(Base, query, "CheckIpBan", "i", playerid);
	
	gpci(playerid, serial, sizeof(serial));
	
	mysql_format(Base, query, sizeof(query), "SELECT * FROM `machines` WHERE `ID` = '%e'", serial);
 	mysql_tquery(Base, query, "CheckMachineBan", "i", playerid);
 	
	mysql_tquery(Base, "DELETE FROM `autolog` WHERE `time` < (NOW() - INTERVAL 6 HOUR) AND `build`='"SERVER_BUILD"'", "", "");
	
	mysql_format(Base, query, sizeof(query), "DELETE FROM `quest` WHERE `etime` <  '%d' AND `build`='"SERVER_BUILD"'", gettime() - 86400);
 	mysql_tquery(Base, query, "", "");
	
 	//GetPlayerIp(playerid, IP, 16);
 	
 	new i_numcount, i_pos;
 	while(i_pos < strlen(serial))
	{
 		if('0' <= serial[i_pos] <= '9') i_numcount ++;
   		i_pos++;
   	}
    if(i_numcount >= 30)
	{
		foreach(Player, i)
		{
		    if(Player[i][pAdmin] > 0 && Player[i][pLogged])
		    {
				SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) has been kicked [Reason: Unforeseen Error]", Player[playerid][UserName], playerid);
			}
		}
		PlayerKick(playerid);
		return 1;
	}
	
	if(CheckForWebsite(Player[playerid][UserName]))
	{
	    foreach(Player, i)
		{
		    if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == playerid)
		    {
				SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) has been kicked [Reason: Change your name]", Player[playerid][UserName], playerid);
			}
		}
		PlayerKick(playerid);
		return 1;
 	}
 	
 	new text[25];
 	strmid(text, Player[playerid][UserName], 0, 25, 25);
   	if(strfind(text, ".", true) != -1)
	{
	    new i_period;
        i_numcount = 0,
		i_pos = 0;
        while(text[i_pos])
		{
            if('0' <= text[i_pos] <= '9') i_numcount ++;
            else if(text[i_pos] == '.') i_period ++;
            i_pos++;
        }
        if(i_numcount >= 5 && i_period >= 3)
	 	{
	 	    foreach(Player, i)
			{
		    	if(Player[i][pAdmin] > 0 && Player[i][pLogged] || i == playerid)
		    	{
					SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) has been kicked [Reason: Change your name]", Player[playerid][UserName], playerid);
				}
			}
			PlayerKick(playerid);
      		return 1;
        }
	}
	
 	attemptsToLog[playerid] = 3;
 	
	RemoveBuildingForPlayer(playerid, 3425, -466.4297, 2190.2734, 55.9922, 0.25);
	Player[playerid][pLogged] = false;
	
    TextDrawHideForPlayer(playerid, SpawnProtection[playerid]);
    ResetWeapons(playerid);
	
	SetPlayerTime(playerid, 12, 0);
	SetPlayerWeather(playerid, 1);
	
	new msg[128], y, m, d, h, i, s;
	TimestampToDate(gettime(), y, m, d, h, i, s, 3);
		
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("612998988609880076");
    format(msg, sizeof msg, "%04d-%02d-%02d %02d:%02d %s (ID %d) has just joined the server.", y, m, d, h, i, Player[playerid][UserName], playerid);
    DCC_SendChannelMessageEx(DiscordChannel, msg);
    #endif
    resetVars(playerid); // <----
    AFK[playerid] = -2;
    GetPlayerIp(playerid, IP, 16);
    GetPlayerIpInfo(playerid, IP);
	return 1;
}

fun TryToSendEmail(playerid)
{
    if(cache_num_rows())
	{
	    new lastEmailSend;
 		cache_get_value_name_int(0, "lastEmailSend", lastEmailSend);
        if(lastEmailSend < gettime())
        {
            new strDest[16], strLen = 16;
    		while(strLen--) strDest[strLen] = CodeLetters[random(sizeof(CodeLetters))];
    
		    new message_str[] = "Hello-%s,--your-new-secret-word-is--%s", params[128];
		    format(params, sizeof(params), message_str, Player[playerid][UserName], strDest);
		    new request_to_the_server[512];

		 	format(request_to_the_server,sizeof(request_to_the_server), "theme=%s&msg=%s&email=%s", "SAMPZDM-Community", params, Player[playerid][pEmail]);
		  	HTTP(0, HTTP_POST, "sampzdmailer.000webhostapp.com/8f7a1c2q7r4f.php", request_to_the_server, "EmailDelivered");
		    SendClientMessageFormat(playerid, -1, "{FFF000}>> Email with the new secret word has been send to{FFFFFF} %s!", Player[playerid][pEmail]);

		    mysql_format(Base, request_to_the_server, sizeof(request_to_the_server), "UPDATE `users` SET `Secret`='%e',`lastEmailSend`='%d' WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", strDest, gettime()+86400, Player[playerid][pAccountID]);
			mysql_tquery(Base, request_to_the_server, "", "");
		}
		else
		{
		    SendClientMessage(playerid, -1, "{FFF000}>> You already got an email, wait for 24 hours!");
		}
	}
	else
	{
	    SendClientMessage(playerid, -1, "{FFF000}>> Error while trying to send an email!");
	}
	return 1;
}

fun __cril(playerid)
{
    if(strlen(Player[playerid][pEmail]) >= 1) return 0;
    ShowPlayerDialog(playerid, DIALOG_CREATE_MAIL, DIALOG_STYLE_INPUT, "Email", "Enter your new email address to be able to regain access to your account", "Ok", "Back");
    return 1;
}

CMD:email(playerid)
{
    if(strlen(Player[playerid][pEmail]) >= 1)
    {
        if(strfind(Player[playerid][pEmail], "@") >= 3)
        {
            new request_to_the_server[256];
		  	mysql_format(Base, request_to_the_server, sizeof(request_to_the_server), "SELECT `lastEmailSend` FROM `users` WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", Player[playerid][pAccountID]);
		  	mysql_tquery(Base, request_to_the_server, "TryToSendEmail", "i", playerid);
		}
		else
		{
            SendClientMessage(playerid, -1, "Your email isn't valid! Use /changeemail");
	    	return 1;
		}
	}
	else
	{
	    __cril(playerid);
	    return 1;
	}
	return 1;
}

fun EmailDelivered(index, response_code, data[])
{
	printf("Email Code: %d", response_code);
	
    return 1;
}

fun HTTP_OnPlayerProxyCheck(playerid, response_code, data[])
{
	if(response_code == 200)
	{
		switch(data[0])
		{
			case 'Y','y':
			{
			    IsUsingProxy{playerid} = true;
			    foreach(Player, j) if(Player[j][pAdmin] >= 1 && Player[j][pLogged])
				{
					SendClientMessageFormat(j, -1, "{6A8EE2}|: %s(%d) redirects traffic to another place. (VPN detected)", Player[playerid][UserName], playerid);
                    SendClientMessageFormat(j, -1, "{6A8EE2}|: Filtered and saved to the database. Account ID: %d", Player[playerid][pAccountID]);
					GameTextForPlayer(j, "VPN USER", 3000, 1);
				}
				new query[264], IP[16], str[512];
				GetPlayerIp(playerid, IP, 16);
				mysql_format(Base, query, sizeof(query), "INSERT INTO `vpns` (`acc`,`kie`,`login`,`country`,`ip`) VALUES ('%d','%e','%d','%e','%e')", Player[playerid][pAccountID], Player[playerid][pGPCI], gettime(), Player[playerid][pRegion], IP);
				mysql_tquery(Base, query, "", "", "");
				
				new y, m, d, h, i, s;
  				TimestampToDate(gettime(), y, m, d, h, i, s, 3);
				
				#if debug_mode == 0
				DiscordChannel = DCC_FindChannelById("614265642966843404");
	    		format(str, sizeof str, "```%04d-%02d-%02d %02d:%02d:%02d Proxy Detected: %s(%d) (REG: %s | CUR: %s)```", y, m, d, h, i, s, Player[playerid][UserName], Player[playerid][pAccountID], Player[playerid][pIP], IP);
				DCC_SendChannelMessageEx(DiscordChannel, str);
				
				DiscordChannel = DCC_FindChannelById("674323910648397894");
				format(str, sizeof str, "```[SECURITY] %04d-%02d-%02d %02d:%02d:%02d Proxy Detected: %s(%d)```", y, m, d, h, i, s, Player[playerid][UserName], Player[playerid][pAccountID]);
				DCC_SendChannelMessageEx(DiscordChannel, str);
				#endif
				
				//Kick(playerid);
				
				return 1;
			}
			case 'N','n': IsUsingProxy{playerid} = false;
			case 'X','x': return printf("(Proxy Detector): invalid ip format.");
			default: return printf("The request failed! The response code was: %d", response_code);
		}
	}
	printf("The response code was: %d", response_code);
	return 1;
}

fun LoadQuest(playerid)
{
    if(cache_num_rows() > 0)
	{
	    cache_get_value_name_int(0, "etime", DayMission[playerid][dm_Etime]);
	    cache_get_value_name_int(0, "type", DayMission[playerid][dm_wType]);
        cache_get_value_name_int(0, "index", DayMission[playerid][dm_objective_index]);
        cache_get_value_name_int(0, "start", DayMission[playerid][dm_progress]);
        cache_get_value_name_int(0, "finish", DayMission[playerid][dm_counter]);
        cache_get_value_name_int(0, "class", DayMission[playerid][dm_classID]);
        cache_get_value_name_float(0, "killo", DayMission[playerid][dm_Killometers]);
        cache_get_value_name_int(0, "time", DayMission[playerid][MultiplerTime]);
        cache_get_value_name_int(0, "repeat", DayMission[playerid][dm_Repeating]);
        cache_get_value_name_int(0, "done", DayMission[playerid][dm_done]);
   	 	DayliMission[playerid] = DayMission[playerid][dm_objective_index];
 	}
 	else
 	{
 	    new query[128];
 	    mysql_format(Base, query, sizeof(query), "INSERT INTO `quest` (`id`) VALUE ('%d')", Player[playerid][pAccountID]);
  		mysql_tquery(Base, query, "", "", "");
 	}
}

fun SaveQuest(playerid)
{
    new query[256];
    mysql_format(Base, query, sizeof(query), "UPDATE `quest` SET `type`='%d',`index`='%d',`start`='%d',`finish`='%d',`class`='%d',`killo`='%f',`time`='%d',`repeat`='%d',`done`='%d',`etime`='%d' WHERE `id`='%d'",
    DayMission[playerid][dm_wType],
    DayMission[playerid][dm_objective_index],
    DayMission[playerid][dm_progress],
    DayMission[playerid][dm_counter],
    DayMission[playerid][dm_classID],
    DayMission[playerid][dm_Killometers],
	DayMission[playerid][MultiplerTime],
	DayMission[playerid][dm_Repeating],
	DayMission[playerid][dm_done],
	DayMission[playerid][dm_Etime],
 	Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
}

fun LoadAchievements(playerid)
{
    if(cache_num_rows() > 0)
 	{
 	    new nac[512];
 	    cache_get_value_name_int(0, "thropyManiac", Achievements[playerid][thropyManiac]);
        cache_get_value_name_int(0, "AbilityUses", Achievements[playerid][AbilityUses]);
        cache_get_value_name_float(0, "Runned", Achievements[playerid][Runned]);
        cache_get_value_name_int(0, "Lucky", Achievements[playerid][Lucky]);
        cache_get_value_name_int(0, "HumansKilled", Achievements[playerid][HumansKilled]);
        cache_get_value_name_int(0, "ZombiesKilled", Achievements[playerid][ZombiesKilled]);
        cache_get_value_name_int(0, "MeatsCollected", Achievements[playerid][MeatsCollected]);
        cache_get_value_name_int(0, "eKillstreaks", Achievements[playerid][eKillstreaks]);
        cache_get_value_name_int(0, "eKillstreaksFail", Achievements[playerid][eKillstreaksFail]);
        cache_get_value_name_int(0, "Deaths", Achievements[playerid][Deaths]);
        cache_get_value_name_int(0, "CuredHumans", Achievements[playerid][CuredHumans]);
        cache_get_value_name_int(0, "Purchases", Achievements[playerid][Purchases]);
        cache_get_value_name_int(0, "ZombieClassesUses", Achievements[playerid][ZombieClassesUses]);
        cache_get_value_name_int(0, "HumanClassesUses", Achievements[playerid][HumanClassesUses]);
        cache_get_value_name_int(0, "WrongResort", Achievements[playerid][WrongResort]);
        cache_get_value_name_int(0, "esClan", Achievements[playerid][esClan]);
        cache_get_value_name_int(0, "reportTimes", Achievements[playerid][reportTimes]);
        cache_get_value_name_int(0, "AnimationsUsed", Achievements[playerid][AnimationsUsed]);
        cache_get_value_name_int(0, "BoxesBuilt", Achievements[playerid][BoxesBuilt]);
        cache_get_value_name_int(0, "AmmoGiven", Achievements[playerid][AmmoGiven]);
        cache_get_value_name_int(0, "h", Achievements[playerid][Hours]);
        cache_get_value_name_int(0, "m", Achievements[playerid][Minutes]);
        cache_get_value_name_int(0, "s", Achievements[playerid][Seconds]);
        
        cache_get_value_name(0, "nac", nac, 512);
        sscanf(nac, "p<,>iiiiiiiiiiiii", Achievements[playerid][Jumper], // 1
	    Achievements[playerid][IronFist], // 2
	    Achievements[playerid][AdrenalineDose], // 3
	    Achievements[playerid][ac_InAirTime], // 4
	    Achievements[playerid][CuttingTheBrink], // 5
	    Achievements[playerid][TimeVictim], // 6
	    Achievements[playerid][ac_QuestsCompleted], // 7
	    Achievements[playerid][ac_PlayedTime], // 8
	    Achievements[playerid][ac_Ruler], // 9
	    Achievements[playerid][ac_Merchant], // 10
	    Achievements[playerid][ac_Pets], // 11
		Achievements[playerid][ac_newPets], // 12
        Achievements[playerid][eErgoProxy] // 13
		);
 	}
 	else
 	{
 	    new query[128];
 	    mysql_format(Base, query, sizeof(query), "INSERT INTO `Achievements` (`ID`) VALUE ('%d')", Player[playerid][pAccountID]);
  		mysql_tquery(Base, query, "", "", "");
 	}
}

fun SaveAchievements(playerid)
{
	//nac
    new query[2048], nac[512];
    
    format(nac, sizeof(nac), "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
    Achievements[playerid][Jumper], // 1
    Achievements[playerid][IronFist], // 2
    Achievements[playerid][AdrenalineDose], // 3
    Achievements[playerid][ac_InAirTime], // 4
    Achievements[playerid][CuttingTheBrink], // 5
    Achievements[playerid][TimeVictim], // 6
    Achievements[playerid][ac_QuestsCompleted], // 7
    Achievements[playerid][ac_PlayedTime], // 8
    Achievements[playerid][ac_Ruler], // 9
    Achievements[playerid][ac_Merchant], // 10
    Achievements[playerid][ac_Pets], // 11
	Achievements[playerid][ac_newPets], // 12
	Achievements[playerid][eErgoProxy]); // 13
    
    mysql_format(Base, query, sizeof(query), "UPDATE `Achievements` SET `thropyManiac`='%d',`AbilityUses`='%d',`Runned`='%f',`Lucky`='%d',`HumansKilled`='%d',`ZombiesKilled`='%d',`MeatsCollected`='%d',`eKillstreaks`='%d',`eKillstreaksFail`='%d',`Deaths`='%d',`CuredHumans`='%d',`Purchases`='%d',`ZombieClassesUses`='%d',`HumanClassesUses`='%d',`WrongResort`='%d',`esClan`='%d',`reportTimes`='%d',`AnimationsUsed`='%d',`BoxesBuilt`='%d',`AmmoGiven`='%d',`h`='%d',`m`='%d',`s`='%d',`nac`='%e' WHERE `ID`='%d'",
    Achievements[playerid][thropyManiac],
    Achievements[playerid][AbilityUses],
    Achievements[playerid][Runned],
    Achievements[playerid][Lucky],
    Achievements[playerid][HumansKilled],
    Achievements[playerid][ZombiesKilled],
	Achievements[playerid][MeatsCollected],
	Achievements[playerid][eKillstreaks],
	Achievements[playerid][eKillstreaksFail],
	Achievements[playerid][Deaths],
	Achievements[playerid][CuredHumans],
	Achievements[playerid][Purchases],
	Achievements[playerid][ZombieClassesUses],
	Achievements[playerid][HumanClassesUses],
	Achievements[playerid][WrongResort],
	Achievements[playerid][esClan],
	Achievements[playerid][reportTimes],
	Achievements[playerid][AnimationsUsed],
	Achievements[playerid][BoxesBuilt],
 	Achievements[playerid][AmmoGiven],
 	Achievements[playerid][Hours],
 	Achievements[playerid][Minutes],
 	Achievements[playerid][Seconds],
 	nac,
 	Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
}

fun CheckForRegs(playerid)
{
    new query[400], IP[16];
    GetPlayerIp(playerid, IP, sizeof(IP));
    if(cache_num_rows() > 0)
 	{
 	    cache_get_value_name_int(0, "reg_date", Player[playerid][pRegDate]);
 	    cache_get_value_name(0, "last_ip", Player[playerid][pLastIP], 17);
        mysql_format(Base, query, sizeof(query), "UPDATE `userinfo` SET `last_ip` ='%e',`last_log`='%d',`port`='%d' WHERE `id` = '%d'", IP, gettime(), Player[playerid][pPort], Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "", "", "");
 	}
 	else
 	{
        mysql_format(Base, query, sizeof(query), "INSERT INTO `userinfo` (`id`,`last_ip`,`reg_date`,`port`) VALUES ('%d','%e','%d','%d')", Player[playerid][pAccountID], IP, gettime(), Player[playerid][pPort]);
		mysql_tquery(Base, query, "", "", "");
		Player[playerid][pRegDate] = gettime();
		Player[playerid][pLastIP] = IP;
 	}
	return 1;
}

fun CheckForEXP(playerid)
{
    if(cache_num_rows() > 0)
 	{
 	    #if debug_mode == 0
 	    new delete[128], a, y, m, d, h, i, s, msg[350];
		TimestampToDate(gettime(), y, m, d, h, i, s, 3);
		DiscordChannel = DCC_FindChannelById("680543908828151818");
 	    
 	    for( new j; j < cache_num_rows(); j++ )
 	    {
	 	    new desc[144], type = 0;
	 	    cache_get_value_name_int(j, "amount", a);
	 	    cache_get_value_name_int(j, "type", type);
	        cache_get_value_name(j, "desc", desc, 145);
	        if(a > 0)
			{
				switch(type)
				{
					case 0:
					{
						Player[playerid][pXP] += a;
						SendClientMessageFormat(playerid, -1, "{6A8EE2}>> You have received enrollment in %d experience", a);
						
						if(strlen(desc) <= 0) format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s[%d] got a payment in %d EXP\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], a);
						else format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s[%d] got a payment in %d EXP (%s)\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], a, desc);
						DCC_SendChannelMessageEx(DiscordChannel, msg);
					}
					case 1:
					{
						Player[playerid][pBalance] += float(a);
						SendClientMessageFormat(playerid, -1, "{6A8EE2}>> You have received enrollment in %d zaps", a);
						
						format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s[%d] got a payment in %d ZAPs\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], a);
						DCC_SendChannelMessageEx(DiscordChannel, msg);
					}
					default:
					{
						Player[playerid][pXP] += a;
					    SendClientMessageFormat(playerid, -1, "{6A8EE2}>> You have received enrollment in %d experience", a);
					    
					    if(strlen(desc) <= 0) format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s[%d] got a payment in %d EXP\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], a);
						else format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s[%d] got a payment in %d EXP (%s)\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], a, desc);
						DCC_SendChannelMessageEx(DiscordChannel, msg);
					}
				}
				if(strlen(desc) && a > 0) SendClientMessageFormat(playerid, -1, "{6A8EE2}>> Additional Information:{FFFFFF} %s", desc);
			}
	        mysql_format(Base, delete, sizeof(delete), "DELETE FROM `paydays` WHERE `acc` = '%d'", Player[playerid][pAccountID]);
			mysql_tquery(Base, delete, "", "", "");
		}
		#endif
 	}
 	return 1;
}

fun CheckForUser(playerid)
{
    //SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][152], Name(playerid), playerid, IP, country);
    if(cache_num_rows() > 0)
 	{
		new salt[128],lists[3][24], attach[400], playerIP[16], kie[41];
		cache_get_value_name_int(0, "ID", Player[playerid][pAccountID]);
        cache_get_value_name_int(0, "Kills", Player[playerid][pKills]);
        cache_get_value_name_int(0, "pk", Player[playerid][pPlayerKills]);
        
        cache_get_value_name_int(0, "total_pk", Player[playerid][totalPlayersKilledInGW]);
        
        cache_get_value_name_int(0, "Cards", Player[playerid][pCardSet]);
        
        cache_get_value_name_int(0, "pkb", Player[playerid][pPlayerKillsBack]);
        cache_get_value_name_int(0, "Killstreak", Player[playerid][pKillstreakMax]);
        cache_get_value_name_float(0, "bal", Player[playerid][pBalance]);
        cache_get_value_name_int(0, "RoundWins", Player[playerid][RoundsWin]);
        cache_get_value_name_int(0, "DuelWins", Player[playerid][DuelsWin]);
        cache_get_value_name_int(0, "DuelLoses", Player[playerid][DuelsLose]);
        cache_get_value_name_int(0, "VIP", Player[playerid][pVip]);
        cache_get_value_name_int(0, "Admin", Player[playerid][pAdmin]);
        cache_get_value_name_int(0, "Rank", Player[playerid][pRank]);
        cache_get_value_name_int(0, "EXP", Player[playerid][pXP]);
        cache_get_value_name_int(0, "Clan", Player[playerid][pClan]);
        cache_get_value_name_int(0, "ClanRank", Player[playerid][pClanRank]);
        cache_get_value_name_int(0, "ClanWarns", Player[playerid][pClanWarns]);
        cache_get_value_name_int(0, "ref", Player[playerid][pRefID]);
        
        cache_get_value_name(0, "Password", salt, sizeof(salt));

        cache_get_value_name(0, "Email", Player[playerid][pEmail], 255);
        
        cache_get_value_name_int(0, "Language", Player[playerid][pLang]);
        cache_get_value_name_int(0, "settings", Player[playerid][pSettings]);
        cache_get_value_name_int(0, "gbnd", Player[playerid][GangBanned]);
        cache_get_value_name_int(0, "points", Player[playerid][pUpgPoints]);
        
        cache_get_value_name_int(0, "lastGangJoin", Player[playerid][pLastGangJoin]);
        
        cache_get_value_name(0, "kie", kie);
        cache_get_value_name(0, "Secret", Player[playerid][pSecret], 65);
        
        cache_get_value_name(0, "IP", playerIP);
        cache_get_value_name(0, "ZombieList", lists[0]);
        cache_get_value_name(0, "HumanList", lists[1]);

        cache_get_value_name_int(0, "VipTime", Player[playerid][pVipTime]);

        cache_get_value_name(0, "attachID", lists[2]);
        cache_get_value_name(0, "attachPos", attach);

		cache_get_value_name_int(0, "days", Player[playerid][e_Days]);
		cache_get_value_name_int(0, "plg", Player[playerid][e_PrevLogin]);
		
        sscanf(lists[2],"p<,>iiiiiiii", Player[playerid][pAttID][0], Player[playerid][pAttID][1], Player[playerid][pAttID][2], Player[playerid][pAttID][3], Player[playerid][pAttID][4], Player[playerid][pAttID][5], Player[playerid][pAttID][6], Player[playerid][pAttID][7]);
        sscanf(attach,"p<,>ffffffffffffffffffffffffffffffffffff",
		Player[playerid][pAttIDPos][0], Player[playerid][pAttIDPos][1],
		Player[playerid][pAttIDPos][2], Player[playerid][pAttIDPos][3],
		Player[playerid][pAttIDPos][4], Player[playerid][pAttIDPos][5],
		Player[playerid][pAttIDPos][6], Player[playerid][pAttIDPos][7],
		Player[playerid][pAttIDPos][8], Player[playerid][pAttIDPos][9],
		Player[playerid][pAttIDPos][10], Player[playerid][pAttIDPos][11],
		Player[playerid][pAttIDPos][12], Player[playerid][pAttIDPos][13],
		Player[playerid][pAttIDPos][14], Player[playerid][pAttIDPos][15],
		Player[playerid][pAttIDPos][16], Player[playerid][pAttIDPos][17],
		Player[playerid][pAttIDPos][18], Player[playerid][pAttIDPos][19],
		Player[playerid][pAttIDPos][20], Player[playerid][pAttIDPos][21],
		Player[playerid][pAttIDPos][22], Player[playerid][pAttIDPos][23],
		Player[playerid][pAttIDPos][24], Player[playerid][pAttIDPos][25],
		Player[playerid][pAttIDPos][26], Player[playerid][pAttIDPos][27],
		Player[playerid][pAttIDPos][28], Player[playerid][pAttIDPos][29],
		Player[playerid][pAttIDPos][30], Player[playerid][pAttIDPos][31],
		Player[playerid][pAttIDPos][32], Player[playerid][pAttIDPos][33],
		Player[playerid][pAttIDPos][34], Player[playerid][pAttIDPos][35]);

        sscanf(lists[0],"p<,>ii", Player[playerid][pZombieClassesUnlocked_0], Player[playerid][pZombieClassesUnlocked_1]);
        sscanf(lists[1],"p<,>ii", Player[playerid][pHumanClassesUnlocked_0], Player[playerid][pHumanClassesUnlocked_1]);
        strmid(Player[playerid][pPass], salt, false, 128, 128);
        strmid(Player[playerid][pIP], playerIP, false, 16, 16);
        
        strmid(Player[playerid][pGPCI], kie, false, 40, 41);
        
        new query[512];
        /*mysql_format(Base, query, sizeof(query), "SELECT * FROM `Achievements` WHERE `ID` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadAchievements", "i", playerid);

        mysql_format(Base, query, sizeof(query), "SELECT * FROM `pspec` WHERE `ID` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadSpeciality", "i", playerid);

		mysql_format(Base, query, sizeof(query), "SELECT * FROM `quest` WHERE `id` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadQuest", "i", playerid);*/

        mysql_format(Base, query, sizeof(query), "SELECT * FROM `invs` WHERE `id` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadInv", "i", playerid);
 		
		/*mysql_format(Base, query, sizeof(query), "SELECT * FROM `weaps` WHERE `id` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadWeapons", "i", playerid);*/
 		
 		new y, month, d;
 		getdate(y, month, d);
 		if( d == 1 )
 		{
            Player[playerid][AdminActivity][4] = 0;
 		    Player[playerid][AdminActivity][3] = 0;
		    Player[playerid][AdminActivity][2] = 0;
		    Player[playerid][AdminActivity][1] = 0;
		    Player[playerid][AdminActivity][0] = 0;
 		}
 		else
 		{
	 		mysql_format(Base, query, sizeof(query), "SELECT * FROM `aactivity` WHERE `id` = '%d' AND `month` = '%d'", Player[playerid][pAccountID], month);
	 		mysql_tquery(Base, query, "LoadAdminActivity", "i", playerid);
 		}
 		
 		/*mysql_format(Base, query, sizeof(query), "SELECT * FROM `pets` WHERE `id` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadPets", "i", playerid);
 		
 		mysql_format(Base, query, sizeof(query), "SELECT * FROM `event` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadDefender", "i", playerid);*/
		
		//mysql_format(Base, query, sizeof(query), "SELECT * FROM `class` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		//mysql_tquery(Base, query, "LoadClasses", "i", playerid);
		
		/*mysql_format(Base, query, sizeof(query), "SELECT * FROM `skills` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadSkills", "i", playerid);
		
		mysql_format(Base, query, sizeof(query), "SELECT * FROM `sharpening` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadWeaponUpgrades", "i", playerid);
		
		mysql_format(Base, query, sizeof(query), "SELECT * FROM `ptrophys` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadTrophys", "i", playerid);
 		
 		mysql_format(Base, query, sizeof(query), "SELECT * FROM `buffs` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadBuffs", "i", playerid);
 		
 		mysql_format(Base, query, sizeof(query), "SELECT * FROM `nghpr` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadDMissions", "i", playerid);
		
		mysql_format(Base, query, sizeof(query), "SELECT * FROM `timeout` WHERE `ID` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadTimeout", "i", playerid);*/
 		
        if(GetUnlockedSlot(Player[playerid][pSettings], 30) == 1 && (Player[playerid][pAdmin] <= 0 || Player[playerid][pAdmin] > 3)) SetUnlockedSlot(Player[playerid][pSettings], 30, 0);
        
        new str[200];
        
        new g[41];
		gpci(playerid, g, sizeof(g));
        if(strcmp(Player[playerid][pGPCI], g) && strlen(Player[playerid][pGPCI]) >= 1)
		{
		    #if debug_mode == 0
 			DiscordChannel = DCC_FindChannelById("614265642966843404");
			new m, h, i, s, ip[16];
			GetPlayerIp(playerid, ip, sizeof(ip));
  			TimestampToDate(gettime(), y, m, d, h, i, s, 3);
					  	
    		format(str, sizeof str, "%04d-%02d-%02d %02d:%02d:%02d Data Mismatch: %s(%d)  - (REG: %s | CUR: %s)", y, m, d, h, i, s, Player[playerid][UserName], Player[playerid][pAccountID], Player[playerid][pIP], ip);

            mysql_format(Base, query, sizeof(query), "INSERT INTO `security` (`acc`,`ip`,`date`,`reg`,`sign`,`type`) VALUES ('%d','%e','%d','%e','%e', '0')", Player[playerid][pAccountID], ip, gettime(), Player[playerid][pIP], g);
			mysql_tquery(Base, query, "", "", "");

			DCC_SendChannelMessageEx(DiscordChannel, str);
			#endif
		}
        
        if(GetPVarInt(playerid, "auto-log") == 0 || GetPVarInt(playerid, "auto-log") == 1 && GetUnlockedSlot(Player[playerid][pSettings], PS_AUTO_LOGIN) == 0)
		{
		    Registered{playerid} = true;
		    if(Player[playerid][pLang] == 1)
			{
				format(str, sizeof(str), ServerRegisters[Player[playerid][pLang]][8], 3);
                ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD, ServerRegisters[Player[playerid][pLang]][7], str, serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][5]);
			}
			else
			{
				format(str, sizeof(str), ServerRegisters[Player[playerid][pLang]][7], 3);
				ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD, ServerRegisters[Player[playerid][pLang]][6], str, serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][5]);
			}
        	RegisterTimer[playerid] = SetTimerEx("TooMuchTimeOfThinking", 120000, false, "i", playerid);
 		}
 		else
 		{
 		    Registered{playerid} = true;
 		    SendClientMessage(playerid, -1, "{FFF000}>> Auto-Login");
			Player[playerid][pLogged] = true;
			mysql_format(Base, query, sizeof(query), "SELECT * FROM `paydays` WHERE `acc` = '%d' AND `build`='"SERVER_BUILD"'", Player[playerid][pAccountID]);
			mysql_tquery(Base, query, "CheckForEXP", "i", playerid);
			mysql_format(Base, query, sizeof(query), "SELECT * FROM `userinfo` WHERE `id` = '%d'", Player[playerid][pAccountID]);
			mysql_tquery(Base, query, "CheckForRegs", "i", playerid);
			KillTimer(RegisterTimer[playerid]);
		 	playerOnline++;
		 	SignCreate(playerid);
		 	ShowEverydayReward(playerid);
 		}
	}
 	else
 	{
 	    Registered{playerid} = false;
 	   	RegisterTimer[playerid] = SetTimerEx("TooMuchTimeOfThinking", 300000, false, "i", playerid);
 	   	
 	   	ShowPlayerDialog(playerid, DIALOG_REGISTER_LANGUAGE, DIALOG_STYLE_LIST, "{FF0000}Language - Язык - Idioma", "{FF0000}English (LATEST STANDARD & UPDATE)\n{FFFFFF}Русский\n{FFFFFF}Spanish", "Select", "Close");
 	   	
		foreach(Player, i)
		{
		    switch(Player[i][pLang])
		    {
				case 0: SendClientMessageFormat(i, -1, "Welcome the new player to our server{e65c00} %s (ID %d)!", Player[playerid][UserName], playerid);
		        case 1: SendClientMessageFormat(i, -1, "Приветствуем нового игрока на нашем сервере{e65c00} %s (ИД %d)!", Player[playerid][UserName], playerid);
		        case 2: SendClientMessageFormat(i, -1, "Bienvenido al nuevo jugador a nuestro servidor{e65c00} %s (ID %d)!", Player[playerid][UserName], playerid);
			}
		}
	}
}

fun CheckForPlayerExists(playerid)
{
	new query[128]; // Important?
	mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `Name` = '%e' AND `build` = '%e'", Player[playerid][UserName], SERVER_BUILD);
	mysql_tquery(Base, query, "CheckForUser", "i", playerid);
	return 1;
}

fun OnPlayerDisconnect(playerid, reason)
{
	/////////////////////////////////////// EVENT //////////////////////////////
    /*DestroyVehicle(EventTank[playerid]);
    DestroyVehicle(CurTankID[playerid]);
    EventTank[playerid] = -1;
	CurTankID[playerid] = -1;
 	CurTankTextID[playerid] = -1;
 	WarTankSelected[playerid] = 0;
  	WarPlayerTeam[playerid] = -1;
  	UserTankInWarState[playerid] = -1;
    removefromTankevent(playerid);
    DestroyVehicle(CurTankID[playerid]);
    EventWaitForBeCounted[playerid] = 0;
    TK_CanDisplayEvent[playerid] = 1;*/
    /////////////////////////////////////// ////////////////////////////////
    
    if(reason == 0) SaveTimeout(playerid);
    
    DeattachSpider(playerid);
    
    RemoveCheater(playerid);
    
    Iter_Remove(Players, playerid);
    if(War[wi_GangWarIsStarted] && War[wi_GlobalWarIsStarted])
	{
	    if(strlen(Clan[War[wi_TeamsInBattle][0]][Full]) >= 1 && strlen(Clan[War[wi_TeamsInBattle][1]][Full]) >= 1)
		{
		    if(War[wi_TeamsInBattle][0] == Player[playerid][pClan] || War[wi_TeamsInBattle][1] == Player[playerid][pClan])
		    {
		        if(War[wi_TeamsInBattle][0] == Player[playerid][pClan]) War[wi_Members][0]--;
		        if(War[wi_TeamsInBattle][1] == Player[playerid][pClan]) War[wi_Members][1]--;

		        if(War[wi_Members][0] <= 0)
		        {
		            Clan[War[wi_TeamsInBattle][1]][g_TempWins]++;
		           	Clan[War[wi_TeamsInBattle][0]][g_TempLoses]++;
		            SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
					SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
					SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
					GameTextForAll("~w~15", 1000, 5);
					new p;

					foreach(Player, i)
					{
					    if(InWarDuel{i} && !KilledInWar{i})
					    {
							p = random(sizeof(rnd_mhs));
							SetPlayerPosAC(i, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
					        SetPlayerFacingAngle(i, rnd_mhs[p][3]);
					        AttachGangName(i);
					        SetPlayerWeather(i, 0);
					        SetPlayerTime(i, 12, 0);
					        ResetWeapons(i);
					        SetPlayerHealthAC(i, 100.0);
					        SetPlayerArmourAC(i, 0.0);
					        SetPlayerColor(i, 0xFFFFFFFF);
					        InWarDuel{i} = false;
					        SetPlayerTeamEx(i, 12);
						}
					}
		        }

		        if(War[wi_Members][1] <= 0)
		        {
		            Clan[War[wi_TeamsInBattle][0]][g_TempWins]++;
		           	Clan[War[wi_TeamsInBattle][1]][g_TempLoses]++;
		            SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
					SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
					SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
					GameTextForAll("~w~15", 1000, 5);
					new p;

					foreach(Player, i)
					{
					    if(InWarDuel{i} && !KilledInWar{i})
					    {
							p = random(sizeof(rnd_mhs));
							SetPlayerPosAC(i, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
					        SetPlayerFacingAngle(i, rnd_mhs[p][3]);
					        AttachGangName(i);
					        SetPlayerWeather(i, 0);
					        SetPlayerTime(i, 12, 0);
					        ResetWeapons(i);
					        SetPlayerHealthAC(i, 100.0);
					        SetPlayerArmourAC(i, 0.0);
					        SetPlayerColor(i, 0xFFFFFFFF);
					        InWarDuel{i} = false;
					        SetPlayerTeamEx(i, 12);
						}
					}
		        }
		    }
	    }
    }
    
    GetPlayerIp(playerid, gIP[playerid], 16);
    gTime[playerid] = GetTickCount();
    
    if(!AdminOnline() && !AntiCheatAlertMode)
    {
        SendClientMessageToAll(-1, "{FF0077}>> Anti-cheat went into high alert mode.");
        AntiCheatAlertMode = true;
        reportsCount = 0;
    }
    
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("612998988609880076");
    
    if(IsBanned{playerid})
    {
        new msg[128], y, m, d, h, i, s;
		TimestampToDate(gettime(), y, m, d, h, i, s, 3);
    	format(msg, sizeof msg, "%04d-%02d-%02d %02d:%02d %s has left the server. (Banned)", y, m, d, h, i, Player[playerid][UserName]);
    	DCC_SendChannelMessageEx(DiscordChannel, msg);
    }
    else
    {
	    new msg[128], y, m, d, h, i, s;
	    TimestampToDate(gettime(), y, m, d, h, i, s, 3);
	    format(msg, sizeof msg, "%04d-%02d-%02d %02d:%02d %s has left the server. (%s)",  y, m, d, h, i, Player[playerid][UserName], serverLang[0][9 + reason]);
	    DCC_SendChannelMessageEx(DiscordChannel, msg);
    }
    #endif
    
    if(Player[playerid][pLogged]) playerOnline--;
    IsOnRegister[playerid] = false;
    
    DeletePVar(playerid, "Slide");
    DeletePVar(playerid,"flood");
    DeletePVar(playerid,"bunnyhop");
    DeletePVar(playerid,"cmdflood");
    
	foreach(Player, i)
	{
		SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][12], Player[playerid][UserName], serverLang[Player[i][pLang]][9 + reason]);
        Player[playerid][pIgnore][i] = false;
	}
	
	if(kick_player[playerid] == true)
 	{
 		foreach(Player, i) SendClientMessage(i,-1,serverLang[Player[i][pLang]][76]);
 	    votekick = false;
		voites = 0;
		kick_player[playerid] = false;
	}
	
	if(IsPlayerOnDuel[playerid])
	{
	    if(reason == 1)
	    {
		    CanUseCBugTime[playerid] = (gettime() + 20);
		    CanUseCBugTime[DuelerID[playerid]] = (gettime() + 20);

		    if(DuelEXP[DuelerID[playerid]] <= 0)
		    {
			    foreach(Player, i)
				{
				    switch(Player[i][pLang])
				    {
						case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
						case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
						case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
					}
				}
			}
			else
			{
			    if(Player[playerid][pXP] >= DuelEXP[playerid] && CanPay)
			    {
			        Player[playerid][pXP] -= DuelEXP[playerid];
			        Player[DuelerID[playerid]][pXP] += (DuelEXP[DuelerID[playerid]] - floor(DuelEXP[DuelerID[playerid]]*TAXES));

					foreach(Player, i)
					{
					    switch(Player[i][pLang])
					    {
							case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s and got %d EXP!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[playerid]] - floor(DuelEXP[DuelerID[playerid]]*TAXES));
							case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s и получил %d ОПЫТА!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[playerid]] - floor(DuelEXP[DuelerID[playerid]]*TAXES));
							case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s y obtuve %d EXP!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[playerid]] - floor(DuelEXP[DuelerID[playerid]]*TAXES));
						}
					}
				}
				else
				{
				    foreach(Player, i)
					{
					    switch(Player[i][pLang])
					    {
							case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
							case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
							case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
						}
					}
				}
			}
	    }
	    else
	    {
		    foreach(Player, i)
			{
			    switch(Player[i][pLang])
			    {
					case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
					case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
					case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
				}
			}
		}
		
		DuelReceived[DuelerID[playerid]] = false;

		DuelEXP[DuelerID[playerid]] = 0;
		DuelRules[0][DuelerID[playerid]] = 0;
		DuelRules[1][DuelerID[playerid]] = 0;

		DuelerID[DuelerID[playerid]] = -1;
		IsPlayerOnDuel[DuelerID[playerid]] = false;
		SetPlayerTeamEx(DuelerID[playerid], TEAM_ZOMBIE);
		
		Player[DuelerID[playerid]][DuelsWin]++;
		
		CheckForChaosChestOpen(DuelerID[playerid], chaos_WIN_20_DUELS);
		
		new wid = DuelerID[playerid];
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
		    if(NightEvent[evn_Mission][j] == ev_JAILER && e_ExclusionZone[wid][e_ezMission][j] <= 19)
		    {
		        ++e_ExclusionZone[wid][e_ezMission][j];
		        if(e_ExclusionZone[wid][e_ezMission][j] >= 20) ev_CompleteToNext(wid, ev_JAILER);
				break;
		    }
		}
		
		Player[playerid][DuelsLose]++;
		
		if(Player[DuelerID[playerid]][DuelsWin] == 10) UnlockAchievement(DuelerID[playerid], 27, 10);
		if(Player[DuelerID[playerid]][DuelsWin] == 100) UnlockAchievement(DuelerID[playerid], 28, 500);
		if(Player[DuelerID[playerid]][DuelsWin] == 500) UnlockAchievement(DuelerID[playerid], 29, 2000);
		
        SetSpawnInfo(DuelerID[playerid],TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		SpawnPlayer(DuelerID[playerid]);

		DuelReceived[playerid] = false;
		DuelerID[playerid] = -1;
		IsPlayerOnDuel[playerid] = false;
	}
	
	if(IsBeingSpeced[playerid])
    {
        foreach(Player,i)
        {
            if(spectatorid[i] == playerid && Player[i][pAdmin] > 0)
            {
                GameTextForPlayer(i,"~r~~n~Player is disconnected",2000,6);
                TogglePlayerSpectating(i, false);
            }
        }
    }
    
    foreach(Player,i)
    {
	    for( new j; j < 2; j++ )
	   	{
	   		if(NewSpawnPoints[j][0] != 0.0 && NewSpawnsCreators[j] == i)
			{
		 		NewSpawnsCreators[j] = INVALID_PLAYER_ID;
		 		Delete3DTextLabel(NewSpawnPointsText[j]);
		 		NewSpawnPoints[j][0] = 0.0;
			}
		}
	}
    
    /*if(GetTeamPlayersAlive(TEAM_HUMAN) >= 1 && Time <= 0)
	{
	    new count;
		foreach(Player, i)
		{
		    if(GetPlayerTeamEx(i) == TEAM_HUMAN && GetPlayerColor(i) == COLOR_EVACUATED)
			{
				count ++;
		    }
		}
		if(count >= GetTeamPlayersAlive(TEAM_HUMAN) && !MapStarted)
		{
		    KillTimer(mapvar[0]);
			KillTimer(mapvar[1]);
		    foreach(Player, i) SendClientMessage(i,-1, serverLang[Player[i][pLang]][39]);
			if(MapCanEnd) { SetTimer("EndMap", MAX_RESTART_TIME, false); MapCanEnd = false; }
			MapStarted = true;
		}
	}*/
	
	SaveUserData(playerid);
    Player[playerid][pLogged] = false;

    resetVars(playerid);
    for( new j; j < 18; j++ )
    {
	    if(IsValidObject(box[playerid][j]))
	    {
	    	DestroyObject(box[playerid][j]);
      		Delete3DTextLabel(boxText[playerid][j]);
      		box[playerid][j] = INVALID_OBJECT_ID;
		}
		box[playerid][j] = INVALID_OBJECT_ID;
	}
	
	if(IsValidObject(Portals[playerid]))
	{
	    DestroyObject(Portals[playerid]);
   		Delete3DTextLabel(PortalsText[playerid]);
   		Portals[playerid] = INVALID_OBJECT_ID;
	}
	
	if(reconnect[playerid])
	{
	    new unbanningip[16], string[128];
	    GetPVarString(playerid, "reconnect", unbanningip, 16);
	    format(string,sizeof(string),"unbanip %s", unbanningip);
    	SendRconCommand(string);
    	SendRconCommand("reloadbans");
    	reconnect[playerid] = false;
	}
	
	SortKillstreakList();
	DeleteFromKillstreakList(playerid);
	return 1;
}

fun OnPlayerDeath(playerid, killerid, reason)
{
    if(!IsPlayerConnected(playerid)) return 0;
    SetPlayerGravity(playerid, 0.008);
    GravityReset[playerid] = false;
    IsInCoffin[playerid] = false;
    TormentTime[playerid] = 0;
    ARDestructionTime[playerid] = 0;
	/*if(UserTankInWarState[playerid] >= 2)
	{
		removefromTankevent(playerid);
		//SendClientMessage(playerid, -1, "Death::Player");
	}*/
    for( new i = 0; i < MAX_PLAYERS; i++ ) HeadshotsInCount[playerid][i] = 0;
    KillTimer(Player[playerid][InfectedTimer]);
   	KillTimer(Player[playerid][PoisionTimer]);
   	KillTimer(Player[playerid][BleedingTimer]);
   	Player[playerid][hasBleedEffect] = false;
   	
    //SuspectForAIM[playerid] = false;
    
    if(KilledBy[playerid] != INVALID_PLAYER_ID && IsPlayerDeadByWarMember[playerid] == INVALID_PLAYER_ID)
	{
		killerid = KilledBy[playerid];
        reason = KilledByWeapon[playerid];
	}
	
	KilledBy[playerid] = INVALID_PLAYER_ID;
    KilledByWeapon[playerid] = 0;
    
    if(!IsPlayerConnected(killerid)) killerid = INVALID_PLAYER_ID;
    
   	switch(reason)
	{
	    case WEAPON_PARACHUTE: reason = WEAPON_COLLISION;
	    case WEAPON_CARPARK: reason = WEAPON_VEHICLE;
	    case WEAPON_PISTOLWHIP: reason = WEAPON_UNARMED;
	    case WEAPON_VEHICLE_M4: reason = WEAPON_M4;
        case WEAPON_VEHICLE_MINIGUN: reason = WEAPON_MINIGUN;
    }
	if(reason < 0 && reason >= WEAPON_UNKNOWN) reason = WEAPON_DROWN;
	
	if(IsPlayerDeadByWarMember[playerid] == INVALID_PLAYER_ID) SendDeathMessage(killerid, playerid, reason);

	AntiCheat[playerid][ac_OldHP] = 0.0;
    AntiCheat[playerid][ex_OldHP] = 0.0;
    AntiCheat[playerid][weap_OldHP] = -100.0;
    
	////////////////////////////////////////////////////////////////////////
    
    DeattachSpider(playerid);
    
	if(killerid == INVALID_PLAYER_ID)
	{
	    if(IsPlayerOnDuel[playerid]) DeathInDuel(playerid);
	    else
	    {
    		CreatePetItem(playerid, killerid);
    		
		    IsPlayerDeadByWarMember[playerid] = INVALID_PLAYER_ID;

		    resetPlayerOnDeath(playerid, killerid); // Resets on Death
	    	resetPlayerOnDeathFromEvent(playerid); // Resets On Event
	    	resetAntis(playerid); // Reset Antis
	    	setupZombie(playerid);
	    }
	    
	    AFK[playerid] = -5;
	    
	    return 1;
	}

	if(reason >= 0 && reason <= 42)
	{
	    #if debug_mode == 0
		DiscordChannel = DCC_FindChannelById("612998988609880076");
    	new msg[128], gunname[32];
    	GetWeaponName(reason, gunname, sizeof(gunname));

        if(strlen(gunname) >= 2)
        {
			new query[900], serial[41];
			gpci(playerid, serial, sizeof(serial));

			mysql_format(Base, query, sizeof(query), "INSERT INTO `pactions` (`acc`,`type`,`date`,`text`,`sign`,`reg_sign`,`ip`) VALUES ('%d','1','%d','%e','%e', '%e', '%e')", Player[playerid][pAccountID], gettime(), gunname, serial, Player[playerid][pGPCI], Player[playerid][pIP]);
			mysql_tquery(Base, query, "", "", "");

		    gpci(killerid, serial, sizeof(serial));
			mysql_format(Base, query, sizeof(query), "INSERT INTO `pactions` (`acc`,`type`,`date`,`text`,`sign`,`reg_sign`,`ip`) VALUES ('%d','3','%d','%e','%e', '%e', '%e')", Player[killerid][pAccountID], gettime(), gunname, serial, Player[killerid][pGPCI], Player[killerid][pIP]);
			mysql_tquery(Base, query, "", "", "");

			new y, m, d, h, i, s;
			TimestampToDate(gettime(), y, m, d, h, i, s, 3);
	    	format(msg, sizeof msg, "%04d-%02d-%02d %02d:%02d %s been killed by %s (%s)", y, m, d, h, i, Player[playerid][UserName], Player[killerid][UserName], gunname);
	    	DCC_SendChannelMessageEx(DiscordChannel, msg);
		}
		#endif
	}
	
 	if(IsPlayerConnected(killerid))
    {
		if(GetPlayerTeamEx(killerid) == TEAM_ZOMBIE && HumanHumanBoss[playerid])
	    {
			GivePlayerXP(killerid, 20);

			if(Achievements[killerid][TimeVictim] <= 0)
		    {
		        Achievements[killerid][TimeVictim] = 1;
		        UnlockAchievement(killerid, 75, 100);
		    }

		    for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
			{
			    if(NightEvent[evn_Mission][j] == ev_HUNTER && e_ExclusionZone[killerid][e_ezMission][j] <= 9)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][j];
			        if(e_ExclusionZone[killerid][e_ezMission][j] >= 10) ev_CompleteToNext(killerid, ev_HUNTER);
					break;
			    }
			}

			if(!DayMission[killerid][dm_done]) if(DayMission[killerid][dm_objective_index] == 3 && DayMission[killerid][dm_progress] < DayMission[killerid][dm_counter] && DayMission[killerid][dm_classID] == Player[killerid][pClass][TEAM_ZOMBIE+1]) DayMission[killerid][dm_progress]++;
			foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][186], Player[killerid][UserName], Player[playerid][UserName]);
		}

		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && HumanZombieBoss[playerid])
	    {
	        #if debug_mode == 0
			new __action[256], y, m, d, h, s, o;
			TimestampToDate(gettime(), y, m, d, h, o, s, 3);
			DiscordChannel = DCC_FindChannelById("727667573654683758");
	        format(__action, sizeof(__action), "%d-%02d-%02d %02d:%02d (Zombie Boss) %s[%d] been killed by (Human) %s[%d]", y, m, d, h, o, Player[playerid][UserName], Player[playerid][pAccountID], Player[killerid][UserName], Player[killerid][pAccountID]);
			DCC_SendChannelMessageEx(DiscordChannel, __action);
			#endif

			GivePlayerXP(killerid, 20);
	        CheckForChaosChestOpen(killerid, chaos_KILL_ZOMBIEBOSS_5);

			for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
			{
			    if(NightEvent[evn_Mission][j] == ev_ELIMINATOR && e_ExclusionZone[killerid][e_ezMission][j] <= 9)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][j];
			        if(e_ExclusionZone[killerid][e_ezMission][j] >= 10) ev_CompleteToNext(killerid, ev_ELIMINATOR);
					break;
			    }
			}

			if(!DayMission[killerid][dm_done]) if(DayMission[killerid][dm_objective_index] == 3 && DayMission[killerid][dm_progress] < DayMission[killerid][dm_counter] && DayMission[killerid][dm_classID] == Player[killerid][pClass][TEAM_HUMAN]) DayMission[killerid][dm_progress]++;
			foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][167], Player[killerid][UserName], Player[playerid][UserName]);
		}
	}
	
	resetPlayerOnDeath(playerid, killerid); // Resets on Death
    resetPlayerOnDeathFromEvent(playerid); // Resets On Event
    resetAntis(playerid); // Reset Antis
    //if(IsPlayerConnected(killerid)) AimSystemChecks(playerid, killerid); // Check for AIM
    
    if(IsPlayerConnected(killerid))
    {
        if(SuspectForAIM[killerid] && reason > 22)
        {
			foreach(Player, i)
			{
			    if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}[AIM-CHECKER]: %s(%d) killed {FFFFFF}%s{6A8EE2} with %d headshots!", Player[killerid][UserName], killerid, Player[playerid][UserName], HeadshotsInCount[killerid][playerid]);
			}
        }
        
        DeattachSpider(killerid);
        HeadshotsInCount[killerid][playerid] = 0;
        
        new current_tick = GetTickCount(), interval = GetTickDiff(current_tick, FakekillData[playerid][LastDeathTime]);
    	if(interval < FAKEKILL_DELAY)
        {
            FakekillData[playerid][DeathCount]++;
            if(FakekillData[playerid][DeathCount] == FAKEKILL_LIMIT)
            {
                IsBanned{playerid} = true;
                BanPlayer(playerid, "Fake Kill");
                FakekillData[playerid][DeathCount] = 0;
            }
            printf("Fake Kill");
            return 0;
        }
        else FakekillData[playerid][DeathCount] = 1;
        FakekillData[playerid][LastDeathTime] = GetTickCount();
        
        /***********************************************************************/
        
        if(!PlayerShotPlayer[killerid][playerid])
		{
		    Suspecting[playerid]++;
			if(Suspecting[playerid] >= 5)
	  		{
	  		    IsBanned{playerid} = true;
			  	BanPlayer(playerid, "Fake Kill");
			}
			PlayerShotPlayer[killerid][playerid] = false;
   			printf("Not Shot A Player");
			return 0;
		}
		
		if(IsPlayerOnDuel[playerid])
		{
			DeathInDuel(playerid);
			setupZombie(playerid);
			return 1;
		}
		
		if(IsPlayerOnDuel[killerid])
		{
			DeathDuelWin(playerid, killerid);
			setupZombie(killerid);
			return 1;
		}
		
		if(War[wi_GlobalWarIsStarted] && (War[wi_TeamsInBattle][0] == Player[playerid][pClan] || War[wi_TeamsInBattle][1] == Player[playerid][pClan]))
		{
			DeathInWar(playerid, killerid);
			return 1;
		}
		
		//////////////////////////////////// KILLS /////////////////////////////
		
		if(!FirstBlood)
	    {
	        if(GetPlayerTeamEx(playerid) == TEAM_HUMAN || GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	        {
		        foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][40], Player[killerid][UserName]);
				FirstBlood = true;
				GivePlayerXP(killerid, 10);
	    	}
		}

		if(gettime() < VipBuffs[killerid][vb_IKS][1]) ++Player[killerid][pKills];

        ++Player[killerid][pKills];
		RankUp(killerid);
		
		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN)
		{
			Player[killerid][Killstreak]++;
			UpdateKillstreaksList(killerid);
		}
		
		UpdateKillstreaksList(playerid);
		
		if(Player[killerid][Killstreak] == 100)
		{
		    for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
			    if(NightEvent[evn_Mission][i] == ev_HOLDYOURBREATH && e_ExclusionZone[killerid][e_ezMission][i] <= 0)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][i];
			        if(e_ExclusionZone[killerid][e_ezMission][i] == 1) ev_CompleteToNext(killerid, ev_HOLDYOURBREATH);
					break;
			    }
			}
		}
		
		if(Player[killerid][Killstreak] == 50) CheckForChaosChestOpen(killerid, chaos_KILLSTREAK_50);
		
		if((Player[killerid][Killstreak] % 5 == 0) && GetPlayerTeamEx(killerid) == TEAM_HUMAN && Player[killerid][Killstreak] >= 1)
		{
	    	foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][28], Player[killerid][UserName], Player[killerid][Killstreak], Player[killerid][Killstreak]);
			Player[killerid][pXP] += Player[killerid][Killstreak];

			if(Achievements[killerid][eKillstreaks] <= 4 && Player[killerid][Killstreak] == 5) { UnlockAchievement(killerid, 21, 10); Achievements[killerid][eKillstreaks] = 5; }
			if(Achievements[killerid][eKillstreaks] <= 49 && Player[killerid][Killstreak] == 50) { UnlockAchievement(killerid, 22, 4000); Achievements[killerid][eKillstreaks] = 50; }
			if(Achievements[killerid][eKillstreaks] <= 99 && Player[killerid][Killstreak] == 100) { UnlockAchievement(killerid, 23, 10000); Achievements[killerid][eKillstreaks] = 100; }
		}
		
		if(Player[killerid][pClan] > 0) Clan[Player[killerid][pClan]][EXP]+=(1*Map[m_XPType]);
		
		if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && GetPlayerTeamEx(killerid) == TEAM_HUMAN)
		{
			new st[32];
		    foreach(Player, i)
		    {
		        if(Player[i][CheckForProtect] == playerid) Player[i][CheckForProtect] = INVALID_PLAYER_ID;
	     		if(PlayerShotPlayer[i][playerid] && i != killerid && GetPlayerTeamEx(i) == TEAM_HUMAN)
	     		{
     		    	GivePlayerXP(i, 2 * Map[m_XPType] + GivePetGradeXP(i, 2 * Map[m_XPType]));
     		    	switch(Player[i][pLang])
					{
					    case 0: format(st, 32, "~w~ASSIST:~n~~w~+_%d_]", 2 * Map[m_XPType]);
						case 1: format(st, 32, RusToGame("~w~ПОМОЩЬ:~n~~w~+_%d_]"), 2 * Map[m_XPType]);
						case 2: format(st, 32, "~w~AYUDAR:~n~~w~+_%d_]", 2 * Map[m_XPType]);
					}
     		    	GameTextForPlayer(i, st, 2000, 5);
     		    	PlayerDamageChecker[i][DamageGiven] = 0.0;
     		    	PlayerDamageChecker[i][p_ID] = -1;
				}
				PlayerShotPlayer[i][playerid] = false;
		    }
		}
		
		new Float:multipler = 1.0;
		if(Player[killerid][pVip] == 1) multipler += 0.2;
		if(Player[killerid][pVip] == 2) multipler += 0.5;
		if(Player[killerid][pVip] == 3) multipler += 1.0;
		if(GetPlayerTeamEx(killerid) == TEAM_ZOMBIE) multipler += 1.0;
		
		if(Map[m_XPType] >= 2)
		{
		    switch(Player[killerid][pVip])
		    {
		        case 1: multipler += 1.2;
		        case 2: multipler += 1.5;
		        case 3: multipler += 2.0;
		        default: multipler += 1.0;
		    }
		}

		new x = floor(10*multipler);
		GivePlayerXP(killerid, x);
		
		////////////////////////////// FISTS ///////////////////////////////
		
		if(reason == 0)
	    {
	        new j, bool:f = false;
		    for( j = 0; j < sizeof(Map[ZombieSpawnX]); j++ )
			{
     			if(IsPlayerInRangeOfPoint(playerid, 5.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j]))
     			{
     			    SetPlayerHealthAC(killerid, 0.0);
     			    ShowDamageTaken(killerid, 100.0);
     			    f = true;
				}
			}
			if(!f && Achievements[killerid][IronFist] <= 301)
			{
			    Achievements[killerid][IronFist]++;
			    if(Achievements[killerid][IronFist] == 300) UnlockAchievement(killerid, 70, 5000);
			}
		}
		
		//////////////////////////////// FANTOM ///////////////////////////////
		
		if(MyFantom[playerid] > -1)
		{
            new eid = MyFantomCreatedBy[playerid];
			if(eid > -1)
			{
				SetPlayerInterior(eid, Map[m_Interior]);
				SetPlayerVirtualWorld(eid, Map[m_World]);
			 	SetPlayerPosAC(eid, Map[ZombieSpawnX][0], Map[ZombieSpawnY][0], Map[ZombieSpawnZ][0]);
				SetPlayerWeather(eid, Map[m_Weather]);
				SetPlayerTime(eid, Map[m_Time], 0);

				DestroyActor(MyFantom[playerid]);
				MyFantomCreatedBy[playerid] = -1;
				MyFantom[playerid] = -1;
				Delete3DTextLabel(FantomHelp[playerid]);
				
				SetPlayerDrunkLevel(playerid, 0);
				SetPlayerDrunkLevel(eid, 0);
				SetPlayerWeather(playerid, Map[m_Weather]);
				SetPlayerTime(playerid, Map[m_Time], 0);
			}
		}
		
		if(!DayMission[killerid][dm_done])
		{
		    if(DayMission[killerid][dm_progress] < DayMission[killerid][dm_counter])
		    {
		    	switch(DayliMission[killerid])
				{
					case 0: if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && GetPlayerTeamEx(killerid) == TEAM_HUMAN) ++DayMission[killerid][dm_progress];
					case 1: if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && GetPlayerTeamEx(killerid) == TEAM_ZOMBIE) ++DayMission[killerid][dm_progress];
                    case 5: if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && GetPlayerTeamEx(killerid) == TEAM_ZOMBIE && DayMission[killerid][dm_wType] == reason) ++DayMission[killerid][dm_progress];
                    case 8: if(Player[killerid][Killstreak] == DayMission[killerid][dm_counter]) ++DayMission[killerid][dm_progress];
				}
			}
		}
		
		//////////////////////////// DAILY MISSION(S) //////////////////////////

		// Evacuate 20 times as human (easy) - 2
  		
		// Pickup 25 meats (normal) - 6
		// Use any abilities 100 times (normal) - 7

		// Evacuate 15 times in a row (hard)
		// Pickup 5 items (hard)
		// Evacuate with no ammo 25 times (hard) - 11

		///////////////////////// ACHIEVEMENT (S) ///////////////////////////////
		
		if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && GetPlayerTeamEx(killerid) == TEAM_HUMAN && Achievements[killerid][CuttingTheBrink] <= 0)
		{
		    if(Achievements[killerid][ctg_time][0] == 0 || gettime() > Achievements[killerid][ctg_time][0])
			{
				Achievements[killerid][ctg_time][0] = gettime() + 5;
		    	Achievements[killerid][ctg_time][1] = 1;
			}
			else Achievements[killerid][ctg_time][1]++;

		    if(gettime() < Achievements[killerid][ctg_time][0] && Achievements[killerid][ctg_time][1] >= 3)
		    {
	    		Achievements[killerid][CuttingTheBrink] = 1;
	    		UnlockAchievement(killerid, 74, 2000);
			}
	    }
    
        if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Achievements[killerid][HumansKilled] <= 999)
		{
		    ++Achievements[killerid][HumansKilled];
			if(Achievements[killerid][HumansKilled] == 10) UnlockAchievement(killerid, 11, 20);
			if(Achievements[killerid][HumansKilled] == 100) UnlockAchievement(killerid, 12, 300);
			if(Achievements[killerid][HumansKilled] == 1000) UnlockAchievement(killerid, 13, 2000);
		}
		
		if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
		{
			if(Achievements[killerid][ZombiesKilled] <= 999)
			{
				++Achievements[killerid][ZombiesKilled];
	            if(Achievements[killerid][ZombiesKilled] == 10) UnlockAchievement(killerid, 14, 20);
				if(Achievements[killerid][ZombiesKilled] == 100) UnlockAchievement(killerid, 15, 300);
				if(Achievements[killerid][ZombiesKilled] == 1000) UnlockAchievement(killerid, 16, 2000);
			}

			if(Achievements[playerid][Deaths] <= 999)
			{
			    ++Achievements[playerid][Deaths];
	            if(Achievements[playerid][Deaths] == 10) UnlockAchievement(playerid, 31, 10);
				if(Achievements[playerid][Deaths] == 100) UnlockAchievement(playerid, 32, 100);
				if(Achievements[playerid][Deaths] == 1000) UnlockAchievement(playerid, 33, 1000);
			}
		}
    	/////////////////////////////////////////// ZOMBIES ABILITIES /////////////
    
		boomersOnDeath(playerid);
		
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == FLESHERZOMBIE)
	    {
	        new Float:pos[3];
	        if(infectedMeat[playerid] > -1) DestroyPickupEx(infectedMeat[playerid], true);
       	 	GetPlayerPos(playerid, Player[playerid][FlesherPos][0], Player[playerid][FlesherPos][1], Player[playerid][FlesherPos][2]);
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	    	infectedMeat[playerid] = CreatePickupEx(2804, 19, pos[0], pos[1], pos[2], 0);
			meatDropsID[infectedMeat[playerid]] = 2804;
	    }
		
		///////////////////////////////////////// CHAOS ////////////////////////////

		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) CheckForChaosChestOpen(killerid, chaos_KILL_150_ZOMBIES);
		if(GetPlayerTeamEx(killerid) == TEAM_ZOMBIE && GetPlayerTeamEx(playerid) == TEAM_HUMAN) CheckForChaosChestOpen(killerid, chaos_KILL_75_HUMANS);
		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && reason == 25) CheckForChaosChestOpen(killerid, chaos_KILL_50_BYSHOTGUN);
		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && reason == 29) CheckForChaosChestOpen(killerid, chaos_KILL_50_BYMP5);
		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && reason == 34) CheckForChaosChestOpen(killerid, chaos_KILL_50_BYSNIPER);
		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && reason == 0) CheckForChaosChestOpen(killerid, chaos_KILL_50_BYFISTS);
		CheckForChaosChestOpen(killerid, chaos_KILL_75_PLAYERS);
	    CheckForChaosChestOpen(playerid, chaos_DIE_200);

		/////////////////////////////////////// NIGHT //////////////////////////////
		
		if(GetPlayerTeamEx(killerid) == TEAM_ZOMBIE && lastHuman[playerid] && !LastHumanKilled)
	    {
	        foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][41], Player[killerid][UserName]);
			GivePlayerXP(killerid, 10);
			LastHumanKilled = true;

			for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
			{
			    if(NightEvent[evn_Mission][j] == ev_SABOTEUR && e_ExclusionZone[killerid][e_ezMission][j] <= 9)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][j];
			        if(e_ExclusionZone[killerid][e_ezMission][j] >= 10) ev_CompleteToNext(killerid, ev_SABOTEUR);
					break;
			    }
			}
		}
		
		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
		{
            if(!DayMission[killerid][dm_done]) if(DayMission[killerid][dm_objective_index] == 5 && DayMission[killerid][dm_progress] < DayMission[killerid][dm_counter] && DayMission[killerid][dm_wType] == reason) DayMission[killerid][dm_progress]++;
		}

		if(Player[playerid][AbilityAffectedID] != INVALID_PLAYER_ID)
		{
		    new provoked = Player[playerid][AbilityAffectedID];
		    for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_DOMINION && e_ExclusionZone[provoked][e_ezMission][i] <= 99)
			    {
			        ++e_ExclusionZone[provoked][e_ezMission][i];
			        if(e_ExclusionZone[provoked][e_ezMission][i] == 100) ev_CompleteToNext(provoked, ev_DOMINION);
					break;
			    }
			}
			Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
		}

	    for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
		{
			if(NightEvent[evn_Mission][i] == ev_CONTROLSHOT && e_ExclusionZone[killerid][e_ezMission][i] <= 499)
		    {
		        ++e_ExclusionZone[killerid][e_ezMission][i];
		        if(e_ExclusionZone[killerid][e_ezMission][i] == 500) ev_CompleteToNext(killerid, ev_CONTROLSHOT);
				break;
		    }
		}

		if(IsPlayerConnected(IsPlayerDeadByWarMember[playerid]))
		{
		    new kid = IsPlayerDeadByWarMember[playerid];

		    for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
			    if(NightEvent[evn_Mission][i] == ev_NIGHTMARE && e_ExclusionZone[kid][e_ezMission][i] <= 9)
			    {
			        ++e_ExclusionZone[kid][e_ezMission][i];
			        if(e_ExclusionZone[kid][e_ezMission][i] == 10) ev_CompleteToNext(kid, ev_NIGHTMARE);
					break;
			    }
			}
		}

		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && reason == 41)
		{
			for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_GRAFFITI && e_ExclusionZone[killerid][e_ezMission][i] <= 49)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][i];
			        if(e_ExclusionZone[killerid][e_ezMission][i] == 50) ev_CompleteToNext(killerid, ev_GRAFFITI);
					break;
			    }
			}
		}

		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[killerid][pClass][TEAM_HUMAN] == ZOMBIEFAN && (reason == 0 || reason == 9))
		{
			for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_UNSUCCESSFULEXPERIEMENT && e_ExclusionZone[killerid][e_ezMission][i] <= 49)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][i];
			        if(e_ExclusionZone[killerid][e_ezMission][i] == 50) ev_CompleteToNext(killerid, ev_UNSUCCESSFULEXPERIEMENT);
					break;
			    }
			}
		}

		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && reason == 51)
		{
			for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_DETONATOR && e_ExclusionZone[killerid][e_ezMission][i] <= 49)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][i];
			        if(e_ExclusionZone[killerid][e_ezMission][i] == 50) ev_CompleteToNext(killerid, ev_DETONATOR);
					break;
			    }
			}
		}

		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
		{
			for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_RIPPER && e_ExclusionZone[killerid][e_ezMission][i] <= 99)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][i];
			        if(e_ExclusionZone[killerid][e_ezMission][i] == 100) ev_CompleteToNext(killerid, ev_RIPPER);
					break;
			    }
			}
		}

		if(GetPlayerTeamEx(killerid) == TEAM_ZOMBIE && GetPlayerTeamEx(playerid) == TEAM_HUMAN)
		{
		    for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_GENOCIDE && e_ExclusionZone[killerid][e_ezMission][i] <= 49)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][i];
			        if(e_ExclusionZone[killerid][e_ezMission][i] == 50) ev_CompleteToNext(killerid, ev_GENOCIDE);
					break;
			    }
			}
		}

		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && reason >= 0 && reason <= 15)
		{
			for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_WARRIOR && e_ExclusionZone[killerid][e_ezMission][i] <= 99)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][i];
			        if(e_ExclusionZone[killerid][e_ezMission][i] == 100) ev_CompleteToNext(killerid, ev_WARRIOR);
					break;
			    }
			}
		}

		if(GetPlayerTeamEx(killerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && reason >= 22 && reason <= 34)
		{
			for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_SHOOTER && e_ExclusionZone[killerid][e_ezMission][i] <= 99)
			    {
			        ++e_ExclusionZone[killerid][e_ezMission][i];
			        if(e_ExclusionZone[killerid][e_ezMission][i] == 100) ev_CompleteToNext(killerid, ev_SHOOTER);
					break;
			    }
			}
		}
    }
    ///////////////////////////////////// SETUP AS A ZOMBIE ////////////////////

    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN) CreateCollectionItem(playerid, killerid);
    CreatePetItem(playerid, killerid);
	if(IsPlayerOnDuel[playerid]) DeathInDuel(playerid);
    
	setupZombie(playerid);
    IsPlayerDeadByWarMember[playerid] = INVALID_PLAYER_ID;
    AFK[playerid] = -5;
    
    // TryToCreatePlayerCard(killerid, playerid);
    
	////////////////////////////////////////////////////////////////////////////
	return 1;
}

stock TryToCreatePlayerCard(playerid, targetid)
{
	if(!IsPlayerConnected(playerid) || playerid < 0 || playerid >= MAX_PLAYERS) return 0;
	if(random(12) <= 3)
	{
	    if(IsPlayerConnected(targetid) && targetid >= 0 && targetid <= (MAX_PLAYERS-1))
		{
		    new Float:pos[3];
			GetPlayerPos(targetid, pos[0], pos[1], pos[2]);
			if(meatDrops[playerid] > -1) DestroyPickupEx(meatDrops[playerid], true);
			
			new card_id = CreatePlayerCard(playerid);
			if(card_id > 0)
			{
				meatDrops[playerid] = CreatePickupEx(1581, 19, pos[0]+0.35, pos[1]+0.35, pos[2], 0);
  				new id = meatDrops[playerid];
  				meatDropsID[id] = card_id;
  				return 1;
			}
		}
		else return 0;
	}
	else
	{
	    if(random(12) <= 4 && Specialty[playerid][spc_level][0] >= 1)
	    {
	        if(IsPlayerConnected(targetid) && targetid >= 0 && targetid <= (MAX_PLAYERS-1))
			{
			    new Float:pos[3];
				GetPlayerPos(targetid, pos[0], pos[1], pos[2]);
				if(meatDrops[playerid] > -1) DestroyPickupEx(meatDrops[playerid], true);

				if(random(2) == 0)
				{
					meatDrops[playerid] = CreatePickupEx(19473, 19, pos[0]+0.35, pos[1]+0.35, pos[2], 0);
	  				new id = meatDrops[playerid];
	  				meatDropsID[id] = ITEM_NAME_GRASS;
				}
				else
				{
				    meatDrops[playerid] = CreatePickupEx(2803, 19, pos[0]+0.35, pos[1]+0.35, pos[2], 0);
	  				new id = meatDrops[playerid];
				    meatDropsID[id] = ITEM_NAME_ZOMBIE_MEAT;
				}
  				return 1;
			}
			else return 0;
	    }
	}
	return 1;
}

stock CreatePetItem(playerid, killerid)
{
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	
	if(IsPlayerConnected(killerid)) CreatePickupMeat(2804, 1, pos[0], pos[1], pos[2], 0, Player[killerid][pAccountID], playerid);
	else CreatePickupMeat(2804, 1, pos[0], pos[1], pos[2], 0, -1, playerid);
	
	/*if(meatDrops[playerid] > -1) DestroyPickupEx(meatDrops[playerid], true);
	meatDrops[playerid] = CreatePickupEx(2804, 19, pos[0], pos[1], pos[2], 0);
	meatDropsID[meatDrops[playerid]] = 2804;*/
		
	/*if(IsPlayerConnected(killerid))
	{
	    if(random(20) <= 4)
		{
			if(gettime() < 1597449600)
			{
			    meatDrops[playerid] = CreatePickupEx(19054, 19, pos[0], pos[1], pos[2], 0);
	     		new id = meatDrops[playerid];
                meatDropsID[id] = ITEM_NAME_SER_GIFT;
			}
		}
	 	else if(random(10) <= 4)
		{
			switch(random(30) - ((VipBuffs[killerid][vb_IID][0]*10) + Specialty[playerid][spc_level][SPECIALITY_COLLECTOR]))
			{
			    case 0..3:
				{
				    meatDrops[playerid] = CreatePickupEx(1579, 19, pos[0], pos[1], pos[2], 0);
			     	new id = meatDrops[playerid];

				    switch(random(20) - ((VipBuffs[killerid][vb_IID][0]*3) + Specialty[playerid][spc_level][SPECIALITY_COLLECTOR]))
				    {
				        case 0..2: meatDropsID[id] = ITEM_NAME_MOON_STONE_I;
				        case 3..5: meatDropsID[id] = ITEM_NAME_AMETHYST;
				        case 6..14: if(random(2) == 0) meatDropsID[id] = ITEM_NAME_MAGIC_POWDER; else meatDropsID[id] = ITEM_NAME_PIECE_OF_MOON;
				        case 15..19: meatDropsID[id] = ITEM_NAME_PIECE_OF_MOON;
				        default: meatDropsID[id] = ITEM_NAME_PIECE_OF_MOON;
					}
				}
			    case 4..7:
				{
					meatDrops[playerid] = CreatePickupEx(1580, 19, pos[0], pos[1], pos[2], 0);
					new id = meatDrops[playerid];

	                switch(random(20) - ((VipBuffs[killerid][vb_IID][0]*3) + Specialty[playerid][spc_level][SPECIALITY_COLLECTOR]))
	                {
						case 0..2: meatDropsID[id] = ITEM_NAME_FIRE_STONE_I;
						case 3..5: meatDropsID[id] = ITEM_NAME_RUBY;
						case 6..14: if(random(2) == 0) meatDropsID[id] = ITEM_NAME_SPARK_OF_FIRE; else meatDropsID[id] = ITEM_NAME_FIRE_OF_UNDERWORLD;
						case 15..19: meatDropsID[id] = ITEM_NAME_FIRE_OF_UNDERWORLD;
						default: meatDropsID[id] = ITEM_NAME_FIRE_OF_UNDERWORLD;
					}
				}
	   			case 8..12:
				{
	   				meatDrops[playerid] = CreatePickupEx(1578, 19, pos[0], pos[1], pos[2], 0);
				    new id = meatDrops[playerid];

				    switch(random(20) - ((VipBuffs[killerid][vb_IID][0]*3) + Specialty[playerid][spc_level][SPECIALITY_COLLECTOR]))
	                {
						case 0..2: meatDropsID[id] = ITEM_NAME_EARTH_STONE_I;
						case 3..5: meatDropsID[id] = ITEM_NAME_EMERALD;
						case 6..14: if(random(2) == 0) meatDropsID[id] = ITEM_NAME_DECORATIVE_ROCK; else meatDropsID[id] = ITEM_NAME_PIECE_OF_LAND;
						case 15..19: meatDropsID[id] = ITEM_NAME_PIECE_OF_LAND;
						default: meatDropsID[id] = ITEM_NAME_PIECE_OF_LAND;
					}
				}
				case 13..29:
				{
					meatDrops[playerid] = CreatePickupEx(1575, 19, pos[0], pos[1], pos[2], 0);
					new id = meatDrops[playerid];

	                switch(random(30) - ((VipBuffs[killerid][vb_IID][0]*3) + Specialty[playerid][spc_level][SPECIALITY_COLLECTOR]))
	                {
						case 0..2: meatDropsID[id] = ITEM_NAME_AIR_STONE_I;
						case 3..5: meatDropsID[id] = ITEM_NAME_PEARL;
						case 6..14:
						{
						    switch(random(3))
						    {
								case 0: meatDropsID[id] = ITEM_NAME_COMPRESSED_AIR;
								case 1: meatDropsID[id] = ITEM_NAME_AIR_REMEDY;
								case 2: meatDropsID[id] = ITEM_NAME_FOUNDATION_STONE;
							}
						}
						case 15..19: meatDropsID[id] = ITEM_NAME_AIR_REMEDY;
						case 20..29: meatDropsID[id] = ITEM_NAME_FOUNDATION_STONE;
						default: meatDropsID[id] = ITEM_NAME_FOUNDATION_STONE;
					}
				}
				default:
				{
					meatDrops[playerid] = CreatePickupEx(1575, 19, pos[0], pos[1], pos[2], 0);
					new id = meatDrops[playerid];

	                switch(random(30) - (VipBuffs[killerid][vb_IID][0]*10))
	                {
						case 0: meatDropsID[id] = ITEM_NAME_AIR_STONE_I;
						case 1..5: meatDropsID[id] = ITEM_NAME_PEARL;
						case 6..14: meatDropsID[id] = ITEM_NAME_COMPRESSED_AIR;
						case 15..19: meatDropsID[id] = ITEM_NAME_AIR_REMEDY;
						case 20..29: meatDropsID[id] = ITEM_NAME_FOUNDATION_STONE;
					}
				}
	        }
	   	}
		else
		{
			meatDrops[playerid] = CreatePickupEx(2804, 19, pos[0], pos[1], pos[2], 0);
			meatDropsID[meatDrops[playerid]] = 2804;
		}
	}
	else
	{
	    meatDrops[playerid] = CreatePickupEx(2804, 19, pos[0], pos[1], pos[2], 0);
		meatDropsID[meatDrops[playerid]] = 2804;
	}*/
}

stock CreateCollectionItem(playerid, killerid)
{
	if(IsPlayerConnected(killerid))
	{
	    if(random(8)-(VipBuffs[killerid][vb_IID][0]*5) == 0)
	    {
			new collection = 0, item = 0, Float:pos[3];
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
			collection = random(sizeof(collections));
			item = random(sizeof(collections[]));
			
			if(collection == 9)
			{
			    if(random(24) == 0)
       			{
		        	infectedMeat[playerid] = CreatePickupEx(collections[collection][item], 19, pos[0], pos[1], pos[2], 0);
					meatDropsID[infectedMeat[playerid]] = collectionsIDs[collection][item];
				}
			}
			else
			{
				infectedMeat[playerid] = CreatePickupEx(collections[collection][item], 19, pos[0], pos[1], pos[2], 0);
				meatDropsID[infectedMeat[playerid]] = collectionsIDs[collection][item];
			}
	    }
	}
}

stock boomersOnDeath(playerid)
{
    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == BOOMERZOMBIE)
    {
        if(MaybeBH[playerid] >= 1)
		{
		    foreach(Player, i)
			{
    			switch(Player[i][pLang])
	    		{
		    		case 0: SendClientMessageFormat(i, -1, "{33CCFF}>> %s used bunnyhop and ability was aborted", Player[playerid][UserName]); // 102
		    		case 1: SendClientMessageFormat(i, -1, "{33CCFF}>> Игрок %s использовал банихоп и его способность была проигнорирована", Player[playerid][UserName]);
		    		case 2: SendClientMessageFormat(i, -1, "{33CCFF}>> %s usу bunnyhop y la habilidad fue abortada", Player[playerid][UserName]); // 102
				}
			}
		}
		else
		{
		    new Float:radius = 5.5;
	        new Float:pos[3], count;
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	        foreach(Player,i)
			{
	            if(IsPlayerInRangeOfPoint(i, radius, pos[0], pos[1], pos[2]) && classCanBeInfected(i))
				{
    				count++;
					InfectPlayer(radius, i, playerid);
				}
	        }

	        if(count >= 1 && count < 5) foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][87], Player[playerid][UserName], count);
			if(count >= 5) foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][88], Player[playerid][UserName], count);
            //if(count > 0) { GivePlayerXP(playerid, 2); }
		}
	}
}

stock DeathDuelWin(playerid, killerid)
{
    CanUseCBugTime[killerid] = (gettime() + 20);
    CanUseCBugTime[playerid] = (gettime() + 20);
    
    if(DuelEXP[killerid] <= 0)
    {
	    foreach(Player, i)
		{
		    switch(Player[i][pLang])
		    {
				case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s!", Player[killerid][UserName], Player[playerid][UserName]);
				case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s!", Player[killerid][UserName], Player[playerid][UserName]);
				case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s!", Player[killerid][UserName], Player[playerid][UserName]);
			}
		}
	}
	else
	{
	    if(Player[playerid][pXP] >= DuelEXP[playerid] && CanPay)
	    {
	        Player[playerid][pXP] -= DuelEXP[playerid];
	        Player[killerid][pXP] += (DuelEXP[DuelerID[killerid]] - floor(DuelEXP[DuelerID[killerid]]*TAXES));

			foreach(Player, i)
			{
			    switch(Player[i][pLang])
			    {
					case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s and got %d EXP!", Player[killerid][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[killerid]] - floor(DuelEXP[DuelerID[killerid]]*TAXES));
					case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s и получил %d ОПЫТА!", Player[killerid][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[killerid]] - floor(DuelEXP[DuelerID[killerid]]*TAXES));
					case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s y obtuve %d EXP!", Player[killerid][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[killerid]] - floor(DuelEXP[DuelerID[killerid]]*TAXES));
				}
			}
		}
		else
		{
		    foreach(Player, i)
			{
			    switch(Player[i][pLang])
			    {
					case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s!", Player[killerid][UserName], Player[playerid][UserName]);
					case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s!", Player[killerid][UserName], Player[playerid][UserName]);
					case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s!", Player[killerid][UserName], Player[playerid][UserName]);
				}
			}
		}
	}
	
	DuelEXP[killerid] = 0;
	DuelRules[0][killerid] = 0;
	DuelRules[1][killerid] = 0;

	DuelReceived[killerid] = false;
	DuelerID[killerid] = -1;
	IsPlayerOnDuel[killerid] = false;

	Player[killerid][DuelsWin]++;
	CheckForChaosChestOpen(killerid, chaos_WIN_20_DUELS);

	for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
	{
	    if(NightEvent[evn_Mission][j] == ev_JAILER && e_ExclusionZone[killerid][e_ezMission][j] <= 19)
	    {
	        ++e_ExclusionZone[killerid][e_ezMission][j];
	        if(e_ExclusionZone[killerid][e_ezMission][j] >= 20) ev_CompleteToNext(killerid, ev_JAILER);
			break;
	    }
	}

	Player[playerid][DuelsLose]++;

    if(Player[killerid][DuelsWin] == 10) UnlockAchievement(killerid, 27, 10);
	if(Player[killerid][DuelsWin] == 100) UnlockAchievement(killerid, 28, 500);
	if(Player[killerid][DuelsWin] == 500) UnlockAchievement(killerid, 29, 2000);

	DuelReceived[playerid] = false;
	DuelerID[playerid] = -1;
	IsPlayerOnDuel[playerid] = false;
	SetPlayerTeamEx(killerid, TEAM_ZOMBIE);
	SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
	SetSpawnInfo(killerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
	SpawnPlayer(killerid);
}

stock DeathInDuel(playerid)
{
    CanUseCBugTime[playerid] = (gettime() + 20);
    CanUseCBugTime[DuelerID[playerid]] = (gettime() + 20);
    
    if(DuelEXP[DuelerID[playerid]] <= 0)
    {
	    foreach(Player, i)
		{
		    switch(Player[i][pLang])
		    {
				case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
				case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
				case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
			}
		}
	}
	else
	{
	    if(Player[playerid][pXP] >= DuelEXP[playerid] && CanPay)
	    {
	        Player[playerid][pXP] -= DuelEXP[playerid];
	        Player[DuelerID[playerid]][pXP] += (DuelEXP[DuelerID[playerid]] - floor(DuelEXP[DuelerID[playerid]]*TAXES));
	        
			foreach(Player, i)
			{
			    switch(Player[i][pLang])
			    {
					case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s and got %d EXP!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[playerid]] - floor(DuelEXP[DuelerID[playerid]]*TAXES));
					case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s и получил %d ОПЫТА!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[playerid]] - floor(DuelEXP[DuelerID[playerid]]*TAXES));
					case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s y obtuve %d EXP!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName], DuelEXP[DuelerID[playerid]], DuelEXP[DuelerID[playerid]] - floor(DuelEXP[DuelerID[playerid]]*TAXES));
				}
			}
		}
		else
		{
		    foreach(Player, i)
			{
			    switch(Player[i][pLang])
			    {
					case 0: SendClientMessageFormat(i, -1, "{e9dec8}>> %s has won the duel against %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
					case 1: SendClientMessageFormat(i, -1, "{e9dec8}>> Игрок %s выиграл дуэль против игрока %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
					case 2: SendClientMessageFormat(i, -1, "{e9dec8}>> El jugador %s gano un duelo contra un jugador %s!", Player[DuelerID[playerid]][UserName], Player[playerid][UserName]);
				}
			}
		}
	}
	
	DuelReceived[DuelerID[playerid]] = false;
	
	DuelEXP[DuelerID[playerid]] = 0;
	DuelRules[0][DuelerID[playerid]] = 0;
	DuelRules[1][DuelerID[playerid]] = 0;
	
	DuelerID[DuelerID[playerid]] = -1;
	IsPlayerOnDuel[DuelerID[playerid]] = false;
	SetPlayerTeamEx(DuelerID[playerid], TEAM_ZOMBIE);

	Player[DuelerID[playerid]][DuelsWin]++;
	CheckForChaosChestOpen(DuelerID[playerid], chaos_WIN_20_DUELS);

	new wid = DuelerID[playerid];
	for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
	{
	    if(NightEvent[evn_Mission][j] == ev_JAILER && e_ExclusionZone[wid][e_ezMission][j] <= 19)
	    {
	        ++e_ExclusionZone[wid][e_ezMission][j];
	        if(e_ExclusionZone[wid][e_ezMission][j] >= 20) ev_CompleteToNext(wid, ev_JAILER);
			break;
	    }
	}

	Player[playerid][DuelsLose]++;

	if(Player[DuelerID[playerid]][DuelsWin] == 10) UnlockAchievement(DuelerID[playerid], 27, 10);
	if(Player[DuelerID[playerid]][DuelsWin] == 100) UnlockAchievement(DuelerID[playerid], 28, 500);
	if(Player[DuelerID[playerid]][DuelsWin] == 500) UnlockAchievement(DuelerID[playerid], 29, 2000);
    SetSpawnInfo(DuelerID[playerid],TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
	SpawnPlayer(DuelerID[playerid]);

	DuelReceived[playerid] = false;
	DuelerID[playerid] = -1;
	IsPlayerOnDuel[playerid] = false;
	SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
}

stock DeathInWar(playerid, killerid)
{
    if(InWarStage2{playerid} && WarStageAgainst{playerid} > -1)
    {
    	Clan[Player[killerid][pClan]][g_TempWins]++;
        return 1;
    }

    if(!IsPlayerConnected(killerid)) return 1;
    if(!IsPlayerConnected(playerid)) return 1;

    if(War[wi_TeamsInBattle][0] == Player[playerid][pClan] || War[wi_TeamsInBattle][1] == Player[playerid][pClan])
    {
        KilledInWar{playerid} = true;
        InWarDuel{playerid} = false;

        if(War[wi_TeamsInBattle][0] == Player[playerid][pClan]) War[wi_Members][0]--;
        if(War[wi_TeamsInBattle][1] == Player[playerid][pClan]) War[wi_Members][1]--;

        if(War[wi_Members][0] <= 0)
        {
            Clan[War[wi_TeamsInBattle][1]][g_TempWins]++;
           	Clan[War[wi_TeamsInBattle][0]][g_TempLoses]++;
            SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
			SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
			SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
			GameTextForAll("~w~15", 1000, 5);
			new p;

			foreach(Player, i)
			{
			    if(InWarDuel{i} && !KilledInWar{i})
			    {
					p = random(sizeof(rnd_mhs));
					SetPlayerPosAC(i, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
			        SetPlayerFacingAngle(i, rnd_mhs[p][3]);
			        AttachGangName(i);
			        SetPlayerWeather(i, 0);
			        SetPlayerTime(i, 12, 0);
			        ResetWeapons(i);
			        SetPlayerHealthAC(i, 100.0);
			        SetPlayerArmourAC(i, 0.0);
			        SetPlayerColor(i, 0xFFFFFFFF);
			        InWarDuel{i} = false;
			        SetPlayerTeamEx(i, 12);
				}
			}
        }

        if(War[wi_Members][1] <= 0)
        {
            Clan[War[wi_TeamsInBattle][0]][g_TempWins]++;
           	Clan[War[wi_TeamsInBattle][1]][g_TempLoses]++;
            SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs goes on!");
			SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (%d / %d)", Clan[War[wi_TeamsInBattle][0]][Full], Clan[War[wi_TeamsInBattle][1]][Full], Clan[War[wi_TeamsInBattle][0]][g_TempWins], Clan[War[wi_TeamsInBattle][1]][g_TempWins]);
			SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
			GameTextForAll("~w~15", 1000, 5);
			new p;

			foreach(Player, i)
			{
			    if(InWarDuel{i} && !KilledInWar{i})
			    {
					p = random(sizeof(rnd_mhs));
					SetPlayerPosAC(i, rnd_mhs[p][0], rnd_mhs[p][1], rnd_mhs[p][2]);
			        SetPlayerFacingAngle(i, rnd_mhs[p][3]);
			        AttachGangName(i);
			        SetPlayerWeather(i, 0);
			        SetPlayerTime(i, 12, 0);
			        ResetWeapons(i);
			        SetPlayerHealthAC(i, 100.0);
			        SetPlayerArmourAC(i, 0.0);
			        SetPlayerColor(i, 0xFFFFFFFF);
			        InWarDuel{i} = false;
			        SetPlayerTeamEx(i, 12);
				}
			}
        }
	}
	return 1;
}

stock resetAntis(playerid)
{
    Player[playerid][IsBurned][0] = 0;
	Player[playerid][IsBurned][1] = 0;
   	KillTimer(Player[playerid][InfectedTimer]);
   	KillTimer(Player[playerid][PoisionTimer]);
   	KillTimer(Player[playerid][BleedingTimer]);
   	
    TextDrawHideForPlayer(playerid, Poision[playerid]);
    TextDrawHideForPlayer(playerid, GreenScreen[playerid]);
    TextDrawHideForPlayer(playerid, Stun[playerid]);
    TextDrawHideForPlayer(playerid, Blidnes[playerid]);
    TextDrawHideForPlayer(playerid, Infected[playerid]);
    Player[playerid][Blidness] = 0;
    KillTimer(Player[playerid][BlidnessTimer]);
    Player[playerid][Tasered] = false;
    Player[playerid][Poisioned] = false;
    Player[playerid][hasBleedEffect] = false;
   	for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
}

stock GetTickDiff(newtick, oldtick)
{
	if (oldtick > newtick) return (cellmax - oldtick + 1) - (cellmin - newtick);
	return newtick - oldtick;
}

stock AimSystemChecks(playerid, killerid)
{
	if(IsPlayerConnected(killerid))
	{

	}
}

stock resetPlayerOnDeath(playerid, killerid)
{
    Player[playerid][pWasGangAffected] = false;
    Player[playerid][hasNurseField] = false;
    Player[playerid][hasBleedEffect] = false;
	ZombieMoveTime[playerid] -= 10;
	SetPlayerHealthAC(playerid, 100.0, true);
	SetPlayerArmourAC(playerid, 0.0);
	
	KillTimer(Player[playerid][PoisionTimer]);
	KillTimer(Player[playerid][InfectedTimer]);
	KillTimer(Player[playerid][BleedingTimer]);

	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
		Player[playerid][Evacuated] = 0;
		
		if(IsPlayerDeadByWarMember[playerid] != INVALID_PLAYER_ID) {}
		else
		{
			if(IsPlayerConnected(killerid))
			{
				if(Player[playerid][Killstreak] >= 5)
				{
				    Player[killerid][pXP] += Player[playerid][Killstreak];
				    foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][59], Player[killerid][UserName], Player[playerid][Killstreak], Player[playerid][UserName], Player[playerid][Killstreak]);
					if(Achievements[playerid][eKillstreaksFail] == 0 && Player[playerid][Killstreak] == 99) { UnlockAchievement(playerid, 30, 10000); Achievements[playerid][eKillstreaksFail] = 1; }
				}

				if(Player[playerid][Killstreak] > Player[playerid][pKillstreakMax])
				{
				    foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][60], Player[playerid][UserName], Player[playerid][Killstreak], Player[playerid][pKillstreakMax]);
			        Player[playerid][pKillstreakMax] = Player[playerid][Killstreak];
				}
			}
			Player[playerid][Killstreak] = 0;
			SortKillstreakList();
			DeleteFromKillstreakList(playerid);
		}
	}
	CurePlayer(playerid);
	Player[playerid][IsCursed] = false;
	HumanZombieBoss[playerid] = false;
	HumanHumanBoss[playerid] = false;
    Healer[playerid] = false;
}

stock resetPlayerOnDeathFromEvent(playerid)
{
    Player[playerid][hasBleedEffect] = false;
    KillTimer(Player[playerid][PoisionTimer]);
	KillTimer(Player[playerid][InfectedTimer]);
	KillTimer(Player[playerid][BleedingTimer]);
	
    if(Player[playerid][eventMember] > -1)
	{
	    new bool:something = false, str[144], i;
	    for(i = 0; i < 10; i++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][i] == Player[playerid][pAccountID]) { something = true; break; }

		new eventID = Player[playerid][eventMember];
	    if(strlen(EventInfo[eventID][e_Name]) >= 1)
	    {
			if(!something) {
				EventInfo[Player[playerid][eventMember]][e_curPlayers]--;
				format(str, sizeof(str), "{ff6600}[EVENT] %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
				SendEventMessage(str);
			} else {
			    format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
				SendEventMessage(str);
			}

			if(EventInfo[eventID][e_curPlayers] < EventInfo[eventID][e_minPlayers] && !EventInfo[eventID][e_IsStarted] && EventInfo[eventID][e_IsJoinsClosed])
	        {
	            EventInfo[eventID][e_IsJoinsClosed] = false;
				format(str, sizeof(str), "{bf00ff}[EVENT] Join requests auto opened (%s #%d)", EventInfo[eventID][e_Name], eventID+1);
				SendEventMessage(str);
	        }
		}
	    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		Player[playerid][eventMember] = -1;
		SetPlayerGravity(playerid, 0.008);
	}
}

fun AntiBunnyuHop(playerid)
{
    AntiCheat[playerid][ac_OldHP] = 0.0;
	ApplyAnimation(playerid, "PED", "getup_front",4.1,0,0,0,0,0);
}

fun OnPlayerPickUpPickup(playerid, pickupid)
{
	if(Pickups[pickupid][e_ItemID] == 2804)
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	    {
	    	if(Pickups[pickupid][e_ForPlayer] == Player[playerid][pAccountID] || gettime() >= Pickups[pickupid][e_Time])
			{
				TryToAddAmmoOrAntidote(playerid, Pickups[pickupid][e_DropperID]);
                DestroyPickupEx(pickupid, true);
		   		return 1;
			}
			else if(Pickups[pickupid][e_ForPlayer] != Player[playerid][pAccountID] && Pickups[pickupid][e_ForPlayer] != -1 && gettime() < Pickups[pickupid][e_Time])
			{
				SendClientMessageFormat(playerid, -1, "{FFFFFF}>> This thing is under {FF0000}protection{FFFFFF} for the player who received it, disabling protection through{FF0000} %d sec(s)", Pickups[pickupid][e_Time] - gettime());
				return 1;
			}
			else if(Pickups[pickupid][e_ForPlayer] == -1 || gettime() >= Pickups[pickupid][e_Time])
	  		{
	  		    TryToAddAmmoOrAntidote(playerid, Pickups[pickupid][e_DropperID]);
                DestroyPickupEx(pickupid, true);
				return 1;
	  		}
		}
		else if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
		{
		    if(Player[playerid][pClass][TEAM_ZOMBIE+1] == TANKZOMBIE)
		    {
		        new Float:hp;
		        GetPlayerHealthEx(playerid, hp);
		        if(hp <= 99.9) {
		            SetPlayerHealthAC(playerid, 100.0);
		    		DestroyPickupEx(pickupid, true);
		    		return 1;
		        }
			}
			else
			{
		    	SetPlayerHealthAC(playerid, 100.0);
		    	DestroyPickupEx(pickupid, true);
		    	return 1;
		    }
		}
		return 1;
	}
	return 1;
}

stock IsValidWeapon(weaponid)
{
    if ( weaponid >= 22 && weaponid <= 25) return 1;
    if ( weaponid >= 29 && weaponid <= 34) return 1;
    return 0;
}

fun OnVehicleSpawn(vehicleid)
{
	return 1;
}

fun SaveUserData(playerid)
{
	new ip[16];
    GetServerVarAsString("bind", ip, sizeof (ip));
    if(Player[playerid][pLogged])
	{
	    new query[4096], dat[2][24], attch[128], attchPos[400];
	    format(dat[0], 128, "%d,%d", Player[playerid][pZombieClassesUnlocked_0], Player[playerid][pZombieClassesUnlocked_1]);
	    format(dat[1], 128, "%d,%d", Player[playerid][pHumanClassesUnlocked_0], Player[playerid][pHumanClassesUnlocked_1]);

	    format(attch, 128, "%d,%d,%d,%d,%d,%d,%d,%d", Player[playerid][pAttID][0], Player[playerid][pAttID][1], Player[playerid][pAttID][2], Player[playerid][pAttID][3], Player[playerid][pAttID][4], Player[playerid][pAttID][5], Player[playerid][pAttID][6], Player[playerid][pAttID][7]);
	    format(attchPos, 400, "%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f",
		Player[playerid][pAttIDPos][0], Player[playerid][pAttIDPos][1],
		Player[playerid][pAttIDPos][2], Player[playerid][pAttIDPos][3],
		Player[playerid][pAttIDPos][4], Player[playerid][pAttIDPos][5],
		Player[playerid][pAttIDPos][6], Player[playerid][pAttIDPos][7],
		Player[playerid][pAttIDPos][8], Player[playerid][pAttIDPos][9],
		Player[playerid][pAttIDPos][10], Player[playerid][pAttIDPos][11],
		Player[playerid][pAttIDPos][12], Player[playerid][pAttIDPos][13],
		Player[playerid][pAttIDPos][14], Player[playerid][pAttIDPos][15],
		Player[playerid][pAttIDPos][16], Player[playerid][pAttIDPos][17],
		Player[playerid][pAttIDPos][18], Player[playerid][pAttIDPos][19],
		Player[playerid][pAttIDPos][20], Player[playerid][pAttIDPos][21],
		Player[playerid][pAttIDPos][22], Player[playerid][pAttIDPos][23],
		Player[playerid][pAttIDPos][24], Player[playerid][pAttIDPos][25],
		Player[playerid][pAttIDPos][26], Player[playerid][pAttIDPos][27],
		Player[playerid][pAttIDPos][28], Player[playerid][pAttIDPos][29],
		Player[playerid][pAttIDPos][30], Player[playerid][pAttIDPos][31],
		Player[playerid][pAttIDPos][32], Player[playerid][pAttIDPos][33],
        Player[playerid][pAttIDPos][34], Player[playerid][pAttIDPos][35]);

	    new date[28], y, m, d, h, i, s;
        TimestampToDate(gettime(), y, m, d, h, i, s, 3);
		format(date, 28, "%02dD/%02dM/%04dY", d, m, y);

	    mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Kills`='%d',`Killstreak`='%d',`RoundWins`='%d',`DuelWins`='%d',`DuelLoses`='%d',`VIP`='%d',`Admin`='%d',`Rank`='%d',`EXP`='%d',`Clan`='%d',`ClanRank`='%d',`Language`='%d',`ZombieList` = '%e',`HumanList` = '%e',`VipTime` = '%d',`settings`='%d',`attachID`='%e',\
		`attachPos`='%e',`lalog`='%e',`ClanWarns`='%d',`gbnd`='%d',`bal`='%.2f',`pk`='%d',`pkb`='%d',`ref`='%d',`days`='%d',`plg`='%d',`points`='%d',`lastGangJoin`='%d',`build`='%e',`total_pk`='%d',`Cards`='%d' WHERE `ID` = '%d'",
		Player[playerid][pKills],
		Player[playerid][pKillstreakMax],
		Player[playerid][RoundsWin],
		Player[playerid][DuelsWin],
		Player[playerid][DuelsLose],
		Player[playerid][pVip],
		Player[playerid][pAdmin],
		Player[playerid][pRank],
		Player[playerid][pXP],
		Player[playerid][pClan],
		Player[playerid][pClanRank],
		Player[playerid][pLang],
		dat[0],
		dat[1],
		Player[playerid][pVipTime],
		Player[playerid][pSettings],
		attch,
		attchPos,
		date,
		Player[playerid][pClanWarns],
		Player[playerid][GangBanned],
		Player[playerid][pBalance],
		Player[playerid][pPlayerKills],
		Player[playerid][pPlayerKillsBack],
		Player[playerid][pRefID],
		Player[playerid][e_Days],
		Player[playerid][e_PrevLogin],
		Player[playerid][pUpgPoints],
		Player[playerid][pLastGangJoin],
		SERVER_BUILD,
		Player[playerid][totalPlayersKilledInGW],
		Player[playerid][pCardSet],
		Player[playerid][pAccountID]);
		
       	mysql_tquery(Base, query, "", "", "");
       	
		UpdateSign(playerid);
		//SaveAchievements(playerid);
		//SaveQuest(playerid);
		SaveInv(playerid);
		//SaveTrophys(playerid);
		//SavePets(playerid);
		//saveBuffs(playerid);
		//SaveDefender(playerid);
		//SaveClasses(playerid);
		SaveAdminActivity(playerid); // ENVENT
		//SaveSkills(playerid);
        //SaveWeapons(playerid);
        //SaveWeaponUpgrades(playerid);
        //SaveDMissions(playerid);
        //SaveSpeciality(playerid);
	}
}

fun OnVehicleDeath(vehicleid, killerid)
{
	return 1;
}

fun OnPlayerText(playerid, text[])
{
    //if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 0;

	if(TryToMakeAReport(playerid, text)) return 0;
    if(TryTomakeAReportWithoutID(playerid, text)) return 0;
    if(TryToMakeAReportWithID_Collapse(playerid, text)) return 0;
    
    if(strfind(text, LastMessage[playerid]) != -1)
    {
        if(gettime() > LastMessageTime[playerid])
		{
			LastMessagesTryed[playerid] = 0;
		}
        else
        {
            SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
            ++LastMessagesTryed[playerid];
            if(LastMessagesTryed[playerid] >= 5)
            {
                SendMessageFormatToAll(-1, "{33CCFF}>> %s has been kicked [Reason: Massive spam]", Player[playerid][UserName]);
                PlayerKick(playerid);
                LastMessagesTryed[playerid] = 0;
            }
            return 0;
        }
    }
    strmid(LastMessage[playerid], text, 0, 144, 145);
    LastMessageTime[playerid] = gettime() + 5;
    
    if(!Player[playerid][pLogged]) return 0;
    if(Player[playerid][Muted] > 0)
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][112]);
		return 0;
	}
    
    if(GetPVarInt(playerid,"flood") > gettime())
	{
		SendClientMessage(playerid, -1, "{FF0000}>> Do not spam!");
		return 0;
	}

	if(Player[playerid][pAdmin] <= 0) SetPVarInt(playerid,"flood",gettime() + 2);
 	
 	new query[900], serial[41];
    gpci(playerid, serial, sizeof(serial));
    
    mysql_format(Base, query, sizeof(query), "INSERT INTO `pactions` (`acc`,`type`,`date`,`text`,`sign`,`reg_sign`,`ip`) VALUES ('%d','2','%d','%e','%e', '%e', '%e')", Player[playerid][pAccountID], gettime(), text, serial, Player[playerid][pGPCI], Player[playerid][pIP]);
	mysql_tquery(Base, query, "", "", "");
 	
 	ReColor(text);
 	
 	new i_pos;
	while(text[i_pos])
	{
		if(text[i_pos] == '%') text[i_pos] = '#';
		i_pos++;
	}
 	
 	if(text[0] == '+' && Player[playerid][pClan] > 0 && Player[playerid][pClanRank] > 0 && Player[playerid][pLogged])
 	{
 	    #if debug_mode == 0
 	    new st[250];
        new ry, rm, rd, rh, rj, rs;
       	TimestampToDate(gettime(), ry, rm, rd, rh, rj, rs, 3);
        DiscordChannel = DCC_FindChannelById("662009624110694440");
        
 	    for( new i; i < 30; i++ )
		{
		    if(Clan[Player[playerid][pClan]][g_AllianceWith][i] == 2)
			{
			    foreach(Player, j)
			    {
			        if(Player[j][pClan] == Player[playerid][pClan] || Player[j][pClan] == i) SendClientMessageFormat(j, -1, "{66ffb3}[Alliance][%s]: %s(%d): %s", Clan[Player[playerid][pClan]][Short], Player[playerid][RealName], playerid, text[1]);
				}
                format(st, sizeof st, "```\n(%02dM/%02dD/%04dY %02d:%02d) [Alliance - #%d to #%d]: %s(%d) says: %s\n```", rm, rd, ry, rh, rj, Player[playerid][pClan], i, Player[playerid][UserName], playerid, text);
 				DCC_SendChannelMessageEx(DiscordChannel, st);
			}
		}
		#endif
 	    return 0;
 	}
 	
	if((text[0] == '@' || text[0] == '"') && Player[playerid][pAdmin] > 0)
	{
	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][29], Player[playerid][RealName], playerid, text[1]);
	    new ry, rm, rd, rh, rj, rs;
    	TimestampToDate(gettime(), ry, rm, rd, rh, rj, rs, 3);
    
	    new msg[200], utf8msg[200];
	    format(msg, 200, "```%04d-%02d-%02d %02d:%02d %s(%d): %s```", ry, rm, rd, rh, rj, Player[playerid][RealName], playerid, text[1]);
	    
	    utf8encode(utf8msg, msg);
	    #if debug_mode == 0
	    DiscordChannel = DCC_FindChannelById("613185790683513003");
	    DCC_SendChannelMessageEx(DiscordChannel, utf8msg);
	    #endif
	    
	    if((!strcmp(text, "@yes", true) || !strcmp(text, "@y", true) || !strcmp(text, "@ye", true) || !strcmp(text, "@yep", true)) && Player[playerid][pAdmin] >= 3)
	    {
			foreach(Player, i)
			{
				if(IsPlayerConnected(BanRequest[i]) && strlen(BanReason[i]) >= 1)
    			{
			        new str[70];
			        format(str, 70, "%s - %s", BanReason[i], Player[i][RealName]);
					TeamBan(BanRequest[i], playerid, str);
					GivePlayerXP(i, 10 * Map[m_XPType]);
					BanRequest[i] = -1;
					return 0;
			    }
			}
		}
		
		if((!strcmp(text, "@no", true) || !strcmp(text, "@n", true)) && Player[playerid][pAdmin] >= 3)
	    {
			foreach(Player, i)
			{
			    if(IsPlayerConnected(BanRequest[i]) && strlen(BanReason[i]) >= 1)
			    {
			        foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, -1, "{6A8EE2}>> Ban request has been rejected by %s", Player[playerid][RealName]);
					BanRequest[i] = -1;
     				return 0;
			    }
			}
		}
	    
	    if(strfind(text, "ban", true, 1) == 1 && Player[playerid][pAdmin] <= 2)
	    {
	        new count;
	        foreach(Player, i) if(Player[i][pAdmin] >= 3) count++;
	        if(count >= 1)
	        {
				new id, reason[64];
				strdel(text, 0, 4);
				sscanf(text, "is[64]", id, reason);
				if(Player[id][pAdmin] >= Player[playerid][pAdmin]) return 0;
				BanRequest[playerid] = id;
				strmid(BanReason[playerid], text, 0, 64, 64);
				if(strlen(reason) >= 1 && IsPlayerConnected(id))
				{
			     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s wants to ban %s, type 'yes' to confirm and 'no' to reject", Player[playerid][RealName], Player[id][UserName]);
				}
			}
		}
		
		return 0;
	}
	
	//if(GetUnlockedSlot(Player[playerid][pSettings], PS_IAP) == 1 && !ProccessPay(playerid)) return 1;
	if((CheckForWebsite(text) || CheckForBehavoiur(text)) && PlayerTextType[playerid] <= 999)
 	{
 	    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s, use /adva %d to send a message", Player[playerid][UserName], text, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
		strmid(PlayerText[playerid], text, 0, 128, 128);
		PlayerTextType[playerid] = 1;
		return 0;
 	}
	
	new i_numcount, i_period;
	i_pos = 0;
    while(text[i_pos])
	{
        if('0' <= text[i_pos] <= '9') i_numcount ++;
        else if(text[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5 && PlayerTextType[playerid] <= 999)
 	{
		//foreach(Player, i) SendClientMessageFormat(i, -1, "{33CCFF}>> %s has been muted by Server-Bot [Reason: Nice try, stay muted]", Name(playerid));
        //Player[playerid][Muted] = 300;
        foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{b3ffff}>> [ADM-INFO] %s has advertised: %s, use /adva %d to send a message", Player[playerid][UserName], text, playerid);
		SendClientMessage(playerid, -1, "{FFF000}>> Your message is awaiting processing");
		strmid(PlayerText[playerid], text, 0, 128, 128);
		PlayerTextType[playerid] = 1;
        return 0;
    }
    
    //SendClientMessageFormat(playerid, -1, "T: %s | LM: %s | %d", text, LastMessage[playerid]);
	
	if((GetTextUpperCount(text) >= 5 && !QuizStarted) || (QuizStarted && GetTextUpperCount(text) >= 8))
	{
	    SendClientMessage(playerid, -1, "{FF0000}>> Turn off CAPSLOCK!");
		return 0;
	}
	
	if(QuizStarted)
	{
	    switch(QuizType)
	    {
	        case 0:
	        {
	            if(!strcmp(text, QuizTextAnswer, false))
	            {
	                foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][174], Player[playerid][UserName], QuizTextAnswer, QuizXp);
	                GivePlayerXP(playerid, QuizXp);
                    QuizStarted = false;
	            }
	        }
	        case 1:
	        {
	            if(strval(text) == QuizRealAnswer)
	            {
	                new s[11];
	                valstr(s, QuizRealAnswer);
             		foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][174], Player[playerid][UserName], s, QuizXp);
	                GivePlayerXP(playerid, QuizXp);
                    QuizStarted = false;
	            }
	        }
	        case 2:
	        {
	            if(strval(text) == QuizRealAnswer)
	            {
	                new s[11];
	                valstr(s, QuizRealAnswer);
             		foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][174], Player[playerid][UserName], s, QuizXp);
	                GivePlayerXP(playerid, QuizXp);
                    QuizStarted = false;
	            }
	        }
	        case 3:
	        {
	            if(!strcmp(text, questions_answers[0][QuizIndex], true)
				|| !strcmp(text, questions_answers[1][QuizIndex], true)
				|| !strcmp(text, questions_answers[2][QuizIndex], true))
	            {
      		 		GivePlayerXP(playerid, QuizXp);
					foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][174], Player[playerid][UserName], questions_answers[Player[playerid][pLang]][QuizIndex], QuizXp);
                    QuizStarted = false;
                    QuizIndex = -1;
				}
			}
		}
	}
	
	if(text[0] == '#' && (Player[playerid][pVip] > 0 || FakeData[playerid][2] > 0) || text[0] == '№' && (Player[playerid][pVip] > 0 || FakeData[playerid][2] > 0))
	{
	    foreach(Player, i) if(Player[i][pVip] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{FFA500}[VIP CHAT]: %s(%d): %s", Player[playerid][UserName], playerid, text[1]);

        #if debug_mode == 0
	    new msg[200], utf8msg[200];
	    format(msg, 200, "```[VIP SPY]: %s(%d): %s```", Player[playerid][UserName], playerid, text[1]);
	    DiscordChannel = DCC_FindChannelById("662021492225212447");
	    utf8encode(utf8msg, msg);
	    DCC_SendChannelMessageEx(DiscordChannel, utf8msg);
	    #endif
	    
		return 0;
	}
	
	new render[7] = "", rank[32];
	switch(Player[playerid][pClanRank])
	{
		case 1: strmid(rank, Clan[Player[playerid][pClan]][Rank_0], 0, 32, 33);
		case 2: strmid(rank, Clan[Player[playerid][pClan]][Rank_1], 0, 32, 33);
		case 3: strmid(rank, Clan[Player[playerid][pClan]][Rank_2], 0, 32, 33);
		case 4: strmid(rank, Clan[Player[playerid][pClan]][Rank_3], 0, 32, 33);
		case 5: strmid(rank, Clan[Player[playerid][pClan]][Rank_4], 0, 32, 33);
		case 6: strmid(rank, Clan[Player[playerid][pClan]][Rank_5], 0, 32, 33);
	}
	if(FakeData[playerid][7] >= 1) strmid(rank, "", 0, 32, 33);
	
	if(text[0] == '!' && Player[playerid][pClan] >= 1)
	{
	    new str[128];
	    format(str, 128, "{C659B6}[%s] %s(%d): %s", rank, Player[playerid][UserName], playerid, text[1]);
		SendGangMessage(playerid, str);
		
		#if debug_mode == 0
		new __action[200], utf8msg[200], y, ms, d, h, minutes, s;
		TimestampToDate(gettime(), y, ms, d, h, minutes, s, 3);
		DiscordChannel = DCC_FindChannelById("662009624110694440");
		format(__action, sizeof __action, "```\n%04d-%02d-%02d %02d:%02d (#%d) %s: %s\n```", y, ms, d, h, minutes, Player[playerid][pClan], Player[playerid][UserName], text[1]);
        utf8encode(utf8msg, __action);
		DCC_SendChannelMessageEx(DiscordChannel, utf8msg);
		#endif
		return 0;
	}
	
	new admin[19], vip[14], assist[256]="";
	switch(Player[playerid][pAdmin])
	{
	    case 0: admin = "";
	    case 1: admin = "{faf06d}(H)";
	    case 2: admin = "{00FF00}(M)";
	    case 3: admin = "{33CCFF}(A)";
	    case 4: admin = "{FF0000}(LA)";
	    case 5: if(Player[playerid][pAccountID] != 1) admin = "{9900CC}(HA)"; else admin = "";
	    default: admin = "";
	}
	
	if(GetUnlockedSlot(Player[playerid][pSettings], PS_HIDDEN) == 0) { admin = ""; assist = ""; }
    if(FakeData[playerid][7])
	{
		admin = "";
		assist = "";
	}
	
	switch(Player[playerid][pVip]+FakeData[playerid][2])
	{
	    case 0: vip = "";
	    case 1: vip = "{CD7F32}(VIP)";
	    case 2: vip = "{C0C0C0}(VIP)";
	    case 3: vip = "{FFF000}(VIP)";
	}
	
	if(!EmptyMessage(text))
	{
	    if(Player[playerid][pClan] > 0 && FakeData[playerid][0] <= 0) { format(render, 10, "[%s]", Clan[Player[playerid][pClan]][Short]); }
		SendMessageFormatToAll(-1, "%s%s%s%s{%06x}%s{FFFFFF}(%d): %s", render, vip, admin, assist, GetPlayerColor(playerid) >>> 8, Player[playerid][UserName], playerid, text);

        new st[250], utf8msg[250];
        
        new ry, rm, rd, rh, rj, rs;
    	TimestampToDate(gettime(), ry, rm, rd, rh, rj, rs, 3);
        
        #if debug_mode == 0
        DiscordChannel = DCC_FindChannelById("612998988609880076");
       	format(st, sizeof st, "```\n%04d-%02d-%02d %02d:%02d %s(%d): %s \n```", ry, rm, rd, rh, rj, Player[playerid][UserName], playerid, text);
        utf8encode(utf8msg, st);
		DCC_SendChannelMessageEx(DiscordChannel, utf8msg);
		#endif
	}
	return 0;
}

fun OnPlayerEnterVehicle(playerid, vehicleid, ispassenger)
{
	if(Player[playerid][eventMember] <= -1)
	{
		if(Player[playerid][pAdmin] < 1 || !Player[playerid][aDuty]) ClearAnimations(playerid, 1);
	}
	else
	{
	    new eventID = Player[playerid][eventMember], newID;
	    for( new i = 0; i < 18; i++ )
	    {
	        newID = (i-1) > -1 ? i * 2 : 0;
	    	if(EventInfo[eventID][e_CarProps][newID] == vehicleid)
 			{
 			    if(EventInfo[eventID][e_CarProps][newID+1] == GetPlayerTeamEx(playerid)) return 1;
 			    if(EventInfo[eventID][e_CarProps][newID+1] == -1 && GetPlayerTeamEx(playerid) == 254) return 1;
			}
		}
		ClearAnimations(playerid, 1);
	}
	return 1;
}

fun OnPlayerExitVehicle(playerid, vehicleid)
{
    GetPlayerPos(playerid, OldPos[playerid][0], OldPos[playerid][1], OldPos[playerid][2]);
	return 1;
}

fun OnPlayerStateChange(playerid, newstate, oldstate)
{
	/**************************************************************************/
 	if(oldstate == PLAYER_STATE_DRIVER && newstate == PLAYER_STATE_ONFOOT) // Player entered a vehicle as a driver
    {
        //DestroyVehicle(CurTankID[playerid]);
        //removefromTankevent(playerid);
        
		//SendClientMessage(playerid, -1, "Player::State::Change");
	}
	/***************************************************************************/
    
	/*if(newstate == PLAYER_STATE_SPECTATING && AFK[playerid] >= -3)
	{
 		if(Player[playerid][pAdmin] <= 0)
		{
  			foreach(Player, j)
  			{
			  	if(Player[j][pAdmin] > 0 && Player[j][pLogged])
			  	{
			  	    if(gettime() > AntiCheat[playerid][ac_Tick])
			  	    {
				  		SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses Spec hack or lagging", Player[playerid][UserName], playerid);
                        AddCheater(playerid, 0);
						strmid(AC_Requests[playerid][ac_reason], "Spec Hack", 0, 128, 128);
						AC_Requests[playerid][ac_time] = gettime();
						AC_Requests[playerid][ac_type] = 1;
						AC_Requests[playerid][ac_additional] = 0;
						AC_Requests[playerid][ac_pl] = NetStats_PacketLossPercent(playerid);
						AntiCheat[playerid][ac_Tick] = (gettime()+1);
					}
				}
			}
		}
	}*/
	
	if(oldstate == PLAYER_STATE_DRIVER || oldstate == PLAYER_STATE_PASSENGER)
	{
	    AntiTPTimerEx(playerid, 4);
		AntiSlap(playerid, 2);
		AntiSpeedHack(playerid, 3);
		GetPlayerPos(playerid,OldPos[playerid][0],OldPos[playerid][1],OldPos[playerid][2]);
	}
	
    if(newstate == PLAYER_STATE_DRIVER || newstate == PLAYER_STATE_PASSENGER)
    {
        if(IsBeingSpeced[playerid])
        {
            foreach(Player,i)
            {
                if(spectatorid[i] == playerid && Player[i][pAdmin] > 0)
                {
                    PlayerSpectateVehicle(i, GetPlayerVehicleID(playerid));
                }
            }
        }
    }
    if(newstate == PLAYER_STATE_ONFOOT)
    {
        if(IsBeingSpeced[playerid])
        {
            foreach(Player,i)
            {
                if(spectatorid[i] == playerid && Player[i][pAdmin] > 0)
                {
                    PlayerSpectatePlayer(i, playerid);
                }
            }
        }
    }
	return 1;
}

fun OnPlayerEnterCheckpoint(playerid)
{
	if(GetPlayerVirtualWorld(playerid) != Map[m_World]) return 1;
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
	    DeattachSpider(playerid);
	    CheckForChaosChestOpen(playerid, chaos_EVACUATE_30);
	    /**************************************** CHAOS *******************************/
	    
	    if(Player[playerid][pClan] > 0)
	    {
	    	foreach(Player, i)
	    	{
	    	    if(Player[i][pClan] == Player[playerid][pClan] && i != playerid && GetPlayerColor(i) == COLOR_EVACUATED)
	    	    {
		    		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
					{
					    if(NightEvent[evn_Mission][j] == ev_TRUSTEDFRIEND && e_ExclusionZone[playerid][e_ezMission][j] <= 0)
					    {
					        ++e_ExclusionZone[playerid][e_ezMission][j];
					        if(e_ExclusionZone[playerid][e_ezMission][j] >= 1) ev_CompleteToNext(playerid, ev_TRUSTEDFRIEND);
							break;
					    }
					}
				}
			}
		}
	    
	    for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
		    if(NightEvent[evn_Mission][j] == ev_SURVIVOR && e_ExclusionZone[playerid][e_ezMission][j] <= 0)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] >= 1) ev_CompleteToNext(playerid, ev_SURVIVOR);
				break;
		    }
		}
		if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == CIVILIAN)
		{
		    for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_CIVILDEFENSE && e_ExclusionZone[playerid][e_ezMission][i] <= 49)
			    {
			        ++e_ExclusionZone[playerid][e_ezMission][i];
			        if(e_ExclusionZone[playerid][e_ezMission][i] >= 50) ev_CompleteToNext(playerid, ev_CIVILDEFENSE);
					break;
			    }
			}
		}

		/*****************************************************************************/
		
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && lastHuman[playerid]) GivePlayerXP(playerid, 50);
		else
		{
		    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == TOURIST) GivePlayerXP(playerid, 30);
			else GivePlayerXP(playerid, 10);
		}
		
		//////////////////////////// DAILY MISSION(S) //////////////////////////
		
        if(!DayMission[playerid][dm_done])
		{
			if(DayMission[playerid][dm_progress] < DayMission[playerid][dm_counter])
			{
				if(DayliMission[playerid] == 2) ++DayMission[playerid][dm_progress];
				if(DayliMission[playerid] == 11)
				{
				    new slot, weap[14], ammo[14], bool: taken = false;
				    for ( slot = 0; slot < 14; slot++ )
				    {
				        GetPlayerWeaponData(playerid,slot,weap[slot],ammo[slot]);
				        if(ammo[slot] >= 1 && slot !=0) { taken = true; break; }
					}
				    if(!taken) ++DayMission[playerid][dm_progress];
				}
			}
        	if(Player[playerid][Evacuated] == DayMission[playerid][dm_counter] && DayliMission[playerid] == 9) ++DayMission[playerid][dm_progress];
        }
		
		PlayerPlaySound(playerid, 5448, 0.0, 0.0, 0.0);
        
		new Float:h;
		GetPlayerHealth(playerid, h);
		if(h <= 1.0)
		{
			++Achievements[playerid][Lucky];
			if(Achievements[playerid][Lucky] == 3) UnlockAchievement(playerid, 8, 1000);
			if(Achievements[playerid][Lucky] == 10) UnlockAchievement(playerid, 9, 5000);
			if(Achievements[playerid][Lucky] == 20) UnlockAchievement(playerid, 10, 10000);
		}
		
        SetPlayerVirtualWorld(playerid, 9999);
        Player[playerid][RoundsWin]++;
        if(Player[playerid][RoundsWin] == 300) UnlockAchievement(playerid, 57, 2000);
		SetPlayerPosAC(playerid, 960.3299,-52.5693,1001.1172);
		SetPlayerInterior(playerid, 3);
		CurePlayer(playerid);
		Player[playerid][IsBurned][0] = 0;
    	Player[playerid][IsBurned][1] = 0;
	   	KillTimer(Player[playerid][InfectedTimer]);
	   	Player[playerid][IsCursed] = false;
	   	Player[playerid][hasBleedEffect] = false;
	   	KillTimer(Player[playerid][PoisionTimer]);
	   	KillTimer(Player[playerid][BleedingTimer]);
	   	TextDrawHideForPlayer(playerid, Infected[playerid]);
	    TextDrawHideForPlayer(playerid, Poision[playerid]);
	    TextDrawHideForPlayer(playerid, GreenScreen[playerid]);
	    TextDrawHideForPlayer(playerid, Stun[playerid]);
	    TextDrawHideForPlayer(playerid, Blidnes[playerid]);
	    KillTimer(Player[playerid][BlidnessTimer]);
	    Player[playerid][Blidness] = 0;
		DisablePlayerCheckpoint(playerid);
		SetPlayerColor(playerid,COLOR_EVACUATED);
		IsEvacuated[playerid] = true;
		
		foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][13], Player[playerid][UserName]);
		Player[playerid][Evacuated]++;
		
		//if(DayliMission[playerid] == 9 && Player[playerid][Evacuated] < DayMission[playerid][dm_counter]) DayMission[playerid][dm_progress] = Player[playerid][Evacuated];

		if(Player[playerid][Evacuated] % 5 == 0)
		{
		    foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][170], Player[playerid][UserName], Player[playerid][Evacuated], Player[playerid][Evacuated] * 6);
			GivePlayerXP(playerid, Player[playerid][Evacuated] * 6);
			if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 0) == 0)
			{
		    	UnlockAchievement(playerid, 38, 2000);
		    	SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 0, 1);
			}
		}
	}
	return 1;
}

public OnPlayerClickTextDraw(playerid, Text:clickedid)
{
	/**********************************************************************************/
    if(!SelectReward[playerid] && Text:INVALID_TEXT_DRAW == clickedid) { SelectTextDraw(playerid, 0xFF0000FF); return 0; }
    if(Text:clickedid == DayReward[0][playerid] || Text:clickedid == DayReward[1][playerid] || Text:clickedid == DayReward[2][playerid])
    {
        SelectReward[playerid] = true;
    	CancelSelectTextDraw(playerid);
    	OnPlayerRequestSpawn(playerid);
    	SpawnPlayer(playerid);
		for( new i = 0; i < 10; i++ ) TextDrawHideForPlayer(playerid, DayStars[i][playerid]);
		for( new i = 0; i < 4; i++ )  TextDrawHideForPlayer(playerid, DayReward[i][playerid]);
		
		if(Player[playerid][e_Days] == 24)  { SendClientMessage(playerid, -1, "{FFF000}>> New custom object! (/att)"); 		return 1; }
		if(Player[playerid][e_Days] == 49)  { SendClientMessage(playerid, -1, "{FFF000}>> New custom object! (/att)"); 		return 1; }
		if(Player[playerid][e_Days] == 99)  { SendClientMessage(playerid, -1, "{FFF000}>> New custom object! (/att)"); 		return 1; }
		if(Player[playerid][e_Days] == 149) { SendClientMessage(playerid, -1, "{FFF000}>> New custom object! (/att)"); 		return 1; }
		if(Player[playerid][e_Days] == 199) { SendClientMessage(playerid, -1, "{FFF000}>> New custom object! (/att)"); 		return 1; }
		if(Player[playerid][e_Days] == 249) { SendClientMessage(playerid, -1, "{FFF000}>> New custom object! (/att)"); 		return 1; }
		if(Player[playerid][e_Days] == 299) { SendClientMessage(playerid, -1, "{FFF000}>> New custom object! (/att)"); 		return 1; }
		if(Player[playerid][e_Days] == 349) { SendClientMessage(playerid, -1, "{FFF000}>> Custom Slots Increased! (/att)"); return 1; }

        if(Text:clickedid == DayReward[2][playerid])
        {
            switch(DayRewards[playerid][2])
            {
                case 2061: { SendClientMessage(playerid, -1, "{FFF000}>> Double Ammo for all Classes!"); VipBuffs[playerid][vb_IAM][0] = 1; VipBuffs[playerid][vb_IAM][1] = gettime()+86400; return 1; }
                case 11738: { SendClientMessage(playerid, -1, "{FFF000}>> Med Kit for all Classes!"); VipBuffs[playerid][vb_IMK][0] = 1; VipBuffs[playerid][vb_IMK][1] = gettime()+86400; return 1; }
                case 1313: { SendClientMessage(playerid, -1, "{FFF000}>> Double Kills!"); VipBuffs[playerid][vb_IKS][0] = 1; VipBuffs[playerid][vb_IKS][1] = gettime()+86400; return 1; }
                case 1242: { SendClientMessage(playerid, -1, "{FFF000}>> Additional 50 percents of Armour!");  VipBuffs[playerid][vb_IAR][0] = 1; VipBuffs[playerid][vb_IAR][1] = gettime()+86400; return 1; }
                case 954: { SendClientMessage(playerid, -1, "{FFF000}>> Increades Drop Chance!"); VipBuffs[playerid][vb_IID][0] = 1; VipBuffs[playerid][vb_IID][1] = gettime()+86400; return 1; }
                case 1275: { SendClientMessage(playerid, -1, "{FFF000}>> Random Skin!"); VipBuffs[playerid][vb_Skin][0] = random(300); VipBuffs[playerid][vb_Skin][1] = gettime()+86400; return 1; }
				case 1314: { SendClientMessage(playerid, -1, "{FFF000}>> Increased Chance To Be A Human!"); VipBuffs[playerid][vb_ICBH][0] = 1; VipBuffs[playerid][vb_ICBH][1] = gettime()+86400; return 1; }
                case 1254: { SendClientMessage(playerid, -1, "{FFF000}>> Increased Chance To Be A Human Boss!"); VipBuffs[playerid][vb_ICBHB][0] = 1; VipBuffs[playerid][vb_ICBHB][1] = gettime()+86400; return 1; }

				case 1575:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_AIR_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_PEARL, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_COMPRESSED_AIR, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_AIR_REMEDY, 10);
                    }
                    return 1;
                }
                case 1578:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_EARTH_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_EMERALD, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_DECORATIVE_ROCK, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_PIECE_OF_LAND, 10);
                    }
                    return 1;
                }
                case 1579:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_MOON_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_AMETHYST, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_MAGIC_POWDER, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_PIECE_OF_MOON, 10);
                    }
                    return 1;
                }
                case 1580:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_FIRE_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_RUBY, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_SPARK_OF_FIRE, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_FIRE_OF_UNDERWORLD, 10);
                    }
                    return 1;
                }
            }
        }

        if(Text:clickedid == DayReward[1][playerid])
        {
            switch(DayRewards[playerid][1])
            {
                case 2061: { SendClientMessage(playerid, -1, "{FFF000}>> Double Ammo for all Classes!"); VipBuffs[playerid][vb_IAM][0] = 1; VipBuffs[playerid][vb_IAM][1] = gettime()+86400; return 1; }
                case 11738: { SendClientMessage(playerid, -1, "{FFF000}>> Med Kit for all Classes!"); VipBuffs[playerid][vb_IMK][0] = 1; VipBuffs[playerid][vb_IMK][1] = gettime()+86400; return 1; }
                case 1313: { SendClientMessage(playerid, -1, "{FFF000}>> Double Kills!"); VipBuffs[playerid][vb_IKS][0] = 1; VipBuffs[playerid][vb_IKS][1] = gettime()+86400; return 1; }
                case 1242: { SendClientMessage(playerid, -1, "{FFF000}>> Additional 50 percents of Armour!");  VipBuffs[playerid][vb_IAR][0] = 1; VipBuffs[playerid][vb_IAR][1] = gettime()+86400; return 1; }
                case 954: { SendClientMessage(playerid, -1, "{FFF000}>> Increades Drop Chance!"); VipBuffs[playerid][vb_IID][0] = 1; VipBuffs[playerid][vb_IID][1] = gettime()+86400; return 1; }
                case 1275: { SendClientMessage(playerid, -1, "{FFF000}>> Random Skin!"); VipBuffs[playerid][vb_Skin][0] = random(300); VipBuffs[playerid][vb_Skin][1] = gettime()+86400; return 1; }
				case 1314: { SendClientMessage(playerid, -1, "{FFF000}>> Increased Chance To Be A Human!"); VipBuffs[playerid][vb_ICBH][0] = 1; VipBuffs[playerid][vb_ICBH][1] = gettime()+86400; return 1; }
                case 1254: { SendClientMessage(playerid, -1, "{FFF000}>> Increased Chance To Be A Human Boss!"); VipBuffs[playerid][vb_ICBHB][0] = 1; VipBuffs[playerid][vb_ICBHB][1] = gettime()+86400; return 1; }

                case 1575:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_AIR_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_PEARL, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_COMPRESSED_AIR, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_AIR_REMEDY, 10);
                    }
                    return 1;
                }
                case 1578:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_EARTH_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_EMERALD, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_DECORATIVE_ROCK, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_PIECE_OF_LAND, 10);
                    }
                    return 1;
                }
                case 1579:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_MOON_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_AMETHYST, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_MAGIC_POWDER, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_PIECE_OF_MOON, 10);
                    }
                    return 1;
                }
                case 1580:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_FIRE_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_RUBY, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_SPARK_OF_FIRE, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_FIRE_OF_UNDERWORLD, 10);
                    }
                    return 1;
                }
            }
        }
        
		if(Text:clickedid == DayReward[0][playerid])
        {
            switch(DayRewards[playerid][0])
            {
                case 2061: { SendClientMessage(playerid, -1, "{FFF000}>> Double Ammo for all Classes!"); VipBuffs[playerid][vb_IAM][0] = 1; VipBuffs[playerid][vb_IAM][1] = gettime()+86400; return 1; }
                case 11738: { SendClientMessage(playerid, -1, "{FFF000}>> Med Kit for all Classes!"); VipBuffs[playerid][vb_IMK][0] = 1; VipBuffs[playerid][vb_IMK][1] = gettime()+86400; return 1; }
                case 1313: { SendClientMessage(playerid, -1, "{FFF000}>> Double Kills!"); VipBuffs[playerid][vb_IKS][0] = 1; VipBuffs[playerid][vb_IKS][1] = gettime()+86400; return 1; }
                case 1242: { SendClientMessage(playerid, -1, "{FFF000}>> Additional 50 percents of Armour!");  VipBuffs[playerid][vb_IAR][0] = 1; VipBuffs[playerid][vb_IAR][1] = gettime()+86400; return 1; }
                case 954: { SendClientMessage(playerid, -1, "{FFF000}>> Increades Drop Chance!"); VipBuffs[playerid][vb_IID][0] = 1; VipBuffs[playerid][vb_IID][1] = gettime()+86400; return 1; }
                case 1275: { SendClientMessage(playerid, -1, "{FFF000}>> Random Skin!"); VipBuffs[playerid][vb_Skin][0] = random(300); VipBuffs[playerid][vb_Skin][1] = gettime()+86400; return 1; }
				case 1314: { SendClientMessage(playerid, -1, "{FFF000}>> Increased Chance To Be A Human!"); VipBuffs[playerid][vb_ICBH][0] = 1; VipBuffs[playerid][vb_ICBH][1] = gettime()+86400; return 1; }
                case 1254: { SendClientMessage(playerid, -1, "{FFF000}>> Increased Chance To Be A Human Boss!"); VipBuffs[playerid][vb_ICBHB][0] = 1; VipBuffs[playerid][vb_ICBHB][1] = gettime()+86400; return 1; }

                case 1575:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_AIR_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_PEARL, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_COMPRESSED_AIR, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_AIR_REMEDY, 10);
                    }
                    return 1;
                }
                case 1578:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_EARTH_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_EMERALD, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_DECORATIVE_ROCK, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_PIECE_OF_LAND, 10);
                    }
                    return 1;
                }
                case 1579:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_MOON_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_AMETHYST, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_MAGIC_POWDER, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_PIECE_OF_MOON, 10);
                    }
                    return 1;
                }
                case 1580:
                {
                    switch(random(29))
                    {
                        case 0..5: AddItemInInv(playerid, ITEM_NAME_FIRE_STONE_I, 1);
                        case 6..14: AddItemInInv(playerid, ITEM_NAME_RUBY, 10);
                        case 15..19: AddItemInInv(playerid, ITEM_NAME_SPARK_OF_FIRE, 10);
                        case 20..29: AddItemInInv(playerid, ITEM_NAME_FIRE_OF_UNDERWORLD, 10);
                    }
                    return 1;
                }
            }
        }
		return 1;
    }
    return 0;
}

fun CheckForNewsOnLogin(playerid)
{
   	if(cache_num_rows())
	{
	    new time;
		cache_get_value_name_int(0, "time", time);
		if(gettime() < time)
		{
		    new y, m, d, h, i, s;
            TimestampToDate(time-259200, y, m, d, h, i, s, 3);
            switch(Player[playerid][pLang])
            {
				case 0: SendClientMessageFormat(playerid, -1, "{33adff}>> Update from %02d/%02d/%04d, use {FFFFFF}/news{33adff} to check", d, m, y);
                case 1: SendClientMessageFormat(playerid, -1, "{33adff}>> Обновления от %02d/%02d/%04d, ипользуйте {FFFFFF}/news{33adff} чтобы прочитать", d, m, y);
                case 2: SendClientMessageFormat(playerid, -1, "{33adff}>> Actualizacion desde %02d/%02d/%04d, use {FFFFFF}/news{33adff} para verificar", d, m, y);
			}
			SetTimerEx("CreateDisplayInfo", 30, 0, "iffifffi", playerid, 1024.0, 354.9375, 14, 470.000, 354.9375, 10.0, 5000);
		}
	}
	return 1;
}

fun OnPlayerRequestSpawn(playerid)
{
    /*for( new i = 0; i < 10; i++ ) TextDrawHideForPlayer(playerid, DayStars[i]);
    for( new i = 0; i < 4; i++ )  TextDrawHideForPlayer(playerid, DayReward[i][playerid]);
    CancelSelectTextDraw(playerid);*/
    
    //if(!SelectReward[playerid]) return 0;
	if(!Player[playerid][pLogged]) return 0;
	
	if(Player[playerid][pClan] > 0)
	{
	    if(strlen(Clan[Player[playerid][pClan]][g_Rules]) >= 1) SendClientMessageFormat(playerid, -1, "{C659B6}>> Gang rules: %s", Clan[Player[playerid][pClan]][g_Rules]);
	    if(strlen(Clan[Player[playerid][pClan]][g_Motd]) >= 1) SendClientMessageFormat(playerid, -1, "{C659B6}>> Gang mot: %s", Clan[Player[playerid][pClan]][g_Motd]);
		for( new j; j < sizeof(Clan); j++)
		{
			if(Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToEditReq] && Clan[j][g_AllianceWith][Player[playerid][pClan]] == 1)
        	{
        		SendClientMessageFormat(playerid, -1, "{C659B6}>> %s wants to make an alliance with you, use /gang alliance %d or /gang terminate %d", Clan[j][Full], j, j);
        	}
		}
		///if(Clan[Player[playerid][pClan]][g_House] >= 1) InGangHouse[playerid] = true;
	}
	
	new IP[16], msg[128];
	GetPlayerIp(playerid, IP, 16);
 	format(msg, sizeof(msg), "blackbox.ipinfo.app/lookup/%s", IP);
	HTTP(playerid, HTTP_GET, msg, "", "HTTP_OnPlayerProxyCheck");

    if(GetUnlockedSlot(Achievements[playerid][ac_PlayedTime], 0) == 0) Player[playerid][SessionOnline][0] = (gettime() + (3600*2));
    if(GetUnlockedSlot(Achievements[playerid][ac_PlayedTime], 1) == 0) Player[playerid][SessionOnline][1] = (gettime() + (3600*8));
    Player[playerid][SessionOnline][2] = (gettime() + (3600*3));
	
	SendClientCheck(playerid, 0x2, 0, 0, 4);
	SobeitTime[playerid] = 5;
	new query[128];
    mysql_format(Base, query, sizeof(query), "SELECT `time` FROM `news` WHERE `build`='"SERVER_BUILD"' ORDER BY `ID` DESC LIMIT 1");
	mysql_tquery(Base, query, "CheckForNewsOnLogin", "i", playerid);

    //cmd::news(playerid);

    if(Player[playerid][pClan] >= 1 && Player[playerid][pClanRank] >= Clan[Player[playerid][pClan]][g_RankToAccept])
	{
	    new query[400];
		mysql_format(Base, query, sizeof(query), "SELECT applications.*, users.Name, users.Rank, `Achievements`.h FROM applications JOIN users ON applications.ID = users.ID JOIN `Achievements` ON `Achievements`.ID = users.ID WHERE applications.Clan = %d GROUP BY applications.ID ORDER BY applications.date DESC LIMIT 30", Player[playerid][pClan]);
		mysql_tquery(Base, query, "GetGangApplicationsCount", "i", playerid);
	}

	return 1;
}

fun OnObjectMoved(objectid)
{
	return 1;
}

fun OnPlayerObjectMoved(playerid, objectid)
{
	return 1;
}

fun OnVehicleMod(playerid, vehicleid, componentid)
{
    foreach(Player, i)
    {
        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Player Crasher", Player[playerid][UserName], playerid);
	}

    /*RemoveVehicleComponent(vehicleid,componentid);
    IsBanned{playerid} = true;
    BanPlayer(playerid, "Vehicle Mod");*/
    
	return 0;
}

fun OnVehiclePaintjob(playerid, vehicleid, paintjobid)
{
    foreach(Player, i)
    {
        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Player Crasher", Player[playerid][UserName], playerid);
	}
    /*IsBanned{playerid} = true;
    BanPlayer(playerid, "Vehicle Mod");*/
	return 0;
}

fun OnVehicleRespray(playerid, vehicleid, color1, color2)
{
    foreach(Player, i)
    {
        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Player Crasher", Player[playerid][UserName], playerid);
	}
    /*IsBanned{playerid} = true;
    BanPlayer(playerid, "Vehicle Mod");*/
	return 0;
}

fun OnPlayerSelectedMenuRow(playerid, row)
{
	return 1;
}

fun OnPlayerExitedMenu(playerid)
{
	return 1;
}

fun OnPlayerInteriorChange(playerid, newinteriorid, oldinteriorid)
{
    if(IsBeingSpeced[playerid])
    {
        foreach(Player,i)
        {
            if(spectatorid[i] == playerid && Player[i][pAdmin] > 0)
            {
                SetPlayerInterior(i,GetPlayerInterior(playerid));
                SetPlayerVirtualWorld(i,GetPlayerVirtualWorld(playerid));
            }
        }
    }
	return 1;
}

fun HideSlenderObjects(playerid)
{
	for( new i; i < 6; i++ )
	{
	    RemovePlayerAttachedObject(playerid, 4 + i);
	}
	if(Player[playerid][Helmet]) SetPlayerAttachedObject(playerid, 9, 18936, 2, 0.129999,0.030000,0.000000,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000);
    SetPet(playerid);
}

fun RemoveRocketboots(playerid)
{
	RemovePlayerAttachedObject(playerid, 4);
	RemovePlayerAttachedObject(playerid, 5);
}

fun RogueSkinBackZ(playerid)
{
    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1]  == ROGUEZOMBIE)
    {
        SetPlayerColor(playerid, COLOR_ZOMBIE);
        SetPlayerSkinAC(playerid, 135);
		ClearAnimations(playerid);
    }
}

fun GetTopGangs(playerid)
{
	new mp = 1, bool:IsTopGang[30] = {false, ...}, i, j,
		alliance_count = 0, hasHouse[32] = " ";
	
    for( i = 0; i < cache_num_rows(); i++)
    {
    	cache_get_value_name_int(i, "controlled", mp);
     	if(strlen(Clan[mp][Full]) >= 1) IsTopGang[mp] = true;
	}
    for( i = 1; i < sizeof(Clan); i++ )
    {
        hasHouse = " ";
        alliance_count = 0;
    	for( j = 0; j < 30; j++ ) if(Clan[i][g_AllianceWith][j] == 2) alliance_count += Clan[j][g_MaxMembers];
        if(Clan[i][__isActive] && !IsTopGang[i])
		{
		    if(Clan[i][g_House] && !Clan[i][g_IsNeutral]) hasHouse = " ";
			SendClientMessageFormat(playerid, -1, "{B2F558}%s{FFFFFF} - ID: %d (%d EXP)%s {e0e0d2}(Members: %d / 50) (Founder: %s)", Clan[i][Full], i, Clan[i][EXP], hasHouse, (Clan[i][g_MaxMembers]+alliance_count), Clan[i][Owner]);
		}
	}
	
 	new qu[300];
    mysql_format(Base, qu, sizeof(qu), "SELECT count(`controlled`), `controlled` FROM `maps` WHERE `controlled` > 0 GROUP BY `controlled` ORDER BY count(`controlled`) DESC");
	mysql_tquery(Base, qu, "ShowMostTopGangs", "i", playerid);
	
	return 1;
}

fun ShowMostTopGangs(playerid)
{
    new mp = 1, i = 0, c = 0, hasHouse[32] = " ", alliance_count, j;
    for( i = 0; i < cache_num_rows(); i++)
    {
        hasHouse = " ";
        cache_get_value_name_int(i, "controlled", mp);
        if(strlen(Clan[mp][Full]) >= 1)
        {
            alliance_count = 0;
            for( j = 0; j < 30; j++ ) if(Clan[mp][g_AllianceWith][j] == 2) alliance_count += Clan[j][g_MaxMembers];
            if(c == 0)
			{
			    if(Clan[mp][g_House]) hasHouse = " ";
				SendClientMessageFormat(playerid, -1, "{FFD500}%s - ID: %d (%d EXP)%s{FFD500} (Members: %d / 50) (Founder: %s) - MOST TOP GANG - RULER", Clan[mp][Full], mp, Clan[mp][EXP], hasHouse, (Clan[mp][g_MaxMembers]+alliance_count), Clan[mp][Owner]);
			}
			else
			{
			    if(Clan[mp][g_House]) hasHouse = " ";
				SendClientMessageFormat(playerid, -1, "{FFD500}%s - ID: %d (%d EXP)%s{FFD500} (Members: %d / 50) (Founder: %s) - TOP GANG", Clan[mp][Full], mp, Clan[mp][EXP], hasHouse, (Clan[mp][g_MaxMembers]+alliance_count), Clan[mp][Owner]);
			}
			c++;
		}
	}
	return 1;
}

fun UnfreezePlayer(playerid) return TogglePlayerControllable(playerid, true);

fun SpaceBreaker(playerid)
{
	RemovePlayerAttachedObject(playerid, 9);
	SetPlayerVirtualWorld(playerid, 1);
	new Float:pos[3];
	GetPlayerPos(playerid, pos[0],pos[1],pos[2]);
 	//CreateObjectsX(18728, pos[0], pos[1], pos[2] - 1.6, 0.0, 0.0, 10, 3.0, 3);
 	
 	SetPlayerWeather(playerid, -84);
	SetPlayerTime(playerid,4,0);
}

fun MoveCellphone(playerid, objectid)
{
	new Float:pos[3];
	GetObjectRot(objectid, pos[0], pos[1], pos[2]);
	SetObjectRot(objectid, pos[0]+0.2, pos[1] + 0.5, pos[2] + 5.0);
	Player[playerid][PortalsUsed]++;
	if(Player[playerid][PortalsUsed] <= 99)
	{
	    SetTimerEx("MoveCellphone", 10, false, "ii", playerid, Portals[playerid]);
	}
	else
	{
	    GetObjectPos(objectid, pos[0], pos[1], pos[2]);
		//CreateObjectsX(18707, pos[0], pos[1], pos[2] - 1.6, 0.0, 0.0, 20, 10.0, 2);
		CreateObjectsX(18737, pos[0], pos[1], pos[2]-10.0, 0.0, 0.0, 10, 10.0, 3);
		
		new obj = CreateObject(18697, pos[0], pos[1], pos[2]-10.0, 0.0, 0.0, 0.0);
		SetTimerEx("RemoveObject", 1000, 0, "i", obj);
		
	    Player[playerid][PortalsUsed] = 0;
	    
	    StopObject(objectid);
	    SetObjectRot(objectid, 0.0, 0.0, 0.0);
	    AntiTPTimerEx(playerid, 4);
	    new Float:pp[3];
		GetPlayerPos(playerid, pp[0], pp[1], pp[2]);
		GetObjectPos(objectid, pos[0], pos[1], pos[2]);
		SetObjectPos(objectid, pp[0], pp[1], pp[2]);
		
		SetPlayerPosFindZ(playerid, pos[0], pos[1], pos[2]);
		
		GetObjectPos(objectid, pos[0], pos[1], pos[2]);
	 	new str[96];
		format(str, 96, "{4dff4d}[Phone station]{00CCCC} %s\n{FFF000}Health: %.0f", Player[playerid][UserName], PortalsHealth[playerid]);
		PortalsText[playerid] = Create3DTextLabel(str, 0xFF0000FF, pos[0], pos[1], pos[2] + 0.5, 15.0, 0, 0);
	}
}

fun __check(playerid)
{
    if(gettime() < CanUseCBugTime[playerid]) return 1;
	if(GetPlayerSpecialAction( playerid ) == SPECIAL_ACTION_DUCK) return 1;
	if(IsPlayerOnDuel[playerid] && DuelRules[0][playerid] >= 1) return 0;
	if(InGangWar{playerid}) return 0;
	if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 0;
	
 	ClearAnimations(playerid, 1);
	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
	ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
	gLastShotTime[playerid] = GetTickCount();
	if(Player[playerid][eventMember] <= -1) CBugTimes[playerid]++;

	if(!IsPlayerOnDuel[playerid])
	{
		if(Player[playerid][pXP] <= 4999)
		{
		    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses C-Bug", Player[playerid][UserName], playerid);
			return 1;
		}

		if(CBugTimes[playerid] >= 3 && Player[playerid][Jailed] <= 0)
		{
			foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[playerid][UserName], "the System", 1, "C-bug");
			SetPlayerSkinAC(playerid, 62, 1);
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
			SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
			SetPlayerFacingAngle(playerid, 263.0160);
			SetPlayerInterior(playerid, 6);
			SetPlayerColor(playerid, 0x000000FF);
			Player[playerid][Jailed] = 60;
			SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
			SetPlayerArmourAC(playerid, 0.0);
			SetPlayerHealthAC(playerid, 100.0);
			Player[playerid][Accelerated] = -1;
			if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
		}
	}
	gLastShotTime[playerid] = -1;
	return 1;
}

fun OnPlayerKeyStateChange(playerid, newkeys, oldkeys)
{
    if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == IRONMAN)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        new Float:FuelPerJump = 2.9;
	        
	        if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 1;
			if(Abilitys[playerid][Fuel] >= FuelPerJump)
			{
			    new Float:pos[3],st[24];
				Abilitys[playerid][Fuel] -= FuelPerJump;
				if(Abilitys[playerid][Fuel] <= 20.0) format(st, 24, "~r~Energy: %.2f%%", Abilitys[playerid][Fuel]), GameTextForPlayer(playerid,st,1000,5);
				if(Abilitys[playerid][Fuel] <= 50.0 && Abilitys[playerid][Fuel] >= 21.0) format(st, 24, "~y~Energy: %.2f%%", Abilitys[playerid][Fuel]), GameTextForPlayer(playerid,st,1000,5);
				if(Abilitys[playerid][Fuel] >= 51.0) format(st, 24, "~g~Energy: %.2f%%", Abilitys[playerid][Fuel]), GameTextForPlayer(playerid,st,1000,5);
				GetPlayerCameraFrontVector(playerid, pos[0], pos[1], pos[2]);
				SetPlayerVelocity(playerid, pos[0]/1.5, pos[1]/1.5, pos[2] + 0.3);
				SetPlayerAttachedObject(playerid,4,18699,9,0.396999,-0.566000,-1.521999,-16.700000,-13.200001,143.499984,1.000000,1.000000,1.000000);
				SetPlayerAttachedObject(playerid,5,18699,10,0.214999,-1.677996,-0.217999,-79.799911,-7.799998,49.200019,1.000000,1.000000,1.000000);
				SetTimerEx("RemoveRocketboots", 2000, 0, "i", playerid);
				AntiSlap(playerid, 2);
				AntiTPTimerEx(playerid, 4);
				AntiSpeedHack(playerid, 3);
			}
			else GameTextForPlayer(playerid,"~r~Empty!",1000,5);
		}
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == SPACEBREAKERZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        if(GetPlayerVirtualWorld(playerid) == 0)
	        {
			   	if(gettime() - 20 < Abilitys[playerid][BreakSpace])
		   		{
					switch(Player[playerid][pLang])
				    {
						case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
				        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
				        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
					}
					return 1;
				}
    			SetPlayerAttachedObject(playerid, 9, 2780,1, 0.000000,0.000000,0.014999,0.000000,0.000000,0.000000,0.409000,0.090999,0.000000);
       			SetTimerEx("SpaceBreaker", 3000, 0, "i", playerid);
				Abilitys[playerid][BreakSpace] = gettime();
				SetAbilityTimer(playerid, 20);
			}
			else
			{
				SetPlayerVirtualWorld(playerid, 0);
				SetPlayerWeather(playerid, 0);
				SetPlayerDrunkLevel(playerid, 0);
				SetPlayerTime(playerid,12,0);
			}
		}
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == DOCTOR)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        if(Time <= 30) return 0;
	        if(GetPlayerVirtualWorld(playerid) == 0)
	        {
			   	if(gettime() - 43 < Abilitys[playerid][BreakSpace])
		   		{
					switch(Player[playerid][pLang])
				    {
						case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
				        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
				        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
					}
					return 1;
				}
    			SetPlayerAttachedObject(playerid, 9, 2780,1, 0.000000,0.000000,0.014999,0.000000,0.000000,0.000000,0.409000,0.090999,0.000000);
       			SetTimerEx("SpaceBreaker", 1500, 0, "i", playerid);
				Abilitys[playerid][BreakSpace] = gettime();
				DoctorTimes[playerid] = gettime() + 23;
				SetAbilityTimer(playerid, 43);
			}
			else
			{
				SetPlayerVirtualWorld(playerid, 0);
				SetPlayerWeather(playerid, 0);
				SetPlayerDrunkLevel(playerid, 0);
				SetPlayerTime(playerid,12,0);
			}
		}
	}
	
    if(KEY(KEY_WALK))
	{
 		if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == RISENDEAD)
 		{
 		    if(!CanUseAbility(playerid)) return 0;
 		    new bool:canBeDone;
 		    for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(playerid, 110.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j])) { canBeDone = true; break; }
            for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(playerid, 25.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j])) { canBeDone = false; break; }
			for( new j; j < sizeof(Map[HumanSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(playerid, 25.0, Map[HumanSpawnX][j], Map[HumanSpawnY][j], Map[HumanSpawnZ][j])) { canBeDone = false; break; }

			if(!canBeDone)
			{
			    SendClientMessage(playerid, -1, "{FF0000}>> Too far or too close from Zombies/Humans Spawn Arena!");
			    return 1;
			}
			if(NewSpawnPoints[0][0] == 0.0)
 		    {
 		        GetPlayerPos(playerid, NewSpawnPoints[0][0], NewSpawnPoints[0][1], NewSpawnPoints[0][2]);

 		        new nText[MAX_PLAYER_NAME + 32];
 		        format(nText, sizeof(nText), "{ffff99}%s's\nZombie Spawn", Player[playerid][UserName]);
 		        NewSpawnPointsText[0] = Create3DTextLabel(nText, 0xFF0000FF, NewSpawnPoints[0][0], NewSpawnPoints[0][1], NewSpawnPoints[0][2], 50.0, 0, 1);
                NewSpawnsCreators[0] = playerid;
		 	}
	        else if(NewSpawnPoints[1][0] == 0.0)
 		    {
 		        GetPlayerPos(playerid, NewSpawnPoints[1][0], NewSpawnPoints[1][1], NewSpawnPoints[1][2]);
 		        new nText[MAX_PLAYER_NAME + 32];
 		        format(nText, sizeof(nText), "{ffff99}%s's\nZombie Spawn", Player[playerid][UserName]);
 		        NewSpawnPointsText[1] = Create3DTextLabel(nText, 0xFF0000FF, NewSpawnPoints[1][0], NewSpawnPoints[1][1], NewSpawnPoints[1][2], 50.0, 0, 1);
                NewSpawnsCreators[1] = playerid;
		 	}
		 	else
		 	{
		 	    SendClientMessage(playerid, -1, "{FF0000}>> Limit Exceeded!");
		 	    return 1;
		 	}
	    }
	}
		
 	if(KEY(KEY_JUMP) && newkeys & KEY_SPRINT)
    {
        if(!IsPlayerInAnyVehicle(playerid) && !Player[playerid][aDuty] && !(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == ATHLETE))
        {
            ++JumpTimes[playerid];
            if(JumpTimes[playerid] > 3)
            {
	            ApplyAnimation(playerid, "PED", "KO_SKID_BACK",4.1,0,0,0,0,0);
	            SetTimerEx("AntiBunnyuHop", 600,0,"d", playerid);
	            AntiCheat[playerid][ac_OldHP] = 0.0;
	            JumpTimes[playerid] = 0;
	            //IgnoreCollision[playerid] = 2;
			}
		}
	}

    if(KEY(KEY_WALK) && GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == MEDIC)
    {
        new player = GetPlayerTargetPlayer(playerid);
        if(IsPlayerConnected(player) && GetPlayerTeamEx(player) == TEAM_HUMAN)
		{
	        if(gettime() - 5 < Player[playerid][checkForUnsleep])
			{
	            switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
			}
			else
			{
			    new str[5], Float:x, Float:y, Float:z;
      			GetPlayerPos(player, x, y, z);
                if(IsPlayerInRangeOfPoint(playerid, 1.5, x, y, z) && Player[player][IsPlayerInfected])
	            {
	                format(str, sizeof(str), "%d", player);
	                cmd::cure(playerid, str);
	            }
	        }
		}
    }
    
    if(KEY(KEY_CROUCH)) SetPVarInt(playerid, "Slide", 1);
    if((GetTickCount() - gLastShotTime[playerid]) < 750)
    {
    	if(KEY(KEY_JUMP | KEY_SPRINT | KEY_CROUCH))
     	{
     	    if(!IsPlayerOnDuel[playerid] && !InGangWar{playerid} && GetPlayerColor(playerid) != COLOR_EVACUATED)
     	    {
     	        if(gettime() < CanUseCBugTime[playerid]) return 1;
     	        if(Player[playerid][pXP] <= 4999)
				{
				    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses C-Bug", Player[playerid][UserName], playerid);
                    ClearAnimations(playerid, 1);
					ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
					ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
					gLastShotTime[playerid] = GetTickCount();
					return 1;
				}
				
	      		ClearAnimations(playerid, 1);
				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
				ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
				gLastShotTime[playerid] = GetTickCount();
				if(Player[playerid][eventMember] <= -1) CBugTimes[playerid]++;

				if(CBugTimes[playerid] >= 3 && Player[playerid][Jailed] <= 0)
				{
					foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[playerid][UserName], "the System", 1, "C-bug");
					SetPlayerSkinAC(playerid, 62, 1);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
					SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
	    			SetPlayerFacingAngle(playerid, 263.0160);
	    			SetPlayerInterior(playerid, 6);
	    			SetPlayerColor(playerid, 0x000000FF);
	    			Player[playerid][Jailed] = 60;
	    			SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
	    			SetPlayerArmourAC(playerid, 0.0);
	   				SetPlayerHealthAC(playerid, 100.0);
	   				Player[playerid][Accelerated] = -1;
	   				if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
				}
				gLastShotTime[playerid] = -1;
				return 1;
			}
   		}
        if(newkeys & KEY_CROUCH)
        {
        	SetTimerEx("__check", 200, false, "i", playerid );
        }
    }

	/************************************* TODO ********************************/
	
    if(IsJumping(playerid) && GetPlayerSpeed(playerid) >= 15 && Time >= 5 && Time <= 265 && KEY(KEY_JUMP))
    {
        if(Achievements[playerid][Jumper] <= 701) Achievements[playerid][Jumper]++;
        if(Achievements[playerid][Jumper] == 100) UnlockAchievement(playerid, 67, 200); 
        if(Achievements[playerid][Jumper] == 300) UnlockAchievement(playerid, 68, 700); 
        if(Achievements[playerid][Jumper] == 700) UnlockAchievement(playerid, 69, 1500); 
		/*************************************** CHAOS *****************************/
		for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
		{
		    if(NightEvent[evn_Mission][j] == ev_SKIPPER && e_ExclusionZone[playerid][e_ezMission][j] <= 1499)
		    {
		        ++e_ExclusionZone[playerid][e_ezMission][j];
		        if(e_ExclusionZone[playerid][e_ezMission][j] == 1500) ev_CompleteToNext(playerid, ev_SKIPPER);
				break;
		    }
		}
		/*************************************************************************/
		TimesJumped[playerid]++;
		if(TimesJumped[playerid] >= 4)
		{
		    ApplyAnimation(playerid, "PED", "getup_front", 4.1, 0, 0, 0, 0, 0);
            AntiCheat[playerid][ac_OldHP] = 0.0;
		}
    }
    
    if(MaybeBH[playerid] > 2)
	{
		MaybeBH[playerid] = 0;
 		if(GetPlayerSpeed(playerid) <= 25)
	 	{
		 	ApplyAnimation(playerid, "PED", "getup_front", 4.1, 0, 0, 0, 0, 0);
            AntiCheat[playerid][ac_OldHP] = 0.0;
		}
		MaybeBH[playerid]--;
		SetPVarInt(playerid,"bunnyhop",gettime() + 1);
    }
	
	//SendClientMessageFormat(playerid, -1, "N: %d / O: %d", newkeys, oldkeys);
	
	if(newkeys & KEY_HANDBRAKE && GetPlayerWeapon(playerid) == 34)
	{
	    for( new i; i < 4; i++ )
		{
        	if(1 <= Player[playerid][pAttID][1+(i*2)] <= 4 ||
        	Player[playerid][pAttID][1+(i*2)] == 17 || Player[playerid][pAttID][1+(i*2)] == 18)
        	{
            	RemovePlayerAttachedObject(playerid, i);
        	}
		}
		if(VipBuffs[playerid][vb_IMK][0] == 1 && gettime() < VipBuffs[playerid][vb_IMK][1] || Healer[playerid]) RemovePlayerAttachedObject(playerid, 9);
		
		TintaApasata[playerid] = 1;
		return 1;
	}
	
	if((newkeys & KEY_HANDBRAKE && oldkeys & KEY_FIRE || newkeys & KEY_FIRE && oldkeys & KEY_HANDBRAKE) && GetPlayerWeapon(playerid) == 34)
    {
		for( new i; i < 4; i++ ) {
        	if(1 <= Player[playerid][pAttID][1+(i*2)] <= 4 ||
        	Player[playerid][pAttID][1+(i*2)] == 17 || Player[playerid][pAttID][1+(i*2)] == 18)
        	{
            	RemovePlayerAttachedObject(playerid, i);
        	}
		}
		if(VipBuffs[playerid][vb_IMK][0] == 1 && gettime() < VipBuffs[playerid][vb_IMK][1] || Healer[playerid]) RemovePlayerAttachedObject(playerid, 9);
		TintaApasata[playerid] = 1;
		return 1;
    }
	
	if(newkeys & KEY_HANDBRAKE && !IsPlayerInAnyVehicle(playerid)) TintaApasata[playerid] = 1;
    else if(oldkeys & KEY_HANDBRAKE && GetPlayerWeapon(playerid) != 34) TintaApasata[playerid] = 0;
	
	if(oldkeys & KEY_HANDBRAKE && GetPlayerWeapon(playerid) == 34) TintaApasata[playerid] = 0;
	
	if(KEY(KEY_YES)) { cmd::class(playerid,""); }
	if(KEY(KEY_NO)) { cmd::settings(playerid); }
    
	if(oldkeys & KEY_HANDBRAKE && GetPlayerWeapon(playerid) == 34) AttachUserObjects(playerid);

	if((KEY(KEY_FIRE | KEY_CROUCH) || (oldkeys & KEY_FIRE) && (newkeys & KEY_CROUCH)) && !IsPlayerOnDuel[playerid] && !InGangWar{playerid} && GetPlayerAnimationIndex(playerid) != 839)
	{
	    new LastShotDelay = GetTickCount() - LastShotTime[playerid];
		switch(GetPlayerWeapon(playerid))
		{
			case 22:
			{
				if(LastShotDelay < COLT_DELAY_HIT)
		 		{
		 		    if(Player[playerid][pXP] <= 4999)
					{
					    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses C-Bug", Player[playerid][UserName], playerid);
                        ClearAnimations(playerid, 1);
	     				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
						ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
						LastShotTime[playerid] = GetTickCount();
						return 1;
					}
					
		 		    ClearAnimations(playerid, 1);
	    			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
					ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
					LastShotTime[playerid] = GetTickCount();
					if(Player[playerid][eventMember] <= -1) CBugTimes[playerid]++;
					
					if(CBugTimes[playerid] >= 3 && Player[playerid][Jailed] <= 0)
					{
						foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[playerid][UserName], "the System", 1, "C-bug");
						SetPlayerSkinAC(playerid, 62, 1);
						SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
						SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
		    			SetPlayerFacingAngle(playerid, 263.0160);
		    			SetPlayerInterior(playerid, 6);
		    			SetPlayerColor(playerid, 0x000000FF);
		    			Player[playerid][Jailed] = 60;
		    			SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		    			SetPlayerArmourAC(playerid, 0.0);
		   				SetPlayerHealthAC(playerid, 100.0);
		   				Player[playerid][Accelerated] = -1;
		   				if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
					}
				 	return 0;
				}
			}
		   	case 23:
   			{
			   	if(LastShotDelay < SILENCE_HIT_DELAY)
			   	{
			   	    if(Player[playerid][pXP] <= 4999)
					{
					    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses C-Bug", Player[playerid][UserName], playerid);
                        ClearAnimations(playerid, 1);
	     				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
						ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
						LastShotTime[playerid] = GetTickCount();
						return 1;
					}

		 		    ClearAnimations(playerid, 1);
	    			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
					ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
					LastShotTime[playerid] = GetTickCount();
					if(Player[playerid][eventMember] <= -1) CBugTimes[playerid]++;
					
					if(CBugTimes[playerid] >= 3 && Player[playerid][Jailed] <= 0)
					{
						foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[playerid][UserName], "the System", 1, "C-bug");
						SetPlayerSkinAC(playerid, 62, 1);
						SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
						SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
		    			SetPlayerFacingAngle(playerid, 263.0160);
		    			SetPlayerInterior(playerid, 6);
		    			SetPlayerColor(playerid, 0x000000FF);
		    			Player[playerid][Jailed] = 60;
		    			SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		    			SetPlayerArmourAC(playerid, 0.0);
		   				SetPlayerHealthAC(playerid, 100.0);
		   				Player[playerid][Accelerated] = -1;
		   				if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
					}
			 		return 0;
				}
			}
		   	case 24:
   			{
			   	if(LastShotDelay < DEAGLE_HIT_DELAY)
			   	{
			   	    if(Player[playerid][pXP] <= 4999)
					{
					    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses C-Bug", Player[playerid][UserName], playerid);
                        ClearAnimations(playerid, 1);
	     				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
						ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
						LastShotTime[playerid] = GetTickCount();
						return 1;
					}

		 		    ClearAnimations(playerid, 1);
	    			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
					ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
					LastShotTime[playerid] = GetTickCount();
					if(Player[playerid][eventMember] <= -1) CBugTimes[playerid]++;
					
					if(CBugTimes[playerid] >= 3 && Player[playerid][Jailed] <= 0)
					{
						foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[playerid][UserName], "the System", 1, "C-bug");
						SetPlayerSkinAC(playerid, 62, 1);
						SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
						SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
		    			SetPlayerFacingAngle(playerid, 263.0160);
		    			SetPlayerInterior(playerid, 6);
		    			SetPlayerColor(playerid, 0x000000FF);
		    			Player[playerid][Jailed] = 60;
		    			SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		    			SetPlayerArmourAC(playerid, 0.0);
		   				SetPlayerHealthAC(playerid, 100.0);
		   				Player[playerid][Accelerated] = -1;
		   				if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
					}
				 	return 0;
				}
			}
		   	case 25:
   			{
			   	if(LastShotDelay < SHOTGUN_HIT_DELAY)
			   	{
			   	    if(Player[playerid][pXP] <= 4999)
					{
					    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses C-Bug", Player[playerid][UserName], playerid);
                        ClearAnimations(playerid, 1);
	     				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
						ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
						LastShotTime[playerid] = GetTickCount();
						return 1;
					}

		 		    ClearAnimations(playerid, 1);
	    			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
					ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
					LastShotTime[playerid] = GetTickCount();
					if(Player[playerid][eventMember] <= -1) CBugTimes[playerid]++;
					
					if(CBugTimes[playerid] >= 3 && Player[playerid][Jailed] <= 0)
					{
						foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[playerid][UserName], "the System", 1, "C-bug");
						SetPlayerSkinAC(playerid, 62, 1);
						SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
						SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
		    			SetPlayerFacingAngle(playerid, 263.0160);
		    			SetPlayerInterior(playerid, 6);
		    			SetPlayerColor(playerid, 0x000000FF);
		    			Player[playerid][Jailed] = 60;
		    			SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		    			SetPlayerArmourAC(playerid, 0.0);
		   				SetPlayerHealthAC(playerid, 100.0);
		   				Player[playerid][Accelerated] = -1;
		   				if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
					}
			 		return 0;
				}
			}
		   	case 33:
   			{
			   	if(LastShotDelay < RIFLE_HIT_DELAY)
			   	{
			   	    if(Player[playerid][pXP] <= 4999)
					{
					    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses C-Bug", Player[playerid][UserName], playerid);
                        ClearAnimations(playerid, 1);
	     				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
						ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
						LastShotTime[playerid] = GetTickCount();
						return 1;
					}

		 		    ClearAnimations(playerid, 1);
	    			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
					ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
					LastShotTime[playerid] = GetTickCount();
					if(Player[playerid][eventMember] <= -1) CBugTimes[playerid]++;
					
					if(CBugTimes[playerid] >= 3 && Player[playerid][Jailed] <= 0)
					{
						foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[playerid][UserName], "the System", 1, "C-bug");
						SetPlayerSkinAC(playerid, 62, 1);
						SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
						SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
		    			SetPlayerFacingAngle(playerid, 263.0160);
		    			SetPlayerInterior(playerid, 6);
		    			SetPlayerColor(playerid, 0x000000FF);
		    			Player[playerid][Jailed] = 60;
		    			SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		    			SetPlayerArmourAC(playerid, 0.0);
		   				SetPlayerHealthAC(playerid, 100.0);
		   				Player[playerid][Accelerated] = -1;
		   				if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
					}
			 		return 0;
				}
			}
		   	case 34:
   			{
			   	if(LastShotDelay < SNIPER_HIT_DELAY)
			   	{
			   	    if(Player[playerid][pXP] <= 4999)
					{
					    foreach(Player, j) if(Player[j][pAdmin] >= 1) SendClientMessageFormat(j, -1, "{6A8EE2}>> %s(%d) supposedly uses C-Bug", Player[playerid][UserName], playerid);
                        ClearAnimations(playerid, 1);
	     				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
						ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
						LastShotTime[playerid] = GetTickCount();
						return 1;
					}

		 		    ClearAnimations(playerid, 1);
	    			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Warning", "Do not use C-Bug!", "Ok", "");
					ApplyAnimation(playerid,"GYMNASIUM","gym_tread_falloff",1.0,0,0,0,1,3000);
					LastShotTime[playerid] = GetTickCount();
					if(Player[playerid][eventMember] <= -1) CBugTimes[playerid]++;
					
					if(CBugTimes[playerid] >= 3 && Player[playerid][Jailed] <= 0)
					{
						foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][181], Player[playerid][UserName], "the System", 1, "C-bug");
						SetPlayerSkinAC(playerid, 62, 1);
						SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CUFFED);
						SetPlayerPosAC(playerid,264.1425,77.4712,1001.0391);
		    			SetPlayerFacingAngle(playerid, 263.0160);
		    			SetPlayerInterior(playerid, 6);
		    			SetPlayerColor(playerid, 0x000000FF);
		    			Player[playerid][Jailed] = 60;
		    			SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		    			SetPlayerArmourAC(playerid, 0.0);
		   				SetPlayerHealthAC(playerid, 100.0);
		   				Player[playerid][Accelerated] = -1;
		   				if(IsPlayerAcceleratedText[playerid]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[playerid]),IsPlayerAcceleratedText[playerid]=Text3D:-1;
					}
			 		return 0;
				}
			}
		}
	}

	if(KEY(KEY_FIRE) && GetPlayerWeapon(playerid) == 9 && !Player[playerid][aDuty])
	{
		if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	    {
	        new Float:pos[3];
			foreach(Player,i)
			{
			    for( new j; j < 18; j++ )
			    {
				    if(IsValidObject(box[i][j]))
				    {
				    	GetObjectPos(box[i][j], pos[0], pos[1], pos[2]);
						if(IsPlayerInRangeOfPoint(playerid, 1.5, pos[0], pos[1], pos[2]))
						{
                            DestroyObject(box[i][j]);
                            Delete3DTextLabel(boxText[i][j]);
                            box[i][j] = INVALID_OBJECT_ID;
		        		}
					}
				}
				if(IsValidObject(Portals[i]))
    			{
    			    GetObjectPos(Portals[i], pos[0], pos[1], pos[2]);
					if(IsPlayerInRangeOfPoint(playerid, 4.0, pos[0], pos[1], pos[2]))
					{
					    PortalsHealth[i] -= 0.5;

					    new str[96];
						format(str, 96, "{4dff4d}[Phone station]{00CCCC} %s\n{FFF000}Health: %.0f", Player[i][UserName], PortalsHealth[i]);
						Update3DTextLabelText(PortalsText[i], -1, str);
					    if(PortalsHealth[i] <= 0.0)
					    {
							DestroyObject(Portals[i]);
                       	 	Delete3DTextLabel(PortalsText[i]);
                        	Portals[i] = INVALID_OBJECT_ID;
						}
	        		}
    			}
	        }
		}
	}
	
	if(KEY(KEY_JUMP) || KEY(KEY_SPRINT))
	{
		if(gettime() < Player[playerid][SlowWalk] && CanUseAbility(playerid)) { ApplyAnimation(playerid, "PED", "WOMAN_walkfatold", 4.1, 0, 1, 1, 0, 2500); }
		if(Player[playerid][LegBreak] && CanUseAbility(playerid) && !Player[playerid][AntiLegBreaks]) { ApplyAnimation(playerid, "PED", "getup_front", 4.1, 0, 1, 1, 0, 0); }
	}

	if(KEY(KEY_SECONDARY_ATTACK) && GetPlayerSpecialAction(playerid) >= 1)
	{
	    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	}
	
	//if(KEY(KEY_FIRE) && GetPlayerWeapon(playerid) >= 16) SetDamageInfo(playerid, GetPlayerWeapon(playerid));
	
	
	/*if(KEY(KEY_WALK))
	{
		if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) SendClientMessageFormat(playerid, -1, "%s", zombieClassesListNames[0][getClass(playerid)]);
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN) SendClientMessageFormat(playerid, -1, "%s", humanClassesListNames[0][getClass(playerid)]);
	}*/
	
	if(KEY(KEY_WALK) && GetPlayerWeapon(playerid) == 14 && !IsWomanSkin(GetPlayerSkin(playerid)) && serverEventType == 1 && gettime() < EVENT_TIME)
	{
	   	new Float:pos[3];
   		new slot, weap[14], ammo[14];
		GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
		foreach(Player, j)
		{
			if(IsPlayerInRangeOfPoint(j, 1.5, pos[0], pos[1], pos[2]) && IsWomanSkin(GetPlayerSkin(j)) && !hasFlowers[j])
			{
			    if(TryToAdd(j, ITEM_NAME_VALENTINE, 0)) AddItemInInv(j, ITEM_NAME_VALENTINE, 1);
				if(TryToAdd(playerid, ITEM_NAME_VALENTINE, 0)) AddItemInInv(playerid, ITEM_NAME_VALENTINE, 1);
	            
                ApplyAnimation(j, "KISSING", "GIFT_GET", 4.1, false, false, false, false, 0, false); // Gift get
				ApplyAnimation(playerid, "KISSING", "GIFT_GIVE", 4.1, false, false, false, false, 0, false); // Gift give
				
				for ( slot = 0; slot < 14; slot++ ) GetPlayerWeaponData(playerid,slot,weap[slot],ammo[slot]);
				ResetWeapons(playerid);
				for ( slot = 0; slot < 14; slot++ )
				{
		    	    if(weap[slot] != 14) GivePlayerWeaponAC(playerid, weap[slot], ammo[slot]/2);
				}
				
				SetPlayerArmedWeapon(playerid, 0);
				GivePlayerWeaponAC(j, 14, 1);
				SetPlayerArmedWeapon(j, 14);
				hasFlowers[j] = true;
				break;
			}
		}
	}
	
	/*if(KEY(KEY_WALK) && GetWeekDay() == 3)
	{
	    if(IsPlayerInRangeOfPoint(playerid, 3.0, ValintinePoses[Merchant[mc_map]][0], ValintinePoses[Merchant[mc_map]][1], ValintinePoses[Merchant[mc_map]][2]))
		{
            MerchantShop(playerid, true);
            return 1;
		}
	}*/
	
	
	if(KEY(KEY_WALK) && gettime() < EVENT_TIME && GetPlayerVirtualWorld(playerid) == 0 && serverEventType == 1)
	{
		for( new i; i < sizeof(Valintine); i++ )
		{
			if(IsPlayerInRangeOfPoint(playerid, 3.0, ValintinePoses[i][0], ValintinePoses[i][1], ValintinePoses[i][2]))
			{
			    switch(Player[playerid][pLang])
			    {
			        case 0: ShowPlayerDialog(playerid, DIALOG_VALIENTINE_DAY, DIALOG_STYLE_MSGBOX, "{FF6900}Valentine", "Hi, my name is Valentine, what do you need?", "Quest", "Shop");
                    case 1: ShowPlayerDialog(playerid, DIALOG_VALIENTINE_DAY, DIALOG_STYLE_MSGBOX, "{FF6900}Юлия", "Привет, меня зовут Юлия, что тебе нужно?", "Квест", "Магазин");
                    case 2: ShowPlayerDialog(playerid, DIALOG_VALIENTINE_DAY, DIALOG_STYLE_MSGBOX, "{FF6900}Valentine", "Hola, mi nombre es Valentine, ?que necesitas?", "Busqueda", "Tienda");
				}
				return 1;
			}
		}
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == FIREMANIAC)
	    {
	        if(!CanUseAbility(playerid)) return 0;
			if(gettime() > Player[playerid][FireBullet][1] && Player[playerid][FireBullet][0] < 1)
	   		{
	   		    GameTextForPlayer(playerid, "~y~Fire Bullet:~r~ ON", 1500, 5);
				Player[playerid][FireBullet][0] = 1;
	        }
	        return 1;
		}
	}

    if(KEY(KEY_WALK) && IsPlayerInRangeOfPoint(playerid, 2.5, 234.6275,1077.3083,1084.6892) && InGangHouse[playerid] && Clan[Player[playerid][pClan]][g_House] >= 1)
	{
	    ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings\n-------------------------\nClasses\nGive emblem", "Select", "Cancel");
		return 1;
	}

	if(KEY(KEY_WALK) && IsPlayerInRangeOfPoint(playerid, 2.5, 1227.716552, -677.767395, 1085.691894) && InGangHouse[playerid] && Clan[Player[playerid][pClan]][g_House] >= 1)
	{
	    ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings\n-------------------------\nClasses\nGive emblem", "Select", "Cancel");
		return 1;
	}
	
	if(KEY(KEY_WALK) && IsPlayerInRangeOfPoint(playerid, 0.5, 234.0560,1063.7161,1084.2123) && InGangHouse[playerid] && Clan[Player[playerid][pClan]][g_House] >= 1)
	{
	    SetPlayerDrunkLevel(playerid, 0);
	    HasBottle[playerid] = 0;
	    PlayAudioStreamForPlayer(playerid, "off");
	    InGangHouse[playerid] = false;
	    SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
	    SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		SpawnPlayer(playerid);
		return 1;
	}
	
	if(KEY(KEY_WALK) && IsPlayerInRangeOfPoint(playerid, 0.5, 1237.020629, -667.263610, 1085.691894) && InGangHouse[playerid] && Clan[Player[playerid][pClan]][g_House] >= 1)
	{
	    SetPlayerDrunkLevel(playerid, 0);
	    HasBottle[playerid] = 0;
	    PlayAudioStreamForPlayer(playerid, "off");
	    InGangHouse[playerid] = false;
	    SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
	    SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		SpawnPlayer(playerid);
		return 1;
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == SCREAMERZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
		   	if(gettime() - 20 < Abilitys[playerid][ScreamerZombieAb])
			{
			   	switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
	        if(Time <= 0)
			{
			    switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~r~Time is up", 4000, 5);
					case 1: GameTextForPlayer(playerid,RusToGame("~r~УЖЕ КОНЕЦ"), 4000, 5);
					case 2: GameTextForPlayer(playerid,"~r~El tiempo ha terminado", 4000, 5);
				}
				return 1;
			}
	        new Float:pos[4];
	        GetPlayerPos(playerid,pos[0], pos[1], pos[2]);
	        GetPlayerFacingAngle(playerid, pos[3]);
			foreach(Player,i)
			{
				if(IsPlayerInRangeOfPoint(i, 6.0, pos[0], pos[1], pos[2]))
				{
			    	if(i != playerid && !Player[i][AntiScreamer] && !ItsNewbie(i))
					{
					   	switch(Player[i][pLang])
					    {
							case 0: GameTextForPlayer(i,"~r~ Screamer Attack", 1000, 5);
					        case 1: GameTextForPlayer(i,RusToGame("~r~ПРИСТУП СТРАХА"), 1000, 5);
					        case 2: GameTextForPlayer(i,"~r~Chillon Ataque", 1000, 5);
						}
						ApplyAnimation(i, "PED", "BIKE_fall_off", 4.1, 0, 1, 1, 1, 4000, 1);
						if(GetPlayerTeamEx(i) != GetPlayerTeamEx(playerid)) Player[i][AbilityAffectedID] = playerid;
					}
				}
			}
			Abilitys[playerid][ScreamerZombieAb] = gettime();
			SetAbilityTimer(playerid, 20);
		}
	}
	
	if(KEY(KEY_LOOK_BEHIND) || KEY(KEY_WALK))
	{
       	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == ADVANCEDENGINEER_2 && !IsNearMerchant(playerid))
        {
            if(!CanUseAbility(playerid)) return 0;
            if(Time >= 281)
            {
                GameTextForPlayer(playerid,"~w~Wait",2000,5);
                return 1;
            }
            if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 1;
     		new Float: pos[4];
			GetPlayerFacingAngle(playerid, pos[3]);
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
			if(Player[playerid][UnlimitedBoxes] < 9)
			{
				if(Player[playerid][UnlimitedBoxes] >= 3 && gettime() - 15 < Abilitys[playerid][newBox])
				{
					switch(Player[playerid][pLang])
				    {
						case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
				        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
				        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
					}
					return 1;
				}
			   	Player[playerid][UnlimitedBoxes]++;
				GetXYInFrontOfPlayer(playerid, pos[0], pos[1], 1.0);
				new str[46];
				format(str, 10, "%d/9", Player[playerid][UnlimitedBoxes]);
				GameTextForPlayer(playerid,str,2000,5);
				format(str, 46, "{4dff4d}[LADDER]{00CCCC} %s", Player[playerid][UserName]);
				box[playerid][Player[playerid][UnlimitedBoxes]] = CreateObject(1437, pos[0], pos[1], pos[2], -45.0, 0.0, pos[3]);
				boxText[playerid][Player[playerid][UnlimitedBoxes]] = Create3DTextLabel(str, 0xFF0000FF, pos[0], pos[1], pos[2], 15.0, 0, 0);
                SetTimerEx("RemoveBox", 30000, 0, "ii", playerid, Player[playerid][UnlimitedBoxes]);
				PlayerPlaySound(playerid,1057,0.0,0.0,0.0);
				Abilitys[playerid][newBox] = gettime();
			}
		}
	}
	
	if(KEY(KEY_LOOK_BEHIND) || KEY(KEY_WALK))
	{
       	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == ENGINEER && !IsNearMerchant(playerid))
        {
            if(!CanUseAbility(playerid)) return 0;
            if(Time >= 281)
            {
                GameTextForPlayer(playerid,"~w~Wait",2000,5);
                return 1;
            }
            if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 1;
     		new Float: pos[4];
			GetPlayerFacingAngle(playerid, pos[3]);
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);

			if(Player[playerid][Boxes] >= 1)
			{
				GetXYInFrontOfPlayer(playerid, pos[0], pos[1], 1.0);
				switch(Player[playerid][Boxes])
				{
				    case 4: GameTextForPlayer(playerid,"~r~~h~X  ~w~X  ~w~X  ~w~X",2000,5);
					case 3: GameTextForPlayer(playerid,"~r~~h~X  ~w~X  ~w~X",2000,5);
                    case 2: GameTextForPlayer(playerid,"~r~~h~X  ~r~~h~X  ~w~X",2000,5);
                    case 1: GameTextForPlayer(playerid,"~r~~h~X  ~r~~h~X  ~r~~h~X",2000,5);
				}
				
				box[playerid][Player[playerid][Boxes]] = CreateObject(923, pos[0], pos[1], pos[2], 0.0, 0.0, pos[3]);
				SetTimerEx("RemoveBox", 30000, 0, "ii", playerid, Player[playerid][Boxes]);
				
				new str[46];
				format(str, 46, "{4dff4d}[BOX]{00CCCC} %s", Player[playerid][UserName]);
				boxText[playerid][Player[playerid][Boxes]] = Create3DTextLabel(str, 0xFF0000FF, pos[0], pos[1], pos[2], 15.0, 0, 0);
				if(Achievements[playerid][BoxesBuilt] <= 199) ++Achievements[playerid][BoxesBuilt];
				if(Achievements[playerid][BoxesBuilt] == 200 && GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 9) == 0)
				{
					UnlockAchievement(playerid, 59, 2000);
					SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 9, 1);
				}
				Player[playerid][Boxes]--;
				PlayerPlaySound(playerid,1057,0.0,0.0,0.0);
				
				for( new p; p < sizeof(NightEvent[evn_Mission]); p++)
				{
					if(NightEvent[evn_Mission][p] == ev_BUILDER && e_ExclusionZone[playerid][e_ezMission][p] <= 99)
				    {
				        ++e_ExclusionZone[playerid][e_ezMission][p];
				        if(e_ExclusionZone[playerid][e_ezMission][p] >= 100) ev_CompleteToNext(playerid, ev_BUILDER);
						break;
				    }
				}
			}
		}
	}
	
	if(KEY(KEY_LOOK_BEHIND) || KEY(KEY_WALK))
	{
       	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == ADVANCEDENGINEER && !IsNearMerchant(playerid))
        {
            if(!CanUseAbility(playerid)) return 0;
            if(Time >= 281)
            {
                GameTextForPlayer(playerid,"~w~Wait",2000,5);
                return 1;
            }
            if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 1;
     		new Float: pos[4];
			GetPlayerFacingAngle(playerid, pos[3]);
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);

			if(Player[playerid][AdvancedBoxes] >= 1)
			{
				GetXYInFrontOfPlayer(playerid, pos[0], pos[1], 1.0);
				switch(Player[playerid][AdvancedBoxes])
				{
				    case 6: GameTextForPlayer(playerid,"~r~~h~X  ~w~X  ~w~X  ~w~X~n~~w~X  ~w~X",2000,5);
					case 5: GameTextForPlayer(playerid,"~r~~h~X  ~w~X  ~w~X~n~~w~X  ~w~X",2000,5);
					case 4: GameTextForPlayer(playerid,"~r~~h~X  ~r~~h~X  ~w~X~n~~w~X  ~w~X",2000,5);
                    case 3: GameTextForPlayer(playerid,"~r~~h~X  ~r~~h~X  ~r~~h~X~n~~w~X  ~w~X",2000,5);
                    case 2: GameTextForPlayer(playerid,"~r~~h~X  ~r~~h~X  ~r~~h~X~n~~r~~h~X  ~w~X",2000,5);
                    case 1: GameTextForPlayer(playerid,"~r~~h~X  ~r~~h~X  ~r~~h~X~n~~r~~h~X  ~r~~h~X",2000,5);
				}
				
				box[playerid][Player[playerid][AdvancedBoxes]] = CreateObject(923, pos[0], pos[1], pos[2], 0.0, 0.0, pos[3]);
				SetTimerEx("RemoveBox", 30000, 0, "ii", playerid, Player[playerid][AdvancedBoxes]);
				
				new str[46];
				format(str, 46, "{4dff4d}[BOX]{00CCCC} %s", Player[playerid][UserName]);
				boxText[playerid][Player[playerid][AdvancedBoxes]] = Create3DTextLabel(str, 0xFF0000FF, pos[0], pos[1], pos[2], 15.0, 0, 0);
				if(Achievements[playerid][BoxesBuilt] <= 199) ++Achievements[playerid][BoxesBuilt];
				if(Achievements[playerid][BoxesBuilt] == 200 && GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 9) == 0)
				{
					UnlockAchievement(playerid, 59, 2000);
					SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 9, 1);
				}
				Player[playerid][AdvancedBoxes]--;
				PlayerPlaySound(playerid,1057,0.0,0.0,0.0);
				
				for( new p; p < sizeof(NightEvent[evn_Mission]); p++)
				{
					if(NightEvent[evn_Mission][p] == ev_BUILDER && e_ExclusionZone[playerid][e_ezMission][p] <= 99)
				    {
				        ++e_ExclusionZone[playerid][e_ezMission][p];
				        if(e_ExclusionZone[playerid][e_ezMission][p] >= 100) ev_CompleteToNext(playerid, ev_BUILDER);
						break;
				    }
				}
			}
		}
	}
	
	/*if(KEY(KEY_WALK))
	{
 		if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == SLENDERZOMBIE)
 		{
 		    if(!CanUseAbility(playerid)) return 0;
			if(gettime() - 40 < Abilitys[playerid][SlenderBlind])
			{
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
			SeekerHunting(playerid, 1);
		}
	}*/
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == RADIOACTIVEZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        Player[playerid][RadioctiveField] =! Player[playerid][RadioctiveField];
	        if(Player[playerid][RadioctiveField])
	        {
	            GameTextForPlayer(playerid, "~y~Radioactive field:~g~ ON", 1500, 5);
	        }
	        else
	        {
	            GameTextForPlayer(playerid, "~y~Radioactive field:~r~ OFF", 1500, 5);
	        }
		}
	}

	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == MEGAJUMPERZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 1;
	        
	        if(Abilitys[playerid][QueenJumps][0] >= 1)
	        {
            	new Float:pos[3];
           		GetPlayerVelocity(playerid,pos[0],pos[1],pos[2]);
				SetPlayerVelocity(playerid,pos[0]*2.0,pos[1]*2.0,pos[2]+1.8* 1.2);
				Abilitys[playerid][QueenJumps][0]--;
				AntiTPTimerEx(playerid, 4);
				AntiSlap(playerid, 2);
				AntiSpeedHack(playerid, 3);
				Abilitys[playerid][QueenJumps][1] = gettime()+2;
				SetAbilityTimer(playerid, 3);
			}
	    }
	}

	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && (Player[playerid][pClass][TEAM_HUMAN] == HUMANQUEEN))
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        if(GetPlayerColor(playerid) == COLOR_EVACUATED) return 1;

	        //if(gettime() - 5 < Abilitys[playerid][QueenJumps][1]) return GameTextForPlayer(playerid,"~g~ Wait some time",4000,5);
	        //else if(Abilitys[playerid][QueenJumps][0] == 0) Abilitys[playerid][QueenJumps][0] = 5;
	        
	        if(Abilitys[playerid][QueenJumps][0] >= 1)
	        {
            	new Float:pos[3];
            	GetPlayerCameraFrontVector(playerid, pos[0], pos[1], pos[2]);
				SetPlayerVelocity(playerid, pos[0]/1.5, pos[1]/1.5, pos[2] + 0.3);
				Abilitys[playerid][QueenJumps][0]--;
				AntiTPTimerEx(playerid, 4);
				AntiSlap(playerid, 2);
				AntiSpeedHack(playerid, 2);
				Abilitys[playerid][QueenJumps][1] = gettime()+3;
				SetAbilityTimer(playerid, 4, TEAM_HUMAN);
			}
	    }
	}
	
	/*if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1]  == SPITTERZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(playerid, 6.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j])) return 0;
            if(gettime() - 45 < Abilitys[playerid][SpitterWeapon])
            {
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}

			if(GetUnlockedCardEffect(playerid, CARD_EFFECT_SECOND_CHANCE) >= 1) GivePlayerWeaponAC(playerid, 23, 2, false);
	 		else GivePlayerWeaponAC(playerid, 23, 1, false);
	 		
			Abilitys[playerid][SpitterWeapon] = gettime();
			SetAbilityTimer(playerid, 45);
	    }
	}*/
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == STANDARDZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        new player = GetClosestPlayer(playerid);
            if(gettime() - 7 < Abilitys[playerid][InfectionNormal])
            {
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
			ApplyAnimation(playerid,"BIKELEAP","bk_jmp",3.1,0,0,0,0,450);
            if(IsPlayerConnected(player))
			{
			    if(InfectPlayer(2.0, player, playerid))
       			{
         			foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][27], Player[player][UserName], Player[playerid][UserName]);
					GivePlayerXP(playerid, 2);
					AbilityWasUsed(playerid);
					
					Player[player][AbilityAffectedID] = playerid;
			    }
			    else
			    {
					switch(Player[playerid][pLang])
				    {
						case 0: GameTextForPlayer(playerid, "~r~Cannot infect", 2000, 5);
				        case 1: GameTextForPlayer(playerid,RusToGame("~r~НЕЛЬЗЯ ЗАРАЗИТЬ"), 2000, 5);
				        case 2: GameTextForPlayer(playerid,"~r~No puede infectar", 2000, 5);
					}
					return 1;
				}
			    Abilitys[playerid][InfectionNormal] = gettime();
				SetAbilityTimer(playerid, 7);
			}
	    }
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == SLOWZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
            if(gettime() - 10 < Abilitys[playerid][InfectionSlow])
            {
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
            new player = GetClosestPlayer(playerid);
			ApplyAnimation(playerid,"BIKELEAP","bk_jmp",3.1,0,0,0,0,450);
			
            if(IsPlayerConnected(player))
			{
			    if(GetPlayerTeamEx(player) == TEAM_HUMAN)
			    {
			        new Float:pos[3], Float:radius = 2.5;
			        GetPlayerPos(player, pos[0], pos[1], pos[2]);
			        if(IsPlayerInRangeOfPoint(playerid, radius, pos[0], pos[1], pos[2]))
			        {
					    if(InfectPlayer(radius, player, playerid))
		       			{
		       			    if(Player[player][pXP] >= 2500) Player[player][SlowWalk] = gettime()+6;
		       			    
		         			foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][97], Player[player][UserName], Player[playerid][UserName]);
							GivePlayerXP(playerid, 2);
							AbilityWasUsed(playerid);
							Player[player][AbilityAffectedID] = playerid;
					    }
					    else
					    {
							switch(Player[playerid][pLang])
						    {
								case 0: GameTextForPlayer(playerid, "~r~Cannot infect", 2000, 5);
						        case 1: GameTextForPlayer(playerid,RusToGame("~r~НЕЛЬЗЯ ЗАРАЗИТЬ"), 2000, 5);
						        case 2: GameTextForPlayer(playerid,"~r~No puede infectar", 2000, 5);
							}
							return 1;
						}
					}
				    
				}
			}
			Abilitys[playerid][InfectionSlow] = gettime();
			SetAbilityTimer(playerid, 15);
	    }
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1]  == ROGUEZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
            if(gettime() - 30 < Abilitys[playerid][RogueSkinChangeZ])
            {
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
         	SetPlayerColor(playerid, COLOR_HUMAN);
            switch(random(25))
	        {
	            case 0: SetPlayerSkinAC(playerid, 12, 1);
	            case 1: SetPlayerSkinAC(playerid, 14, 1);
	            case 2: SetPlayerSkinAC(playerid, 15, 1);
	            case 3: SetPlayerSkinAC(playerid, 18, 1);
	            case 4: SetPlayerSkinAC(playerid, 23, 1);
	            case 5: SetPlayerSkinAC(playerid, 33, 1);
	            case 6: SetPlayerSkinAC(playerid, 37, 1);
	            case 7: SetPlayerSkinAC(playerid, 40, 1);
	            case 8: SetPlayerSkinAC(playerid, 43, 1);
	            case 9: SetPlayerSkinAC(playerid, 44, 1);
	            case 10: SetPlayerSkinAC(playerid, 45, 1);
	            case 11: SetPlayerSkinAC(playerid, 51, 1);
	            case 12: SetPlayerSkinAC(playerid, 52, 1);
	            case 13: SetPlayerSkinAC(playerid, 56, 1);
	            case 14: SetPlayerSkinAC(playerid, 58, 1);
	            case 15: SetPlayerSkinAC(playerid, 76, 1);
	            case 16: SetPlayerSkinAC(playerid, 90, 1);
	            case 17: SetPlayerSkinAC(playerid, 91, 1);
	            case 18: SetPlayerSkinAC(playerid, 93, 1);
	            case 19: SetPlayerSkinAC(playerid, 141, 1);
	            case 20: SetPlayerSkinAC(playerid, 150, 1);
	            case 21: SetPlayerSkinAC(playerid, 188, 1);
	            case 22: SetPlayerSkinAC(playerid, 216, 1);
	            case 23: SetPlayerSkinAC(playerid, 226, 1);
	            case 24: SetPlayerSkinAC(playerid, 233, 1);
			}
			ClearAnimations(playerid);
            Abilitys[playerid][RogueSkinChangeZ] = gettime();
            SetTimerEx("RogueSkinBackZ", 15000, 0, "i", playerid);
            SetAbilityTimer(playerid, 30);
            
			for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
			{
				if(NightEvent[evn_Mission][j] == ev_SPY && e_ExclusionZone[playerid][e_ezMission][j] <= 49)
			    {
			        ++e_ExclusionZone[playerid][e_ezMission][j];
			        if(e_ExclusionZone[playerid][e_ezMission][j] == 50) ev_CompleteToNext(playerid, ev_SPY);
					break;
			    }
			}
   		}
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1]  == BLINDZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        new player = GetClosestPlayer(playerid);
            if(gettime() - 7 < Abilitys[playerid][InfectionBlind])
            {
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
			ApplyAnimation(playerid,"BIKELEAP","bk_jmp",3.1,0,0,0,0,450);
            if(IsPlayerConnected(player))
			{
			    if(!Player[player][AntiBlind])
       			{
					if(InfectPlayer(1.5, player, playerid))
					{
					    BlindPlayer(player, 8);
         				foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][27], Player[player][UserName], Player[playerid][UserName]);
						GivePlayerXP(playerid, 2);
					}
					AbilityWasUsed(playerid);
					/****************************************** CHAOS ***********************************/
					for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
					{
						if(NightEvent[evn_Mission][i] == ev_WHEREISEVERYONE && e_ExclusionZone[playerid][e_ezMission][i] <= 49)
					    {
					        ++e_ExclusionZone[playerid][e_ezMission][i];
					        if(e_ExclusionZone[playerid][e_ezMission][i] == 50) ev_CompleteToNext(playerid, ev_WHEREISEVERYONE);
							break;
					    }
					}
					/**********************************************************************************/
			    }
			    else
			    {
					switch(Player[playerid][pLang])
				    {
						case 0: GameTextForPlayer(playerid, "~r~Cannot infect", 2000, 5);
				        case 1: GameTextForPlayer(playerid,RusToGame("~r~НЕЛЬЗЯ ЗАРАЗИТЬ"), 2000, 5);
				        case 2: GameTextForPlayer(playerid,"~r~No puede infectar", 2000, 5);
					}
					return 1;
				}
			    Abilitys[playerid][InfectionBlind] = gettime();
				SetAbilityTimer(playerid, 7);
			}
	    }
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == FASTZOMBIE || GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == ROCKETMAN)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        if(GetUnlockedCardEffect(playerid, CARD_EFFECT_ZOMBIES_CAN_FLY) <= 0)
	        {
		        if(gettime() - 5 < Abilitys[playerid][HighJumpZombie])
		        {
					switch(Player[playerid][pLang])
				    {
						case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
				        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
				        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
					}
					return 1;
				}
				new Float:pos[3];
				GetPlayerVelocity(playerid,pos[0],pos[1],pos[2]);
				SetPlayerVelocity(playerid,pos[0]*2.0,pos[1]*2.0,pos[2]+1.8* 1.2);
				Abilitys[playerid][HighJumpZombie] = gettime();
				if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
				{
					SetPlayerAttachedObject(playerid,4,18699,9,0.396999,-0.566000,-1.521999,-16.700000,-13.200001,143.499984,1.000000,1.000000,1.000000);
					SetPlayerAttachedObject(playerid,5,18699,10,0.214999,-1.677996,-0.217999,-79.799911,-7.799998,49.200019,1.000000,1.000000,1.000000);
					SetTimerEx("RemoveRocketboots", 2000, 0, "i", playerid);
	                SetAbilityTimer(playerid, 4, TEAM_HUMAN);

	                if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 4) == 0 && Player[playerid][pClass][TEAM_HUMAN] == ROCKETMAN)
		        	{
		            	UnlockAchievement(playerid, 53, 20);
		            	SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 4, 1);
		        	}
				}
				else
				{
					for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
					{
						if(NightEvent[evn_Mission][j] == ev_UPTOTHECLOUDS && e_ExclusionZone[playerid][e_ezMission][j] <= 49)
					    {
					        ++e_ExclusionZone[playerid][e_ezMission][j];
					        if(e_ExclusionZone[playerid][e_ezMission][j] == 50) ev_CompleteToNext(playerid, ev_UPTOTHECLOUDS);
							break;
					    }
					}
				}
				AntiTPTimerEx(playerid, 4);
				AntiSlap(playerid, 2);
				AntiSpeedHack(playerid, 3);
				SetAbilityTimer(playerid, 5);
		    }
		    else
			{
			    if(CanJumpTwice[playerid] < gettime()) { CanJumpTwice[playerid] = (gettime()+3); }
                else
				{
					if(gettime() - 5 < Abilitys[playerid][HighJumpZombie])
			        {
						switch(Player[playerid][pLang])
					    {
							case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
					        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
					        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
						}
						return 1;
					}
				}
				new Float:pos[3];
				GetPlayerVelocity(playerid,pos[0],pos[1],pos[2]);
				SetPlayerVelocity(playerid,pos[0]*2.0,pos[1]*2.0,pos[2]+1.8* 1.2);
				Abilitys[playerid][HighJumpZombie] = gettime();
				if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
				{
					SetPlayerAttachedObject(playerid,4,18699,9,0.396999,-0.566000,-1.521999,-16.700000,-13.200001,143.499984,1.000000,1.000000,1.000000);
					SetPlayerAttachedObject(playerid,5,18699,10,0.214999,-1.677996,-0.217999,-79.799911,-7.799998,49.200019,1.000000,1.000000,1.000000);
					SetTimerEx("RemoveRocketboots", 2000, 0, "i", playerid);
	                SetAbilityTimer(playerid, 4, TEAM_HUMAN);

	                if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 4) == 0 && Player[playerid][pClass][TEAM_HUMAN] == ROCKETMAN)
		        	{
		            	UnlockAchievement(playerid, 53, 20);
		            	SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 4, 1);
		        	}
				}
				else
				{
					for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
					{
						if(NightEvent[evn_Mission][j] == ev_UPTOTHECLOUDS && e_ExclusionZone[playerid][e_ezMission][j] <= 49)
					    {
					        ++e_ExclusionZone[playerid][e_ezMission][j];
					        if(e_ExclusionZone[playerid][e_ezMission][j] == 50) ev_CompleteToNext(playerid, ev_UPTOTHECLOUDS);
							break;
					    }
					}
				}
				AntiTPTimerEx(playerid, 4);
				AntiSlap(playerid, 2);
				AntiSpeedHack(playerid, 3);
				SetAbilityTimer(playerid, 5);
			}
		}
	}
	
	if(KEY(KEY_WALK))
	{
 		if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == SLENDERZOMBIE)
 		{
 		    if(!CanUseAbility(playerid)) return 0;
			if(gettime() - 40 < Abilitys[playerid][SlenderBlind])
			{
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
			SeekerHunting(playerid, 1);
		}
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == REMOVER)
	    {
	        if(!CanUseAbility(playerid)) return 0;
            if(gettime() - 10 < Abilitys[playerid][RemoverRemove])
            {
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
			ApplyAnimation(playerid, "CARRY", "putdwn05", 3.0, 0, 1, 1, 0, 410);
			new Float:pos[3], player = GetClosestPlayer(playerid);
			GetPlayerPos(playerid, pos[0], pos[1], pos[2]);

			new Float:radius = 1.5;
			if(IsPlayerInRangeOfPoint(player, radius, pos[0], pos[1], pos[2]))
			{
	            if(IsPlayerConnected(player))
				{
				    new Float: Arm;
				    GetPlayerArmour(player, Arm);
				    if(GetPlayerTeamEx(player) == TEAM_HUMAN && Arm >= 0.1 && classCanBeArmourRemoved(player))
	       			{
	       			    SetPlayerArmourAC(player, -0.0);
	         			foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][73], Player[playerid][UserName], Player[player][UserName]);
						//GivePlayerXP(playerid, 2);
						AbilityWasUsed(playerid);
						Player[player][AbilityAffectedID] = playerid;
				    }
				}
				Abilitys[playerid][RemoverRemove] = gettime();
				SetAbilityTimer(playerid, 10);
		    }
		}
	}
	
	if(KEY(KEY_WALK))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == STOMPERZOMBIE)
	    {
	        if(!CanUseAbility(playerid)) return 0;
	        if(gettime() - 8 < Abilitys[playerid][StomperPushing])
	        {
				switch(Player[playerid][pLang])
			    {
					case 0: GameTextForPlayer(playerid,"~g~ Wait some time", 1000, 5);
			        case 1: GameTextForPlayer(playerid,RusToGame("~g~П_ОДОЖДИТЕ"), 1000, 5);
			        case 2: GameTextForPlayer(playerid,"~g~Espera algъn tiempo", 1000, 5);
				}
				return 1;
			}
			ApplyAnimation(playerid, "CARRY", "putdwn05", 3.0, 0, 1, 1, 0, 410);
			new count, Float:pos[4], objectid;
	        GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
			if(Time >= 1)
			{
				objectid = CreateObject(18675, pos[0], pos[1], pos[2] - 1.2, 0.0, 0.0, 0.0);
				SetTimerEx("RemoveObject", 1000, 0, "i", objectid);
			}
			
			new Float:radius = 6.0;
			
			foreach(Player,i)
			{
				if(IsPlayerInRangeOfPoint(i, radius, pos[0], pos[1], pos[2]))
    			{
    			    if(GetPlayerTeamEx(i) == TEAM_HUMAN && classCanBeStomped(i))
			    	{
			    	    count++;
   						GetPlayerFacingAngle(i, pos[3]);
						GetPlayerVelocity(i, pos[0], pos[1], pos[2]);
						SetPlayerVelocity(i, pos[0]*4.0, pos[1]*4.0, pos[2]+1.5);
						SetPlayerFacingAngle(i, pos[3]);
						AntiTPTimerEx(i, 4);
						AntiSlap(i, 2);
						AntiSpeedHack(i, 3);
						Player[i][AbilityAffectedID] = playerid;
					}
				}
			}
			if(count >= 1)
			{
				//GivePlayerXP(playerid, 2);
				AbilityWasUsed(playerid);
				
				for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
				{
					if(NightEvent[evn_Mission][j] == ev_UNEXPECTEDSHIFT && e_ExclusionZone[playerid][e_ezMission][j] <= 49)
				    {
				        ++e_ExclusionZone[playerid][e_ezMission][j];
				        if(e_ExclusionZone[playerid][e_ezMission][j] >= 50) ev_CompleteToNext(playerid, ev_UNEXPECTEDSHIFT);
						break;
				    }
				}
			}
			Abilitys[playerid][StomperPushing] = gettime();
			SetAbilityTimer(playerid, 8);
	    }
	}
	
	return 1;
}

fun OnRconLoginAttempt( ip[], password[], success)
{
    if(!success)
    {
        new pip[21];
        for(new i = GetPlayerPoolSize(); i != -1; --i)
        {
            GetPlayerIp(i, pip, sizeof(pip));
            if(!strcmp(ip, pip, true))
            {
                Ban(i);
            }
        }
    }
	return 1;
}

fun RemoveObject(objectid)
{
	if(IsValidObject(objectid))
	{
		DestroyObject(objectid);
		objectid = INVALID_OBJECT_ID;
	}
}

fun RemoveBox(playerid, boxid)
{
	if(IsValidObject(box[playerid][boxid]))
    {
    	DestroyObject(box[playerid][boxid]);
  		Delete3DTextLabel(boxText[playerid][boxid]);
  		box[playerid][boxid] = INVALID_OBJECT_ID;
	}
}

fun OnPlayerUpdate(playerid)
{
	////////////////////////////// EVENT ///////////////////////
    static speed_test, Keys, lr, ud;

	GetPlayerKeys(playerid, Keys, ud, lr);
	/*if(Keys & KEY_FIRE)
	{
	    if(GetPlayerVehicleID(playerid) != INVALID_VEHICLE_ID && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	    {
            if(GetPlayerVehicleID(playerid) == CurTankID[playerid])
            {
				if(WarTankSelected[playerid] == 2)
				{
				    new Float:p[3];
				    GetVehiclePos(CurTankID[playerid], p[0], p[1], p[2]);
				    SetVehiclePos(CurTankID[playerid], p[0], p[1], p[2] + 0.005);
				}
            }
	    }
	}

    speed_test = GetPVarInt(playerid, "speed_test");
    if(speed_test > 10) LimitVehicleSpeed_ts(playerid, speed_test);
    */
    
    /*if(GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        new Float:vec0,Float:vec1,Float:vec2;
        GetPlayerCameraFrontVector(playerid, vec0, vec1, vec2);
        new bool:possible_crasher = false;
        if (floatabs(vec0) > 10.0 || floatabs(vec1) > 10.0 || floatabs(vec2) > 10.0) possible_crasher = true;

        if(possible_crasher)
		{
		    if(AntiCheat[playerid][ac_Tick] < gettime())
		    {
	            foreach(Player, i)
			    {
			        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Crasher #1-1", Player[playerid][UserName], playerid);
				}
				AntiCheat[playerid][ac_Tick] = (gettime()+1);
			}
            return 0; 
        }
    }*/
    
    if(HasBottle[playerid] > 0 && InGangHouse[playerid])
    {
    	SetPlayerAttachedObject(playerid, 9, 19824, 6, 0.11299, 0.03200, -0.27000, 0.00000, 0.00000, 0.00000, 1.00000, 1.00000, 1.00000);
	}
	
    if(GetPlayerAnimationIndex(playerid) == 839 && GetPlayerTeamEx(playerid) == TEAM_HUMAN)
    {
        if(gettime() - 2 < Player[playerid][checkForUnsleep]) {}
        else
        {
	        static Float:pos[3];
	        GetPlayerPos(playerid, pos[0], pos[1], pos[2]);
	        foreach(Player, i)
	        {
				if(IsPlayerInRangeOfPoint(i, 5.5, pos[0], pos[1], pos[2]) && GetPlayerTeamEx(i) == TEAM_HUMAN)
				{
				    if(playerid != i) Player[i][CheckForProtect] = playerid;
				}
			}
			Player[playerid][checkForUnsleep] = gettime();
		}
    }
    
	if(AFK[playerid] >= 15 && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
	    if(!Player[playerid][aDuty])
	    {
		    SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		    SpawnPlayer(playerid);
		    AFK[playerid] = -5;
		    Player[playerid][Killstreak] = 0;
		    SortKillstreakList();
		    DeleteFromKillstreakList(playerid);
	        if(Player[playerid][eventMember] > -1)
			{
			    new bool:something = false, str[64], p;
			    for(p = 0; p < 10; p++) if(EventInfo[Player[playerid][eventMember]][e_Rulers][p] == Player[playerid][pAccountID]) { something = true; break; }

				new eventID = Player[playerid][eventMember];
			    if(strlen(EventInfo[eventID][e_Name]) >= 1)
			    {
					if(!something) {
						EventInfo[Player[playerid][eventMember]][e_curPlayers]--;
						format(str, sizeof(str), "{ff6600}[EVENT] %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						SendEventMessage(str);
					} else {
					    format(str, sizeof(str), "{bf00ff}[EVENT] Ruler %s has left the event (%s #%d)", Player[playerid][UserName], EventInfo[Player[playerid][eventMember]][e_Name], Player[playerid][eventMember]+1);
						SendEventMessage(str);
					}

					if(EventInfo[eventID][e_curPlayers] < EventInfo[eventID][e_minPlayers] && !EventInfo[eventID][e_IsStarted] && EventInfo[eventID][e_IsJoinsClosed])
			        {
			            EventInfo[eventID][e_IsJoinsClosed] = false;
						format(str, sizeof(str), "{bf00ff}[EVENT] Join requests auto opened (%s #%d)", EventInfo[eventID][e_Name], eventID+1);
						SendEventMessage(str);
			        }
				}
			    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
				Player[playerid][eventMember] = -1;
				SetPlayerGravity(playerid, 0.008);
			}
	    }
	}
	
	if(IsJumping(playerid) || IsRunning(playerid)) SetPVarInt(playerid, "Slide", 0);
    if(GetPlayerAnimationIndex(playerid) == 1161 && GetPlayerSpeed(playerid) > 15 && GetPlayerSkin(playerid) != 92 && GetPlayerSkin(playerid) != 99)
    {
        SetPlayerArmedWeapon(playerid, 0);
        ClearAnimations(playerid);
    }
	if(GetPlayerAnimationIndex(playerid) == 1161 && GetPlayerSpeed(playerid) > 9 && GetPlayerSkin(playerid) != 92 && GetPlayerSkin(playerid) != 99 && GetPVarInt(playerid, "Slide") > 0)
	{
		SetPlayerArmedWeapon(playerid, 0);
        ClearAnimations(playerid);
	}
	
	if(GetPlayerSpeed(playerid) >= 16 && random(20) == 0) AcceleratePlayer(playerid);

    if(Player[playerid][GunJammerAttack] && GetPlayerWeapon(playerid) > 0 && GetPlayerTeamEx(playerid) == TEAM_HUMAN && PlayerGuitarTime[playerid] <= 1)
    {
    	GameTextForPlayer(playerid,"~r~Gun Jammer Attack", 2000, 5);
		SetPlayerArmedWeapon(playerid, 0);
	}
	
	//if(AFK[playerid] >= -3) uAFK
    AFK[playerid] = -5;
    
    if(GetPlayerSpeed(playerid) >= 1 && !IsPlayerInAnyVehicle(playerid))
	{
	    if(Achievements[playerid][Runned] < 200.100)
	    {
			Achievements[playerid][Runned] += 0.00001;
     	}
     	
     	if(Achievements[playerid][Runned] >= 10.000 && GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 10) == 0) { UnlockAchievement(playerid, 5, 1000); SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 10, 1); }
		if(Achievements[playerid][Runned] >= 50.000 && GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 11) == 0) { UnlockAchievement(playerid, 6, 5000); SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 11, 1); }
		if(Achievements[playerid][Runned] >= 200.000 && GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 12) == 0) { UnlockAchievement(playerid, 7, 10000); SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 12, 1); }
    }
    
    /*if(!DayMission[playerid][dm_done]) {
    	if(DayliMission[playerid] == 2 && DayMission[playerid][dm_Killometers] < 10.0 && GetPlayerTeamEx(playerid) == DayMission[playerid][dm_wType] && DayMission[playerid][dm_classID] == (DayMission[playerid][dm_wType] == TEAM_HUMAN ? Player[playerid][pClass][TEAM_HUMAN] : Player[playerid][pClass][TEAM_ZOMBIE+1])) DayMission[playerid][dm_Killometers] += 0.00001;
    	if(DayliMission[playerid] == 2 && DayMission[playerid][dm_Killometers] >= 10.0 && DayMission[playerid][dm_progress] <= 0) DayMission[playerid][dm_progress] = 1;
    }*/
    
    static Float:xw, Float:yw, Float:zw;
	GetPlayerVelocity(playerid,xw,yw,zw);
	if((xw >= 0.4 || yw >= 0.4 || zw >= 0.4) && Player[playerid][Accelerated] <= 0 && gettime() > AntiPlayerSlap[playerid] && !(GetPlayerAnimationIndex(playerid) >= 1061 && GetPlayerAnimationIndex(playerid) <= 1067) && p_FallingCheck{playerid} <= 1 && GetPlayerSurfingVehicleID(playerid) == INVALID_PLAYER_ID && !Player[playerid][aDuty]) //&& !IgnoreThisClass(playerid))
	{
		if(GetPVarInt(playerid, "Pizdorvanka") <= 1) SetPVarInt(playerid, "Pizdorvanka", GetPVarInt(playerid, "Pizdorvanka") + 1);
		if(GetPVarInt(playerid, "Pizdorvanka") == 1)
		{
			SetPVarInt(playerid, "Pizdorvanka", 0);
			if(gettime() > AntiCheat[playerid][ac_Tick])
			{
				if(!IsJumping(playerid))
				{
					foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Slap Hack", Player[playerid][UserName], playerid);
		            SetPVarInt(playerid, "Pizdorvanka", GetPVarInt(playerid, "Pizdorvanka") + 1);
		            strmid(AC_Requests[playerid][ac_reason], "Slap Hack", 0, 128, 128);
					AC_Requests[playerid][ac_time] = gettime();
					AC_Requests[playerid][ac_type] = 0;
					AC_Requests[playerid][ac_additional] = 0;
					AC_Requests[playerid][ac_pl] = NetStats_PacketLossPercent(playerid);
					AntiCheat[playerid][ac_Tick] = (gettime()+1);
					
					if(AntiCheatAlertMode)
					{
					    ++AntiCheat[playerid][ac_jumps];
					    if(AntiCheat[playerid][ac_jumps] > AX_MAX_JUMPS && AntiCheat[playerid][ac_jump_hack] >= AC_MAX_REPORTS) BanPlayer(playerid, "Slap Hack - Consensus");
					}
				}
				else
				{
				    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Jump Hack", Player[playerid][UserName], playerid);
		            SetPVarInt(playerid, "Pizdorvanka", GetPVarInt(playerid, "Pizdorvanka") + 1);
		            strmid(AC_Requests[playerid][ac_reason], "Jump Hack", 0, 128, 128);
					AC_Requests[playerid][ac_time] = gettime();
					AC_Requests[playerid][ac_type] = 0;
					AC_Requests[playerid][ac_additional] = 0;
					AC_Requests[playerid][ac_pl] = NetStats_PacketLossPercent(playerid);
					AntiCheat[playerid][ac_Tick] = (gettime()+1);
					
					if(AntiCheatAlertMode)
					{
					    ++AntiCheat[playerid][ac_jumps];
					    if(AntiCheat[playerid][ac_jumps] > AX_MAX_JUMPS && AntiCheat[playerid][ac_jump_hack] >= AC_MAX_REPORTS) BanPlayer(playerid, "Jump Hack - Consensus");
					}
				}
			}
		}
		if(GetPVarInt(playerid, "Pizdorvanka") >= 3 && AntiCheatAlertMode && AntiCheat[playerid][ac_jump_hack] >= AC_MAX_REPORTS)
		{
		    foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> %s has been kicked [Reason: Possible slap hack (Limit exceeded)]", Player[playerid][UserName]);
			BanPlayer(playerid, "Slap Hack - Consensus");
		}
	}
	
	if((IsJumping(playerid) || IsFalling(playerid)) && JumpTimes[playerid] <= 2)
	{
	    GetPlayerVelocity(playerid,xw,yw,zw);
		if(zw <= -0.15) if(AntiCheat[playerid][ac_OldHP] <= 0.0) GetPlayerHealthEx(playerid, AntiCheat[playerid][ac_OldHP]);
    }
    
    if(AntiCheat[playerid][ac_OldHP] != 0.0 && (GetPlayerAnimationIndex(playerid) == 1155 || GetPlayerAnimationIndex(playerid) == 1156) && !Player[playerid][aDuty] && AFK[playerid] <= -3)
	{
	    GetPlayerHealthEx(playerid, zw);
		if(zw >= AntiCheat[playerid][ac_OldHP])
		{
		    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Health Hack (Collision)", Player[playerid][UserName], playerid);
            strmid(AC_Requests[playerid][ac_reason], "Health Hack", 0, 128, 128);
			AC_Requests[playerid][ac_time] = gettime();
			AC_Requests[playerid][ac_type] = 0;
			AC_Requests[playerid][ac_additional] = 0;
			AC_Requests[playerid][ac_pl] = NetStats_PacketLossPercent(playerid);
			AntiCheat[playerid][ac_Tick] = (gettime()+1);

			if(AntiCheatAlertMode)
			{
				++AntiCheat[playerid][ac_cs_warns];
				if(AntiCheat[playerid][ac_cs_warns] > AC_MAX_COLLISION_PROOF_WARNINGS && AntiCheat[playerid][ac_health_hack] >= AC_MAX_REPORTS) BanPlayer(playerid, "Health Hack - Consensus");
			}
		}
		AntiCheat[playerid][ac_OldHP] = 0.0;
  	}
	
//	static Keys, lr, ud;
	//GetPlayerKeys(playerid, Keys, lr, ud);
	
	if(Keys & KEY_SPRINT && GetPlayerAnimationIndex(playerid) >= 1222 && GetPlayerAnimationIndex(playerid) <= 1236 && !IsFalling(playerid) && Player[playerid][Accelerated] >= 1)
	{
		GetPlayerVelocity(playerid,xw,yw,zw);
		if(zw >= 0.01 || zw <= -0.01 || xw >= 0.15 || xw <= -0.15 || yw >= 0.15 || yw <= -0.15) {} //SendClientMessageFormat(playerid, -1, "%.2f | %.2f", xw, yw);
		else
		{
			static Float:a, Float:vx, Float:vy;
			GetPlayerFacingAngle(playerid, a);
			vx = 0.5 * floatcos(-(a+90), degrees);
			vy = 0.5 * floatsin(-(a-90), degrees);
			SetPlayerVelocity(playerid, vx, vy, 0.00);
		}
	}
    
	if(Player[playerid][aDuty] || GetPlayerTeamEx(playerid) == 254) SetPlayerHealthAC(playerid, 200.0);
	
    static pCurWeap;
	pCurWeap = GetPlayerWeapon(playerid);
	
	if(pCurWeap <= 34)
	{
		if(pCurWeap != pCurrentWeapon[playerid])
		{
			pCurrentWeapon[playerid] = pCurWeap;

			if(pCurWeap <= 34)
			{
				if(WeaponsInfo[playerid][WeaponColor][pCurWeap] > -1)
				{
				    RemovePlayerAttachedObject(playerid, 7);
				    if(WeaponsInfo[playerid][WeaponColor][pCurWeap] < sizeof(colorNames)) SetColorWeaponPrint(playerid, GetPlayerWeapon(playerid), WeaponsInfo[playerid][WeaponColor][pCurWeap]);
				}
				else
				{
				    WepTint_OnPlayerChangeWeapon(playerid, pCurWeap);
					if(Achievements[playerid][thropyManiac] >= 1) SetPlayerWeaponPrint(playerid, GetPlayerWeapon(playerid), 1);
					else SetPlayerWeaponPrint(playerid, GetPlayerWeapon(playerid), 0);
				}
			}
			else
			{
			    WepTint_OnPlayerChangeWeapon(playerid, pCurWeap);
				if(Achievements[playerid][thropyManiac] >= 1) SetPlayerWeaponPrint(playerid, GetPlayerWeapon(playerid), 1);
				else SetPlayerWeaponPrint(playerid, GetPlayerWeapon(playerid), 0);
			}
		}
    }
    
    switch(GetPlayerWeapon(playerid))
	{
		case 44, 45:
      	{
      		if((Keys & KEY_FIRE) && (!IsPlayerInAnyVehicle(playerid)))
       		{
        		return 0;
        	}
    	}
	}
    
	return 1;
}

fun OnVehicleStreamIn(vehicleid, forplayerid)
{
	return 1;
}

fun OnVehicleStreamOut(vehicleid, forplayerid)
{
	return 1;
}

fun OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
	//if(listitem <= -1) return 0;
	
    new query[800], scs[2][128], rm[600];//hash[65], salt[65], scs[2][128];
    
 	switch(dialogid)
	{
	    case DIALOG_VIP_MENU:
	    {
	        if(response)
	        {
	            if(Player[playerid][pVip] <= 1) return 1;
	            switch(listitem)
	            {
	                case 0: { VipTeamSelected[playerid] = TEAM_HUMAN; SendClientMessage(playerid, -1, "{FFF000}>> Now you will spawn as a Human every round"); }
	                case 1: { VipTeamSelected[playerid] = TEAM_ZOMBIE; SendClientMessage(playerid, -1, "{FFF000}>> Now you will spawn as a Zombie every round"); }
	                case 2: { VipTeamSelected[playerid] = -1; SendClientMessage(playerid, -1, "{FFF000}>> Now you will spawn for a random team"); }
	            }
	        }
	        return 1;
	    }
	    
	    case DIALOG_JOIN_GANG:
	    {
	        if(response)
	        {
	            new gid = Player[playerid][GangRequest], requestSuccess = -1, list, id, r;
		    	foreach(Player, i)
	            {
	                if(Player[i][pClan] == gid && Player[i][pClanRank] >= Clan[gid][g_RankToAccept])
	                {
	                    requestSuccess = 1;
	                    SendClientMessageFormat(i, -1, "{0099ff}------------------ %s's gang app {FFF000}(Rank: %d){0099ff} ------------------", Player[playerid][UserName], Player[playerid][pRank]);
					    SendClientMessageFormat(i, -1, "{0099ff}Played:{FFF000} %d hours", Achievements[playerid][Hours]);

					    id = GetMaxTrophy(playerid, TROPHY_VITALITY);
					    if(id > -1)
					    {
					        list = id;
							r = TrophyInInv[playerid][plii_Rare][list];
					        SendClientMessageFormat(i, -1, "{0099ff}Vitality: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][list]]);
						}
						id = GetMaxTrophy(playerid, TROPHY_ACCURACY);
					    if(id > -1)
					    {
					        list = id;
					        r = TrophyInInv[playerid][plii_Rare][list];
					        SendClientMessageFormat(i, -1, "{0099ff}Accuracy: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][list]]);
						}
					    id = GetMaxTrophy(playerid, TROPHY_EVASION);
					    if(id > -1)
					    {
					        list = id;
					        r = TrophyInInv[playerid][plii_Rare][list];
					        SendClientMessageFormat(i, -1, "{0099ff}Evasion: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][list]]);
						}
					    id = GetMaxTrophy(playerid, TROPHY_WARRIOR);
					    if(id > -1)
					    {
					        list = id;
					        r = TrophyInInv[playerid][plii_Rare][list];
					        SendClientMessageFormat(i, -1, "{0099ff}Warrior: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][list]]);
						}
					    id = GetMaxTrophy(playerid, TROPHY_TITAN);
					    if(id > -1)
					    {
					        list = id;
					        r = TrophyInInv[playerid][plii_Rare][list];
					        SendClientMessageFormat(i, -1, "{0099ff}Titan: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][list]]);
						}
						id = GetMaxTrophy(playerid, TROPHY_MIRROR);
					    if(id > -1)
					    {
					        list = id;
					        r = TrophyInInv[playerid][plii_Rare][list];
					        SendClientMessageFormat(i, -1, "{0099ff}Mirror: {FFF000}%s %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][list]]);
						}

						id = GetMaxPet(playerid, ITEM_NAME_MOON_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Moon Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_FIRE_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Fire Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_THE_EARTH_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}The Earth Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_AIR_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Air Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_LOVE_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Love Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_HORSE_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Horse Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_COW_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Cow Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_DEER_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Deer Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_TURTLE_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Turtle Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_DOLPHIN_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Dolphin Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

				        id = GetMaxPet(playerid, ITEM_NAME_SHARK_PET);
						if(id > -1) SendClientMessageFormat(i, -1, "{0099ff}Shark Pet: {FFF000}%s Level: %d", UserPet[playerid][id][PI_Name], UserPet[playerid][id][PI_Level]);

						SendClientMessage(playerid, -1, "{0099ff}-------------------------------------------------------------------------");
						SendClientMessageFormat(i, -1, "{0099ff}Use{FFF000} /gang accept %d{0099ff} to accept the player", playerid);
	                }
	            }
	            if(requestSuccess <= 0)
	            {
	                TryToAddOfflineApplication(playerid, Player[playerid][GangRequest]);
	            }
	            else
	            {
	            	SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][126]);
				}
				return 1;
			}
			else
			{
			    Player[playerid][GangRequest] = -1;
			    return 1;
			}
		}
		
	    case DIALOG_CHANNELS:
	    {
	        if(response)
	        {
	            switch(listitem)
	            {
					case 0: Player[playerid][pChannel] = 0, SendClientMessage(playerid, -1, "{FFF000}>> Channel changed to {009900}Global");
					case 1:
					{
					    if(Player[playerid][pClan] > 0) Player[playerid][pChannel] = Player[playerid][pClan], SendClientMessage(playerid, -1, "{FFF000}>> Channel changed to {009900}Gang");
						else if(Player[playerid][pAdmin] > 0) Player[playerid][pChannel] = ADMIN_CHANNEL, SendClientMessage(playerid, -1, "{FFF000}>> Channel changed to {009900}Admin");
					}
					case 2: Player[playerid][pChannel] = ADMIN_CHANNEL, SendClientMessage(playerid, -1, "{FFF000}>> Channel changed to {009900}Admin");
				}
	            return 1;
	        }
	        return 1;
	    }
	    
    	case DIALOG_INFO_ACH:
    	{
    	    if(response)
    	    {
	    	    new coin = GetPVarInt(playerid, "QuestCoin")-1;
                new type = GetPVarInt(playerid, "AchievementTypeList");
                if(type == 0 && listitem == 43)
				{
					PrepareAchievements(playerid, playerid, true, 1);
					DeletePVar(playerid,  "QuestCoin");
	    	    	DeletePVar(playerid,  "AchievementTypeList");
					return 1;
				}
	    	    if(!TrophySlotUsed[playerid][listitem] && coin >= 0)
				{
				    if(type == 0)
				    {
						switch(listitem)
						{
	    					case 0: if(Achievements[playerid][thropyManiac] <= 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 1: if(Achievements[playerid][AbilityUses] <= 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 2: if(Achievements[playerid][AbilityUses] <= 499) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 3: if(Achievements[playerid][AbilityUses] <= 999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 4: if(Achievements[playerid][Runned] <= 9.999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 5: if(Achievements[playerid][Runned] <= 49.999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 6: if(Achievements[playerid][Runned] <= 199.999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 7: if(Achievements[playerid][Lucky] <= 2) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 8: if(Achievements[playerid][Lucky] <= 9) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 9: if(Achievements[playerid][Lucky] <= 19) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 10: if(Achievements[playerid][HumansKilled] <= 19) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 11: if(Achievements[playerid][HumansKilled] <= 99) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 12: if(Achievements[playerid][HumansKilled] <= 999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 13: if(Achievements[playerid][ZombiesKilled] <= 9) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 14: if(Achievements[playerid][ZombiesKilled] <= 99) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 15: if(Achievements[playerid][ZombiesKilled] <= 999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 16: if(Player[playerid][pKills] <= 9999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 17: if(Achievements[playerid][MeatsCollected] <= 99) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 18: if(Achievements[playerid][MeatsCollected] <= 999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 19: if(Achievements[playerid][MeatsCollected] <= 4999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 20: if(Achievements[playerid][eKillstreaks] <= 4) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 21: if(Achievements[playerid][eKillstreaks] <= 49) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 22: if(Achievements[playerid][eKillstreaks] <= 99) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 23: if(Achievements[playerid][CuredHumans] <= 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 24: if(Achievements[playerid][CuredHumans] <= 49) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 25: if(Achievements[playerid][CuredHumans] <= 99) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 26: if(Player[playerid][DuelsWin] <= 9) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 27: if(Player[playerid][DuelsWin] <= 99) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 28: if(Player[playerid][DuelsWin] <= 499) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 29: if(Achievements[playerid][eKillstreaksFail] <= 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 30: if(Achievements[playerid][Deaths] <= 9) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						 	case 31: if(Achievements[playerid][Deaths] <= 99) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 32: if(Achievements[playerid][Deaths] <= 999) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 33: if(Achievements[playerid][WrongResort] <= 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 34: if(GetUnlockedSlot(Achievements[playerid][esClan], 0) == 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
			     			case 35: if(GetUnlockedSlot(Achievements[playerid][esClan], 1) == 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
			     			case 36: if(GetUnlockedSlot(Achievements[playerid][esClan], 2) == 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
					 		case 37: if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 0) == 0) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
			     			case 38: if(Achievements[playerid][reportTimes] <= 9) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
			     			case 39: if(Achievements[playerid][reportTimes] <= 49) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
			     			case 40: if(Achievements[playerid][reportTimes] <= 99) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
			     			case 41: if(Achievements[playerid][Purchases] <= 49) return SendClientMessage(playerid, -1, "{FFF000}>> Achievement is not achieved!") && 0; else CreateTrophy(playerid, coin, listitem);
						}
					}
					return 1;
				}
				else if(TrophySlotUsed[playerid][listitem])
				{
				    SetPVarInt(playerid, "dtrp_id", TrophyInInv[playerid][plii_ID][TrophySlotUsed[playerid][listitem]]);
				    SetPVarInt(playerid, "QuestInx", listitem);
                    ShowPlayerDialog(playerid, DIALOG_TROPHYS_DROP, DIALOG_STYLE_MSGBOX, "{FF0000}Trophy", "{FFFFFF}Do you want to remove your trophy?\nYou will not be able to restore it", "Yes", "No");
				}
	    	    DeletePVar(playerid,  "QuestCoin");
	    	    DeletePVar(playerid,  "AchievementTypeList");
		        return 1;
			}
			else
			{
			    DeletePVar(playerid,  "QuestCoin");
			    DeletePVar(playerid,  "AchievementTypeList");
		        SetPVarInt(playerid,  "dtrp_id", -1);
			    return 1;
			}
    	}

		case DIALOG_TROPHYS_DROP:
		{
		    if(response)
		    {
			    new inx = GetPVarInt(playerid, "dtrp_id"),
			        in = GetPVarInt(playerid, "QuestInx");
			        
				if(inx >= 0)
				{
				    SendClientMessageFormat(playerid, -1, "{FFF000}>> You removed your %s", TrophyName[TrophyInInv[playerid][plii_Type][inx]]);
                    TrophyInInv[playerid][plii_ID][inx] = -1;
				    TrophySlotUsed[playerid][in] = 0;
				}
			 	SetPVarInt(playerid,  "dtrp_id", -1);
		     	DeletePVar(playerid,  "QuestInx");
			}
			else return 1;
		}

	    case DIALOG_TROPHYS:
	    {
	        if(response)
	        {
				if(TrophyInInv[playerid][plii_ID][listitem] > -1)
				{
            		SetPVarInt(playerid, "dtrp_id", listitem);

				    new name[96], d, r = TrophyInInv[playerid][plii_Rare][listitem];
				    switch(TrophyInInv[playerid][plii_Rare][listitem])
					{
					    case 4: d = 1;
					    case 3: d = 2;
					    case 2: d = 3;
					    case 1: d = 5;
					    case 0: d = 7;
					    default: d = 1;
					}
				    
				    format(name, sizeof(name), "{0099ff}%s (%d / %d)", TrophyName[TrophyInInv[playerid][plii_Type][listitem]],
				    TrophyInInv[playerid][plii_Rank][listitem], TrophyInInv[playerid][plii_MaxRank][listitem]);
				    
				    new delim[] = "| ======================================================= |", buff[96];
				    
				    switch(TrophyInInv[playerid][plii_Type][listitem])
				    {
				    	case 0: format(buff, sizeof(buff), "{66c2ff}Additional Health / Regeneration:{FFFFFF} +%d / Max. +%d", d * TrophyInInv[playerid][plii_Rank][listitem], d * TrophyInInv[playerid][plii_MaxRank][listitem]);
                        case 1,3: format(buff, sizeof(buff), "{66c2ff}Additional Damage:{FFFFFF} +%.2f / Max. +%.2f", (float(d * TrophyInInv[playerid][plii_Rank][listitem]) / 7000.0)*100.0, (float(d * TrophyInInv[playerid][plii_MaxRank][listitem]) / 7000.0) * 100.0);
                        case 2,4,5: format(buff, sizeof(buff), "{66c2ff}Chance:{FFFFFF} +%.2f '/. / Max. +%.2f '/.", (float(d * TrophyInInv[playerid][plii_Rank][listitem]) / 500.0)*100.0, (float(d * TrophyInInv[playerid][plii_MaxRank][listitem]) / 500.0) * 100.0);
					}

                    if(PlayerShowHisTrophyID[playerid] >= -1)
                    {
                        format(rm, sizeof(rm), "{ccebff}This trophy was received for completing a daily quest and achievement\n%s\n\n{66c2ff}Rarity: {FFFFFF}%s\n{66c2ff}Desc: {FFFFFF}%s\n%s\n\n%s\n{ccebff}Are you sure you want to upgrade this trophy?", delim, TrophyRares[r][8], TrophyDesc[TrophyInInv[playerid][plii_Type][listitem]][8], buff, delim);
						ShowPlayerDialog(playerid, DIALOG_TROPHY_SHOW, DIALOG_STYLE_MSGBOX, "{0099ff}Trophies - Show", rm, "Show", "Cancel");
                        PlayerShowHisTrophyID[playerid] = listitem;
					}
					else
					{
						if(GetPVarInt(playerid, "sell_trophy") <= 4)
						{
						    format(rm, sizeof(rm), "{ccebff}This trophy was received for completing a daily quest and achievement\n%s\n\n{66c2ff}Rarity: {FFFFFF}%s\n{66c2ff}Desc: {FFFFFF}%s\n%s\n\n%s\n{ccebff}Are you sure you want to upgrade this trophy?", delim, TrophyRares[r][8], TrophyDesc[TrophyInInv[playerid][plii_Type][listitem]][8], buff, delim);
							ShowPlayerDialog(playerid, DIALOG_TROPHYS_DO, DIALOG_STYLE_MSGBOX, "{0099ff}Trophies - Upgrade", rm, "Upgrade", "Cancel");
						}
						else
						{
						    format(rm, sizeof(rm), "{ccebff}This trophy was received for completing a daily quest and achievement\n%s\n\n{66c2ff}Rarity: {FFFFFF}%s\n{66c2ff}Desc: {FFFFFF}%s\n%s\n\n%s\n{ccebff}Are you sure you want to give / sell this trophy to another player?", delim, TrophyRares[r][8], TrophyDesc[TrophyInInv[playerid][plii_Type][listitem]][8], buff, delim);
							ShowPlayerDialog(playerid, DIALOG_TROPHY_SELL, DIALOG_STYLE_MSGBOX, name, rm, "Yes", "Cancel");
						}
					}
					
					return 1;
				}
			}
			else
			{
			    SetPVarInt(playerid, "dtrp_id", -1);
			}
			return 1;
	    }
	    
	    case DIALOG_SHOW_OFFLINE_MEMBERS:
	    {
	        if(response)
	        {
	            if(AccountsToAccept[playerid][listitem] > -1)
	            {
					new found = -5;
					foreach(Player, i)
					{
					    if(Player[i][pAccountID] == AccountsToAccept[playerid][listitem])
					    {
					        if(Player[i][pClan] > 0)
					        {
					            mysql_format(Base, query, sizeof(query), "DELETE FROM `applications` WHERE `ID` = '%d'", Player[i][pAccountID]);
								mysql_tquery(Base, query);
					            AccountsToAccept[playerid][listitem] = -1;
					            SendClientMessage(playerid, -1, "{0099ff}>> The player is already in the gang");
					        }
					        else
					        {
					            Player[i][pClan] = Player[playerid][pClan];
								Player[i][pClanRank] = 1;
								Player[i][pLastGangJoin] = (gettime() + (86400*8));
								
						        foreach(Player, j)
					            {
					                if(Player[j][pClan] == Player[playerid][pClan])
					                {
					                    SendClientMessageFormat(j, -1, serverLang[Player[j][pLang]][129], Player[i][UserName], Player[playerid][UserName]);
					                }
					            }
					            
					            mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='%d',`ClanRank`='%d' WHERE `ID` = '%d'", Player[i][pClan], Player[i][pClanRank], Player[i][pAccountID]);
								mysql_tquery(Base, query, "", "", "");
					            
					            mysql_format(Base, query, sizeof(query), "DELETE FROM `applications` WHERE `ID` = '%d'", Player[i][pAccountID]);
								mysql_tquery(Base, query);
								
					            Player[i][GangRequest] = 0;
						        AccountsToAccept[playerid][listitem] = -1;
							}
							found = 1;
							break;
					    }
					}
					if(found <= 0)
					{
					    mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='%d',`ClanRank`='%d' WHERE `ID` = '%d' AND `Clan` = '0'", Player[playerid][pClan], 1, AccountsToAccept[playerid][listitem]);
						mysql_tquery(Base, query, "", "", "");
						SendClientMessage(playerid, -1, "{0099ff}>> The rank will be set if the player has not joined another gang");
						
						mysql_format(Base, query, sizeof(query), "DELETE FROM `applications` WHERE `ID` = '%d'", AccountsToAccept[playerid][listitem]);
						mysql_tquery(Base, query);
					}
				}
				else
				{
				    SendClientMessage(playerid, -1, "{0099ff}>> Unknown error");
				}
	        }
	        for( new j = 0; j < 30; j++ ) AccountsToAccept[playerid][j] = -1;
	        return 1;
	    }
	    
	    case DIALOG_CARDS:
	    {
	        if(response)
	        {
                new desc[] = "--------------------------------------------------------------------------------------------------------------\n{FFF000}+++ Kill members of another team with the class of the card you want to receive\n{4db8ff}+++ The collected effect is permanent, you cannot get the same effect again\n{4db8ff}+++ For collecting all cards and activating the effect you will get 5000 EXP\n--------------------------------------------------------------------------------------------------------------\n\n",
                    head[] = "{0099ff}Cards",
                    s[512],
                    cs_info[1024];
                    
                strcat(cs_info, desc);
                
                format(s, sizeof(s), "{0099ff}Card Set Name:{99d6ff} %s\n", CardBoxName[0][listitem]);
				strcat(cs_info, s);
				
				format(s, sizeof(s), "{0099ff}Card Set Effect:{99d6ff} %s\n", CardsBoxDesc[0][listitem]);
				strcat(cs_info, s);
				
				new formated[256];
				switch(listitem)
				{
				    case 0: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3]);
                    case 1: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3]);
					case 2: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3]);
		            case 3: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3]);
					case 4: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2]);
					case 5: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4], CardBoxCards[listitem][5]);
					case 6: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4], CardBoxCards[listitem][5]);
					case 7: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4]);

					case 8: format(formated, sizeof(formated), CardBoxClasses[0][listitem],
                    CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4],
                    CardBoxCards[listitem][5], CardBoxCards[listitem][6], CardBoxCards[listitem][7], CardBoxCards[listitem][8], CardBoxCards[listitem][9]);
					
					case 9: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4]);
					case 10: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3]);
					case 11: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4], CardBoxCards[listitem][5], CardBoxCards[listitem][6]);
					case 12: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3]);
					case 13: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4]);
					case 14: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2]);
					case 15: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4]);
					case 16: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3], CardBoxCards[listitem][4]);
                    case 17: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1]);
                    case 18: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2], CardBoxCards[listitem][3]);
                    case 19: format(formated, sizeof(formated), CardBoxClasses[0][listitem], CardBoxCards[listitem][0], CardBoxCards[listitem][1], CardBoxCards[listitem][2]);
				}
				
				format(s, sizeof(s), "{0099ff}Requires Cards:{99d6ff} %s\n\n", formated);
				strcat(cs_info, s);
				
				CardEffectToUnlock[playerid] = listitem;
				
                ShowPlayerDialog(playerid, DIALOG_UNLOCK_CARD_EFFECT, DIALOG_STYLE_MSGBOX, head, cs_info, "Unlock", "Cancel");
	        }
	        return 1;
	    }
	    
	    case DIALOG_UNLOCK_CARD_EFFECT:
	    {
	        if(response)
	        {
	            if(CardEffectToUnlock[playerid] > -1) TryToUnlockCardSet(playerid, CardEffectToUnlock[playerid]);
	            CardEffectToUnlock[playerid] = -1;
	        }
	        CardEffectToUnlock[playerid] = -1;
	        return 1;
	    }
	    
	    case DIALOG_TROPHY_SHOW:
	    {
	        if(response)
	        {
	            if(PlayerShowHisTrophyID[playerid] >= 0)
	            {
	                new ID = PlayerShowHisTrophyID[playerid],
						r = TrophyInInv[playerid][plii_Rare][ID];
						
                    SendMessageFormatToAll(-1, "{0099ff}>> %s shows his / her {FFF000}%s %s {FFFFFF}(/show %d)", Player[playerid][UserName], TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][ID]], playerid);
	            }
	            else
	            {
                    PlayerShowHisTrophyID[playerid] = -10;
	            }
	        }
	        else
	        {
	        	PlayerShowHisTrophyID[playerid] = -10;
			}
	        return 1;
	    }
	    
	    case DIALOG_TROPHY_SELL:
	    {
	        if(response)
	        {
                new inx = GetPVarInt(playerid, "dtrp_id");
                if(inx <= -1)
				{
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_INPUT, "{FF0000}Warning", "NULL", "Ok", "");
					return 1;
				}
				
				if(GetPVarInt(playerid, "sell_trophy") <= 4)
				{
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_INPUT, "{FF0000}Warning", "NULL", "Ok", "");
					return 1;
				}
				
				if(!IsPlayerConnected(GetPVarInt(playerid, "sell_trophy_id")))
				{
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_INPUT, "{FF0000}Warning", "NULL", "Ok", "");
					return 1;
				}
				
				if(GetPVarInt(playerid, "sell_trophy_price") <= -1)
				{
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_INPUT, "{FF0000}Warning", "NULL", "Ok", "");
					return 1;
				}
				
				new pl = GetPVarInt(playerid, "sell_trophy_id"), pr = GetPVarInt(playerid, "sell_trophy_price"), r = TrophyInInv[playerid][plii_Rare][inx];
				
				if(pr > 0)
				{
				    SendClientMessageFormat(pl, -1, "{2fa192}>> %s is selling you a(n) %s %s {FFFFFF}(%d / %d){2fa192}. Price: {FFFFFF}%d{2fa192} exp, use /accept %d", Player[playerid][UserName], TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][inx]], TrophyInInv[playerid][plii_Rank][inx], TrophyInInv[playerid][plii_MaxRank][inx], pr, playerid);
					SendClientMessageFormat(playerid, -1, "{2fa192}>> You are selling a(n) %s %s {FFFFFF}(%d / %d){2fa192} to %s for {FFFFFF}%d{2fa192} exp.",  TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][inx]], TrophyInInv[playerid][plii_Rank][inx], TrophyInInv[playerid][plii_MaxRank][inx], Player[pl][UserName], pr);
				}
				else
				{
					SendClientMessageFormat(pl, -1, "{2fa192}>> %s is giving you a(n) %s %s {FFFFFF}(%d / %d){2fa192}. Use /accept %d", Player[playerid][UserName], TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][inx]], TrophyInInv[playerid][plii_Rank][inx], TrophyInInv[playerid][plii_MaxRank][inx], playerid);
	                SendClientMessageFormat(playerid, -1, "{2fa192}>> You gives a(n) %s %s {FFFFFF}(%d / %d){2fa192} to %s", TrophyRares[r][8], TrophyName[TrophyInInv[playerid][plii_Type][inx]], TrophyInInv[playerid][plii_Rank][inx], TrophyInInv[playerid][plii_MaxRank][inx], Player[pl][UserName]);
				}
				
				SetPVarInt(pl, "stype", 5);
				SetPVarInt(pl, "pl", playerid);
				SetPVarInt(pl, "inx", inx);
				SetPVarInt(pl, "pr", pr);
				SetPVarInt(pl, "vp", 0);
				SetPVarInt(pl, "ct", 1);
				SetPVarInt(pl, "clbuy", 1);
				SetPVarInt(pl, "buyt", gettime() + 15);
	        }
	        
	        SetPVarInt(playerid, "sell_trophy", -1);
			SetPVarInt(playerid, "sell_trophy_id", -1);
			SetPVarInt(playerid, "sell_trophy_price", -1);
	        SetPVarInt(playerid, "dtrp_id", -1);
	        PlayerShowHisTrophyID[playerid] = -10;
	        return 1;
	    }
	    
	    case DIALOG_TROPHYS_DO:
	    {
	        if(response)
	        {
		        new inx = GetPVarInt(playerid, "dtrp_id");
		        if(inx <= -1)
				{
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_INPUT, "{FF0000}Warning", "NULL", "Ok", "");
					return 1;
				}
				if(TrophyInInv[playerid][plii_Rank][inx] >= TrophyInInv[playerid][plii_MaxRank][inx])
				{
				   	new name[96];
		        	format(name, sizeof(name), "{0099ff}%s (%d/%d)", TrophyName[TrophyInInv[playerid][plii_Type][inx]],TrophyInInv[playerid][plii_Rank][inx],TrophyInInv[playerid][plii_MaxRank][inx]);
					format(rm, sizeof(rm), "\n{66c2ff}Improving trophies raise your stats in battle\n{66c2ff}Improve them to become better and stronger!\n\n{FFFFFF}+++ Improved by 100 '/. of 100 '/. use quest coins to upgrade to the next rank\n+++ When percentage will be more, than 100 '/. then the trophy will level up\n\n\nThis trophy has already been maximized!");
                    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, name, rm, "Ok", "");
                    SetPVarInt(playerid,  "dtrp_id", -1);
		        	return 1;
				}
				else
				{
				    new name[96];
		        	format(name, sizeof(name), "{0099ff}%s (%d/%d)", TrophyName[TrophyInInv[playerid][plii_Type][inx]],TrophyInInv[playerid][plii_Rank][inx],TrophyInInv[playerid][plii_MaxRank][inx]);
					format(rm, sizeof(rm), "\n{66c2ff}Improving trophies raise your stats in battle\n{66c2ff}Improve them to become better and stronger!\n\n{FFFFFF}+++ Improved by %d '/. of 100 '/. use quest coins to upgrade to the next rank\n+++ When percentage will be more, than 100 '/. then the trophy will level up\n\n\nEnter the number of coins you want to give to increase the percentage of trophy, to level up the trophy", TrophyInInv[playerid][plii_RankToNext][inx]);
                    ShowPlayerDialog(playerid, DIALOG_TROPHYS_UPGRADE, DIALOG_STYLE_INPUT, name, rm, "Upgrade", "Cancel");
		        	return 1;
				}
			}
			else
			{
			    SetPVarInt(playerid,  "dtrp_id", -1);
				return 1;
			}
	    }
	    
	    case DIALOG_TROPHYS_UPGRADE:
	    {
	        if(response)
	        {
		        new inx = GetPVarInt(playerid, "dtrp_id"), d = 0;
				if(inx <= -1)
				{
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_INPUT, "{FF0000}Warning", "NULL", "Ok", "");
					return 1;
				}
		        switch(TrophyInInv[playerid][plii_Rare][inx])
				{
				    case 4: d = 1;
				    case 3: d = 2;
				    case 2: d = 3;
				    case 1: d = 5;
				    case 0: d = 7;
				    default: d = 1;
				}

	            if(!strlen(inputtext) || strval(inputtext) <= 0 || strval(inputtext) > GetItemCount(playerid, ITEM_NAME_QUEST_COIN) || TrophyInInv[playerid][plii_Rank][inx] >= TrophyInInv[playerid][plii_MaxRank][inx])
				{
				    new name[96];
		        	format(name, sizeof(name), "{0099ff}%s (%d/%d)", TrophyName[TrophyInInv[playerid][plii_Type][inx]],TrophyInInv[playerid][plii_Rank][inx],TrophyInInv[playerid][plii_MaxRank][inx]);
					format(rm, sizeof(rm), "\n{66c2ff}Improving trophies raise your stats in battle\n{66c2ff}Improve them to become better and stronger!\n\n{FFFFFF}+++ Improved by %d '/. of 100 '/. use quest coins to upgrade to the next rank\n+++ When percentage will be more, than 100 '/. then the trophy will level up\n\n\nEnter the number of coins you want to give to increase the percentage of trophy, to level up the trophy", TrophyInInv[playerid][plii_RankToNext][inx]);
                    ShowPlayerDialog(playerid, DIALOG_TROPHYS_UPGRADE, DIALOG_STYLE_INPUT, name, rm, "Upgrade", "Cancel");
					return 1;
				}

				new v = strval(inputtext), curPercent = TrophyInInv[playerid][plii_RankToNext][inx], level = TrophyInInv[playerid][plii_Rank][inx];
	   		    switch(TrophyInInv[playerid][plii_Rare][inx])
				{
				    case 4: d = 0;
				    case 3: d = 1;
				    case 2: d = 2;
				    case 1: d = 3;
				    case 0: d = 5;
				    default: d = 0;
				}
				
		        if(GetItemCount(playerid, ITEM_NAME_QUEST_COIN) >= v)
		        {
		            RemoveItemFromInv(playerid, ITEM_NAME_QUEST_COIN, v);
			        for( new i; i < v; i++ )
			        {
			            if(random(2) == 0) TrophyInInv[playerid][plii_RankToNext][inx] += (10-d);
			            if(TrophyInInv[playerid][plii_RankToNext][inx] >= 100)
			            {
			                if((TrophyInInv[playerid][plii_Rank][inx]+1) < TrophyInInv[playerid][plii_MaxRank][inx])
			                {
			                	TrophyInInv[playerid][plii_Rank][inx]++;
			                	TrophyInInv[playerid][plii_RankToNext][inx] = 0;
			            	}
						}
			        }
		        }
		        
		        if(TrophyInInv[playerid][plii_Rank][inx] == level)
				{
	                new name[96];
		        	format(name, sizeof(name), "{0099ff}%s (%d/%d)", TrophyName[TrophyInInv[playerid][plii_Type][inx]],TrophyInInv[playerid][plii_Rank][inx],TrophyInInv[playerid][plii_MaxRank][inx]);
					format(rm, sizeof(rm), "\n{66c2ff}Improving trophies raise your stats in battle\n{66c2ff}Improve them to become better and stronger!\n\n{FFFFFF}+++ Improved by %d '/. of 100 '/. use quest coins to upgrade to the next rank\n+++ When percentage will be more, than 100 '/. then the trophy will level up\n\n\nEnter the number of coins you want to give to increase the percentage of trophy, to level up the trophy\n\n{ffd633}Trophy has been improved by %d percent!", TrophyInInv[playerid][plii_RankToNext][inx], TrophyInInv[playerid][plii_RankToNext][inx] - curPercent);
	                ShowPlayerDialog(playerid, DIALOG_TROPHYS_UPGRADE, DIALOG_STYLE_INPUT, name, rm, "Upgrade", "Cancel");
					return 1;
				}
				else
				{
				    new name[96];
		        	format(name, sizeof(name), "{0099ff}%s (%d/%d)", TrophyName[TrophyInInv[playerid][plii_Type][inx]],TrophyInInv[playerid][plii_Rank][inx],TrophyInInv[playerid][plii_MaxRank][inx]);
					format(rm, sizeof(rm), "\n{66c2ff}Improving trophies raise your stats in battle\n{66c2ff}Improve them to become better and stronger!\n\n{FFFFFF}+++ Improved by %d '/. of 100 '/. use quest coins to upgrade to the next rank\n+++ When percentage will be more, than 100 '/. then the trophy will level up\n\n\nEnter the number of coins you want to give to increase the percentage of trophy, to level up the trophy\n\n{ffd633}Trophy has been improved to level %d!", TrophyInInv[playerid][plii_RankToNext][inx], TrophyInInv[playerid][plii_Rank][inx]);
	                ShowPlayerDialog(playerid, DIALOG_TROPHYS_UPGRADE, DIALOG_STYLE_INPUT, name, rm, "Upgrade", "Cancel");
					return 1;
				}
				
				//DeletePVar(playerid, "dtrp_id");
            }
			else
			{
			    SetPVarInt(playerid,  "dtrp_id", -1);
				return 1;
			}
	    }
	    
		case DIALOG_COLLECTIONS:
		{
		    if(response)
			{
			    switch(listitem)
			    {
			        case 0:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_WRENCH) >= 1 && GetItemCount(playerid, ITEM_NAME_OIL) >= 1 && GetItemCount(playerid, ITEM_NAME_HAMMER) >= 1
						&& GetItemCount(playerid, ITEM_NAME_SCRAP) >= 1 && GetItemCount(playerid, ITEM_NAME_SCREWDRIVER) >= 1)
						{
						    SetPVarInt(playerid, "colExchangeID", 1);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Worker Set to Rocketman (3 days)?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        case 1:
			        {
			           	if(GetItemCount(playerid, ITEM_NAME_RADIO) >= 1 && GetItemCount(playerid, ITEM_NAME_KEY) >= 1 && GetItemCount(playerid, ITEM_NAME_HANDCUFFS) >= 1
						&& GetItemCount(playerid, ITEM_NAME_PISTOL) >= 1 && GetItemCount(playerid, ITEM_NAME_POLICE_BADGE) >= 1)
						{
						    SetPVarInt(playerid, "colExchangeID", 2);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Police Set to Advanced Policeman (3 days)?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        case 2:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_BAS_GUITAR) >= 1 && GetItemCount(playerid, ITEM_NAME_ELECTRIC_GUITAR) >= 1 && GetItemCount(playerid, ITEM_NAME_ROCK_GUITAR) >= 1
						&& GetItemCount(playerid, ITEM_NAME_MICROPHONE) >= 1 && GetItemCount(playerid, ITEM_NAME_SOUND_RECORD) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 3);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Rocker Set to Guitarist (14 days)?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        
			        case 3:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_OLD_SNIPER) >= 1 && GetItemCount(playerid, ITEM_NAME_OLD_DEAGLE) >= 1 && GetItemCount(playerid, ITEM_NAME_OLD_MP5) >= 1
						&& GetItemCount(playerid, ITEM_NAME_OLD_SAWNOFF) >= 1 && GetItemCount(playerid, ITEM_NAME_OLD_M4) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 4);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Dealer Set to Advanced Support (14 days)?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        
			        case 4:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_QUEEN_HEAD) >= 1 && GetItemCount(playerid, ITEM_NAME_QUEEN_SHIRT) >= 1 && GetItemCount(playerid, ITEM_NAME_QUEEN_DRESS) >= 1
						&& GetItemCount(playerid, ITEM_NAME_QUEEN_RING) >= 1 && GetItemCount(playerid, ITEM_NAME_QUEEN_WEALTH) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 5);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Ice Set to Human Queen (7 days)?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }

                    case 5:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_HERO_HEAD) >= 1 && GetItemCount(playerid, ITEM_NAME_HERO_CLOTHES) >= 1 && GetItemCount(playerid, ITEM_NAME_HERO_F_AKIT) >= 1
						&& GetItemCount(playerid, ITEM_NAME_HERO_TEAM) >= 1 && GetItemCount(playerid, ITEM_NAME_HERO_BADGE) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 6);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Hero Set to Advanced Hero (7 days)?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        
			        case 6:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_FORK) >= 1 && GetItemCount(playerid, ITEM_NAME_KNIFE1) >= 1 && GetItemCount(playerid, ITEM_NAME_PAN) >= 1
						&& GetItemCount(playerid, ITEM_NAME_FRYING_PAN) >= 1 && GetItemCount(playerid, ITEM_NAME_KNIFE2) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 7);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Kitchen Kit to 8000 EXP?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        case 7:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_BREAD) >= 1 && GetItemCount(playerid, ITEM_NAME_PIZZA) >= 1 && GetItemCount(playerid, ITEM_NAME_MEAT) >= 1
						&& GetItemCount(playerid, ITEM_NAME_FISH) >= 1 && GetItemCount(playerid, ITEM_NAME_GRILLED_MEAT) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 8);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Food Set to 6000 EXP?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        case 8:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_ORANGE) >= 1 && GetItemCount(playerid, ITEM_NAME_APPLE) >= 1 && GetItemCount(playerid, ITEM_NAME_AVOCADO) >= 1
						&& GetItemCount(playerid, ITEM_NAME_CHERRY) >= 1 && GetItemCount(playerid, ITEM_NAME_BANANA) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 9);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Edible Set to 7000 EXP?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        case 9:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_BLUE_CAP) >= 1 && GetItemCount(playerid, ITEM_NAME_BLACK_HAT) >= 1 && GetItemCount(playerid, ITEM_NAME_PANAMA) >= 1
						&& GetItemCount(playerid, ITEM_NAME_FARM_HAT) >= 1 && GetItemCount(playerid, ITEM_NAME_GANGSTER_HAT) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 10);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Fashion Set to 5000 EXP?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        case 10:
			        {
                        if(GetItemCount(playerid, ITEM_NAME_FISH) >= 1 && GetItemCount(playerid, ITEM_NAME_FISHINGROD) >= 1 && GetItemCount(playerid, ITEM_NAME_FISHINGLINE) >= 1
						&& GetItemCount(playerid, ITEM_NAME_HOOKSET) >= 1 && GetItemCount(playerid, ITEM_NAME_BAITBOWL) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 11);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Fisherman's Set to 20000 EXP?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
					}
					case 11:
			        {
                        if(GetItemCount(playerid, ITEM_NAME_APPLE_PIE) >= 1 && GetItemCount(playerid, ITEM_NAME_APRICOT_PIE) >= 1 && GetItemCount(playerid, ITEM_NAME_CHOCOLATE_PIE) >= 1
						&& GetItemCount(playerid, ITEM_NAME_HALF_EATENPIE) >= 1 && GetItemCount(playerid, ITEM_NAME_MILK) >= 1)
						{
	     					SetPVarInt(playerid, "colExchangeID", 12);
						    ShowPlayerDialog(playerid, DIALOG_COLLECTIONS_EXCHANGE, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}Are you sure to exchange Sweet Set to 15000 EXP?", "Yes", "No");
						    return 1;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
					}
			    }
			    return 1;
			}
			else return 1;
		}

        case DIALOG_COLLECTIONS_EXCHANGE:
        {
            if(response)
			{
				switch(GetPVarInt(playerid, "colExchangeID"))
				{
				    case 1:
				    {
				        if(GetItemCount(playerid, ITEM_NAME_WRENCH) >= 1 && GetItemCount(playerid, ITEM_NAME_OIL) >= 1 && GetItemCount(playerid, ITEM_NAME_HAMMER) >= 1
						&& GetItemCount(playerid, ITEM_NAME_SCRAP) >= 1 && GetItemCount(playerid, ITEM_NAME_SCREWDRIVER) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_WRENCH, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_OIL, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_HAMMER, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_SCRAP, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_SCREWDRIVER, 1);
						    PlayerClassUnlocked[playerid][TEAM_HUMAN][ROCKETMAN] = gettime() + (86400*3);
						    SendClientMessage(playerid, -1, "{99ffff}>> You temporarily unlocked a Rocketman, use /class Rocketman to set it!");
						}
				    }
					case 2:
					{
					    if(GetItemCount(playerid, ITEM_NAME_RADIO) >= 1 && GetItemCount(playerid, ITEM_NAME_KEY) >= 1 && GetItemCount(playerid, ITEM_NAME_HANDCUFFS) >= 1
						&& GetItemCount(playerid, ITEM_NAME_PISTOL) >= 1 && GetItemCount(playerid, ITEM_NAME_POLICE_BADGE) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_RADIO, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_KEY, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_HANDCUFFS, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_PISTOL, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_POLICE_BADGE, 1);
						    //PlayerClassUnlocked[playerid][TEAM_HUMAN][ADVANCEDPOLICEMAN] = gettime() + (86400*3);
						    SendClientMessage(playerid, -1, "{99ffff}>> You temporarily unlocked an Advanced Policeman, use /class Advanced Policeman to set it!");
						}
					}
					case 3:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_BAS_GUITAR) >= 1 && GetItemCount(playerid, ITEM_NAME_ELECTRIC_GUITAR) >= 1 && GetItemCount(playerid, ITEM_NAME_ROCK_GUITAR) >= 1
						&& GetItemCount(playerid, ITEM_NAME_MICROPHONE) >= 1 && GetItemCount(playerid, ITEM_NAME_SOUND_RECORD) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_BAS_GUITAR, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_ELECTRIC_GUITAR, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_ROCK_GUITAR, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_MICROPHONE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_SOUND_RECORD, 1);
						    //PlayerClassUnlocked[playerid][TEAM_HUMAN][ROCKERMAN] = gettime() + (86400*15);
						    SendClientMessage(playerid, -1, "{99ffff}>> You temporarily unlocked a Guitar Player, use /class Guitar Player to set it!");
						}
					}
					case 4:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_OLD_SNIPER) >= 1 && GetItemCount(playerid, ITEM_NAME_OLD_DEAGLE) >= 1 && GetItemCount(playerid, ITEM_NAME_OLD_MP5) >= 1
						&& GetItemCount(playerid, ITEM_NAME_OLD_SAWNOFF) >= 1 && GetItemCount(playerid, ITEM_NAME_OLD_M4) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_OLD_SNIPER, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_OLD_DEAGLE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_OLD_MP5, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_OLD_SAWNOFF, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_OLD_M4, 1);
						    //PlayerClassUnlocked[playerid][TEAM_HUMAN][ADVANCEDSUPPORTER] = gettime() + (86400*15);
						    SendClientMessage(playerid, -1, "{99ffff}>> You temporarily unlocked an Advanced Support, use /class Advanced Support to set it!");
						}
					}
					case 5:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_QUEEN_HEAD) >= 1 && GetItemCount(playerid, ITEM_NAME_QUEEN_SHIRT) >= 1 && GetItemCount(playerid, ITEM_NAME_QUEEN_DRESS) >= 1
						&& GetItemCount(playerid, ITEM_NAME_QUEEN_RING) >= 1 && GetItemCount(playerid, ITEM_NAME_QUEEN_WEALTH) >= 1)
						{
					    	RemoveItemFromInv(playerid, ITEM_NAME_QUEEN_HEAD, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_QUEEN_SHIRT, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_QUEEN_DRESS, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_QUEEN_RING, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_QUEEN_WEALTH, 1);
						    PlayerClassUnlocked[playerid][TEAM_HUMAN][HUMANQUEEN] = gettime() + (86400*8);
						    SendClientMessage(playerid, -1, "{99ffff}>> You temporarily unlocked a Human Queen, use /class Human Queen to set it!");
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
                    case 6:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_HERO_HEAD) >= 1 && GetItemCount(playerid, ITEM_NAME_HERO_CLOTHES) >= 1 && GetItemCount(playerid, ITEM_NAME_HERO_F_AKIT) >= 1
						&& GetItemCount(playerid, ITEM_NAME_HERO_TEAM) >= 1 && GetItemCount(playerid, ITEM_NAME_HERO_BADGE) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_HERO_HEAD, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_HERO_CLOTHES, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_HERO_F_AKIT, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_HERO_TEAM, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_HERO_BADGE, 1);
						    //PlayerClassUnlocked[playerid][TEAM_HUMAN][ADVANCEDHERO] = gettime() + (86400*8);
						    SendClientMessage(playerid, -1, "{99ffff}>> You temporarily unlocked an Advanced Hero, use /class Advanced Hero to set it!");
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{669999}Exchange Collection", "{FFFFFF}You do not have enough items!", "Ok", "");
						    return 1;
						}
			        }
			        
					case 7:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_FORK) >= 1 && GetItemCount(playerid, ITEM_NAME_KNIFE1) >= 1 && GetItemCount(playerid, ITEM_NAME_PAN) >= 1
						&& GetItemCount(playerid, ITEM_NAME_FRYING_PAN) >= 1 && GetItemCount(playerid, ITEM_NAME_KNIFE2) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_FORK, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_KNIFE1, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_PAN, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_FRYING_PAN, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_KNIFE2, 1);
							GivePlayerXP(playerid, 8000);
						}
					}
					case 8:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_BREAD) >= 1 && GetItemCount(playerid, ITEM_NAME_PIZZA) >= 1 && GetItemCount(playerid, ITEM_NAME_MEAT) >= 1
						&& GetItemCount(playerid, ITEM_NAME_FISH) >= 1 && GetItemCount(playerid, ITEM_NAME_GRILLED_MEAT) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_BREAD, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_PIZZA, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_MEAT, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_FISH, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_GRILLED_MEAT, 1);
							GivePlayerXP(playerid, 6000);
						}
					}
					case 9:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_ORANGE) >= 1 && GetItemCount(playerid, ITEM_NAME_APPLE) >= 1 && GetItemCount(playerid, ITEM_NAME_AVOCADO) >= 1
						&& GetItemCount(playerid, ITEM_NAME_CHERRY) >= 1 && GetItemCount(playerid, ITEM_NAME_BANANA) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_ORANGE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_APPLE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_AVOCADO, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_CHERRY, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_BANANA, 1);
							GivePlayerXP(playerid, 7000);
						}
					}
					case 10:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_BLUE_CAP) >= 1 && GetItemCount(playerid, ITEM_NAME_BLACK_HAT) >= 1 && GetItemCount(playerid, ITEM_NAME_PANAMA) >= 1
						&& GetItemCount(playerid, ITEM_NAME_FARM_HAT) >= 1 && GetItemCount(playerid, ITEM_NAME_GANGSTER_HAT) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_BLUE_CAP, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_BLACK_HAT, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_PANAMA, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_FARM_HAT, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_GANGSTER_HAT, 1);
							GivePlayerXP(playerid, 5000);
						}
					}
					case 11:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_FISH) >= 1 && GetItemCount(playerid, ITEM_NAME_FISHINGROD) >= 1 && GetItemCount(playerid, ITEM_NAME_FISHINGLINE) >= 1
						&& GetItemCount(playerid, ITEM_NAME_HOOKSET) >= 1 && GetItemCount(playerid, ITEM_NAME_BAITBOWL) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_FISH, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_FISHINGROD, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_FISHINGLINE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_HOOKSET, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_BAITBOWL, 1);
							GivePlayerXP(playerid, 20000);
						}
					}
					case 12:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_APPLE_PIE) >= 1 && GetItemCount(playerid, ITEM_NAME_APRICOT_PIE) >= 1 && GetItemCount(playerid, ITEM_NAME_CHOCOLATE_PIE) >= 1
						&& GetItemCount(playerid, ITEM_NAME_HALF_EATENPIE) >= 1 && GetItemCount(playerid, ITEM_NAME_MILK) >= 1)
						{
						    RemoveItemFromInv(playerid, ITEM_NAME_APPLE_PIE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_APRICOT_PIE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_CHOCOLATE_PIE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_HALF_EATENPIE, 1);
						    RemoveItemFromInv(playerid, ITEM_NAME_MILK, 1);
							GivePlayerXP(playerid, 15000);
						}
					}
				}
				DeletePVar(playerid, "colExchangeID");
			}
			else
			{
			    DeletePVar(playerid, "colExchangeID");
				return 1;
			}
        }

		case DIALOG_AUCTION_BUY_COUNT:
		{
		    if(response)
		    {
			    if(!strlen(inputtext))
			    {
					ShowPlayerDialog(playerid, DIALOG_AUCTION_BUY_COUNT, DIALOG_STYLE_INPUT, "Server's Auction", "Type Item Count:", "Buy", "Close");
					return 1;
				}

				new index = Player[playerid][isInBying][0];
		        if(index <= -1)
		        {
		            ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Error", "Ok", "");
		            Player[playerid][isInBying][0] = -1;
		            Player[playerid][isInBying][1] = 0;
		            return 1;
		        }
				if(strval(inputtext) < 0 || strval(inputtext) > OnlineShop[playerid][eps_count][index])
				{
				    ShowPlayerDialog(playerid, DIALOG_AUCTION_BUY_COUNT, DIALOG_STYLE_INPUT, "Server's Auction", "Type Item Count:", "Buy", "Close");
					return 1;
				}
				if(Player[playerid][pXP] < strval(inputtext) * OnlineShop[playerid][eps_price][index])
				{
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Not enough xp", "Ok", "");
		            Player[playerid][isInBying][0] = -1;
		            Player[playerid][isInBying][1] = 0;
		            return 1;
				}
				Player[playerid][isInBying][1] = strval(inputtext);
				mysql_format(Base, query, sizeof(query),  "SELECT * FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
                mysql_tquery(Base, query, "AuctionCheckForExists", "i", playerid);
				return 1;
			}
			Player[playerid][isInBying][0] = -1;
			Player[playerid][isInBying][1] = 0;
		    return 1;
		}

        case DIALOG_AUCTION_BUY_COMFIRM:
        {
            if(response)
            {
                new index = Player[playerid][isInBying][0];
                if(index <= -1)
                {
                    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Error", "Ok", "");
                    Player[playerid][isInBying][0] = -1;
                    Player[playerid][isInBying][1] = 0;
                    return 1;
                }
                mysql_format(Base, query, sizeof(query),  "SELECT * FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
                mysql_tquery(Base, query, "AuctionCheckForExists", "i", playerid);
                return 1;
			}
			Player[playerid][isInBying][0] = -1;
			Player[playerid][isInBying][1] = 0;
			return 1;
        }

		case DIALOG_AUCTION_BUY:
		{
		    if(response)
		    {
		        if(listitem >= 10 || OnlineShop[playerid][eps_id][listitem] == -1)
		        {
		            Player[playerid][pShopPage]++;
		            Player[playerid][isInBying][0] = -1;
		            for( new i = 0; i < 10; i++)
				    {
						OnlineShop[playerid][eps_id][i] = -1;
					    OnlineShop[playerid][eps_inx][i] = -1;
					    OnlineShop[playerid][eps_count][i] = 0;
					    OnlineShop[playerid][eps_price][i] = 0;
					    OnlineShop[playerid][eps_time][i] = 0;
					    OnlineShop[playerid][eps_vip][i] = 0;
					    OnlineShop[playerid][eps_acc][i] = 0;
					    OnlineShop[playerid][eps_type][i] = 0;
					}
					strmid(OnlineShop[playerid][eps_info_0], "", 0, 128, 129);
					strmid(OnlineShop[playerid][eps_info_1], "", 0, 128, 129);
					strmid(OnlineShop[playerid][eps_info_2], "", 0, 128, 129);
					strmid(OnlineShop[playerid][eps_info_3], "", 0, 128, 129);
					strmid(OnlineShop[playerid][eps_info_4], "", 0, 128, 129);
					strmid(OnlineShop[playerid][eps_info_5], "", 0, 128, 129);
				    strmid(OnlineShop[playerid][eps_info_6], "", 0, 128, 129);
				    strmid(OnlineShop[playerid][eps_info_7], "", 0, 128, 129);
				    strmid(OnlineShop[playerid][eps_info_8], "", 0, 128, 129);
				    strmid(OnlineShop[playerid][eps_info_9], "", 0, 128, 129);
				    
					for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
				    
				    if(strlen(Player[playerid][pShopFilter]) >= 1)
				    {
				        mysql_format(Base, query, sizeof(query), "SELECT * FROM `auction` ORDER BY `time` DESC AND `name` LIKE '%%%e%%' LIMIT 11 OFFSET %d", Player[playerid][pShopPage]*10, Player[playerid][pShopFilter]);
		                mysql_tquery(Base, query, "GetAuction", "i", playerid);
				    }
				    else
				    {
					    mysql_format(Base, query, sizeof(query), "SELECT * FROM `auction` ORDER BY `time` DESC LIMIT 11 OFFSET %d", Player[playerid][pShopPage]*10);
		                mysql_tquery(Base, query, "GetAuction", "i", playerid);
					}
		        }
		        else
		        {
		            if(OnlineShop[playerid][eps_acc][listitem] == Player[playerid][pAccountID])
		            {
		                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "If you want to change something in your thing - go to the section: For sale", "Ok", "");
		                return 1;
		            }
		            
		            new str[1600];
		            Player[playerid][isInBying][0] = listitem;
		            if(OnlineShop[playerid][eps_inx][listitem] < ITEM_NAME_MOON_PET)
					{
     					new iindex, itype, iprog;
			            switch(listitem)
			            {
			                case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iii", iindex, itype, iprog);
                            case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iii", iindex, itype, iprog);
                            case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iii", iindex, itype, iprog);
                            case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iii", iindex, itype, iprog);
                            case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iii", iindex, itype, iprog);
                            case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iii", iindex, itype, iprog);
                            case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iii", iindex, itype, iprog);
                            case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iii", iindex, itype, iprog);
                            case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iii", iindex, itype, iprog);
                            case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iii", iindex, itype, iprog);
						}
						
					    switch(OnlineShop[playerid][eps_inx][listitem])
						{
							case ITEM_NAME_CHAOS_BIG_CHEST:
							{
								new la = Player[playerid][pLang];
								format(str, sizeof(str), "------------------------------------------------------------------------\n%s %s\n{FFFFFF}------------------------------------------------------------------------\n\n%s%s%s%s ~~~ %d\n\n{FFFFFF}Do you want to buy it?", chaosChest[la][0], chaosChest[la][1 + itype], itm_info[OnlineShop[playerid][eps_inx][listitem]], chaosChest[la][11], chaosChest[la][12], chaosChest[la][13 + iindex], iprog);
							}
							
							case ITEM_NAME_CHAOS_SMALL_CHEST:
					        {
					            new temp[256], la = Player[playerid][pLang];
								format(temp, sizeof(temp), "%s%s%s ~~~ %d\n\n{FFFFFF}Do you want to buy it?", chaosChest[la][11], chaosChest[la][12], chaosChest[la][13 + iindex], iprog);
					            format(str, sizeof(str), itm_info[OnlineShop[playerid][eps_inx][listitem]], temp);
					        }

					        case ITEM_NAME_CHAOS_CHEST:
					        {
					            new temp[256], la = Player[playerid][pLang];
								format(temp, sizeof(temp), "%s%s%s ~~~ %d\n\n{FFFFFF}Do you want to buy it?", chaosChest[la][11], chaosChest[la][12], chaosChest[la][13 + iindex], iprog);
					            format(str, sizeof(str), itm_info[OnlineShop[playerid][eps_inx][listitem]], temp);
					        }
							
							default: format(str, sizeof(str), "{FFFFFF}Do you want to buy {0099ff}%s?\n\t{99d6ff}%s", ItemNames[OnlineShop[playerid][eps_inx][listitem]][8], itm_info[OnlineShop[playerid][eps_inx][listitem]]);
						}
					}
					else
					{
					    if(OnlineShop[playerid][eps_type][listitem] != 8 && OnlineShop[playerid][eps_type][listitem] != 9)
					    {
						    if(OnlineShop[playerid][eps_vip][listitem] <= 0) format(str, sizeof(str), "{FFFFFF}Do you want to buy {0099ff}%s?\n\t{99d6ff}%s", PetsNames[OnlineShop[playerid][eps_inx][listitem] - 9999][8], PetsDesc[OnlineShop[playerid][eps_inx][listitem] - 9999]);
							else format(str, sizeof(str), "{FFFFFF}Do you want to buy {0099ff}%s?\n\t{99d6ff}%s\n\n{ffd633}VIP PET", PetsNames[OnlineShop[playerid][eps_inx][listitem] - 9999][8], PetsDesc[OnlineShop[playerid][eps_inx][listitem] - 9999]);
						}
						if(OnlineShop[playerid][eps_type][listitem] == 9)
						{
						    new iindex, itype, wbuff[3], chance[3], time[3], name[128], dodge;
				            switch(listitem)
				            {
				                case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	                            case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
							}
							
							new buff[32], temp[256];
							switch(wbuff[0])
							{
							    case 0: strcat(buff, chaos_ARwordsS[0]);
							    case 1: strcat(buff, chaos_ARwordsS[1]);
							    case 2: strcat(buff, chaos_ARwordsS[2]);
							    case 3: strcat(buff, chaos_ARwordsS[3]);
							    case 4: strcat(buff, chaos_ARwordsS[4]);
							    case 5: strcat(buff, chaos_ARwordsS[5]);
							    case 6: strcat(buff, chaos_ARwordsS[6]);
							    case 7: strcat(buff, chaos_ARwordsS[7]);
							    case 8: strcat(buff, chaos_ARwordsS[8]);
							    case 9: strcat(buff, chaos_ARwordsS[9]);
							    case 10: strcat(buff, chaos_ARwordsS[10]);
							    case 11: strcat(buff, chaos_ARwordsS[11]);
							    default: strcat(buff, "");
							}
						    switch(wbuff[1])
							{
							    case 0: strcat(buff, chaos_ARwordsM[0]);
							    case 1: strcat(buff, chaos_ARwordsM[1]);
							    case 2: strcat(buff, chaos_ARwordsM[2]);
							    case 3: strcat(buff, chaos_ARwordsM[3]);
							    case 4: strcat(buff, chaos_ARwordsM[4]);
							    case 5: strcat(buff, chaos_ARwordsM[5]);
							    case 6: strcat(buff, chaos_ARwordsM[6]);
							    case 7: strcat(buff, chaos_ARwordsM[7]);
							    case 8: strcat(buff, chaos_ARwordsM[8]);
							    case 9: strcat(buff, chaos_ARwordsM[9]);
							    case 10: strcat(buff, chaos_ARwordsM[10]);
							    case 11: strcat(buff, chaos_ARwordsM[11]);
							    default: strcat(buff, "");
							}
							switch(wbuff[2])
							{
							    case 0: strcat(buff, chaos_ARwordsE[0]);
							    case 1: strcat(buff, chaos_ARwordsE[1]);
							    case 2: strcat(buff, chaos_ARwordsE[2]);
							    case 3: strcat(buff, chaos_ARwordsE[3]);
							    case 4: strcat(buff, chaos_ARwordsE[4]);
							    case 5: strcat(buff, chaos_ARwordsE[5]);
							    case 6: strcat(buff, chaos_ARwordsE[6]);
							    case 7: strcat(buff, chaos_ARwordsE[7]);
							    case 8: strcat(buff, chaos_ARwordsE[8]);
							    case 9: strcat(buff, chaos_ARwordsE[9]);
							    case 10: strcat(buff, chaos_ARwordsE[10]);
							    case 11: strcat(buff, chaos_ARwordsE[11]);
							    default: strcat(buff, "");
							}
							
		    				format(name, sizeof(name), "+%d %s %s", itype, chs_n[iindex], buff);
						    format(temp, sizeof(temp), "\n{FFFFFF}Do you want to buy {0099ff}%s?\n\n", name);
						    strcat(str, temp);
						    
						    new upgr = iindex, bdpt;
						    switch(upgr)
							{
							    case 0: bdpt = 9;
							    case 1: bdpt = 3;
							    case 2: bdpt = 5;
							    case 3: bdpt = 7;
							}

						    switch(itype)
						    {
						        case 7: if(bdpt == 9) dodge = -3; else dodge = -1;
						        case 8: if(bdpt == 9) dodge = -4; else dodge = -1;
						        case 9: if(bdpt == 3) dodge = -6; else dodge = -3;
						        case 10: if(bdpt == 3) dodge = -7; else dodge = -5;
						        case 11: if(bdpt == 3) dodge = -11; else dodge = -8;
						        case 12: if(bdpt == 3) dodge = -21; else dodge = -11;
						    }

						    if(dodge <= -1)
							{
							    format(temp, sizeof(temp), "{6666ff}- The probability of crit. damage:{8080ff} -%d\n", abs(dodge));
								strcat(str, temp);
							    format(temp, sizeof(temp), "{e0ebeb}- Chance of additional damage absorption:{c1d7d7} %d '/.\n", min(75, floor((float(abs(dodge))/10.0)*100)));
								strcat(str, temp);
							}

							switch(itype)
						    {
						        case 7: dodge = 3;
						        case 8: dodge = 5;
						        case 9: dodge = 8;
						        case 10: dodge = 11;
						        case 11: dodge = 15;
						        case 12: dodge = 21;
						        default: dodge = 0;
						    }
						    
							if(dodge >= 1)
							{
							    format(temp, sizeof(temp), "{e0ebeb}- Additional damage absorbed:{c1d7d7} %d\n", dodge);
								strcat(str, temp);
							}

							if(wbuff[0] > -1)
							{
							    format(temp, sizeof(temp), "\n{ffd11a}Effect #1: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[wbuff[0]], time[0]);
								strcat(str, temp);
							}
							else strcat(str, "\n{ffd11a}Effect #1: None\n");

							if(wbuff[1] > -1)
							{
							    format(temp, sizeof(temp), "{ffd11a}Effect #2: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[wbuff[1]], time[1]);
								strcat(str, temp);
							}
							else strcat(str, "{ffd11a}Effect #2: None\n");

							if(wbuff[2] > -1)
							{
							    format(temp, sizeof(temp), "{ffd11a}Effect #3: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[wbuff[2]], time[2]);
								strcat(str, temp);
							}
							else strcat(str, "{ffd11a}Effect #3: None\n");
							strcat(str, "\n\n");
	
						}
						if(OnlineShop[playerid][eps_type][listitem] == 8)
						{
						    new iindex, itype, wbuff[3], chance[3], time[3], Float:power[3], name[128], wn[32];
				            switch(listitem)
				            {
				                case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	                            case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
							}
							
							new buff[32], temp[256];
						    switch(wbuff[0])
							{
							    case chaos_POISONING: strcat(buff, chaos_wordsS[chaos_POISONING]);
							    case chaos_BLEEDING: strcat(buff, chaos_wordsS[chaos_BLEEDING]);
							    case chaos_RADIATION: strcat(buff, chaos_wordsS[chaos_RADIATION]);
							    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsS[chaos_HOLY_AMMO]);
							    case chaos_BLESSING: strcat(buff, chaos_wordsS[chaos_BLESSING]);
							    case chaos_ARSON: strcat(buff, chaos_wordsS[chaos_ARSON]);
							    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsS[chaos_ARMOR_DESTRUCTION]);
							    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsS[chaos_KNOCK_OVER]);
							    case chaos_TORMENT: strcat(buff, chaos_wordsS[chaos_TORMENT]);
							    case chaos_DISCHARGE: strcat(buff, chaos_wordsS[chaos_DISCHARGE]);
							    default: strcat(buff, "");
							}
						    switch(wbuff[1])
							{
							    case chaos_POISONING: strcat(buff, chaos_wordsM[chaos_POISONING]);
							    case chaos_BLEEDING: strcat(buff, chaos_wordsM[chaos_BLEEDING]);
							    case chaos_RADIATION: strcat(buff, chaos_wordsM[chaos_RADIATION]);
							    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsM[chaos_HOLY_AMMO]);
							    case chaos_BLESSING: strcat(buff, chaos_wordsM[chaos_BLESSING]);
							    case chaos_ARSON: strcat(buff, chaos_wordsM[chaos_ARSON]);
							    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsM[chaos_ARMOR_DESTRUCTION]);
							    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsM[chaos_KNOCK_OVER]);
							    case chaos_TORMENT: strcat(buff, chaos_wordsM[chaos_TORMENT]);
							    case chaos_DISCHARGE: strcat(buff, chaos_wordsM[chaos_DISCHARGE]);
							    default: strcat(buff, "");
							}
							switch(wbuff[2])
							{
							    case chaos_POISONING: strcat(buff, chaos_wordsE[chaos_POISONING]);
							    case chaos_BLEEDING: strcat(buff, chaos_wordsE[chaos_BLEEDING]);
							    case chaos_RADIATION: strcat(buff, chaos_wordsE[chaos_RADIATION]);
							    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsE[chaos_HOLY_AMMO]);
							    case chaos_BLESSING: strcat(buff, chaos_wordsE[chaos_BLESSING]);
							    case chaos_ARSON: strcat(buff, chaos_wordsE[chaos_ARSON]);
							    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsE[chaos_ARMOR_DESTRUCTION]);
							    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsE[chaos_KNOCK_OVER]);
							    case chaos_TORMENT: strcat(buff, chaos_wordsE[chaos_TORMENT]);
							    case chaos_DISCHARGE: strcat(buff, chaos_wordsE[chaos_DISCHARGE]);
							    default: strcat(buff, "");
							}
							
							GetWeaponName(iindex, wn, sizeof(wn));
		    				format(name, sizeof(name), "+%d %s %s", itype, wn, buff);
						    format(temp, sizeof(temp), "\n{FFFFFF}Do you want to buy {0099ff}%s?\n\n", name);
						    strcat(str, temp);
						    
						    new crc = 0;
						    switch(iindex)
							{
							    case 22,23,24,33,34:
							    {
									switch(itype)
									{
										case 5: crc = 1;
										case 6: crc = 2;
										case 7: crc = 3;
										case 8: crc = 4;
										case 9: crc = 5;
										case 10: crc = 6;
										case 11: crc = 7;
										case 12: crc = 8;
									}
								}
								case 25,26,27:
								{
								    switch(itype)
									{
										case 5: crc = 1;
										case 6: crc = 1;
										case 7: crc = 1;
										case 8: crc = 2;
										case 9: crc = 2;
										case 10: crc = 3;
										case 11: crc = 3;
										case 12: crc = 4;
									}
								}
								case 28,29,30,31:
								{
								    switch(itype)
									{
										case 7: crc = 1;
										case 8: crc = 1;
										case 9: crc = 1;
										case 10: crc = 2;
										case 11: crc = 2;
										case 12: crc = 3;
									}
								}
							}
						    
						    new Float:crd = 0.0;
						    switch(iindex)
							{
							    case 28,29,30,31:
								{
								    switch(itype)
									{
										case 7: crd =  2.0;
										case 8: crd =  2.0;
										case 9: crd =  2.0;
										case 10: crd =  5.0;
										case 11: crd =  5.0;
										case 12: crd =  9.0;
									}
								}
							    case 24,33,34:
							    {
									switch(itype)
									{
										case 5: crd =  2.0;
										case 6: crd =  4.0;
										case 7: crd =  6.0;
										case 8: crd =  8.0;
										case 9: crd =  10.0;
										case 10: crd =  12.0;
										case 11: crd =  14.0;
										case 12: crd =  16.0;
									}
								}
								case 25,26,27:
								{
								    switch(itype)
									{
										case 5: crd =  8.0;
										case 6: crd =  10.0;
										case 7: crd =  12.0;
										case 8: crd =  15.0;
										case 9: crd =  15.0;
										case 10: crd =  18.0;
										case 11: crd =  18.0;
										case 12: crd =  25.0;
									}
								}
							}
						    
						    if(crc >= 1)
						    {
							    format(temp, sizeof(temp), "{e0ebeb}- Critical Hit Chance:{c1d7d7} %d '/.\n", min(75, floor((float(crc)/10.0)*100)));
								strcat(str, temp);
								format(temp, sizeof(temp), "{6666ff}- Additional Critical Damage:{8080ff} %.0f\n\n", crd);
								strcat(str, temp);
						    }
						    
						    if(wbuff[0] > -1)
							{
								format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n", chaosEffect[0][wbuff[0]], chance[0], time[0], power[0]);
						        strcat(str, temp);
							}
							if(time[0] <= 0) strcat(str, "{0099ff}- Effect #1: None\n");
							if(wbuff[1] > -1)
							{
								format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n", chaosEffect[0][wbuff[1]], chance[1], time[1], power[1]);
								strcat(str, temp);
							}
							if(time[1] <= 0) strcat(str, "{0099ff}- Effect #2: None\n");

							if(wbuff[2] > -1)
							{
								format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n\n", chaosEffect[0][wbuff[2]], chance[2], time[2], power[2]);
								strcat(str, temp);
							}
							if(time[2] <= 0) strcat(str, "{0099ff}- Effect #3: None\n\n");
							
							//printf("%s", str);
						}
					}
					ShowPlayerDialog(playerid, DIALOG_AUCTION_BUY_COMFIRM, DIALOG_STYLE_MSGBOX, "Server's Auction", str, "Confirm", "Close");
					return 1;
		        }
		    }
		    Player[playerid][isInBying][0] = -1;
		    Player[playerid][isInBying][1] = 0;
		    return 1;
		}

		case DIALOG_AUCTION_SELL_COUNT:
		{
		    if(response)
		    {
		        if(!strlen(inputtext))
		        {
		            ShowPlayerDialog(playerid, DIALOG_AUCTION_SELL_COUNT, DIALOG_STYLE_INPUT, "Server's Auction", "Type item count:", "Next", "Close");
					return 1;
				}
				if(strval(inputtext) < 1 || strval(inputtext) > GetItemCount(playerid, Player[playerid][isInSelling][1]))
				{
				    ShowPlayerDialog(playerid, DIALOG_AUCTION_SELL_COUNT, DIALOG_STYLE_INPUT, "Server's Auction", "Type item count:", "Next", "Close");
					return 1;
				}
				Player[playerid][isInSelling][2] = strval(inputtext);
    			ShowPlayerDialog(playerid, DIALOG_AUCTION_SELL_PRICE, DIALOG_STYLE_INPUT, "Server's Auction", "Type Price (min. 100 exp):", "Next", "Close");
		    }
		    else
		    {
		        for( new i; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
		    }
		    return 1;
		}
		
		case DIALOG_AUCTION_SELL_PRICE:
		{
		    if(response)
		    {
			    if(!strlen(inputtext))
	      		{
			    	ShowPlayerDialog(playerid, DIALOG_AUCTION_SELL_PRICE, DIALOG_STYLE_INPUT, "Server's Auction", "Type Price (min. 100 exp):", "Next", "Close");
	                return 1;
				}
				if(strval(inputtext) < 100)
				{
				    ShowPlayerDialog(playerid, DIALOG_AUCTION_SELL_PRICE, DIALOG_STYLE_INPUT, "Server's Auction", "Type Price (min. 100 exp):", "Next", "Close");
	                return 1;
				}
				if(Player[playerid][isInSelling][1] <= -1)
				{
				    for( new i; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Data processing error, try to sell the item again", "Ok", "");
	                return 1;
				}
				if(GetItemCount(playerid, Player[playerid][isInSelling][1]) < Player[playerid][isInSelling][2])
				{
				    for( new i; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Data processing error, try to sell the item again", "Ok", "");
	                return 1;
				}
				Player[playerid][isInSelling][3] = strval(inputtext);
				new str[196];
				if(Player[playerid][isInSelling][1] < ITEM_NAME_MOON_PET)
				{
					format(str, sizeof(str), "---------- Confirmation of action ----------\n\n{0099ff}Item Name: %s\n{0099ff}Price: {99d6ff}%d\n{0099ff}Count:{99d6ff} %d\n\nAre the data entered correct?", ItemNames[Player[playerid][isInSelling][1]][8], Player[playerid][isInSelling][3], Player[playerid][isInSelling][2]);
		            ShowPlayerDialog(playerid, DIALOG_AUCTION_CONFRIM, DIALOG_STYLE_MSGBOX, "Server's Auction", str, "Confirm", "Close");
				}
				else
				{
				    format(str, sizeof(str), "---------- Confirmation of action ----------\n\n{0099ff}Pet Name: %s\n{0099ff}Price: {99d6ff}%d\n{0099ff}Count:{99d6ff} %d\n\nAre the data entered correct?", PetsNames[Player[playerid][isInSelling][1] - 9999], Player[playerid][isInSelling][3], Player[playerid][isInSelling][2]);
		            ShowPlayerDialog(playerid, DIALOG_AUCTION_CONFRIM, DIALOG_STYLE_MSGBOX, "Server's Auction", str, "Confirm", "Close");
				}
			}
			else
		    {
		        for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
		    }
			return 1;
		}

		case DIALOG_AUCTION_CONFRIM:
		{
		    if(response)
		    {
		        if(Player[playerid][isInSelling][1] <= -1)
				{
				    for( new i; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Data processing error, try to sell the item again", "Ok", "");
	                return 1;
				}
				if(GetItemCount(playerid, Player[playerid][isInSelling][1]) < Player[playerid][isInSelling][2])
				{
				    for( new i; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Data processing error, try to sell the item again", "Ok", "");
	                return 1;
				}
				if(Player[playerid][isInSelling][1] < ITEM_NAME_MOON_PET)
				{
				    switch(Player[playerid][isInSelling][1])
				    {
					    case ITEM_NAME_EFF_AMPLIFIER, ITEM_NAME_COLOR_AMPLIFIER, ITEM_NAME_PET_AMPLIFIER, ITEM_NAME_CHAOS_SMALL_CHEST, ITEM_NAME_CHAOS_BIG_CHEST, ITEM_NAME_CHAOS_CHEST:
					    {
					        if(Player[playerid][isInSelling][5] <= -1)
					        {
					            ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Error", "Ok", "");
					            for( new i; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
				             	return 1;
					        }
					        
					        new info[128], name[128], wn[32];
					        format(info, sizeof(info), "%d,%d,%d", Player[playerid][isInSelling][6], Player[playerid][isInSelling][7], Player[playerid][isInSelling][8]);
					        
					        if(Player[playerid][isInSelling][1] == ITEM_NAME_EFF_AMPLIFIER)
					        {
                            	GetWeaponName(Player[playerid][isInSelling][7]-100, wn, sizeof(wn));
								format(name, sizeof(name), "%s (%s ~ %s %d '/. %d sec)", ItemNames[Player[playerid][isInSelling][1]], wn, chaosEffect[0][Player[playerid][isInSelling][6]], Player[playerid][isInSelling][8], Player[playerid][isInSelling][4]);
					        }
					        
					        if(Player[playerid][isInSelling][1] == ITEM_NAME_COLOR_AMPLIFIER)
					        {
					            GetWeaponName(Player[playerid][isInSelling][7], wn, sizeof(wn));
					            format(name, sizeof(name), "%s (%s ~ %s)",  ItemNames[Player[playerid][isInSelling][1]], wn, colorNames[Player[playerid][isInSelling][6]][ci_name]);
					        }
					        
					        if(Player[playerid][isInSelling][1] == ITEM_NAME_CHAOS_SMALL_CHEST) { name = ""; strcat(name, "{bf00ff}Small Chaos Chest"); }
                            if(Player[playerid][isInSelling][1] == ITEM_NAME_CHAOS_CHEST) { name = ""; strcat(name, "{bf00ff}Chaos Chest"); }
					        if(Player[playerid][isInSelling][1] == ITEM_NAME_CHAOS_BIG_CHEST) format(name, sizeof(name), "%s for %s",  ItemNames[Player[playerid][isInSelling][1]], chaosChest[0][1 + Player[playerid][isInSelling][7]][8]);
					        if(Player[playerid][isInSelling][1] == ITEM_NAME_PET_AMPLIFIER) format(name, sizeof(name), "%s ~ %s", ItemNames[Player[playerid][isInSelling][1]], PetsNames[Player[playerid][isInSelling][6]][8]);
					        
					        mysql_format(Base, query, sizeof(query), "INSERT INTO `auction` (`name`,`indx`,`count`,`price`,`time`,`vip`,`acc`,`type`,`info`) VALUES ('%e', '%d', '%d', '%d', '%d', '%d', '%d', '%d', '%e')",
							name,
						    Player[playerid][isInSelling][1],
						    Player[playerid][isInSelling][2],
						    Player[playerid][isInSelling][3],
						    gettime(),
						    Player[playerid][isInSelling][4],
						    Player[playerid][pAccountID],
						    0, info);
						    mysql_tquery(Base, query, "", "", "");
					        RemoveItemFromInv(playerid, Player[playerid][isInSelling][1], Player[playerid][isInSelling][2], true, Player[playerid][isInSelling][5]);
						}
					    default:
					    {
						    RemoveItemFromInv(playerid, Player[playerid][isInSelling][1], Player[playerid][isInSelling][2]);

						    mysql_format(Base, query, sizeof(query), "INSERT INTO `auction` (`name`,`indx`,`count`,`price`,`time`,`vip`,`acc`,`type`,`info`) VALUES ('%e', '%d', '%d', '%d', '%d', '%d', '%d', '%d', ' ')",
							ItemNames[Player[playerid][isInSelling][1]],
						    Player[playerid][isInSelling][1],
						    Player[playerid][isInSelling][2],
						    Player[playerid][isInSelling][3],
						    gettime(),
						    0,
						    Player[playerid][pAccountID],
						    0);

						    mysql_tquery(Base, query, "", "", "");
						}
				    }
			     	for( new i; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
				    return 1;
				}
				else
				{
				    RemoveItemFromInv(playerid, Player[playerid][isInSelling][1], Player[playerid][isInSelling][2]);
				    
				    mysql_format(Base, query, sizeof(query), "INSERT INTO `auction` (`name`,`indx`,`count`,`price`,`time`,`vip`,`acc`,`type`,`info`) VALUES ('%e', '%d', '%d', '%d', '%d', '%d', '%d', '%d', ' ')",
					PetsNames[Player[playerid][isInSelling][1] - 9999],
				    Player[playerid][isInSelling][1],
				    Player[playerid][isInSelling][2],
				    Player[playerid][isInSelling][3],
				    gettime(),
				    Player[playerid][isInSelling][4],
				    Player[playerid][pAccountID],
				    1);

				    mysql_tquery(Base, query, "", "", "");

			     	for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
				}
		    }
		    else
		    {
		        for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
		    }
		    return 1;
		}

		case DIALOG_WEAPON_RESET_BUFFS:
		{
		    if(response)
		    {
      			new weapid = pActionsSelected[playerid][2];
		        if(weapid <= -1 ||  weapid >= 35)
		        {
		            ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Error", "NULL", "Ok", "");
		            pActionsSelected[playerid][2] = -1;
		            return 1;
		        }
                WeaponsInfo[playerid][WeaponBuff_One][weapid] = -1;
			 	WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid] = 0;
				WeaponsInfo[playerid][WeaponBuff_Time_One][weapid] = -1;
    			WeaponsInfo[playerid][WeaponBuff_Power_One][weapid] = 0.0;
    			
    			WeaponsInfo[playerid][WeaponBuff_Two][weapid] = -1;
			 	WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid] = 0;
				WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid] = -1;
    			WeaponsInfo[playerid][WeaponBuff_Power_Two][weapid] = 0.0;
    			
    			WeaponsInfo[playerid][WeaponBuff_Three][weapid] = -1;
			 	WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid] = 0;
				WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid] = -1;
    			WeaponsInfo[playerid][WeaponBuff_Power_Three][weapid] = 0.0;
    			
    			SendClientMessage(playerid, -1, "{33ccff}>> All effects been reset");
    			pActionsSelected[playerid][2] = -1;
    			
				return 1;
		    }
		    pActionsSelected[playerid][2] = -1;
		    return 1;
		}
/*
#define DIALOG_WEAPON_BUFFS 8012
#define DIALOG_WEAPON_RESET_BUFFS 8013
WeaponsInfo[playerid][WeaponColor][i]
*/
		case DIALOG_AUCTION_SELL:
		{
		    if(response)
		    {
        		if(GetItemCount(playerid, Player[playerid][isInSelling][1]) >= 2)
	    		{
                    ShowPlayerDialog(playerid, DIALOG_AUCTION_SELL_COUNT, DIALOG_STYLE_INPUT, "Server's Auction", "Type item count:", "Next", "Close");
				}
				else
				{
				    Player[playerid][isInSelling][2] = 1;
				    ShowPlayerDialog(playerid, DIALOG_AUCTION_SELL_PRICE, DIALOG_STYLE_INPUT, "Server's Auction", "Type Price (min. 100 exp):", "Next", "Close");
				}
			}
			else
			{
			    for( new i; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
			}
		}

	    case DIALOG_INV:
	    {
	        if(response)
			{
			    if(Player[playerid][isInSelling][0] > -1)
			    {
			        if(Inventory[playerid][listitem][II_ID] != ITEM_NAME_GOLD_COIN && !Inventory[playerid][listitem][II_CanNotDrop] && Inventory[playerid][listitem][II_ID] != ITEM_NAME_RETURNEE && Inventory[playerid][listitem][II_ID] != ITEM_NAME_CHAOS_COIN)
			        {
				    	Player[playerid][isInSelling][1] = Inventory[playerid][listitem][II_ID];
				    	Player[playerid][isInSelling][5] = listitem;
				    	Player[playerid][isInSelling][4] = Inventory[playerid][listitem][II_VIP];
				    	Player[playerid][isInSelling][6] = Inventory[playerid][listitem][II_CHAOS_INDEX];
				    	Player[playerid][isInSelling][7] = Inventory[playerid][listitem][II_CHAOS_TYPE];
				    	Player[playerid][isInSelling][8] = Inventory[playerid][listitem][II_CHAOS_PROGRESS];
				    	
				    	new str[128];
				    	if(Player[playerid][isInSelling][1] < ITEM_NAME_MOON_PET) format(str, sizeof(str), "Do you want to sell %s?", ItemNames[Inventory[playerid][listitem][II_ID]][8]);
						else
						{
							format(str, sizeof(str), "Do you want to sell %s?", PetsNames[Inventory[playerid][listitem][II_ID] - 9999]);
						    Player[playerid][isInSelling][4] = Inventory[playerid][listitem][II_VIP];
						}
						ShowPlayerDialog(playerid, DIALOG_AUCTION_SELL, DIALOG_STYLE_MSGBOX, "Server's Auction", str, "Next", "Back");
						return 1;
					}
					else
					{
					    for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
					    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "This item cannot be sold", "Ok", "");
				    	return 1;
					}
				}

			    /*if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_GANG_HOUSE_KEY)
			    {
			        if(Player[playerid][pClanRank] <= 5)
			        {
			            SendClientMessage(playerid, -1, "{FFF000}>> Only a leader can use this key");
			            return 1;
			        }
			        else
			        {
           				if(Clan[Player[playerid][pClan]][g_IsNeutral])
           				{
           				    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Gang House", "You cannot use this, because your gang is in neutrality", "Ok", "");
           				    return 1;
           				}

           				RemoveItemFromInv(playerid, ITEM_NAME_GANG_HOUSE_KEY, 1);
                    	Clan[Player[playerid][pClan]][g_House] = 1;
                        SendMessageFormatToAll(-1, "{FFF000}>> %s gang has opened a gang house!", Clan[Player[playerid][pClan]][Full]);
                        InGangHouse[playerid] = true;
                        SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
						SpawnPlayer(playerid);
					}
			        return 1;
			    }*/
			    
       			if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_QUEST_COIN)
			    {
           			SetPVarInt(playerid, "QuestCoin", 1);
                    PrepareAchievements(playerid, playerid, true);
			        return 1;
			    }
			    
			    if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_RARE_QUEST_COIN)
			    {
			        SetPVarInt(playerid, "QuestCoin", 2);
			        PrepareAchievements(playerid, playerid, true);
			        return 1;
			    }
			    
			    if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_EPIC_QUEST_COIN)
			    {
			        SetPVarInt(playerid, "QuestCoin", 3);
			        PrepareAchievements(playerid, playerid, true);
			        return 1;
			    }

				if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_LEGENDARY_QUEST_COIN)
			    {
			        SetPVarInt(playerid, "QuestCoin", 4);
			        PrepareAchievements(playerid, playerid, true);
			        return 1;
			    }

                if(Inventory[playerid][listitem][II_ID] >= ITEM_NAME_MOON_PET && Inventory[playerid][listitem][II_ID] <= END_OF_PETS)
                {
                    DisablePet(playerid);
                    PetUseds[playerid] = Inventory[playerid][listitem][II_ID];
                    SetPVarInt(playerid, "dwxc", listitem);
                    ShowPlayerDialog(playerid, DIALOG_PET_NAME, DIALOG_STYLE_INPUT, "{3366ff}Pet's name", "{FFFFFF}The pet will be set up after you give him a name, the characteristicsof the pet depend\n{FFFFFF}on its type, the characteristics of the VIP pet are slightly improved", "Ok", "Cancel");
					return 1;
                }
                
                if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_XMAS_MILK) // || Inventory[playerid][listitem][II_ID] == ITEM_NAME_DARK_CHOCOLATE
                {
                    if(Time >= 61)
                    {
                        if(Player[playerid][IsPlayerInfected])
						{
							CurePlayer(playerid);
							RemoveItemFromInv(playerid, Inventory[playerid][listitem][II_ID], 1);
							SendMessageFormatToAll(-1, "{ff0000}[EVENT]{FFFFFF} %s has drunk milk and cured from infection!", Player[playerid][UserName]);
						}
						else {
                            SendClientMessage(playerid, -1, "{FFFFFF}>> You're not infected!");
						}
					}
					else {
					    SendClientMessage(playerid, -1, "{FFFFFF}>> Time is up, wait for the next round!");
					}
					return 1;
                }
                
                if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_LCOOKIE)
                {
                    if(Time >= 61)
                    {
                        if(drugs[playerid] >= 1)
			    		{
							new Float:h;
							GetPlayerHealth(playerid, h);
							if(h <= 85.0) SetPlayerHealthAC(playerid, h + 15.0);
							RemoveItemFromInv(playerid, ITEM_NAME_LCOOKIE, 1);
							SendMessageFormatToAll(-1, "{ff0000}[EVENT]{FFFFFF} %s has ate cookie and restore some health!", Player[playerid][UserName]);
                            drugs[playerid]--;
						} else {
						    SendClientMessage(playerid, -1, "{FFFFFF}>> Dry throat!");
						}
					} else {
					    SendClientMessage(playerid, -1, "{FFFFFF}>> Time is up, wait for the next round!");
					}
					return 1;
                }
                
                if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_GREETING_CARD)
                {
                    //PlayerClassUnlocked[playerid][TEAM_HUMAN][VALENTINE] = gettime() + (86400*7);
	    			SendClientMessage(playerid, -1, "{99ffff}>> You temporarily unlocked a Valentine, use /class Valentine to set it!");
                    RemoveItemFromInv(playerid, ITEM_NAME_GREETING_CARD, 1);
                    return 1;
                }
                
                if(Inventory[playerid][listitem][II_ID] == ITEM_NAME_PET_CANDIE)
                {
	                if(PetUseds[playerid] > -1)
				    {
				        if(UserPet[playerid][PetUseds[playerid]][PI_Level] <= 99)
				        {
				            UserPet[playerid][PetUseds[playerid]][PI_Level]++;
							UserPet[playerid][PetUseds[playerid]][PI_XP] = 0;
       						UserPet[playerid][PetUseds[playerid]][PI_XPM] *= 2;
	            			SendClientMessageFormat(playerid, -1, "{E68687}>> Your pet level upped. New level is %d!", UserPet[playerid][PetUseds[playerid]][PI_Level]);
				            GameTextForPlayer(playerid, "~y~Pet Level Up", 1500, 5);
							RemoveItemFromInv(playerid, ITEM_NAME_PET_CANDIE, 1);
						}
						else return SendClientMessage(playerid, -1, "{FFF000}>> A pet at max level!") && 1 || 1;
				    }
					else return SendClientMessage(playerid, -1, "{FFF000}>> Equip a pet!") && 1 || 1;
				 	return 1;
				}
                if(Inventory[playerid][listitem][II_ID] > -1)
                {
                	SetPVarInt(playerid, "ItemInvIndex", listitem);
                	
                	if(!Inventory[playerid][listitem][II_CanNotDrop]) ShowPlayerDialog(playerid, DIALOG_INV_SELECT, DIALOG_STYLE_MSGBOX, "{FF0000}Inventory", "{FFFFFF}What do you want to do with the item?", "Info", "Drop");
					else ShowPlayerDialog(playerid, DIALOG_INV_SELECT, DIALOG_STYLE_MSGBOX, "{FF0000}Inventory", "{FFFFFF}What do you want to do with the item?", "Info", "");
				}
				return 1;
			}
			else
			{
			    DeletePVar(playerid, "ItemInvIndex");
			    //DeletePVar(playerid, "dwxc");
			    //PetUseds[playerid] = -1;
			    //DisablePet(playerid);
			    return 1;
			}
	    }
	    
	    case DIALOG_INV_DROP:
	    {
	        new index = GetPVarInt(playerid, "ItemInvIndex");
	        if(response)
	        {
	            if(Inventory[playerid][index][II_CanNotDrop])
	            {
	                SendClientMessage(playerid, -1, "{FFF000}>> Item(s) cannot be dropped");
	            }
	            else
	            {
		            if(strlen(inputtext) <= 0)
		            {
		                SetPVarInt(playerid, "ItemInvIndex", index);
		                ShowPlayerDialog(playerid, DIALOG_INV_DROP, DIALOG_STYLE_INPUT, "{FF0000}Inventory - Drop", "{FFFFFF}Dropped items cannot be picked up; they are simple to disappear for good", "Drop", "Cancel");
						return 1;
					}
					if(Inventory[playerid][index][II_ID] <= -1) SendClientMessageFormat(playerid, -1, "{FF0000}SYSTEM: %d (%d)(%d)(%d)", index, strval(inputtext), Inventory[playerid][index][II_ID], gettime());

				    if(strval(inputtext) <= 0 || strval(inputtext) > Inventory[playerid][index][II_Count])
				    {
				        SetPVarInt(playerid, "ItemInvIndex", index);
		                ShowPlayerDialog(playerid, DIALOG_INV_DROP, DIALOG_STYLE_INPUT, "{FF0000}Inventory - Drop", "{FFFFFF}Dropped items cannot be picked up; they are simple to disappear for good", "Drop", "Cancel");
						return 1;
				    }

				    new __action[128], y, m, d, h, i, s, itn[96];
					itn = ItemNames[Inventory[playerid][index][II_ID]];
	    			strdel(itn, 0, 8);

	                #if debug_mode == 0
					TimestampToDate(gettime(), y, m, d, h, i, s, 3);
					DiscordChannel = DCC_FindChannelById("655076938209165315");
					format(__action, sizeof __action, "```\n(%02d/%02d/%04d) (%02d:%02d) %s has dropped %s(%d)\n```", d, m, y, h, i, Player[playerid][RealName], itn, strval(inputtext));
					DCC_SendChannelMessageEx(DiscordChannel, __action);
					#endif

	            	Inventory[playerid][index][II_Count] -= strval(inputtext);
	            	if(Inventory[playerid][index][II_Count] <= 0) {
						Inventory[playerid][index][II_ID] = -1;
						Inventory[playerid][index][II_VIP] = 0;
	            		Inventory[playerid][index][II_Time] = -1;
	            	}
	            	SendClientMessageFormat(playerid, -1, "{FFF000}>> Item(s) has been dropped - %d", strval(inputtext));
				}
            	DeletePVar(playerid, "ItemInvIndex");
	        }
	        else
	        {
	            DeletePVar(playerid, "ItemInvIndex");
	            return 1;
	        }
	    }
	    
	    case DIALOG_INV_SELECT:
	    {
	        new index = GetPVarInt(playerid, "ItemInvIndex");
	        if(!response)
	        {
	            ShowPlayerDialog(playerid, DIALOG_INV_DROP, DIALOG_STYLE_INPUT, "{FF0000}Inventory - Drop", "{FFFFFF}Dropped items cannot be picked up; they are simple to disappear for good", "Drop", "Cancel");
				return 1;
			}
	        else
			{
			    if(index < sizeof(itm_info) && index > -1)
			    {
			        if((Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_CHEST ||
					Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_SMALL_CHEST ||
					Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_BIG_CHEST) && Inventory[playerid][index][II_CHAOS_INDEX] == chaos_KILLSTREAK_50 && Inventory[playerid][index][II_CHAOS_PROGRESS] >= 1)
					{
					    Inventory[playerid][index][II_CHAOS_PROGRESS] = 100;
					}
					
			        if(Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_SMALL_CHEST)
			        {
			            new str[512], temp[256], la = Player[playerid][pLang];
						format(temp, sizeof(temp), "%s%s%s ~~~ %d", chaosChest[la][11], chaosChest[la][12], chaosChest[la][13 + Inventory[playerid][index][II_CHAOS_INDEX]], Inventory[playerid][index][II_CHAOS_PROGRESS]);
			            format(str, sizeof(str), itm_info[Inventory[playerid][index][II_ID]], temp);
			            if(Inventory[playerid][index][II_CHAOS_PROGRESS] < ChaosChestCondition[Inventory[playerid][index][II_CHAOS_INDEX]]) ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{FF0000}Small Chaos Chest", str, "Ok", "");
			            else ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{FF0000}Small Chaos Chest", str, "Ok", "Open");
			            return 1;
			        }
			        
			        if(Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_CHEST)
			        {
			            new str[512], temp[256], la = Player[playerid][pLang];
						format(temp, sizeof(temp), "%s%s%s ~~~ %d", chaosChest[la][11], chaosChest[la][12], chaosChest[la][13 + Inventory[playerid][index][II_CHAOS_INDEX]], Inventory[playerid][index][II_CHAOS_PROGRESS]);
			            format(str, sizeof(str), itm_info[Inventory[playerid][index][II_ID]], temp);
			            if(Inventory[playerid][index][II_CHAOS_PROGRESS] < ChaosChestCondition[Inventory[playerid][index][II_CHAOS_INDEX]]) ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{FF0000}Chaos Chest", str, "Ok", "");
			            else ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{FF0000}Chaos Chest", str, "Ok", "Open");
			            return 1;
			        }
			        
			        if(Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_BIG_CHEST)
			        {
			            new temp[1024], head[144], la = Player[playerid][pLang];
						format(temp, sizeof(temp), "------------------------------------------------------------------------\n%s %s\n{FFFFFF}------------------------------------------------------------------------\n\n%s%s%s%s ~~~ %d", chaosChest[la][0], chaosChest[la][1 + Inventory[playerid][index][II_CHAOS_TYPE]], itm_info[Inventory[playerid][index][II_ID]], chaosChest[la][11], chaosChest[la][12], chaosChest[la][13 + Inventory[playerid][index][II_CHAOS_INDEX]], Inventory[playerid][index][II_CHAOS_PROGRESS]);
						format(head, sizeof(head), "%s %s", chaosChest[la][0], chaosChest[la][1 + Inventory[playerid][index][II_CHAOS_TYPE]]);
						if(Inventory[playerid][index][II_CHAOS_PROGRESS] < ChaosChestCondition[Inventory[playerid][index][II_CHAOS_INDEX]]) ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, head, temp, "Ok", "");
			            else ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, head, temp, "Ok", "Open");
			            return 1;
			        }
			        
			        if( Inventory[playerid][index][II_ID] == ITEM_NAME_COLOR_AMPLIFIER )
			       	{
			       	    new frmt[256], wn[32];
			       	    GetWeaponName(Inventory[playerid][index][II_CHAOS_TYPE], wn, sizeof(wn));
			       	    format(frmt, sizeof(frmt), "{4dc3ff}%s for %s\n\n{FFFFFF}Do you want to dye %s in %s?", colorNames[Inventory[playerid][index][II_CHAOS_INDEX]][ci_name], wn, wn, colorNames[Inventory[playerid][index][II_CHAOS_INDEX]][ci_name]);
			            ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{0099ff}Dyeing", frmt, "Close", "Dye");
						return 1;
			       	}
			       	
			       	if( Inventory[playerid][index][II_ID] == ITEM_NAME_PET_AMPLIFIER )
			       	{
			       	    pActionsSelected[playerid][3] = -1;
			       	    new frmt[256];
			       	    format(frmt, sizeof(frmt), "{0099ff}Opening the chest of chaos you found{4dc3ff} %s\n{66c2ff}And its abilities:{4dc3ff} %s\n\n{FFFFFF}Do you add it in your inventory?", PetsNames[Inventory[playerid][index][II_CHAOS_INDEX]], PetType[Inventory[playerid][index][II_CHAOS_TYPE]]);
			            ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{0099ff}Pet", frmt, "Close", "Add");
						return 1;
			       	}
			        
			       	if( Inventory[playerid][index][II_ID] == ITEM_NAME_EFF_AMPLIFIER )
			       	{
			       	    new frmt[256], wn[32];
			       	    GetWeaponName(Inventory[playerid][index][II_CHAOS_TYPE]-100, wn, sizeof(wn));
			       	    format(frmt, sizeof(frmt), "{4dc3ff}%s: %d '/. (%d sec.)\n\n\t%s\n\n{FFFFFF}Do you want to install it in %s?", chaosEffect[Player[playerid][pLang]][Inventory[playerid][index][II_CHAOS_INDEX]], Inventory[playerid][index][II_CHAOS_PROGRESS], Inventory[playerid][index][II_VIP], chaosEffectDesc[Player[playerid][pLang]][Inventory[playerid][index][II_CHAOS_INDEX]], wn);
			            ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{0099ff}Amplifier", frmt, "Close", "Install");
						return 1;
			       	}
			       	
			        if((Inventory[playerid][index][II_ID] >= ITEM_NAME_ANTI_DRUNKVISION && Inventory[playerid][index][II_ID] <= ITEM_NAME_ANTI_ANTIDOTE) || Inventory[playerid][index][II_ID] == ITEM_NAME_BERSERKER_BOOK || Inventory[playerid][index][II_ID] == ITEM_NAME_MAGIC_DUST || Inventory[playerid][index][II_ID] == ITEM_NAME_SER_GIFT)
			        {
			            ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{FF0000}Inventory", itm_info[Inventory[playerid][index][II_ID]], "Close", "Open");
						return 1;
					}
			       
			        if(Inventory[playerid][index][II_ID] >= ITEM_NAME_SEA_STAR && Inventory[playerid][index][II_ID] <= ITEM_NAME_BLUE_FLAG)
			        {
			            ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{FF0000}Inventory", itm_info[Inventory[playerid][index][II_ID]], "Close", "Equip");
						return 1;
					}
			        
			        if(Inventory[playerid][index][II_ID] >= ITEM_NAME_SET_OF_COINS && Inventory[playerid][index][II_ID] <= ITEM_NAME_LOSER_CHEST || Inventory[playerid][index][II_ID] == ITEM_NAME_QUEST_CHEST || Inventory[playerid][index][II_ID] == ITEM_NAME_VALENTINE || Inventory[playerid][index][II_ID] >= ITEM_NAME_CHAOS_NOTIFICATION && Inventory[playerid][index][II_ID] <= ITEM_NAME_CHAOS_REDEMPTION)
			        {
			            ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{FF0000}Inventory", itm_info[Inventory[playerid][index][II_ID]], "Close", "Open");
						return 1;
					}
					
					if(Inventory[playerid][index][II_ID] >= ITEM_NAME_XMAS_CHEST && Inventory[playerid][index][II_ID] <= ITEM_NAME_XMAS_L_CHEST)
			        {
			            ShowPlayerDialog(playerid, DIALOG_OPEN_ITEM, DIALOG_STYLE_MSGBOX, "{FF0000}Inventory", itm_info[Inventory[playerid][index][II_ID]], "Close", "Open");
						return 1;
					}
					
			        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Inventory", itm_info[Inventory[playerid][index][II_ID]], "Ok", "");
           			DeletePVar(playerid, "ItemInvIndex");
				}
				return 1;
			}
		}
		
		case DIALOG_OPEN_ITEM:
		{
		    new index = GetPVarInt(playerid, "ItemInvIndex");
		    if(!response)
		    {
		        DeletePVar(playerid, "ItemInvIndex");

				/*if(Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_CHEST ||
				Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_SMALL_CHEST
				|| Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_BIG_CHEST && Inventory[playerid][index][II_CHAOS_PROGRESS] >= 2)
			    {
			        Inventory[playerid][i][II_CHAOS_PROGRESS] = 1;
			        if(Inventory[playerid][i][II_CHAOS_PROGRESS] < ChaosChestCondition[index]) ++Inventory[playerid][i][II_CHAOS_PROGRESS];
					break;
				}*/

                CallRemoteFunction("sf_PlayerOpenItem", "ii", playerid, Inventory[playerid][index][II_ID]);

		        if((Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_CHEST ||
		        Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_SMALL_CHEST ||
		        Inventory[playerid][index][II_ID] == ITEM_NAME_CHAOS_BIG_CHEST) && Inventory[playerid][index][II_CHAOS_PROGRESS] < ChaosChestCondition[Inventory[playerid][index][II_CHAOS_INDEX]]) return 1;
		        
		        if(Inventory[playerid][index][II_ID] == ITEM_NAME_SEA_STAR) return AddNewAttachement(playerid, 0, ITEM_NAME_SEA_STAR);
			    if(Inventory[playerid][index][II_ID] == ITEM_NAME_HORSEHOE) return AddNewAttachement(playerid, 1, ITEM_NAME_HORSEHOE);
			    if(Inventory[playerid][index][II_ID] == ITEM_NAME_PEARL_ATTACH) return AddNewAttachement(playerid, 2, ITEM_NAME_PEARL_ATTACH);
			    if(Inventory[playerid][index][II_ID] == ITEM_NAME_BEACH_BALL) return AddNewAttachement(playerid, 3, ITEM_NAME_BEACH_BALL);
			    if(Inventory[playerid][index][II_ID] == ITEM_NAME_PEARL_ATTACH_2) return AddNewAttachement(playerid, 4, ITEM_NAME_PEARL_ATTACH_2);
                if(Inventory[playerid][index][II_ID] == ITEM_NAME_CASE) return AddNewAttachement(playerid, 5, ITEM_NAME_CASE);
                if(Inventory[playerid][index][II_ID] == ITEM_NAME_FAN) return AddNewAttachement(playerid, 6, ITEM_NAME_FAN);
                if(Inventory[playerid][index][II_ID] == ITEM_NAME_MACHETE) return AddNewAttachement(playerid, 7, ITEM_NAME_MACHETE);
                if(Inventory[playerid][index][II_ID] == ITEM_NAME_CJ_SUITCASE) return AddNewAttachement(playerid, 8, ITEM_NAME_CJ_SUITCASE);
                if(Inventory[playerid][index][II_ID] == ITEM_NAME_DEVIL_MASK) return AddNewAttachement(playerid, 9, ITEM_NAME_DEVIL_MASK);
                if(Inventory[playerid][index][II_ID] == ITEM_NAME_BLUE_FLAG) return AddNewAttachement(playerid, 10, ITEM_NAME_BLUE_FLAG);
		        
		        if(Inventory[playerid][index][II_ID] == ITEM_NAME_MAGIC_DUST)
		        {
          			for( new i = 0; i < sizeof(UpgradesNames[]); i++) pSkills[playerid][e_skills:i] = 0;
					Player[playerid][pUpgPoints] = Player[playerid][pRank];
					RemoveItemFromInv(playerid, ITEM_NAME_MAGIC_DUST, 1);
					SendClientMessage(playerid, -1, "{FFF000}>> All skills are reset!");
		            return 1;
		        }
		        
		        if(Inventory[playerid][index][II_ID] == ITEM_NAME_SER_GIFT)
		        {
		            OpenServerGift(playerid);
		            return 1;
				}

		        
		    	switch(Inventory[playerid][index][II_ID])
                {
                    /*case ITEM_NAME_BERSERKER_BOOK:
                    {
                        PlayerClassUnlocked[playerid][TEAM_HUMAN][BERSERKER] = 2;
  						SendClientMessage(playerid, -1, "{99ffff}>> You have unlocked a Berserser, use /class Berserser to set it!");
                        RemoveItemFromInv(playerid, ITEM_NAME_BERSERKER_BOOK, 1);
                        return 1;
                    }*/
                    case ITEM_NAME_ANTI_DRUNKVISION: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 0) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 0, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_DRUNKVISION, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_TOXICMEAT: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 1) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 1, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_TOXICMEAT, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_REAPER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 2) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 2, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_REAPER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_BOOMER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 3) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 3, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_BOOMER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_CAMOUFLAGE: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 4) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 4, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_CAMOUFLAGE, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_REMOVER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 5) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 5, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_REMOVER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_CUREBLOCKER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 6) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 6, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_CUREBLOCKER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_SPITTER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 7) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 7, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_SPITTER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_PUNK: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 8) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 8, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_PUNK, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_STEALER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 9) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 9, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_STEALER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_SWAPPER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 10) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 10, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_SWAPPER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_TASER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 11) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 11, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_TASER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_SPORE: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 12) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 12, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_SPORE, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_GUNJAMMER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 13) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 13, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_GUNJAMMER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_POISION: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 14) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 14, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_POISION, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_BEE: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 15) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 15, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_BEE, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_SHOTGUNNER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 16) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 16, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_SHOTGUNNER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_GUITARIST: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 17) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 17, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_GUITARIST, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_BERSERKER: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 18) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 18, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_BERSERKER, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_FLY: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 19) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 19, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_FLY, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_NIGHTMARE: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 20) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 20, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_NIGHTMARE, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }
					case ITEM_NAME_ANTI_ANTIDOTE: if(GetUnlockedSlot(Player[playerid][pAntisonRound], 21) <= 0) { SetUnlockedSlot(Player[playerid][pAntisonRound], 21, 1); RemoveItemFromInv(playerid, ITEM_NAME_ANTI_ANTIDOTE, 1); SendClientMessage(playerid, -1, "{9966ff}>> You ate this thing"); return 1; }

                    case ITEM_NAME_PET_AMPLIFIER:
			       	{
			       	    DisablePet(playerid);
                    	PetUseds[playerid] = (Inventory[playerid][index][II_CHAOS_INDEX]+9999);
                    	SetPVarInt(playerid, "dwxc", index);
                    	pActionsSelected[playerid][3] = index;
                    	ShowPlayerDialog(playerid, DIALOG_PET_NAME, DIALOG_STYLE_INPUT, "{3366ff}Pet's name", "{FFFFFF}The pet will be set up after you give him a name, the characteristicsof the pet depend\n{FFFFFF}on its type, the characteristics of the VIP pet are slightly improved", "Ok", "Cancel");
						return 1;
			       	}
			       	
			       	case ITEM_NAME_COLOR_AMPLIFIER:
			       	{
			       	    new
		   					weapid = Inventory[playerid][index][II_CHAOS_TYPE], wn[32],
			       	        color = Inventory[playerid][index][II_CHAOS_INDEX];
                        GetWeaponName(weapid, wn, sizeof(wn));

						if(WeaponsInfo[playerid][WeaponColor][weapid] > -1)
						{
						    if(TryToAdd(playerid, ITEM_NAME_COLOR_AMPLIFIER, 0, false))
						    {
						        AddItemInInv(playerid, ITEM_NAME_COLOR_AMPLIFIER, 1, 0, -1, 0, 0, false, WeaponsInfo[playerid][WeaponColor][weapid], weapid, -1);
                                WeaponsInfo[playerid][WeaponColor][weapid] = color;
				       	    	SendClientMessageFormat(playerid, -1, "{0099ff}%s is redyed to %s", wn, colorNames[color][ci_name]);
				       	    	RemoveItemFromInv(playerid, ITEM_NAME_COLOR_AMPLIFIER, 1, true, index);
				       	    	return 1;
							}
							else
							{
							    SendClientMessage(playerid, -1, "{FFF000}>> Not enough slots!");
                                return 1;
							}
						}
						else
						{
						    WeaponsInfo[playerid][WeaponColor][weapid] = color;
    	    				SendClientMessageFormat(playerid, -1, "{0099ff}%s is dyed to %s", wn, colorNames[color][ci_name]);
       	    				RemoveItemFromInv(playerid, ITEM_NAME_COLOR_AMPLIFIER, 1, true, index);
						}
						return 1;
			       	}
			       	
                    case ITEM_NAME_EFF_AMPLIFIER:
                    {
                        new
							weapid = Inventory[playerid][index][II_CHAOS_TYPE]-100,
                            effect = Inventory[playerid][index][II_CHAOS_INDEX],
                            chance = Inventory[playerid][index][II_CHAOS_PROGRESS],
							time = Inventory[playerid][index][II_VIP], wn[32];
						
						if(WeaponsInfo[playerid][WeaponBuff_One][weapid] == effect || WeaponsInfo[playerid][WeaponBuff_Two][weapid] == effect || WeaponsInfo[playerid][WeaponBuff_Three][weapid] == effect)
						{
	     					new str[256], template[] = "{b3e0ff}A similar effect has already been set, reset all the effects, and set this one\nInstalled effects:\n\n";
						    if(WeaponsInfo[playerid][WeaponBuff_One][weapid] > -1) format(str, sizeof(str), "%s{0099ff}%s %d '/. ~ %d sec\n\n{66c2ff}Do you want to reset all the effects?", template, chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_One][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid], WeaponsInfo[playerid][WeaponBuff_Time_One][weapid]);
						    if(WeaponsInfo[playerid][WeaponBuff_Two][weapid] > -1)
							{
								format(str, sizeof(str), "%s{0099ff}%s %d '/. ~ %d sec\n%s %d '/. ~ %d sec\n\n{66c2ff}Do you want to reset all the effects?",
								template, chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_One][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid], WeaponsInfo[playerid][WeaponBuff_Time_One][weapid],
								chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_Two][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid], WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid]);
						    }
						    if(WeaponsInfo[playerid][WeaponBuff_Three][weapid] > -1)
							{
								format(str, sizeof(str), "%s{0099ff}%s %d '/. ~ %d sec\n%s %d '/. ~ %d sec\n\n{66c2ff}Do you want to reset all the effects?",
								template, chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_One][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid], WeaponsInfo[playerid][WeaponBuff_Time_One][weapid],
								chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_Two][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid], WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid],
								chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_Three][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid], WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid]);
						    }
						    ShowPlayerDialog(playerid, DIALOG_WEAPON_RESET_BUFFS, DIALOG_STYLE_MSGBOX, "{0099ff}Effects", str, "Yes", "No");
                            pActionsSelected[playerid][2] = weapid;
							return 1;
						}
						
						GetWeaponName(weapid, wn, sizeof(wn));
						
						if(WeaponsInfo[playerid][WeaponBuff_One][weapid] == -1)
						{
	                        WeaponsInfo[playerid][WeaponBuff_One][weapid] = effect;
	                        WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid] = chance;
	                        WeaponsInfo[playerid][WeaponBuff_Time_One][weapid] = time;
	                        WeaponsInfo[playerid][WeaponBuff_Power_One][weapid] = 0.0;

                        	SendClientMessageFormat(playerid, -1, "{1ab2ff}%s is set in your %s (Chance: %d '/. ~ Effect Time: %d sec. ~ Power: 0 '/. ~ Effect #1)", chaosEffect[Player[playerid][pLang]][effect], wn, chance, time);
                        	RemoveItemFromInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, true, index);
                        	return 1;
						}
						else if(WeaponsInfo[playerid][WeaponBuff_Two][weapid] == -1)
						{
	                        WeaponsInfo[playerid][WeaponBuff_Two][weapid] = effect;
	                        WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid] = chance;
	                        WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid] = time;
	                        WeaponsInfo[playerid][WeaponBuff_Power_Two][weapid] = 0.0;

                        	SendClientMessageFormat(playerid, -1, "{1ab2ff}%s is set in your %s (Chance: %d '/. ~ Effect Time: %d sec. ~ Power: 0 '/. ~ Effect #2)", chaosEffect[Player[playerid][pLang]][effect], wn, chance, time);
                        	RemoveItemFromInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, true, index);
                        	return 1;
						}
						else if(WeaponsInfo[playerid][WeaponBuff_Three][weapid] == -1)
						{
	                        WeaponsInfo[playerid][WeaponBuff_Three][weapid] = effect;
	                        WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid] = chance;
	                        WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid] = time;
	                        WeaponsInfo[playerid][WeaponBuff_Power_Three][weapid] = 0.0;

                        	SendClientMessageFormat(playerid, -1, "{1ab2ff}%s is set in your %s (Chance: %d '/. ~ Effect Time: %d sec. ~ Power: 0 '/. ~ Effect #3)", chaosEffect[Player[playerid][pLang]][effect], wn, chance, time);
                        	RemoveItemFromInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, true, index);
                        	return 1;
						}
						else
						{
						    new str[256], template[] = "{b3e0ff}All slots are full, reset all the effects, and set this one\nInstalled effects:\n\n";
						    if(WeaponsInfo[playerid][WeaponBuff_One][weapid] > -1) format(str, sizeof(str), "%s{0099ff}%s %d '/. ~ %d sec\n\n{66c2ff}Do you want to reset all the effects?", template, chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_One][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid], WeaponsInfo[playerid][WeaponBuff_Time_One][weapid]);
						    if(WeaponsInfo[playerid][WeaponBuff_Two][weapid] > -1)
							{
								format(str, sizeof(str), "%s{0099ff}%s %d '/. ~ %d sec\n%s %d '/. ~ %d sec\n\n{66c2ff}Do you want to reset all the effects?",
								template, chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_One][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid], WeaponsInfo[playerid][WeaponBuff_Time_One][weapid],
								chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_Two][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid], WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid]);
						    }
						    if(WeaponsInfo[playerid][WeaponBuff_Three][weapid] > -1)
							{
								format(str, sizeof(str), "%s{0099ff}%s %d '/. ~ %d sec\n%s %d '/. ~ %d sec\n\n{66c2ff}Do you want to reset all the effects?",
								template, chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_One][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid], WeaponsInfo[playerid][WeaponBuff_Time_One][weapid],
								chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_Two][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid], WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid],
								chaosEffect[Player[playerid][pLang]][WeaponsInfo[playerid][WeaponBuff_Three][weapid]], WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid], WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid]);
						    }
						    ShowPlayerDialog(playerid, DIALOG_WEAPON_RESET_BUFFS, DIALOG_STYLE_MSGBOX, "{0099ff}Effects", str, "Yes", "No");
                            pActionsSelected[playerid][2] = weapid;
						    return 1;
						}
                    }
                    
                    case ITEM_NAME_CHAOS_SMALL_CHEST:
                    {
                        RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_SMALL_CHEST, 1, true, index);
                        switch(random(8))
		                {
		                    case 0: { SendClientMessage(playerid, -1, "{FFF000}>> Double Ammo for all Classes!"); VipBuffs[playerid][vb_IAM][0] = 1; VipBuffs[playerid][vb_IAM][1] = gettime()+86400; return 1; }
			                case 1: { SendClientMessage(playerid, -1, "{FFF000}>> Med Kit for all Classes!"); VipBuffs[playerid][vb_IMK][0] = 1; VipBuffs[playerid][vb_IMK][1] = gettime()+86400; return 1; }
			                case 2: { SendClientMessage(playerid, -1, "{FFF000}>> Double Kills!"); VipBuffs[playerid][vb_IKS][0] = 1; VipBuffs[playerid][vb_IKS][1] = gettime()+86400; return 1; }
			                case 3: { SendClientMessage(playerid, -1, "{FFF000}>> Additional 50 percents of Armour!");  VipBuffs[playerid][vb_IAR][0] = 1; VipBuffs[playerid][vb_IAR][1] = gettime()+86400; return 1; }
			                case 4: { SendClientMessage(playerid, -1, "{FFF000}>> Increades Drop Chance!"); VipBuffs[playerid][vb_IID][0] = 1; VipBuffs[playerid][vb_IID][1] = gettime()+86400; return 1; }
			                case 5: { SendClientMessage(playerid, -1, "{FFF000}>> Random Skin!"); VipBuffs[playerid][vb_Skin][0] = random(300); VipBuffs[playerid][vb_Skin][1] = gettime()+86400; return 1; }
							case 6: { SendClientMessage(playerid, -1, "{FFF000}>> Increased Chance To Be A Human!"); VipBuffs[playerid][vb_ICBH][0] = 1; VipBuffs[playerid][vb_ICBH][1] = gettime()+86400; return 1; }
			                case 7: { SendClientMessage(playerid, -1, "{FFF000}>> Increased Chance To Be A Human Boss!"); VipBuffs[playerid][vb_ICBHB][0] = 1; VipBuffs[playerid][vb_ICBHB][1] = gettime()+86400; return 1; }
		                }
                        return 1;
                    }
                    
                    case ITEM_NAME_CHAOS_BIG_CHEST:
                    {
                        switch(Inventory[playerid][index][II_CHAOS_TYPE])
                        {
                            case chaos_RIFLE: 
							{
							    if(TryToAdd(playerid, ITEM_NAME_EFF_AMPLIFIER, 0, false))
							    {
								    new weapons[] = { 33, 34 };

									new effect = random(chaos_DISCHARGE),
										chance = 1+random(20)+random(20)+random(9),
										weapon = random(sizeof(weapons)),
										l = Player[playerid][pLang], wn[32],
										time = 1+random(2)+random(2)+random(2)+random(2);

	                                GetWeaponName(weapons[weapon], wn, sizeof(wn));
	                                switch(l)
	                                {
	                                    case 0: SendClientMessageFormat(playerid, -1, "{0099ff}You have got {4db8ff}%s{0099ff} with chance %d '/.{0099ff} on {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									    case 1: SendClientMessageFormat(playerid, -1, "{0099ff}Вы получили {4db8ff}%s{0099ff} с шансом в %d '/.{0099ff} на {b3e0ff}%s{0099ff}  Время: %d сек.", chaosEffect[l][effect], chance, wn, time);
	                                    case 2: SendClientMessageFormat(playerid, -1, "{0099ff}Usted tiene {4db8ff}%s{0099ff} con posibilidad %d '/.{0099ff} para {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									}

									AddItemInInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, time, -1, 0, 0, false, effect, 100+weapons[weapon], chance);
                                    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
								}
								return 1;
							}
                            case chaos_MELEE_WEAPON:
							{
								if(TryToAdd(playerid, ITEM_NAME_EFF_AMPLIFIER, 0, false))
							    {
								    new weapons[] = { 8, 8, 10, 10, 10, 9, 4, 4};

									new effect = random(chaos_DISCHARGE),
										chance = 1+random(20)+random(20)+random(9),
										weapon = random(sizeof(weapons)),
										l = Player[playerid][pLang], wn[32],
										time = 1+random(2)+random(2)+random(2)+random(2);

	                                GetWeaponName(weapons[weapon], wn, sizeof(wn));
	                                switch(l)
	                                {
	                                    case 0: SendClientMessageFormat(playerid, -1, "{0099ff}You have got {4db8ff}%s{0099ff} with chance %d '/.{0099ff} on {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									    case 1: SendClientMessageFormat(playerid, -1, "{0099ff}Вы получили {4db8ff}%s{0099ff} с шансом в %d '/.{0099ff} на {b3e0ff}%s{0099ff}  Время: %d сек.", chaosEffect[l][effect], chance, wn, time);
	                                    case 2: SendClientMessageFormat(playerid, -1, "{0099ff}Usted tiene {4db8ff}%s{0099ff} con posibilidad %d '/.{0099ff} para {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									}

									AddItemInInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, time, -1, 0, 0, false, effect, 100+weapons[weapon], chance);
                                    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
								}
								return 1;
							}
                            case chaos_PISTOL: 
                            {
                            	if(TryToAdd(playerid, ITEM_NAME_EFF_AMPLIFIER, 0, false))
							    {
								    new weapons[] = { 23, 23, 23, 23, 23, 23, 24 };

									new effect = random(chaos_DISCHARGE),
										chance = 1+random(20)+random(20)+random(9),
										weapon = random(sizeof(weapons)),
										l = Player[playerid][pLang], wn[32],
										time = 1+random(2)+random(2)+random(2)+random(2);

	                                GetWeaponName(weapons[weapon], wn, sizeof(wn));
	                                switch(l)
	                                {
	                                    case 0: SendClientMessageFormat(playerid, -1, "{0099ff}You have got {4db8ff}%s{0099ff} with chance %d '/.{0099ff} on {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									    case 1: SendClientMessageFormat(playerid, -1, "{0099ff}Вы получили {4db8ff}%s{0099ff} с шансом в %d '/.{0099ff} на {b3e0ff}%s{0099ff}  Время: %d сек.", chaosEffect[l][effect], chance, wn, time);
	                                    case 2: SendClientMessageFormat(playerid, -1, "{0099ff}Usted tiene {4db8ff}%s{0099ff} con posibilidad %d '/.{0099ff} para {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									}

									AddItemInInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, time, -1, 0, 0, false, effect, 100+weapons[weapon], chance);
                                    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
								}
								return 1;
							}
                            case chaos_SHOTGUN:
                            {
                            	if(TryToAdd(playerid, ITEM_NAME_EFF_AMPLIFIER, 0, false))
							    {
								    new weapons[] = { 25, 25, 25, 25, 25, 25, 27 };

									new effect = random(chaos_DISCHARGE),
										chance = 1+random(20)+random(20)+random(9),
										weapon = random(sizeof(weapons)),
										l = Player[playerid][pLang], wn[32],
										time = 1+random(2)+random(2)+random(2)+random(2);

	                                GetWeaponName(weapons[weapon], wn, sizeof(wn));
	                                switch(l)
	                                {
	                                    case 0: SendClientMessageFormat(playerid, -1, "{0099ff}You have got {4db8ff}%s{0099ff} with chance %d '/.{0099ff} on {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									    case 1: SendClientMessageFormat(playerid, -1, "{0099ff}Вы получили {4db8ff}%s{0099ff} с шансом в %d '/.{0099ff} на {b3e0ff}%s{0099ff}  Время: %d сек.", chaosEffect[l][effect], chance, wn, time);
	                                    case 2: SendClientMessageFormat(playerid, -1, "{0099ff}Usted tiene {4db8ff}%s{0099ff} con posibilidad %d '/.{0099ff} para {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									}

									AddItemInInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, time, -1, 0, 0, false, effect, 100+weapons[weapon], chance);
                                    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
								}
								return 1;
							}
                            case chaos_SUBMACHINE_GUN:
                            {
                            	if(TryToAdd(playerid, ITEM_NAME_EFF_AMPLIFIER, 0, false))
							    {
								    new weapons[] = { 32, 32, 32, 32, 32, 32, 32, 29 };

									new effect = random(chaos_DISCHARGE),
										chance = 1+random(20)+random(20)+random(9),
										weapon = random(sizeof(weapons)),
										l = Player[playerid][pLang], wn[32],
										time = 1+random(2)+random(2)+random(2)+random(2);

	                                GetWeaponName(weapons[weapon], wn, sizeof(wn));
	                                switch(l)
	                                {
	                                    case 0: SendClientMessageFormat(playerid, -1, "{0099ff}You have got {4db8ff}%s{0099ff} with chance %d '/.{0099ff} on {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									    case 1: SendClientMessageFormat(playerid, -1, "{0099ff}Вы получили {4db8ff}%s{0099ff} с шансом в %d '/.{0099ff} на {b3e0ff}%s{0099ff}  Время: %d сек.", chaosEffect[l][effect], chance, wn, time);
	                                    case 2: SendClientMessageFormat(playerid, -1, "{0099ff}Usted tiene {4db8ff}%s{0099ff} con posibilidad %d '/.{0099ff} para {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									}

									AddItemInInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, time, -1, 0, 0, false, effect, 100+weapons[weapon], chance);
                                    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
								}
								return 1;
							}
                            case chaos_ASSAULT_RIFLE:
                            {
                            	if(TryToAdd(playerid, ITEM_NAME_EFF_AMPLIFIER, 0, false))
							    {
								    new weapons[] = { 30, 30, 30, 30, 30, 31 };

									new effect = random(chaos_DISCHARGE),
										chance = 1+random(20)+random(20)+random(9),
										weapon = random(sizeof(weapons)),
										l = Player[playerid][pLang], wn[32],
										time = 1+random(2)+random(2)+random(2)+random(2);

	                                GetWeaponName(weapons[weapon], wn, sizeof(wn));
	                                switch(l)
	                                {
	                                    case 0: SendClientMessageFormat(playerid, -1, "{0099ff}You have got {4db8ff}%s{0099ff} with chance %d '/.{0099ff} on {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									    case 1: SendClientMessageFormat(playerid, -1, "{0099ff}Вы получили {4db8ff}%s{0099ff} с шансом в %d '/.{0099ff} на {b3e0ff}%s{0099ff}  Время: %d сек.", chaosEffect[l][effect], chance, wn, time);
	                                    case 2: SendClientMessageFormat(playerid, -1, "{0099ff}Usted tiene {4db8ff}%s{0099ff} con posibilidad %d '/.{0099ff} para {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									}

									AddItemInInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, time, -1, 0, 0, false, effect, 100+weapons[weapon], chance);
                                    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
								}
								return 1;
							}
                            case chaos_COLOR:
							{
							    if(TryToAdd(playerid, ITEM_NAME_COLOR_AMPLIFIER, 0, false))
							    {
							        new weapons[] = { 9, 23, 24, 25, 27, 29, 30, 31, 32, 33 },
							        weapon = random(sizeof(weapons)), wn[32], l = Player[playerid][pLang],
							        color = random(sizeof(colorNames));
							        AddItemInInv(playerid, ITEM_NAME_COLOR_AMPLIFIER, 1, 0, -1, 0, 0, false, color, weapons[weapon], -1);
							        
							        GetWeaponName(weapons[weapon], wn, sizeof(wn));
	                                switch(l)
	                                {
	                                    case 0: SendClientMessageFormat(playerid, -1, "{0099ff}You have got {4db8ff}%s color{0099ff} for {b3e0ff}%s", colorNames[color][ci_name], wn);
									    case 1: SendClientMessageFormat(playerid, -1, "{0099ff}Вы получили цвет '{4db8ff}%s{0099ff}' на {b3e0ff}%s", colorNames[color][ci_name], wn);
	                                    case 2: SendClientMessageFormat(playerid, -1, "{0099ff}Tienes color {4db8ff}%s{0099ff} para {b3e0ff}%s", colorNames[color][ci_name], wn);
									}
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
								}
								return 1;
							}
                            case chaos_ATTACHMENT: return 1;
                            case chaos_PET:
							{
							    if(TryToAdd(playerid, ITEM_NAME_PET_AMPLIFIER, 0, false))
							    {
								    new weapons[] = { ITEM_NAME_HORSE_PET, ITEM_NAME_COW_PET, ITEM_NAME_DEER_PET, ITEM_NAME_TURTLE_PET, ITEM_NAME_DOLPHIN_PET, ITEM_NAME_SHARK_PET },
				        			weapon = random(sizeof(weapons));
								    AddItemInInv(playerid, ITEM_NAME_PET_AMPLIFIER, 1, 0, -1, 0, 0, false, weapons[weapon]-9999, weapons[weapon]-9999, -1);
								    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
            						SendClientMessageFormat(playerid, -1, "{0099ff}>> You have got {99d6ff}%s!", PetsNames[weapons[weapon]-9999]);
                                    pActionsSelected[playerid][3] = -1;
								}
								return 1;
							}
                            case chaos_EFFECT:
							{
							    if(TryToAdd(playerid, ITEM_NAME_EFF_AMPLIFIER, 0, false))
							    {
								    new weapons[] = { 8, 8, 8, 8, 4, 4, 4, 4, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 23, 23, 23, 23, 23, 23, 23, 23, 24, 25, 25, 27, 29, 30, 31, 32, 33, 34, 34, 33, 34, 34, 34};

									new effect = random(chaos_DISCHARGE),
										chance = 1+random(20)+random(20)+random(9),
										weapon = random(sizeof(weapons)),
										l = Player[playerid][pLang], wn[32],
										time = 1+random(2)+random(2)+random(2)+random(2);

	                                GetWeaponName(weapons[weapon], wn, sizeof(wn));
	                                switch(l)
	                                {
	                                    case 0: SendClientMessageFormat(playerid, -1, "{0099ff}You have got {4db8ff}%s{0099ff} with chance %d '/.{0099ff} on {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									    case 1: SendClientMessageFormat(playerid, -1, "{0099ff}Вы получили {4db8ff}%s{0099ff} с шансом в %d '/.{0099ff} на {b3e0ff}%s{0099ff}  Время: %d сек.", chaosEffect[l][effect], chance, wn, time);
	                                    case 2: SendClientMessageFormat(playerid, -1, "{0099ff}Usted tiene {4db8ff}%s{0099ff} con posibilidad %d '/.{0099ff} para {b3e0ff}%s{0099ff} Time: %d sec.", chaosEffect[l][effect], chance, wn, time);
									}
								
									AddItemInInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, time, -1, 0, 0, false, effect, 100+weapons[weapon], chance);
                                    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, true, index);
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
								}
								return 1;
							}
                        }
                    }
                    
                    case ITEM_NAME_CHAOS_CHEST:
                    {
						switch(random(11))
						{
						    case 0:
							{
								if(TryToAdd(playerid, ITEM_NAME_SEA_STAR, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_SEA_STAR, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
                            case 1:
							{
								if(TryToAdd(playerid, ITEM_NAME_HORSEHOE, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_HORSEHOE, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
							case 2:
							{
								if(TryToAdd(playerid, ITEM_NAME_PEARL_ATTACH, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_PEARL_ATTACH, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
							case 3:
							{
								if(TryToAdd(playerid, ITEM_NAME_BEACH_BALL, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_BEACH_BALL, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
							case 4:
							{
							    if(TryToAdd(playerid, ITEM_NAME_PEARL_ATTACH_2, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_PEARL_ATTACH_2, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
							case 5:
							{
							    if(TryToAdd(playerid, ITEM_NAME_CASE, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_CASE, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
							case 6:
							{
							    if(TryToAdd(playerid, ITEM_NAME_FAN, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_FAN, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
							case 7:
							{
							    if(TryToAdd(playerid, ITEM_NAME_MACHETE, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_MACHETE, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
                            case 8:
							{
							    if(TryToAdd(playerid, ITEM_NAME_CJ_SUITCASE, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_CJ_SUITCASE, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
							case 9:
							{
							    if(TryToAdd(playerid, ITEM_NAME_DEVIL_MASK, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_DEVIL_MASK, 1);
									RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
							case 10:
							{
							    if(TryToAdd(playerid, ITEM_NAME_BLUE_FLAG, 0))
								{
									AddItemInInv(playerid, ITEM_NAME_BLUE_FLAG, 1);
                                    RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, true, index);
									return 1;
								}
								else
								{
								    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full");
								    return 1;
								}
							}
						}
                        return 1;
                    }
                    
                    case ITEM_NAME_CHAOS_NOTIFICATION:
                    {
                        if(TryToAdd(playerid, ITEM_NAME_CHAOS_COIN, 0))
                        {
                        	AddItemInInv(playerid, ITEM_NAME_CHAOS_COIN, 1);
                        	RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_NOTIFICATION, 1);
						}
						return 1;
                    }
                    
                    case ITEM_NAME_CHAOS_ALERTNESS:
                    {
                        if(TryToAdd(playerid, ITEM_NAME_CHAOS_COIN, 0))
                        {
                        	AddItemInInv(playerid, ITEM_NAME_CHAOS_COIN, 3);
                        	RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_ALERTNESS, 1);
						}
						return 1;
                    }
                    
                    case ITEM_NAME_CHAOS_AWARENESS:
                    {
                        if(TryToAdd(playerid, ITEM_NAME_CHAOS_COIN, 0))
                        {
                        	AddItemInInv(playerid, ITEM_NAME_CHAOS_COIN, 5);
                        	RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_AWARENESS, 1);
						}
						return 1;
                    }
                    
                    case ITEM_NAME_CHAOS_REDEMPTION:
                    {
                        if(TryToAdd(playerid, ITEM_NAME_CHAOS_COIN, 0))
                        {
                        	AddItemInInv(playerid, ITEM_NAME_CHAOS_COIN, 10);
                        	RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_REDEMPTION, 1);
						}
						return 1;
                    }
                    
                    case ITEM_NAME_VALENTINE:
                    {
                        if(GetItemCount(playerid, ITEM_NAME_VALENTINE) >= 1)
                        {
	                        Player[playerid][pXP] += 100;
	                        RemoveItemFromInv(playerid, ITEM_NAME_VALENTINE, 1);
	                        GameTextForPlayer(playerid, "~y~+100 EXP", 3000, 5);
					 	}
                        return 1;
                    }
                    case ITEM_NAME_WINNER_CHEST:
                    {
                        new items[5];
						items[0] = ITEM_NAME_MOON_STONE_I + random(ITEM_NAME_FOUNDATION_STONE - ITEM_NAME_FIRE_STONE_I);
                        items[1] = ITEM_NAME_MOON_STONE_I + random(ITEM_NAME_FOUNDATION_STONE - ITEM_NAME_FIRE_STONE_I);
                        items[2] = ITEM_NAME_MOON_STONE_I + random(ITEM_NAME_FOUNDATION_STONE - ITEM_NAME_FIRE_STONE_I);
      					items[3] = ITEM_NAME_GLOOMY_DARK_STONE + random(ITEM_NAME_SEAL_OF_LIGHT - ITEM_NAME_GLOOMY_DARK_STONE);
                        items[4] = ITEM_NAME_GANG_WINNER_BADGE; //ITEM_NAME_GANG_EMBLEM;
                        
                        new o = -1;
                        if(random(10) == 0) o = ITEM_NAME_GANG_HOUSE_KEY;
                        
                        new wu = -1, uwu = -1, lwu = -1;
                        if(random(5) <= 1) if(random(2) == 0) wu = ITEM_NAME_WEAPON_UPGRADER; else wu = ITEM_NAME_ARMOUR_UPGRADER;
						if(random(25) <= 1) if(random(2) == 0) uwu = ITEM_NAME_U_WEAPON_UPGRADER; else uwu = ITEM_NAME_U_ARMOUR_UPGRADER;
						if(random(60) <= 1) if(random(2) == 0) lwu = ITEM_NAME_L_WEAPON_UPGRADER; else lwu = ITEM_NAME_L_ARMOUR_UPGRADER;

						if(TryToAdd(playerid, items[0], 0) && TryToAdd(playerid, items[1], 0) && TryToAdd(playerid, items[2], 0) && TryToAdd(playerid, items[3], 0) && TryToAdd(playerid, items[4], 0))
                        {
                            RemoveItemFromInv(playerid, ITEM_NAME_WINNER_CHEST, 1);
                            AddItemInInv(playerid, items[0], 1+random(9));
                            AddItemInInv(playerid, items[1], 1+random(9));
                            AddItemInInv(playerid, items[2], 1+random(9));
                            AddItemInInv(playerid, items[3], 1+random(9));
                            AddItemInInv(playerid, items[4], 1);
                            
                            if(TryToAdd(playerid, ITEM_NAME_MAGIC_DUST, 0) && random(14) <= 1) AddItemInInv(playerid, ITEM_NAME_MAGIC_DUST, 1);
                            
                            if(o > -1 && TryToAdd(playerid, ITEM_NAME_GANG_HOUSE_KEY, 0)) AddItemInInv(playerid, ITEM_NAME_GANG_HOUSE_KEY, 1);

							if(wu > -1 && TryToAdd(playerid, wu, 0)) AddItemInInv(playerid, wu, 1+random(4));
							if(uwu > -1 && TryToAdd(playerid, uwu, 0)) AddItemInInv(playerid, uwu, 1+random(2));
							if(lwu > -1 && TryToAdd(playerid, lwu, 0)) AddItemInInv(playerid, lwu, 1+random(1));

							GivePlayerXP(playerid, 100 + (random(4)*100));
                            
                            
                            
                            if(random(200) == 0)
							{
							    switch(random(3))
							    {
							        case 0: if(TryToAdd(playerid, ITEM_NAME_BERSERKER_PAGE, 0)) AddItemInInv(playerid, ITEM_NAME_BERSERKER_PAGE, 1);
                                    case 1: if(TryToAdd(playerid, ITEM_NAME_BERSERKER_COVER, 0)) AddItemInInv(playerid, ITEM_NAME_BERSERKER_COVER, 1);
                                    case 2: if(TryToAdd(playerid, ITEM_NAME_BERSERKER_INK, 0)) AddItemInInv(playerid, ITEM_NAME_BERSERKER_INK, 1);
                                    default: if(TryToAdd(playerid, ITEM_NAME_BERSERKER_PAGE, 0)) AddItemInInv(playerid, ITEM_NAME_BERSERKER_PAGE, 1);
								}
							}
       						return 1;
                        }
                        else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
                    }
                    
                    case ITEM_NAME_QUEST_CHEST:
                    {
                        new items[3];
                        items[0] = ITEM_NAME_AMETHYST + random(ITEM_NAME_FOUNDATION_STONE - ITEM_NAME_AMETHYST);
                        items[1] = ITEM_NAME_AMETHYST + random(ITEM_NAME_FOUNDATION_STONE - ITEM_NAME_AMETHYST);
                        items[2] = ITEM_NAME_AMETHYST + random(ITEM_NAME_FOUNDATION_STONE - ITEM_NAME_AMETHYST);
                        
                        new wu = -1, uwu = -1, lwu = -1;
                        if(random(3) <= 1) if(random(2) == 0) wu = ITEM_NAME_WEAPON_UPGRADER; else wu = ITEM_NAME_ARMOUR_UPGRADER;
						if(random(25) <= 1) if(random(2) == 0) uwu = ITEM_NAME_U_WEAPON_UPGRADER; else uwu = ITEM_NAME_U_ARMOUR_UPGRADER;
						if(random(60) <= 1) if(random(2) == 0) lwu = ITEM_NAME_L_WEAPON_UPGRADER; else lwu = ITEM_NAME_L_ARMOUR_UPGRADER;
						
						if(TryToAdd(playerid, items[0], 0) && TryToAdd(playerid, items[1], 0) && TryToAdd(playerid, items[2], 0))
                        {
                            RemoveItemFromInv(playerid, ITEM_NAME_QUEST_CHEST, 1);
                            AddItemInInv(playerid, items[0], 1+random(9));
                            AddItemInInv(playerid, items[1], 1+random(9));
                            AddItemInInv(playerid, items[2], 1+random(9));
                            
                            if(TryToAdd(playerid, ITEM_NAME_MAGIC_DUST, 0) && random(14) <= 1) AddItemInInv(playerid, ITEM_NAME_MAGIC_DUST, 1);
                            
							if(wu > -1 && TryToAdd(playerid, wu, 0)) AddItemInInv(playerid, wu, 1+random(4));
							if(uwu > -1 && TryToAdd(playerid, uwu, 0)) AddItemInInv(playerid, uwu, 1+random(2));
							if(lwu > -1 && TryToAdd(playerid, lwu, 0)) AddItemInInv(playerid, lwu, 1+random(1));

							GivePlayerXP(playerid, 50 + (random(3)*50));
						}
						else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
						
						return 1;
                    }
                    
                    case ITEM_NAME_LOSER_CHEST:
                    {
                        new items[3];
						items[0] = ITEM_NAME_AMETHYST + random(ITEM_NAME_FOUNDATION_STONE - ITEM_NAME_AMETHYST);
                        items[1] = ITEM_NAME_AMETHYST + random(ITEM_NAME_FOUNDATION_STONE - ITEM_NAME_AMETHYST);
                        items[2] = ITEM_NAME_GANG_EMBLEM;
                        
                        new o = -1;
                        if(random(20) == 0) o = ITEM_NAME_GANG_HOUSE_KEY;
                        
                        new wu = -1, uwu = -1, lwu = -1;
                        if(random(5) <= 1) if(random(2) == 0) wu = ITEM_NAME_WEAPON_UPGRADER; else wu = ITEM_NAME_ARMOUR_UPGRADER;
						if(random(25) <= 1) if(random(2) == 0) uwu = ITEM_NAME_U_WEAPON_UPGRADER; else uwu = ITEM_NAME_U_ARMOUR_UPGRADER;
						if(random(60) <= 1)  if(random(2) == 0) lwu = ITEM_NAME_L_WEAPON_UPGRADER; else lwu = ITEM_NAME_L_ARMOUR_UPGRADER;
                        
                        if(TryToAdd(playerid, items[0], 0) && TryToAdd(playerid, items[1], 0) && TryToAdd(playerid, items[2], 0))
                        {
                            RemoveItemFromInv(playerid, ITEM_NAME_LOSER_CHEST, 1);
                            AddItemInInv(playerid, items[0], 1+random(4));
                            AddItemInInv(playerid, items[1], 1+random(4));
                            AddItemInInv(playerid, items[2], 1+random(4));
                            
                            if(TryToAdd(playerid, ITEM_NAME_MAGIC_DUST, 0) && random(14) <= 1) AddItemInInv(playerid, ITEM_NAME_MAGIC_DUST, 1);
                            
                            if(o > -1 && TryToAdd(playerid, ITEM_NAME_GANG_HOUSE_KEY, 0)) AddItemInInv(playerid, ITEM_NAME_GANG_HOUSE_KEY, 1);

							if(wu > -1 && TryToAdd(playerid, wu, 0)) AddItemInInv(playerid, wu, 1+random(4));
							if(uwu > -1 && TryToAdd(playerid, uwu, 0)) AddItemInInv(playerid, uwu, 1);
							if(lwu > -1 && TryToAdd(playerid, lwu, 0)) AddItemInInv(playerid, lwu, 1);
							
							GivePlayerXP(playerid, 50 + (random(3)*50));
                            
                            
							return 1;
                        }
                        else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
                    }
                    
                    case ITEM_NAME_SET_OF_COINS:
                    {
               			if(TryToAdd(playerid, ITEM_NAME_QUEST_COIN, 0))
                        {
                            RemoveItemFromInv(playerid, ITEM_NAME_SET_OF_COINS, 1);
                            AddItemInInv(playerid, ITEM_NAME_QUEST_COIN, 10);
                            return 1;
						}
						else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
                    }

                    case ITEM_NAME_SET_OF_EPIC_COINS:
                    {
               			if(TryToAdd(playerid, ITEM_NAME_EPIC_QUEST_COIN, 0))
                        {
                            RemoveItemFromInv(playerid, ITEM_NAME_SET_OF_EPIC_COINS, 1);
                            AddItemInInv(playerid, ITEM_NAME_EPIC_QUEST_COIN, 5);
                            return 1;
						}
						else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
                    }
                    
                    case ITEM_NAME_SET_OF_RARE_COINS:
                    {
               			if(TryToAdd(playerid, ITEM_NAME_RARE_QUEST_COIN, 0))
                        {
                            RemoveItemFromInv(playerid, ITEM_NAME_SET_OF_RARE_COINS, 1);
                            AddItemInInv(playerid, ITEM_NAME_RARE_QUEST_COIN, 5);
                            return 1;
						}
						else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
                    }
                    
                    case ITEM_NAME_SET_OF_LEG_COINS:
                    {
               			if(TryToAdd(playerid, ITEM_NAME_RARE_QUEST_COIN, 0))
                        {
                            RemoveItemFromInv(playerid, ITEM_NAME_SET_OF_LEG_COINS, 1);
                            AddItemInInv(playerid, ITEM_NAME_LEGENDARY_QUEST_COIN, 5);
                            return 1;
						}
						else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
                    }
				}
			}
			else return 1;
		}
	    
		case DIALOG_CRAFT:
		{
		    PHS_SelID[playerid] = -1;
		    if(response)
		    {
		        switch(listitem)
		        {
		            case 0:
					{
						strcat(query, "{d24dff}The moon-blessed pet lived in the vast expanses of space and time\n{d24dff}fed on the energy of the moon and used the magic of duplication\n\n{FF0000}--- PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{d24dff}Moon stone I\n{d24dff}Amethyst{FFFFFF} 20\n{d24dff}Magic powder{FFFFFF} 10\n{d24dff}Piece of the moon{FFFFFF} 15\n\n{BEBEBE}+3% XP (5% VIP) (Common) | At Level 100\n{BEBEBE}+5% XP (7% VIP) (Rare) | At Level 100\n{BEBEBE}+7% XP (9% VIP) (Unique) | At Level 100\n");
						strcat(query, "{BEBEBE}+12% XP (18% VIP) (Legendary) | At Level 100\n{BEBEBE}+18% XP (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO1, DIALOG_STYLE_MSGBOX, "{d24dff}Moon pet", query, "Craft", "Cancel");
					}
					case 1:
					{
						strcat(query, "{FF0000}Tempered by complex trainings and passed through the fire, the pet is always\n{FF0000}ready for battles with its enemies\n\n{FF0000}--- PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{ff0000}Stone of Fire I\n{ff0000}Ruby{FFFFFF} 20\n{ff0000}Spark of fire{FFFFFF} 15\n{FF0000}Fire of the underworld{FFFFFF} 20\n\n");
						strcat(query,"{BEBEBE}+4% damage (6% VIP) (Common) | At Level 100\n{BEBEBE}+8% damage (10% VIP) (Rare) | At Level 100\n{BEBEBE}+12% damage (14% VIP) (Unique) | At Level 100\n{BEBEBE}+16% damage (20% VIP) (Legendary) | At Level 100\n{BEBEBE}+20% damage (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO2, DIALOG_STYLE_MSGBOX, "{FF0000}Fire pet", query, "Craft", "Cancel");
					}
					case 2:
					{
						strcat(query, "{00b33c}A pet created by the Earth mother gives the master the opportunity\n{00b33c}to withstand massive enemy attacks\n\n{FF0000}--- PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{00b33c}Stone of the Earth I\n{00b33c}Emerald{FFFFFF} 10\n{00b33c}Decorative rock{FFFFFF} 10\n{00b33c}Piece of land{FFFFFF} 20\n\n");
						strcat(query, "{BEBEBE}-4% damage (6% VIP) (Common) | At Level 100\n{BEBEBE}-8% damage (10% VIP) (Rare) | At Level 100\n{BEBEBE}-12% damage (14% VIP) (Unique) | At Level 100\n{BEBEBE}-16% damage (20% VIP) (Legendary) | At Level 100\n{BEBEBE}-20% damage (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO3, DIALOG_STYLE_MSGBOX, "{00b33c}The Earth pet", query, "Craft", "Cancel");
					}
					case 3:
					{
						strcat(query, "{d6d6c2}A wind pet that does not know the speed limits has a chance to\n{d6d6c2}accelerate its master by 5 seconds\n\n{FF0000}--- PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{d6d6c2}Stone of Air I\n{d6d6c2}Pearl{FFFFFF} 20\n{d6d6c2}Compressed air{FFFFFF} 25\n{d6d6c2}Air remedy{FFFFFF} 30\n\n");
						strcat(query,"{BEBEBE}+3% speed (6% VIP) (Common) | At Level 100\n{BEBEBE}+6% speed (9% VIP) (Rare) | At Level 100\n{BEBEBE}+9% speed (12% VIP) (Unique) | At Level 100\n{BEBEBE}+12% speed (18% VIP) (Legendary) | At Level 100\n{BEBEBE}+15% speed (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO4, DIALOG_STYLE_MSGBOX, "{d6d6c2}Air pet", query, "Craft", "Cancel");
					}
					case 4:
					{
						strcat(query, "{aaff00}This book is imbued with the mighty power of a Great Titan\n{aaff00}This class contains the most powerful arsenal\n\n{FF0000}--- BOOK CREATION MAY NOT BE SUCCESSFUL\n\n");
						
                        strcat(query, "{aaff00}Berserker's Book (Page) - {FFFFFF}3\n{aaff00}Berserker's Book (Cover) - {FFFFFF}1\n{aaff00}Berserker's Book (Ink) - {FFFFFF}2\n{0080ff}[LEGENDARY] Quest Coin - {FFFFFF}15\n{bf00ff}Object 02 Card - {FFFFFF}50\n\n");
						strcat(query, "{FF0000}+100 HP{FFFFFF}\n\n+ Deagle\n+ M4\n+ Sawnoff\n+ Minigun\n+ Grenades\n\n+ Can stomp zombies");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_BERSERKER, DIALOG_STYLE_MSGBOX, "{aaff00}Berserker's Book", query, "Craft", "Cancel");
					}
					
					case 5..26:
					{
					    PHS_SelID[playerid] = listitem - 5;
						new f[256];
						format(f, sizeof(f), "{ff1a1a}This effect will last 1 round, then disappear\n\n{00b33c}What does it do:\n\t{FFFFFF}%s\n\n{00b33c}Requires: {FFFFFF}%d{00b33c} grass and {FFFFFF}%d{00b33c} meat(s)", PHS_Desc[listitem - 5], PHS_ReqForCreat[listitem - 5][0], PHS_ReqForCreat[listitem - 5][1]);
						ShowPlayerDialog(playerid, DIALOG_CRAFT_ACCEPT, DIALOG_STYLE_MSGBOX, "{00b33c}Craft", f, "Craft", "Cancel");
					}
				}
			}
			return 1;
		}
		
		case DIALOG_CRAFT_ACCEPT:
		{
		    if(response)
		    {
		        new index = PHS_SelID[playerid];
		        if(index < 0)
		        {
		            PHS_SelID[playerid] = -1;
		            //cmd::craft(playerid);
		        }
		        if(Specialty[playerid][spc_level][SPECIALITY_PHARMACIST] <= 0)
		        {
		            PHS_SelID[playerid] = -1;
		            //cmd::craft(playerid);
		        }
		        if(GetItemCount(playerid, ITEM_NAME_GRASS) >= PHS_ReqForCreat[index][0] && GetItemCount(playerid, ITEM_NAME_ZOMBIE_MEAT) >= PHS_ReqForCreat[index][1])
		        {
		            if(TryToAdd(playerid, ITEM_NAME_ANTI_DRUNKVISION + index, 0))
					{
		            	RemoveItemFromInv(playerid, ITEM_NAME_GRASS, PHS_ReqForCreat[index][0]);
		            	RemoveItemFromInv(playerid, ITEM_NAME_ZOMBIE_MEAT, PHS_ReqForCreat[index][1]);
		            	AddItemInInv(playerid, ITEM_NAME_ANTI_DRUNKVISION + index, 1);
		            	//cmd::craft(playerid);
					}
					else
		        	{
          				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Info", "{FFFFFF}Not enough inventory space", "Close", "");
		        	}
		        }
		        else
		        {
          			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Info", "{FFFFFF}Not enough materials", "Close", "");
		        }
		        PHS_SelID[playerid] = -1;
		    }
		    return 1;
		}
		
		case DIALOG_USE_VIP_STONE:
		{
		    if(response)
			{
				SetPVarInt(playerid, "UseGold", 1);
				switch(GetPVarInt(playerid, "UseGoldID"))
				{
				    case DIALOG_CRAFT_DO1:
				    {
				    	strcat(query, "{d24dff}The moon-blessed pet lived in the vast expanses of space and time\n{d24dff}fed on the energy of the moon and used the magic of duplication\n\n{FF0000}PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{d24dff}Moon stone I\n{d24dff}Amethyst{FFFFFF} 20\n{d24dff}Magic powder{FFFFFF} 10\n{d24dff}Piece of the moon{FFFFFF} 15\n\n{BEBEBE}+3% XP (5% VIP) (Common) | At Level 100\n{BEBEBE}+5% XP (7% VIP) (Rare) | At Level 100\n{BEBEBE}+7% XP (9% VIP) (Unique) | At Level 100\n");
						strcat(query, "{BEBEBE}+12% XP (18% VIP) (Legendary) | At Level 100\n{BEBEBE}+18% XP (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO1, DIALOG_STYLE_MSGBOX, "{d24dff}Moon pet", query, "Craft", "Cancel");
					}
					case DIALOG_CRAFT_DO2:
					{
						strcat(query, "{FF0000}Tempered by complex trainings and passed through the fire, the pet is always\n{FF0000}ready for battles with its enemies\n\n{FF0000}PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{ff0000}Stone of Fire I\n{ff0000}Ruby{FFFFFF} 20\n{ff0000}Spark of fire{FFFFFF} 15\n{FF0000}Fire of the underworld{FFFFFF} 20\n\n");
						strcat(query,"{BEBEBE}+4% damage (6% VIP) (Common) | At Level 100\n{BEBEBE}+8% damage (10% VIP) (Rare) | At Level 100\n{BEBEBE}+12% damage (14% VIP) (Unique) | At Level 100\n{BEBEBE}+16% damage (20% VIP) (Legendary) | At Level 100\n{BEBEBE}+20% damage (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO2, DIALOG_STYLE_MSGBOX, "{FF0000}Fire pet", query, "Craft", "Cancel");
					}
					case DIALOG_CRAFT_DO3:
					{
						strcat(query, "{00b33c}A pet created by the Earth mother gives the master the opportunity\n{00b33c}to withstand massive enemy attacks\n\n{FF0000}PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{00b33c}Stone of the Earth I\n{00b33c}Emerald{FFFFFF} 10\n{00b33c}Decorative rock{FFFFFF} 10\n{00b33c}Piece of land{FFFFFF} 20\n\n");
						strcat(query, "{BEBEBE}-4% damage (6% VIP) (Common) | At Level 100\n{BEBEBE}-8% damage (10% VIP) (Rare) | At Level 100\n{BEBEBE}-12% damage (14% VIP) (Unique) | At Level 100\n{BEBEBE}-16% damage (20% VIP) (Legendary) | At Level 100\n{BEBEBE}-20% damage (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO3, DIALOG_STYLE_MSGBOX, "{00b33c}The Earth pet", query, "Craft", "Cancel");
					}
					case DIALOG_CRAFT_DO4:
					{
						strcat(query, "{d6d6c2}A wind pet that does not know the speed limits has a chance to\n{d6d6c2}accelerate its master by 5 seconds\n\n{FF0000}PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{d6d6c2}Stone of Air I\n{d6d6c2}Pearl{FFFFFF} 20\n{d6d6c2}Compressed air{FFFFFF} 25\n{d6d6c2}Air remedy{FFFFFF} 30\n\n");
						strcat(query,"{BEBEBE}+3% speed (6% VIP) (Common) | At Level 100\n{BEBEBE}+6% speed (9% VIP) (Rare) | At Level 100\n{BEBEBE}+9% speed (12% VIP) (Unique) | At Level 100\n{BEBEBE}+12% speed (18% VIP) (Legendary) | At Level 100\n{BEBEBE}+15% speed (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO4, DIALOG_STYLE_MSGBOX, "{d6d6c2}Air pet", query, "Craft", "Cancel");
					}
				}
				return 1;
			}
		    else
			{
				SetPVarInt(playerid, "UseGold", 2);
				switch(GetPVarInt(playerid, "UseGoldID"))
				{
				    case DIALOG_CRAFT_DO1:
				    {
				    	strcat(query, "{d24dff}The moon-blessed pet lived in the vast expanses of space and time\n{d24dff}fed on the energy of the moon and used the magic of duplication\n\n{FF0000}PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{d24dff}Moon stone I\n{d24dff}Amethyst{FFFFFF} 20\n{d24dff}Magic powder{FFFFFF} 10\n{d24dff}Piece of the moon{FFFFFF} 15\n\n{BEBEBE}+3% XP (5% VIP) (Common) | At Level 100\n{BEBEBE}+5% XP (7% VIP) (Rare) | At Level 100\n{BEBEBE}+7% XP (9% VIP) (Unique) | At Level 100\n");
						strcat(query, "{BEBEBE}+12% XP (18% VIP) (Legendary) | At Level 100\n{BEBEBE}+18% XP (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO1, DIALOG_STYLE_MSGBOX, "{d24dff}Moon pet", query, "Craft", "Cancel");
					}
					case DIALOG_CRAFT_DO2:
					{
						strcat(query, "{FF0000}Tempered by complex trainings and passed through the fire, the pet is always\n{FF0000}ready for battles with its enemies\n\n{FF0000}PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{ff0000}Stone of Fire I\n{ff0000}Ruby{FFFFFF} 20\n{ff0000}Spark of fire{FFFFFF} 15\n{FF0000}Fire of the underworld{FFFFFF} 20\n\n");
						strcat(query,"{BEBEBE}+4% damage (6% VIP) (Common) | At Level 100\n{BEBEBE}+8% damage (10% VIP) (Rare) | At Level 100\n{BEBEBE}+12% damage (14% VIP) (Unique) | At Level 100\n{BEBEBE}+16% damage (20% VIP) (Legendary) | At Level 100\n{BEBEBE}+20% damage (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO2, DIALOG_STYLE_MSGBOX, "{FF0000}Fire pet", query, "Craft", "Cancel");
					}
					case DIALOG_CRAFT_DO3:
					{
						strcat(query, "{00b33c}A pet created by the Earth mother gives the master the opportunity\n{00b33c}to withstand massive enemy attacks\n\n{FF0000}PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{00b33c}Stone of the Earth I\n{00b33c}Emerald{FFFFFF} 10\n{00b33c}Decorative rock{FFFFFF} 10\n{00b33c}Piece of land{FFFFFF} 20\n\n");
						strcat(query, "{BEBEBE}-4% damage (6% VIP) (Common) | At Level 100\n{BEBEBE}-8% damage (10% VIP) (Rare) | At Level 100\n{BEBEBE}-12% damage (14% VIP) (Unique) | At Level 100\n{BEBEBE}-16% damage (20% VIP) (Legendary) | At Level 100\n{BEBEBE}-20% damage (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO3, DIALOG_STYLE_MSGBOX, "{00b33c}The Earth pet", query, "Craft", "Cancel");
					}
					case DIALOG_CRAFT_DO4:
					{
						strcat(query, "{d6d6c2}A wind pet that does not know the speed limits has a chance to\n{d6d6c2}accelerate its master by 5 seconds\n\n{FF0000}PET CREATION MAY NOT BE SUCCESSFUL\n\n");
						strcat(query, "{33ccff}Foundation stone{FFFFFF} / {ffd633}Foundation stone (VIP)\n{d6d6c2}Stone of Air I\n{d6d6c2}Pearl{FFFFFF} 20\n{d6d6c2}Compressed air{FFFFFF} 25\n{d6d6c2}Air remedy{FFFFFF} 30\n\n");
						strcat(query,"{BEBEBE}+3% speed (6% VIP) (Common) | At Level 100\n{BEBEBE}+6% speed (9% VIP) (Rare) | At Level 100\n{BEBEBE}+9% speed (12% VIP) (Unique) | At Level 100\n{BEBEBE}+12% speed (18% VIP) (Legendary) | At Level 100\n{BEBEBE}+15% speed (25% VIP) (Genuine) | At Level 100");
						ShowPlayerDialog(playerid, DIALOG_CRAFT_DO4, DIALOG_STYLE_MSGBOX, "{d6d6c2}Air pet", query, "Craft", "Cancel");
					}
				}
			}
		    return 1;
		}
		
		case DIALOG_CRAFT_DO1:
		{
		    if(response)
		    {
		        if(GetItemCount(playerid, ITEM_NAME_FOUNDATION_STONE_VIP) >= 1 && GetPVarInt(playerid, "UseGold") <= 0)
		        {
		            SetPVarInt(playerid, "UseGoldID", DIALOG_CRAFT_DO1);
                    ShowPlayerDialog(playerid, DIALOG_USE_VIP_STONE, DIALOG_STYLE_MSGBOX, "{FF0000}Craft", "{FF0000}What stone to use to create a pet?\n{FFFFFF}VIP stones have a greater chance of a successful creation than ordinary stones,\nhowever, to create a pet you also need ordinary materials.", "{ffd633}VIP", "{33ccff}Ordinary");
					return 1;
		        }
		        
          		new UseStone = (GetPVarInt(playerid, "UseGold") == 0) ? ITEM_NAME_FOUNDATION_STONE : (GetPVarInt(playerid, "UseGold") == 1) ? ITEM_NAME_FOUNDATION_STONE_VIP : ITEM_NAME_FOUNDATION_STONE;
		        if(GetItemCount(playerid, UseStone) >= 1)
				{
					if(GetItemCount(playerid, ITEM_NAME_MOON_STONE_I) >= 1)
					{
					    if(GetItemCount(playerid, ITEM_NAME_AMETHYST) >= 20)
						{
					        if(GetItemCount(playerid, ITEM_NAME_MAGIC_POWDER) >= 10)
							{
	                            if(GetItemCount(playerid, ITEM_NAME_PIECE_OF_MOON) >= 15)
								{
								    if(Specialty[playerid][spc_level][SPECIALITY_MECHANIC] >= 1)
									{
									    new lvl = Specialty[playerid][spc_level][SPECIALITY_MECHANIC]-1;
									    if(spec_ToNextRank[SPECIALITY_MECHANIC][lvl] - spec_minPercent[playerid][SPECIALITY_MECHANIC] >= 1) spec_minPercent[playerid][SPECIALITY_MECHANIC]++;
									}

            						SetPVarInt(playerid, "UseGold", 0);
            						SetPVarInt(playerid, "UseGoldID", 0);
            						new r = (UseStone == ITEM_NAME_FOUNDATION_STONE_VIP) ? 14 : 15;
            						r -= Specialty[playerid][spc_level][SPECIALITY_MECHANIC];
									if(random(r) <= 1)
									{
									    if(AddItemInInv(playerid, ITEM_NAME_MOON_PET, 1, (UseStone == ITEM_NAME_FOUNDATION_STONE_VIP) ? 1 : 0))
									    {
										    RemoveItemFromInv(playerid, UseStone, 1);
										    RemoveItemFromInv(playerid, ITEM_NAME_MOON_STONE_I, 1);
										    RemoveItemFromInv(playerid, ITEM_NAME_AMETHYST, 20);
										    RemoveItemFromInv(playerid, ITEM_NAME_MAGIC_POWDER, 10);
										    RemoveItemFromInv(playerid, ITEM_NAME_PIECE_OF_MOON, 15);
										    SendClientMessage(playerid, -1, "{B2F558}>> Moon Pet Successfully Created!");
										    PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);

											if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 0) <= 0) // Create a pet
										    {
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 0, 1);
										        UnlockAchievement(playerid, 86, 5000);
										    }
										    
										    Achievements[playerid][ac_newPets]++;
											if(Achievements[playerid][ac_newPets] == 4)
											{
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 1);
										        UnlockAchievement(playerid, 87, 10000);
										    }
										    /*if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) <= 3) SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) + 1);
										    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) == 4)
											{
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 5);
										        UnlockAchievement(playerid, 88, 10000); 
										    }*/
										    
										    
											return 0;
										}
										else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
									}
									else
									{
                                        RemoveItemFromInv(playerid, UseStone, 1);
									    RemoveItemFromInv(playerid, ITEM_NAME_MOON_STONE_I, 1);
									    RemoveItemFromInv(playerid, ITEM_NAME_AMETHYST, 20);
									    RemoveItemFromInv(playerid, ITEM_NAME_MAGIC_POWDER, 10);
									    RemoveItemFromInv(playerid, ITEM_NAME_PIECE_OF_MOON, 15);
									    SendClientMessage(playerid, -1, "{FF0000}>> Creating a pet was unsuccessful...");
									    PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
										return 0;
									}
							    }
							    else
								{
									SendClientMessageFormat(playerid, -1, "You have no Piece(s) of moon need %d", 15 - GetItemCount(playerid, ITEM_NAME_PIECE_OF_MOON));
									return 0;
								}
						    }
						    else
							{
								SendClientMessageFormat(playerid, -1, "You have no Magic powder(s) need %d", 10 - GetItemCount(playerid, ITEM_NAME_MAGIC_POWDER));
								return 0;
							}
					    }
					    else
						{
							SendClientMessageFormat(playerid, -1, "You have no Amethyst(s) need %d", 20 - GetItemCount(playerid, ITEM_NAME_AMETHYST));
							return 0;
						}
				    }
					else return SendClientMessage(playerid, -1, "You have no Stone of Moon I") && 0;
				}
				else return SendClientMessage(playerid, -1, "You have no Foundation stone") && 0;
			}
		}
		
		case DIALOG_CRAFT_DO2:
		{
		    if(response)
		    {
		        if(GetItemCount(playerid, ITEM_NAME_FOUNDATION_STONE_VIP) >= 1 && GetPVarInt(playerid, "UseGold") <= 0)
		        {
		            SetPVarInt(playerid, "UseGoldID", DIALOG_CRAFT_DO2);
                    ShowPlayerDialog(playerid, DIALOG_USE_VIP_STONE, DIALOG_STYLE_MSGBOX, "{FF0000}Craft", "{FF0000}What stone to use to create a pet?\n{FFFFFF}VIP stones have a greater chance of a successful creation than ordinary stones,\nhowever, to create a pet you also need ordinary materials.", "{ffd633}VIP", "{33ccff}Ordinary");
					return 1;
		        }

          		new UseStone = (GetPVarInt(playerid, "UseGold") == 0) ? ITEM_NAME_FOUNDATION_STONE : (GetPVarInt(playerid, "UseGold") == 1) ? ITEM_NAME_FOUNDATION_STONE_VIP : ITEM_NAME_FOUNDATION_STONE;
		        if(GetItemCount(playerid, UseStone) >= 1)
				{
					if(GetItemCount(playerid, ITEM_NAME_FIRE_STONE_I) >= 1)
					{
					    if(GetItemCount(playerid, ITEM_NAME_RUBY) >= 20)
						{
					        if(GetItemCount(playerid, ITEM_NAME_SPARK_OF_FIRE) >= 15)
							{
	                            if(GetItemCount(playerid, ITEM_NAME_FIRE_OF_UNDERWORLD) >= 20)
								{
								    if(Specialty[playerid][spc_level][SPECIALITY_MECHANIC] >= 1)
									{
									    new lvl = Specialty[playerid][spc_level][SPECIALITY_MECHANIC]-1;
									    if(spec_ToNextRank[SPECIALITY_MECHANIC][lvl] - spec_minPercent[playerid][SPECIALITY_MECHANIC] >= 1) spec_minPercent[playerid][SPECIALITY_MECHANIC]++;
									}

									new r = (UseStone == ITEM_NAME_FOUNDATION_STONE_VIP) ? 13 : 14;
									r -= Specialty[playerid][spc_level][SPECIALITY_MECHANIC];
									
									if(random(r) <= 1)
									{
									    SetPVarInt(playerid, "UseGold", 0);
									    SetPVarInt(playerid, "UseGoldID", 0);
									    if(AddItemInInv(playerid, ITEM_NAME_FIRE_PET, 1, (UseStone == ITEM_NAME_FOUNDATION_STONE_VIP) ? 1 : 0))
									    {
										    RemoveItemFromInv(playerid, UseStone, 1);
										    RemoveItemFromInv(playerid, ITEM_NAME_FIRE_STONE_I, 1);
										    RemoveItemFromInv(playerid, ITEM_NAME_RUBY, 20);
										    RemoveItemFromInv(playerid, ITEM_NAME_SPARK_OF_FIRE, 15);
										    RemoveItemFromInv(playerid, ITEM_NAME_FIRE_OF_UNDERWORLD, 20);
										    SendClientMessage(playerid, -1, "{B2F558}>> Fire Pet Successfully Created!");
										    PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
										    
										    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 0) <= 0) // Create a pet
										    {
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 0, 1);
										        UnlockAchievement(playerid, 86, 5000);
										    }
										    
                                            Achievements[playerid][ac_newPets]++;
											if(Achievements[playerid][ac_newPets] == 4)
											{
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 1);
										        UnlockAchievement(playerid, 87, 10000);
										    }
										    /*if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) <= 3) SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) + 1);
										    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) == 4)
											{
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 5);
										        UnlockAchievement(playerid, 88, 10000); 
										    }*/
											return 0;
										}
										else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
									}
									else
									{
                                        RemoveItemFromInv(playerid, UseStone, 1);
									    RemoveItemFromInv(playerid, ITEM_NAME_FIRE_STONE_I, 1);
									    RemoveItemFromInv(playerid, ITEM_NAME_RUBY, 20);
									    RemoveItemFromInv(playerid, ITEM_NAME_SPARK_OF_FIRE, 15);
									    RemoveItemFromInv(playerid, ITEM_NAME_FIRE_OF_UNDERWORLD, 20);
									    SendClientMessage(playerid, -1, "{FF0000}>> Creating a pet was unsuccessful...");
									    PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
										return 0;
									}
							    }
							    else
								{
									SendClientMessageFormat(playerid, -1, "You have no Fire of the underworld(s) need %d", 20 - GetItemCount(playerid, ITEM_NAME_FIRE_OF_UNDERWORLD));
									return 0;
								}
						    }
						    else
							{
								SendClientMessageFormat(playerid, -1, "You have no Spark(s) of fire need %d", 15 - GetItemCount(playerid, ITEM_NAME_SPARK_OF_FIRE));
								return 0;
							}
					    }
					    else
						{
							SendClientMessageFormat(playerid, -1, "You have no Ruby(s) need %d", 20 - GetItemCount(playerid, ITEM_NAME_RUBY));
							return 0;
						}
				    }
					else return SendClientMessage(playerid, -1, "You have no Stone of Fire I") && 0;
				}
				else return SendClientMessage(playerid, -1, "You have no Foundation stone") && 0;
			}
		}
		
		case DIALOG_CRAFT_DO3:
		{
		    if(response)
		    {
		        if(GetItemCount(playerid, ITEM_NAME_FOUNDATION_STONE_VIP) >= 1 && GetPVarInt(playerid, "UseGold") <= 0)
		        {
		            SetPVarInt(playerid, "UseGoldID", DIALOG_CRAFT_DO3);
                    ShowPlayerDialog(playerid, DIALOG_USE_VIP_STONE, DIALOG_STYLE_MSGBOX, "{FF0000}Craft", "{FF0000}What stone to use to create a pet?\n{FFFFFF}VIP stones have a greater chance of a successful creation than ordinary stones,\nhowever, to create a pet you also need ordinary materials.", "{ffd633}VIP", "{33ccff}Ordinary");
					return 1;
		        }

          		new UseStone = (GetPVarInt(playerid, "UseGold") == 0) ? ITEM_NAME_FOUNDATION_STONE : (GetPVarInt(playerid, "UseGold") == 1) ? ITEM_NAME_FOUNDATION_STONE_VIP : ITEM_NAME_FOUNDATION_STONE;
		        if(GetItemCount(playerid, UseStone) >= 1)
				{
					if(GetItemCount(playerid, ITEM_NAME_EARTH_STONE_I) >= 1)
					{
					    if(GetItemCount(playerid, ITEM_NAME_EMERALD) >= 10)
						{
					        if(GetItemCount(playerid, ITEM_NAME_DECORATIVE_ROCK) >= 10)
							{
	                            if(GetItemCount(playerid, ITEM_NAME_PIECE_OF_LAND) >= 20)
								{
								    if(Specialty[playerid][spc_level][SPECIALITY_MECHANIC] >= 1)
									{
									    new lvl = Specialty[playerid][spc_level][SPECIALITY_MECHANIC]-1;
									    if(spec_ToNextRank[SPECIALITY_MECHANIC][lvl] - spec_minPercent[playerid][SPECIALITY_MECHANIC] >= 1) spec_minPercent[playerid][SPECIALITY_MECHANIC]++;
									}
									new r = (UseStone == ITEM_NAME_FOUNDATION_STONE_VIP) ? 13 : 14;
									r -= Specialty[playerid][spc_level][SPECIALITY_MECHANIC];
									
									if(random(r) <= 2)
									{
										
									    SetPVarInt(playerid, "UseGold", 0);
									    SetPVarInt(playerid, "UseGoldID", 0);
									    if(AddItemInInv(playerid, ITEM_NAME_THE_EARTH_PET, 1, (UseStone == ITEM_NAME_FOUNDATION_STONE_VIP) ? 1 : 0))
									    {
										    RemoveItemFromInv(playerid, UseStone, 1);
										    RemoveItemFromInv(playerid, ITEM_NAME_EARTH_STONE_I, 1);
										    RemoveItemFromInv(playerid, ITEM_NAME_EMERALD, 10);
										    RemoveItemFromInv(playerid, ITEM_NAME_DECORATIVE_ROCK, 10);
										    RemoveItemFromInv(playerid, ITEM_NAME_PIECE_OF_LAND, 20);
										    SendClientMessage(playerid, -1, "{B2F558}>> The Earth Pet Successfully Created!");
										    PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
										    
										    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 0) <= 0) // Create a pet
										    {
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 0, 1);
										        UnlockAchievement(playerid, 86, 5000);
										    }
										    
                                            Achievements[playerid][ac_newPets]++;
											if(Achievements[playerid][ac_newPets] == 4)
											{
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 1);
										        UnlockAchievement(playerid, 87, 10000);
										    }
										    /*if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) <= 3) SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) + 1);
										    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) == 4)
											{
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 5);
										        UnlockAchievement(playerid, 88, 10000); 
										    }*/
											return 0;
										}
										else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
									}
									else
									{
                                        RemoveItemFromInv(playerid, UseStone, 1);
									    RemoveItemFromInv(playerid, ITEM_NAME_EARTH_STONE_I, 1);
									    RemoveItemFromInv(playerid, ITEM_NAME_EMERALD, 10);
									    RemoveItemFromInv(playerid, ITEM_NAME_DECORATIVE_ROCK, 10);
									    RemoveItemFromInv(playerid, ITEM_NAME_PIECE_OF_LAND, 20);
									    SendClientMessage(playerid, -1, "{FF0000}>> Creating a pet was unsuccessful...");
									    PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
										return 0;
									}
							    }
							    else
								{
									SendClientMessageFormat(playerid, -1, "You have no Piece(s) of land need %d", 20 - GetItemCount(playerid, ITEM_NAME_PIECE_OF_LAND));
									return 0;
								}
						    }
						    else
							{
								SendClientMessageFormat(playerid, -1, "You have no Decorative rock(s) need %d", 10 - GetItemCount(playerid, ITEM_NAME_DECORATIVE_ROCK));
								return 0;
							}
					    }
					    else
						{
							SendClientMessageFormat(playerid, -1, "You have no Emerald(s) need %d", 10 - GetItemCount(playerid, ITEM_NAME_EMERALD));
							return 0;
						}
				    }
					else return SendClientMessage(playerid, -1, "You have no Stone of the Earth I") && 0;
				}
				else return SendClientMessage(playerid, -1, "You have no Foundation stone") && 0;
			}
		}
		
        case DIALOG_CRAFT_BERSERKER:
		{
            if(response)
		    {
		        if(GetItemCount(playerid, ITEM_NAME_BERSERKER_PAGE) >= 3)
				{
				    if(GetItemCount(playerid, ITEM_NAME_BERSERKER_COVER) >= 1)
					{
					    if(GetItemCount(playerid, ITEM_NAME_BERSERKER_INK) >= 2)
						{
						    if(GetItemCount(playerid, ITEM_NAME_LEGENDARY_QUEST_COIN) >= 15)
						    {
						        if(GetItemCount(playerid, ITEM_NAME_OBJECT_CARD) >= 50)
						        {
									if((random(45) - Specialty[playerid][spc_level][SPECIALITY_MECHANIC]) <= 0)
									{
									    if(AddItemInInv(playerid, ITEM_NAME_BERSERKER_BOOK, 1))
									    {
									        AddItemInInv(playerid, ITEM_NAME_BERSERKER_BOOK, 1);
										    SendClientMessage(playerid, -1, "{B2F558}>> Book Successfully Created!");
										    PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
									    }
									    else
									    {
									        SendClientMessage(playerid, -1, "{FF0000}>> Creating a Book was unsuccessful...");
									    	PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
									    }
									}
									else
								    {
								        SendClientMessage(playerid, -1, "{FF0000}>> Creating a Book was unsuccessful...");
								    	PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
								    }
								    
									RemoveItemFromInv(playerid, ITEM_NAME_BERSERKER_PAGE, 3);
					    			RemoveItemFromInv(playerid, ITEM_NAME_BERSERKER_COVER, 1);
								    RemoveItemFromInv(playerid, ITEM_NAME_BERSERKER_INK, 2);
								    RemoveItemFromInv(playerid, ITEM_NAME_LEGENDARY_QUEST_COIN, 15);
								    RemoveItemFromInv(playerid, ITEM_NAME_OBJECT_CARD, 50);
								}
								else
								{
									SendClientMessageFormat(playerid, -1, "You have no Object 02 Card need %d", 50 - GetItemCount(playerid, ITEM_NAME_OBJECT_CARD));
									return 0;
								}
							}
							else
							{
								SendClientMessageFormat(playerid, -1, "You have no [LEGENDARY] Quest Coin need %d", 15 - GetItemCount(playerid, ITEM_NAME_LEGENDARY_QUEST_COIN));
								return 0;
							}
						}
						else
						{
							SendClientMessageFormat(playerid, -1, "You have no Berserker's Book (Ink) need %d", 2 - GetItemCount(playerid, ITEM_NAME_BERSERKER_INK));
							return 0;
						}
					}
					else
					{
						SendClientMessageFormat(playerid, -1, "You have no Berserker's Book (Cover) need %d", 1 - GetItemCount(playerid, ITEM_NAME_BERSERKER_COVER));
						return 0;
					}
				}
				else
				{
					SendClientMessageFormat(playerid, -1, "You have no Berserker's Book (Page) need %d", 3 - GetItemCount(playerid, ITEM_NAME_BERSERKER_PAGE));
					return 0;
				}
		    }
		    return 1;
		}
		
		case DIALOG_CRAFT_DO4:
		{
		    if(response)
		    {
		        if(GetItemCount(playerid, ITEM_NAME_FOUNDATION_STONE_VIP) >= 1 && GetPVarInt(playerid, "UseGold") <= 0)
		        {
		            SetPVarInt(playerid, "UseGoldID", DIALOG_CRAFT_DO4);
                    ShowPlayerDialog(playerid, DIALOG_USE_VIP_STONE, DIALOG_STYLE_MSGBOX, "{FF0000}Craft", "{FF0000}What stone to use to create a pet?\n{FFFFFF}VIP stones have a greater chance of a successful creation than ordinary stones,\nhowever, to create a pet you also need ordinary materials.", "{ffd633}VIP", "{33ccff}Ordinary");
					return 1;
		        }

          		new UseStone = (GetPVarInt(playerid, "UseGold") == 0) ? ITEM_NAME_FOUNDATION_STONE : (GetPVarInt(playerid, "UseGold") == 1) ? ITEM_NAME_FOUNDATION_STONE_VIP : ITEM_NAME_FOUNDATION_STONE;
		        if(GetItemCount(playerid, UseStone) >= 1)
				{
					if(GetItemCount(playerid, ITEM_NAME_AIR_STONE_I) >= 1)
					{
					    if(GetItemCount(playerid, ITEM_NAME_PEARL) >= 20)
						{
					        if(GetItemCount(playerid, ITEM_NAME_COMPRESSED_AIR) >= 25)
							{
	                            if(GetItemCount(playerid, ITEM_NAME_AIR_REMEDY) >= 30)
								{
								    if(Specialty[playerid][spc_level][SPECIALITY_MECHANIC] >= 1)
									{
									    new lvl = Specialty[playerid][spc_level][SPECIALITY_MECHANIC]-1;
									    if(spec_ToNextRank[SPECIALITY_MECHANIC][lvl] - spec_minPercent[playerid][SPECIALITY_MECHANIC] >= 1) spec_minPercent[playerid][SPECIALITY_MECHANIC]++;
									}

									new r = (UseStone == ITEM_NAME_FOUNDATION_STONE_VIP) ? 14 : 15;
									r -= Specialty[playerid][spc_level][SPECIALITY_MECHANIC];
									
									if(random(r) <= 4)
									{
									    SetPVarInt(playerid, "UseGold", 0);
									    SetPVarInt(playerid, "UseGoldID", 0);
									    if(AddItemInInv(playerid, ITEM_NAME_AIR_PET, 1, (UseStone == ITEM_NAME_FOUNDATION_STONE_VIP) ? 1 : 0))
									    {
										    RemoveItemFromInv(playerid, UseStone, 1);
										    RemoveItemFromInv(playerid, ITEM_NAME_AIR_STONE_I, 1);
										    RemoveItemFromInv(playerid, ITEM_NAME_PEARL, 20);
										    RemoveItemFromInv(playerid, ITEM_NAME_COMPRESSED_AIR, 25);
										    RemoveItemFromInv(playerid, ITEM_NAME_AIR_REMEDY, 30);
										    SendClientMessage(playerid, -1, "{B2F558}>> Air Pet Successfully Created!");
										    PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
										    
										    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 0) <= 0) // Create a pet
										    {
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 0, 1);
										        UnlockAchievement(playerid, 86, 5000);
										    }
										    
                                            Achievements[playerid][ac_newPets]++;
											if(Achievements[playerid][ac_newPets] == 4)
											{
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 1);
										        UnlockAchievement(playerid, 87, 10000);
										    }

										    /*if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) <= 3) SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) + 1);
										    if(GetUnlockedSlot(Achievements[playerid][ac_Pets], 1) == 4)
											{
										        SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 5);
										        UnlockAchievement(playerid, 88, 10000); 
										    }*/
											return 0;
										}
										else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
									}
									else
									{
                                        RemoveItemFromInv(playerid, UseStone, 1);
									    RemoveItemFromInv(playerid, ITEM_NAME_AIR_STONE_I, 1);
									    RemoveItemFromInv(playerid, ITEM_NAME_PEARL, 20);
									    RemoveItemFromInv(playerid, ITEM_NAME_COMPRESSED_AIR, 25);
									    RemoveItemFromInv(playerid, ITEM_NAME_AIR_REMEDY, 30);
									    SendClientMessage(playerid, -1, "{FF0000}>> Creating a pet was unsuccessful...");
									    PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
										return 0;
									}
							    }
							    else
								{
									SendClientMessageFormat(playerid, -1, "You have no Air remedy(s) need %d", 30 - GetItemCount(playerid, ITEM_NAME_AIR_REMEDY));
									return 0;
								}
						    }
						    else
							{
								SendClientMessageFormat(playerid, -1, "You have no Compressed air(s) need %d", 25 - GetItemCount(playerid, ITEM_NAME_COMPRESSED_AIR));
								return 0;
							}
					    }
					    else
						{
							SendClientMessageFormat(playerid, -1, "You have no Pearl(s) need %d", 20 - GetItemCount(playerid, ITEM_NAME_PEARL));
							return 0;
						}
				    }
					else return SendClientMessage(playerid, -1, "You have no Stone of the Earth I") && 0;
				}
				else return SendClientMessage(playerid, -1, "You have no Foundation stone") && 0;
			}
		}
		
	    case DIALOG_ATTACH_INDEX_SELECTION:
        {
            if(response)
            {
                if(IsPlayerAttachedObjectSlotUsed(playerid, listitem))
                {
                    ShowPlayerDialog(playerid, DIALOG_ATTACH_EDITREPLACE, DIALOG_STYLE_MSGBOX, \
                    "{FF0000}Attachment Modification", "Do you wish to edit the attachment in that slot, or delete it?", "Edit", "Delete");
                }
                else
                {
                    new string[4000+1], index = 0;
                    
                    if(Player[playerid][e_Days] < 299) index = 2;
                    if(Player[playerid][e_Days] < 249) index = 3;
                    if(Player[playerid][e_Days] < 149) index = 4;
                    if(Player[playerid][e_Days] < 99) index = 5;
                    if(Player[playerid][e_Days] < 49) index = 6;
                    if(Player[playerid][e_Days] < 24) index = 7;

                    for(new x = index; x< sizeof(AttachmentObjects); x++) format(string, sizeof(string), "%s%s\n", string, AttachmentObjects[x][attachname]);
                    for(new x = 0; x< 32; x++) if(Player[playerid][pNewAttachments][x] > -1) format(string, sizeof(string), "%s%s\n", string, newAttachement[Player[playerid][pNewAttachments][x]][attachname]);
                    
					ShowPlayerDialog(playerid, DIALOG_ATTACH_MODEL_SELECTION, DIALOG_STYLE_LIST,"{FF0000}Attachment Modification - Model Selection", string, "Select", "Cancel");
                    
				}
                SetPVarInt(playerid, "AttachmentIndexSel", listitem);
            }
            return 1;
        }
        
        case DIALOG_ATTACH_EDITREPLACE:
        {
            if(response) EditAttachedObject(playerid, GetPVarInt(playerid, "AttachmentIndexSel"));
            else
			{
				RemovePlayerAttachedObject(playerid, GetPVarInt(playerid, "AttachmentIndexSel"));
				Player[playerid][pAttID][0+(GetPVarInt(playerid, "AttachmentIndexSel")*2)] = 0;
			}
			DeletePVar(playerid, "AttachmentIndexSel");
            return 1;
        }
        
        case DIALOG_ATTACH_MODEL_SELECTION:
        {
            if(response)
            {
                if(GetPVarInt(playerid, "AttachmentUsed") == 1) EditAttachedObject(playerid, listitem);
                else
                {
                    new index = 0;
	                if(Player[playerid][e_Days] < 299) index = 2;
	                if(Player[playerid][e_Days] < 249) index = 3;
	                if(Player[playerid][e_Days] < 149) index = 4;
	                if(Player[playerid][e_Days] < 99) index = 5;
	                if(Player[playerid][e_Days] < 49) index = 6;
	                if(Player[playerid][e_Days] < 24) index = 7;
					
					if(listitem+index < sizeof(AttachmentObjects))
					{
						SetPVarInt(playerid, "AttachmentModelSel", AttachmentObjects[listitem+index][attachmodel]);
					}
					else
					{
					    new aid = abs(sizeof(AttachmentObjects) - (listitem+index));
					    new ID = Player[playerid][pNewAttachments][aid];
						SetPVarInt(playerid, "AttachmentModelSel", newAttachement[ID][attachmodel]);
					}
					
					new string[256+1];
                    for(new x;x<sizeof(AttachmentBones);x++)
                    {
                        format(string, sizeof(string), "%s%s\n", string, AttachmentBones[x]);
                    }
                    ShowPlayerDialog(playerid, DIALOG_ATTACH_BONE_SELECTION, DIALOG_STYLE_LIST, \
                    "{FF0000}Attachment Modification - Bone Selection", string, "Select", "Cancel");
                }
            }
            else DeletePVar(playerid, "AttachmentIndexSel");
            return 1;
        }
        
        case DIALOG_ATTACH_BONE_SELECTION:
        {
            if(response)
            {
                SetPlayerAttachedObject(playerid, GetPVarInt(playerid, "AttachmentIndexSel"), GetPVarInt(playerid, "AttachmentModelSel"), listitem + 1);
				EditAttachedObject(playerid, GetPVarInt(playerid, "AttachmentIndexSel"));
                SendClientMessage(playerid, 0xFFFFFFFF, "Hint: Use {FFFF00}~k~~PED_SPRINT~{FFFFFF} to look around.");
            }
            DeletePVar(playerid, "AttachmentIndexSel");
            DeletePVar(playerid, "AttachmentModelSel");
            return 1;
        }
        
        case DIALOG_PETS_ACTIONS:
        {
            if(response)
            {
	            new index = pActionsSelected[playerid][5];
	            if(index <= -1)
	            {
	                pActionsSelected[playerid][5] = -1;
					ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}INFO", "Error", "Ok", "");
	                return 1;
	            }
	            switch(listitem)
	            {
	                case 0:
	                {
			            if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
			            {
			            	if(Time >= 261)
			            	{
			            		if(UserPet[playerid][index][PI_Level] >= 1)
								{
								    DisablePet(playerid);
								    PetUseds[playerid] = index;
									SetPet(playerid, true);
								}
			            		pActionsSelected[playerid][5] = -1;
			            		return 1;
							}
							else
							{
							    pActionsSelected[playerid][5] = -1;
							    SendClientMessage(playerid, -1, "{FFF000}>> Time is up, wait the next round!");
							    return 1;
							}
						}
						else
						{
						    for( new j = 0; j < sizeof(Map[ZombieSpawnX]); j++ )
							{
			 					if(IsPlayerInRangeOfPoint(playerid, 5.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j]) && Player[playerid][pLogged] && !Player[playerid][aDuty])
			 					{
			 				       	if(UserPet[playerid][index][PI_Level] >= 1)
									{
									    DisablePet(playerid);
									    PetUseds[playerid] = index;
										SetPet(playerid, true);
									}
			            			pActionsSelected[playerid][5] = -1;
			            			return 1;
								}
							}
							pActionsSelected[playerid][5] = -1;
							SendClientMessage(playerid, -1, "{FFF000}>> You need to be in the one of the zone spawns of the zombies");
							return 1;
						}
					}
					case 1:
					{
					    if(GetItemCount(playerid, ITEM_NAME_PET_CANDIE) <= 0)
					    {
					        new str[256];
					        format(str, sizeof(str), "{0099ff}You do not have feed!\n\n%s\n\t%s", ItemNames[ITEM_NAME_PET_CANDIE][8], itm_info[ITEM_NAME_PET_CANDIE]);
					        pActionsSelected[playerid][5] = -1;
					        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{0099ff}INFO", str, "Ok", "");
					        return 1;
					    }
					}
					case 2:
					{
	                    new str[1024], frmt[450], effect[450]="";
	                    switch(UserPet[playerid][index][PI_Type])
	                    {
	                       case ITEM_NAME_MOON_PET: format(effect, sizeof(effect), "+%d EXP per kill (+%d)\n{FFF000}IF VIP (Foundation Stone (VIP)):\n+%d EXP pet kill (+%d)", 10 + GivePetGradeXP(playerid, 10, index), GivePetGradeXP(playerid, 10, index), 10 + GivePetGradeXP(playerid, 10, index, 1), GivePetGradeXP(playerid, 10, index, 1));
	                       case ITEM_NAME_FIRE_PET: format(effect, sizeof(effect), "%.0f damage per deagle shot (Standard: 46 + %.2f)\n{FFF000}IF VIP (Foundation Stone (VIP)):\n%.0f damage per deagle shot (Standard: 46 + %.2f)", 46.2 + GivePetDamage(playerid, 46.2, index), GivePetDamage(playerid, 46.2, index), 46.2 + GivePetDamage(playerid, 46.2, index, 1), GivePetDamage(playerid, 46.2, index, 1));
	                       case ITEM_NAME_THE_EARTH_PET: format(effect, sizeof(effect), "%.0f damage per deagle shot (Standard 46 - %.2f)\n{FFF000}IF VIP (Foundation Stone (VIP)):\n%.0f damage per deagle shot (Standard 46 - %.2f)", 46.2 - RemovePetDamage(playerid, 46.2, index), RemovePetDamage(playerid, 46.2, index), 46.2 - RemovePetDamage(playerid, 46.2, index, 1), RemovePetDamage(playerid, 46.2, index, 1));
	                    }

	                    strcat(str, "{0099ff}--------------------------------------------------------------------------------------------------\n{FFF000}+ Play with this pet so that its level grows\n{0099ff}--------------------------------------------------------------------------------------------------\n\n");
	        			format(frmt, sizeof(frmt), "{0099ff}Pet name:\n~ {FFFFFF}%s\n\n{0099ff}Pet level:\n~ {FFFFFF}%d (%d / %d)\n\n{0099ff}Type:\n~ {FFFFFF}%s\n\n{0099ff}Effect:\n~ {FFFFFF}%s\n\n",
						UserPet[playerid][index][PI_Name],
						UserPet[playerid][index][PI_Level],
						UserPet[playerid][index][PI_XP],
	        			UserPet[playerid][index][PI_XPM],
	                    PetType[UserPet[playerid][index][PI_Type]-9999],
						effect);
	                    strcat(str, frmt);

						ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{0099ff}Pet Stats", str, "Close", "");
						return 1;
					}
					case 3:
					{
	                    ShowPlayerDialog(playerid, DIALOG_PETS_ACTIONS_SELL, DIALOG_STYLE_MSGBOX, "{0099ff}Action", "Do you want to sell a pet?\n\nIt will require 500 experience", "Sell", "Close");
						return 1;
					}
				}
			}
			pActionsSelected[playerid][5] = -1;
			return 1;
        }
        
        case DIALOG_PETS_ACTIONS_SELL:
        {
            if(response)
            {
	            new index = pActionsSelected[playerid][5];
	            if(index <= -1)
	            {
	                pActionsSelected[playerid][5] = -1;
					ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}INFO", "Error", "Ok", "");
	                return 1;
	            }

				new realIndex = index; //returnPetUsingCustomIndex(playerid, index);
	            if(realIndex <= -1)
	            {
	                pActionsSelected[playerid][5] = -1;
					ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}INFO", "Error", "Ok", "");
	                return 1;
	            }
	            
	            UserPet[playerid][realIndex][PI_Level] = 0;
		        UserPet[playerid][realIndex][PI_Type] = 0;
		        UserPet[playerid][realIndex][PI_Rare] = 0;
		        UserPet[playerid][realIndex][PI_VIP] = 0;
		        UserPet[playerid][realIndex][PI_XP] = 0;
	            UserPet[playerid][realIndex][PI_XPM] = 0;
		        strmid(UserPet[playerid][realIndex][PI_Name], "", 0, 128, 129);
		        
                pActionsSelected[playerid][5] = -1;
	            SendClientMessage(playerid, -1, "{0099ff}>> Pet sold!");
	            return 1;
			}
            pActionsSelected[playerid][5] = -1;
            return 1;
        }
        
        case DIALOG_PETS:
        {
            pActionsSelected[playerid][5] = -1;
            if(response)
	        {
	            if(UserPet[playerid][listitem][PI_Level] >= 1)
	            {
		            pActionsSelected[playerid][5] = listitem;
		            ShowPlayerDialog(playerid, DIALOG_PETS_ACTIONS, DIALOG_STYLE_LIST, "{0099ff}Action", "#1 Equip\n#2 Feed\n#3 Info\n#4 Sell", "Select", "Close");
				}
				return 1;
	        }
	        return 1;
        }
        
        case DIALOG_PET_NAME:
		{
  			if(response)
	        {
				if(!strlen(inputtext))
				{
				    ShowPlayerDialog(playerid, DIALOG_PET_NAME, DIALOG_STYLE_INPUT, "{3366ff}Pet's name", "{FFFFFF}The pet will be set up after you give him a name, the characteristicsof the pet depend\n{FFFFFF}on its type, the characteristics of the VIP pet are slightly improved", "Ok", "Cancel");
					return 1;
				}
				
				new r, d = PetUseds[playerid], inx = GetPVarInt(playerid, "dwxc"), nm[33];
				DeletePVar(playerid, "dwxc");
				switch(random(100))
				{
				    case 0: r = 0;
				    case 1..3: r = 1;
				    case 4..10: r = 2;
				    case 11..19: r = 3;
				    default: r = 4;
				}
				
				//AddPet(playerid, item, const name[] = "", rare = 4, vip = 0, level = 1)
				if(d >= ITEM_NAME_MOON_PET && d <= (END_OF_PETS-1))
				{
					sscanf(inputtext, "s[32]", nm);
					if(TryToAddAPet(playerid))
					{
						PetUseds[playerid] = AddPet(playerid, d, nm, r, Inventory[playerid][inx][II_VIP]);
		    			if(PetUseds[playerid] > -1)
						{
							SetPet(playerid);
							if(pActionsSelected[playerid][3] > -1)
							{
							    RemoveItemFromInv(playerid, ITEM_NAME_PET_AMPLIFIER, 1, true, pActionsSelected[playerid][3]);
							    pActionsSelected[playerid][3] = -1;
							}
							pActionsSelected[playerid][3] = -1;
							return 1;
						}
		    			else
		    			{
		    			    pActionsSelected[playerid][3] = -1;
		    			    SendClientMessage(playerid, -1, "{FFF000}Not enough slots!");
		    			    return 1;
		    			}
					}
				}
				pActionsSelected[playerid][3] = -1;
			}
			return 1;
		}
        
        case DIALOG_SECURITY:
        {
            if(response)
	        {
				if(!strlen(inputtext))
				{
				    ShowPlayerDialog(playerid, DIALOG_SECURITY, DIALOG_STYLE_INPUT, serverLang[Player[playerid][pLang]][188], serverLang[Player[playerid][pLang]][189], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
					return 1;
				}
				SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][193], inputtext);
				new gp[64];
				gpci(playerid, gp, sizeof(gp));
				Player[playerid][pGPCI] = gp;
				mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Secret` = '%e',`kie`='%e' WHERE `ID` = '%d'", inputtext, gp, Player[playerid][pAccountID]);
 				mysql_tquery(Base, query, "", "", "");
	        }
	        else return 1;
        }
        
        case DIALOG_GANG_FOREMAN:
        {
            if(response)
	        {
	            if(InGangAction{playerid} >= 200 && InGangAction{playerid} <= 209)
	            {
	                LevelUpGang(playerid);
	                InGangAction{playerid} = -1;
	                return 1;
	            }
	            
	            switch(InGangAction{playerid})
	            {
	                case 50:
	                {
	                    return 1;
	                }
	                case 5:
	                {
	                    if(Clan[Player[playerid][pClan]][g_IsNeutral])
	                    {
                   			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "Your gang in neutrality", "Ok", "");
       						return 1;
	                    }
	                    InGangAction{playerid} = -1;
	                    new coins = 1, badge = 1;
	                    if(Player[playerid][pRank] >= 20) coins++, badge += 2;
			    		if(Player[playerid][pRank] >= 30) coins+=2, badge += 2;
					    if(Player[playerid][pRank] >= 40) coins+=4, badge += 4;
					    if(Player[playerid][pRank] >= 50) coins+=6, badge += 6;
					    
                        if(GetItemCount(playerid, ITEM_NAME_QUEST_COIN) >= coins && GetItemCount(playerid, ITEM_NAME_GANG_WINNER_BADGE) >= badge)
                        {
                            RemoveItemFromInv(playerid, ITEM_NAME_QUEST_COIN, coins);
                            RemoveItemFromInv(playerid, ITEM_NAME_GANG_WINNER_BADGE, badge);
                            Player[playerid][pKills] += floor((RanksEXP[Player[playerid][pRank]])/(Player[playerid][pRank]+9));
                            RankUp(playerid);
                            SendClientMessage(playerid, -1, "{FFF000}>> Keep your kills, happy to work with you!");
                            return 1;
                        }
						SendClientMessage(playerid, -1, "{FFF000}>> Do not fool me, it's not enough!");
	                    return 1;
	                }
	                case 4:
	                {
	                    InGangAction{playerid} = -1;
	                    
	                    new alliance_count = 0;
                    	for( new i; i < 30; i++ ) if(Clan[Player[playerid][pClan]][g_AllianceWith][i] == 2) alliance_count += Clan[i][g_MaxMembers];
						switch(listitem)
						{
						    case 0:
							{
								if((Clan[Player[playerid][pClan]][g_MaxMembers]+alliance_count) >= 15 && Player[playerid][pClanRank] >= 6)
								{
									Clan[Player[playerid][pClan]][g_Buff] = 1;
									return 1;
								}
								else
								{
									SendClientMessageFormat(playerid, -1, "{FFF000}>> You need at least 15 gang members, %d left", max(0, 15 - (Clan[Player[playerid][pClan]][g_MaxMembers]+alliance_count)));
									return 1;
								}
							}
							case 1:
							{
								if((Clan[Player[playerid][pClan]][g_MaxMembers]+alliance_count) >= 30 && Player[playerid][pClanRank] >= 6)
								{
									Clan[Player[playerid][pClan]][g_Buff] = 2;
									return 1;
								}
								else
								{
									SendClientMessageFormat(playerid, -1, "{FFF000}>> You need at least 30 gang members, %d left", max(0, 30 - (Clan[Player[playerid][pClan]][g_MaxMembers]+alliance_count)));
									return 1;
								}
							}
							case 2:
							{
								if((Clan[Player[playerid][pClan]][g_MaxMembers]+alliance_count) >= 50 && Player[playerid][pClanRank] >= 6)
								{
									Clan[Player[playerid][pClan]][g_Buff] = 3;
									return 1;
								}
								else
								{
									SendClientMessageFormat(playerid, -1, "{FFF000}>> You need at least 50 gang members, %d left", max(0, 50 - (Clan[Player[playerid][pClan]][g_MaxMembers]+alliance_count)));
									return 1;
								}
							}
						}
						return 1;
	                }
	                default:
	                {
						switch(listitem)
						{
						    case 0:
						    {
						        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", Clan[Player[playerid][pClan]][Full], "Ok", "");
						        return 1;
						    }
						    case 1:
						    {
						        if(strlen(Clan[Player[playerid][pClan]][g_Motd])) ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", Clan[Player[playerid][pClan]][g_Motd], "Ok", "");
						        return 1;
						    }
						    case 2:
						    {
						        if(strlen(Clan[Player[playerid][pClan]][g_Rules])) ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", Clan[Player[playerid][pClan]][g_Rules], "Ok", "");
						        return 1;
						    }
						    case 3,8:
						    {
						        ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings\n-------------------------\nClasses\nGive emblem", "Select", "Cancel");
						        return 1;
						    }
						    case 4:
						    {
						        if(Clan[Player[playerid][pClan]][g_IsNeutral])
			                    {
		                   			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "Your gang in neutrality", "Ok", "");
		       						return 1;
			                    }
						        InGangAction{playerid} = 4;
						        new s[200], f[64];
							    format(f, sizeof(f), "{FFFFFF}Ammo Buff - %s (+%d ammo)\n", Clan[Player[playerid][pClan]][g_Buff] == 1 ? ("{ff0066}[ACTIVE]{FFFFFF}") : ("{d1e0e0}[INACTIVE]{FFFFFF}"), GiveGangBuff(Player[playerid][pClan], 1));
								strcat(s, f);
								format(f, sizeof(f), "{FFFFFF}Armor Buff - %s (+%.1f armor)\n", Clan[Player[playerid][pClan]][g_Buff] == 2 ? ("{ff0066}[ACTIVE]{FFFFFF}") : ("{d1e0e0}[INACTIVE]{FFFFFF}"), float(GiveGangBuff(Player[playerid][pClan], 2)));
		                        strcat(s, f);
								format(f, sizeof(f), "{FFFFFF}Health Buff - %s (+%.1f health)\n", Clan[Player[playerid][pClan]][g_Buff] == 3 ? ("{ff0066}[ACTIVE]{FFFFFF}") : ("{d1e0e0}[INACTIVE]{FFFFFF}"), float(GiveGangBuff(Player[playerid][pClan], 3)));
							    strcat(s, f);
						        ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
								return 1;
							}
						    case 5:
							{
							    if(Clan[Player[playerid][pClan]][g_IsNeutral])
			                    {
		                   			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "Your gang in neutrality", "Ok", "");
		       						return 1;
			                    }
							    if(gettime() > Clan[Player[playerid][pClan]][g_Emblem])
							    {
							        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "{FFF000}You have not won wars for a long time, I want a winner emblem!", "Ok", "");
							        return 1;
							    }
							    if(Clan[Player[playerid][pClan]][g_Level] <= 6)
							    {
							        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "{FFF000}You need at least gang level 7", "Ok", "");
							        return 1;
							    }
							    InGangAction{playerid} = 5;
							    new s[128], coins = 1, badge = 1;
							    if(Player[playerid][pRank] >= 20) coins++, badge += 2;
							    if(Player[playerid][pRank] >= 30) coins+=2, badge += 2;
							    if(Player[playerid][pRank] >= 40) coins+=4, badge += 4;
							    if(Player[playerid][pRank] >= 50) coins+=6, badge += 6;
							    format(s, sizeof(s), "{FFFFFF}Exchange %d {66ff33}Quest Coins{FFFFFF} and %d {cc00ff}Gang's Winner badge{FFFFFF} for %d kills?", coins, badge, floor((RanksEXP[Player[playerid][pRank]])/(Player[playerid][pRank]+9)));
		                        ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
		                        return 1;
							}
							case 6:
							{
							    if(Clan[Player[playerid][pClan]][g_IsNeutral])
			                    {
		                   			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "Your gang in neutrality", "Ok", "");
		       						return 1;
			                    }
							    GangToNewLevel(playerid);
							    return 1;
							}
							case 7:
							{
							    if(Player[playerid][pClanRank] <= 5)
							    {
							        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "{FFF000}I only discuss this with the leader of the gang!", "Ok", "");
							        return 1;
							    }
							    else
							    {
								    new str[2048],frm[128];
								    new day[][] = {"Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"};
								    new addRank = 0;
								    
								    if(!Clan[Player[playerid][pClan]][g_IsRulles]) addRank = GangsSettings[6];
                                    if(Clan[Player[playerid][pClan]][g_IsNeutral]) addRank = 0;
         							
         	
							        strcat(str, "{df80ff}Description\t\t{df80ff}Permissions\n");
							        strcat(str, frm);
							        if(Clan[Player[playerid][pClan]][g_isClosed] == 0) strcat(str, "Players can send requests:\t\tYes\n");
							        else strcat(str, "Players can send requests:\t\tNo\n");
						            format(frm, 128, "Rank is needed to send request:\t\t%d\n", Clan[Player[playerid][pClan]][g_MinExp]+addRank);
						            strcat(str, frm);
						            format(frm, 128, "Max amount of EXP at a time (/gang pay):\t\t%d\n", Clan[Player[playerid][pClan]][g_MaxPayAmt]);
						            strcat(str, frm);
						            format(frm, 128, "Max player warnings before kicked:\t\t%d\n", Clan[Player[playerid][pClan]][g_MaxWarns]);
						            strcat(str, frm);
						            format(frm, 128, "Rank that can promote/demote members:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankToPromote]);
						            strcat(str, frm);
						            format(frm, 128, "Rank that can accept members:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankToAccept]);
						            strcat(str, frm);
						            format(frm, 128, "Rank that can warn members:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankToWarn]);
						            strcat(str, frm);
						            format(frm, 128, "Rank that can change mot:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankToMotd]);
						            strcat(str, frm);
						            format(frm, 128, "Rank that can give paydays:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankGivePayDay]);
						            strcat(str, frm);
						            format(frm, 128, "Rank that can edit tag, name, rank:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankToEdit]);
						            strcat(str, frm);
						            format(frm, 128, "Rank that can close requests, set requirements, accept alliance:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankToEditReq]);
						            strcat(str, frm);
						            format(frm, 128, "Rank that can change gang rules, max player warnings:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankToChangeRules]);
							        strcat(str, frm);
							        format(frm, 128, "Rank that can add a player to the blacklist, level up gang:\t\t%d\n", Clan[Player[playerid][pClan]][g_RankToBan]);
							        strcat(str, frm);
							        format(frm, 128, "Max. number of weeks inactivity before auto kick:\t\t%d\n", Clan[Player[playerid][pClan]][g_WeeksToKick]);
	        						strcat(str, frm);
	        						format(frm, 128, "Rank that can use /gang settings:\t\t%d\n", Clan[Player[playerid][pClan]][g_CanPanelUse]);
	        						strcat(str, frm);
	        						if(!Clan[Player[playerid][pClan]][g_IsNeutral])
							        {
							        	format(frm, 128, "Map Controlling Buff:\t\t%s\n", (Clan[Player[playerid][pClan]][g_MapBuff]) ? ("Yes") : ("No"));
						        		strcat(str, frm);
									}
	        						if(Clan[Player[playerid][pClan]][g_IsRulles])
							        {
								        format(frm, 128, "Gangs War Day:\t\t%s\n", day[GANG_WARS_DAY-1]);
								        strcat(str, frm);
								        format(frm, 128, "Gangs Cup Day:\t\t%s\n", day[GangsSettings[1]-1]);
								        strcat(str, frm);
								        format(frm, 128, "Max Gangs Alliances:\t\t%d\n", GangsSettings[2]);
								        strcat(str, frm);
								        format(frm, 128, "Max Gangs Wars:\t\t%d\n", GangsSettings[3]);
								        strcat(str, frm);
								        format(frm, 128, "Tax '/. For Gangs(not for you):\t\t%d\n", GangsSettings[4]);
								        strcat(str, frm);
								        format(frm, 128, "Min Rank for All Gangs(not for you):\t\t%d\n", GangsSettings[6]);
		        						strcat(str, frm);
									}
						     		ShowPlayerDialog(playerid, DIALOG_GANG_SETTINGS, DIALOG_STYLE_TABLIST_HEADERS, "{ffb3ff}Gang settings", str, serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
									return 1;
								}
							}
							case 10:
							{
							    if(Clan[Player[playerid][pClan]][g_IsNeutral])
			                    {
		                   			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "Your gang in neutrality", "Ok", "");
		       						return 1;
			                    }
							    if(gettime() < Clan[Player[playerid][pClan]][g_Emblem])
							    {
							        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "{FFF000}I still have a brand new medal!", "Ok", "");
							        return 1;
							    }
						     	if(GetItemCount(playerid, ITEM_NAME_GANG_EMBLEM) >= 1)
		        				{
		            				RemoveItemFromInv(playerid, ITEM_NAME_GANG_EMBLEM, 1);
							    	Clan[Player[playerid][pClan]][g_Emblem] = (gettime()+ (604800*2));
							    	ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "{FFF000}Thank you, I am ready to cooperate with you for 2 weeks!", "Ok", "");
							        return 1;
								}
							}
							case 9:
							{
		     					if(Clan[Player[playerid][pClan]][g_IsNeutral])
			                    {
		                   			ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", "Your gang in neutrality", "Ok", "");
		       						return 1;
			                    }
			                    
			                    ShowGangClasses(playerid);
								return 1;
							}
						}
						InGangAction{playerid} = -1;
					}
				}
	        }
	        else
			{
			    InGangAction{playerid} = -1;
				return 1;
			}
        }
        
        case DIALOG_GANG_TROPHY:
        {
            if(response)
	        {
	        
	        }
	        else return 1;
        }
        
        case DIALOG_WARNED:
        {
            if(response) cmd::rules(playerid);
			else cmd::rules(playerid);
            return 1;
        }
        
        case DIALOG_GANG_MEMBERS_LIST:
        {
            if(response)
            {
                if(GangPanelIDs[playerid][listitem] > 0)
                {
                    GangPanelIDSelected[playerid] = GangPanelIDs[playerid][listitem];
                    ShowPlayerDialog(playerid, DIALOG_GANG_MEMBERS_ACTION, DIALOG_STYLE_LIST, "{FF0000}Members List - Action", "{ff0000}Promote member\n{000000}---------------------\n{FF0000}Demote member\n{000000}---------------------\n{FF0000}Warn member\n{FF0000}Add member to the blacklist\n{000000}---------------------\n{FF0000}Fire member", "Select", "Cancel");
                    return 1;
                }
            }
            return 1;
        }
        
        case DIALOG_GANG_MEMBERS_ACTION:
        {
            if(response)
            {
                switch(listitem)
                {
					case 1,3,6:
					{
						ShowPlayerDialog(playerid, DIALOG_GANG_MEMBERS_ACTION, DIALOG_STYLE_LIST, "{FF0000}Members List - Action", "{ff0000}Promote member\n{000000}---------------------\n{FF0000}Demote member\n{000000}---------------------\n{FF0000}Warn member\n{FF0000}Add member to the blacklist\n{000000}---------------------\n{FF0000}Fire member", "Select", "Cancel");
                    	return 1;
					}
					case 7:
					{
						foreach(Player, i)
						{
							if(Player[i][pAccountID] == GangPanelIDSelected[playerid])
							{
							    new str[128];
							    format(str, sizeof(str), "{FFFFFF}Do you really want to{ff3300} fire %s?", Player[i][UserName]);
								ShowPlayerDialog(playerid, DIALOG_GANG_MEMBERS_ACCEPTING, DIALOG_STYLE_MSGBOX, "{FF0000}WARNING", str, "Yes", "No");
						        return 1;
							}
						}
    					mysql_format(Base, query, sizeof(query), "SELECT `Name`,`ClanRank` FROM `users` WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", GangPanelIDSelected[playerid]);
						mysql_tquery(Base, query, "AcceptGangAction", "i", playerid);
	
					    return 1;
					}
                }
            }
        }
        
        case DIALOG_GANG_MEMBERS_ACCEPTING:
        {
            if(response)
            {
				new s[25], bool:e;
	            foreach(Player, i)
				{
					if(Player[i][pAccountID] == GangPanelIDSelected[playerid])
					{
					    if(Player[i][pClanRank] <= 5)
					    {
						    Clan[Player[i][pClan]][g_MaxMembers]--;
						    format(s, sizeof(s), "%s", Player[i][UserName]);
							Player[i][pClanRank] = 0;
							Player[i][pClan] = 0;
							mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `ClanRank`='0',`Clan`='0' WHERE `ID` = '%d'", GangPanelIDSelected[playerid]);
							mysql_tquery(Base, query, "", "", "");
							e = true;
						}
						else
						{
						    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}WARNING", "{ff3300}Not enough rights, contact Gang Manager (GM)", "Ok", "");
						    return 1;
						}
					}
				}
				if(e) { foreach(Player, i) if(Player[i][pClan] == Player[playerid][pClan]) SendClientMessageFormat(i, -1, "{C659B6}>> %s has been kicked from the gang by %s", s, Player[playerid][UserName]); }
				else
				{
				    if(strlen(GangPanelName[playerid]))
				    {
				        Clan[Player[playerid][pClan]][g_MaxMembers]--;
					    foreach(Player, j) if(Player[j][pClan] == Player[playerid][pClan]) SendClientMessageFormat(j, -1, "{C659B6}>> %s has been kicked from the gang by %s", GangPanelName[playerid], Player[playerid][UserName]);
					    mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `ClanRank`='0',`Clan`='0' WHERE `ID` = '%d'", GangPanelIDSelected[playerid]);
						mysql_tquery(Base, query, "", "", "");
						GangPanelName[playerid][0] = '\0';
						return 1;
					}
					else
					{
					    SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Error.");
					    GangPanelName[playerid][0] = '\0';
					    return 1;
					}
				}
			}
			return 1;
        }
        
        case DIALOG_GANG_TYPE:
        {
            if(response)
	        {
	            switch(GangAction[playerid])
	            {
	                case 0:
					{
					    new str[17];
						format(str, 16, "policy %d", strval(inputtext) >= sizeof(RanksEXP) ? sizeof(RanksEXP)-1 : strval(inputtext) < 1 ? 1 : strval(inputtext));
						cmd::gang(playerid, str);
					}
					case 1:
					{
						if(strval(inputtext) < 0) Clan[Player[playerid][pClan]][g_MaxPayAmt] = 0;
      					else Clan[Player[playerid][pClan]][g_MaxPayAmt] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed max /pay amount to %d", Player[playerid][UserName], strval(inputtext) < 0 ? 0 : strval(inputtext));
			                }
						}
					}
					case 2:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_MaxWarns] = 1;
      					else Clan[Player[playerid][pClan]][g_MaxWarns] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed max warnings to %d", Player[playerid][UserName], strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
                    case 3:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankToPromote] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankToPromote] = 6;
      					else Clan[Player[playerid][pClan]][g_RankToPromote] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can promote members to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
	                case 4:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankToAccept] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankToAccept] = 6;
      					else Clan[Player[playerid][pClan]][g_RankToAccept] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can accept members to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
					case 5:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankToWarn] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankToWarn] = 6;
      					else Clan[Player[playerid][pClan]][g_RankToWarn] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can warn members to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
					case 6:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankToMotd] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankToMotd] = 6;
      					else Clan[Player[playerid][pClan]][g_RankToMotd] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can change gang mot to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
                    case 7:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankGivePayDay] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankGivePayDay] = 6;
      					else Clan[Player[playerid][pClan]][g_RankGivePayDay] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can give PayDays to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
					case 8:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankToEdit] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankToEdit] = 6;
      					else Clan[Player[playerid][pClan]][g_RankToEdit] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can edit gang to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
					case 9:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankToEditReq] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankToEditReq] = 6;
      					else Clan[Player[playerid][pClan]][g_RankToEditReq] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can edit requirements to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
					case 10:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankToChangeRules] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankToChangeRules] = 6;
      					else Clan[Player[playerid][pClan]][g_RankToChangeRules] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can edit rules to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
					case 11:
					{
						if(strval(inputtext) < 1) Clan[Player[playerid][pClan]][g_RankToBan] = 1;
						else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_RankToBan] = 6;
      					else Clan[Player[playerid][pClan]][g_RankToBan] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank, that can add a player to the blacklist to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) < 1 ? 1 : strval(inputtext));
			                }
						}
					}
					case 12:
					{
					    if(strval(inputtext) < 0) Clan[Player[playerid][pClan]][g_WeeksToKick] = 0;
						else if(strval(inputtext) > 4) Clan[Player[playerid][pClan]][g_WeeksToKick] = 4;
      					else Clan[Player[playerid][pClan]][g_WeeksToKick] = strval(inputtext);
      					foreach(Player, i)
		            	{
			                if(Player[i][pClan] == Player[playerid][pClan])
			                {
			                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed max. number of inactivity weeks to %d", Player[playerid][UserName], strval(inputtext) > 4 ? 4 : strval(inputtext) < 0 ? 0 : strval(inputtext));
			                }
						}
					}
					
					case 13:
					{
					    if(Player[playerid][pClanRank] < 6)
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> Not enough rights!");
							return 1;
						}
					    else
					    {
						    if(strval(inputtext) < 0) Clan[Player[playerid][pClan]][g_CanPanelUse] = 1;
							else if(strval(inputtext) > 6) Clan[Player[playerid][pClan]][g_CanPanelUse] = 6;
	      					else Clan[Player[playerid][pClan]][g_CanPanelUse] = strval(inputtext);
	      					foreach(Player, i)
			            	{
				                if(Player[i][pClan] == Player[playerid][pClan])
				                {
				                    SendClientMessageFormat(i, -1, "{C659B6}>> %s has changed rank that can use /gang settings to %d", Player[playerid][UserName], strval(inputtext) > 6 ? 6 : strval(inputtext) <= 0 ? 1 : strval(inputtext));
				                }
							}
						}
					}
					
					case 14:
					{
					   if(strval(inputtext) <= 0)
						{
							Clan[Player[playerid][pClan]][g_MapBuff] = 0;
							foreach(Player, i) SendClientMessageFormat(i, -1, "{FFD500}>> %s has disabled their Map Controlling Buff", Clan[Player[playerid][pClan]][Full]);
						}
						else
						{
							Clan[Player[playerid][pClan]][g_MapBuff] = 1;
							foreach(Player, i) SendClientMessageFormat(i, -1, "{FFD500}>> %s has enabled their Map Controlling Buff", Clan[Player[playerid][pClan]][Full]);
						}
					}
					
					case 15:
					{
					    if(GetWeekDay() != GANG_WARS_DAY)
					    {
						    if(strval(inputtext) <= 0 || strval(inputtext) > 5) GangsSettings[0] = GANG_WARS_DAY;
						    else
							{
								GangsSettings[0] = strval(inputtext);
						        GangTimer[0] = (gettime() + (86400*9));
							}
							new day[][] = {"Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"};
							foreach(Player, i) SendClientMessageFormat(i, -1, "{FFD500}>> Ruler %s has changed Gang War Day to %s (DISABLED)", Clan[Player[playerid][pClan]][Full], day[GANG_WARS_DAY-1]);
						}
					}
					
					case 16:
					{
					    if(GetWeekDay() != GANG_WARS_DAY)
					    {
						    if(strval(inputtext) <= 0 || strval(inputtext) > 7) GangsSettings[1] = GANG_CUPS_DAY;
						    else
							{
								GangsSettings[1] = strval(inputtext);
								GangTimer[1] = (gettime() + (86400*9));
							}
							new day[][] = {"Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"};
							foreach(Player, i) SendClientMessageFormat(i, -1, "{FFD500}>> Ruler %s has changed Gang Cups Day to %s (DISABLED)", Clan[Player[playerid][pClan]][Full], day[GangsSettings[1]-1]);
						}
					}
					
					case 17:
					{
					    if(GetWeekDay() != GANG_WARS_DAY)
					    {
						    if(strval(inputtext) <= 0 || strval(inputtext) > 3) GangsSettings[2] = GANG_MAX_ALLIANCES;
						    else GangsSettings[2] = strval(inputtext);
							foreach(Player, i) SendClientMessageFormat(i, -1, "{FFD500}>> Ruler %s has changed Max Gang Alliances to %d", Clan[Player[playerid][pClan]][Full], GangsSettings[2]);
							SendClientMessageToAll(-1, "{FFD500}>> All alliances fell apart");
	                        for( new j; j < 30; j++ )
						    {
								for( new i; i < 30; i++ )
								{
								    Clan[j][g_AllianceWith][i] = 0;
								    Clan[j][g_CupsAlliance][i] = 0;
								    Clan[i][g_AllianceWith][j] = 0;
	        						Clan[i][g_CupsAlliance][j] = 0;
								}
							}
						}
					}
					
					case 18:
					{
					    if(GetWeekDay() != GANG_WARS_DAY)
					    {
						    if(strval(inputtext) <= 0 || strval(inputtext) > 30) GangsSettings[3] = GANG_MAX_WARS;
						    else GangsSettings[3] = strval(inputtext);
							foreach(Player, i) SendClientMessageFormat(i, -1, "{FFD500}>> Ruler %s has changed Max Gang Wars to %d", Clan[Player[playerid][pClan]][Full], GangsSettings[3]);
	                        SendClientMessageToAll(-1, "{FFD500}>> All wars fell apart");
						    for( new j; j < 30; j++ )
						    {
								for( new i; i < 30; i++ )
								{
						      		Clan[j][g_EnemysWith][i] = 0;
								    Clan[i][g_EnemysWith][j] = 0;
								}
							}
						}
					}
					
					case 19:
					{
					    if(GetWeekDay() != GANG_WARS_DAY)
					    {
						    if(strval(inputtext) < 35 || strval(inputtext) > 65) GangsSettings[4] = GANG_TAXPERCENT;
						    else GangsSettings[4] = strval(inputtext);
							foreach(Player, i) SendClientMessageFormat(i, -1, "{FFD500}>> Ruler %s has changed Gang Tax Percent to %d", Clan[Player[playerid][pClan]][Full], GangsSettings[4]);
						}
					}
					
					case 20:
					{
					    if(GetWeekDay() != GANG_WARS_DAY)
					    {
						    if(strval(inputtext) < 5 || strval(inputtext) >= 26) GangsSettings[6] = GANG_MIN_RANK;
						    else GangsSettings[6] = strval(inputtext);
							foreach(Player, i) SendClientMessageFormat(i, -1, "{FFD500}>> Ruler %s has changed Min. Rank to join a Gang to %d", Clan[Player[playerid][pClan]][Full], GangsSettings[6]);
						}
					}
				}
	            return 1;
	        }
	        else
	        {
	            return 1;
	        }
        }
        
       	case DIALOG_GANG_SETTINGS:
	    {
	        if(response)
	        {
	            GangAction[playerid] = listitem-1;
				switch(listitem)
				{
				    case 0: cmd::gang(playerid, "close");
					case 1:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank is needed to send request", "Confirm", "Close");
					    return 1;
					}
					case 2:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Max amount of EXP at a time (/gang pay)", "Confirm", "Close");
					    return 1;
					}
					case 3:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Max player warnings before kicked", "Confirm", "Close");
					    return 1;
					}
					case 4:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can promote/demote members", "Confirm", "Close");
					    return 1;
					}
					case 5:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can accept members", "Confirm", "Close");
					    return 1;
					}
					case 6:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can warn members", "Confirm", "Close");
					    return 1;
					}
					case 7:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can change mot", "Confirm", "Close");
					    return 1;
					}
					case 8:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can give paydays", "Confirm", "Close");
					    return 1;
					}
					case 9:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can edit tag, name, rank", "Confirm", "Close");
					    return 1;
					}
					case 10:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can close requests, set requirements", "Confirm", "Close");
					    return 1;
					}
					case 11:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can change gang rules, max player warnings", "Confirm", "Close");
					    return 1;
					}
					case 12:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can add a player to the blacklist", "Confirm", "Close");
					    return 1;
					}
					case 13:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Max. number of weeks inactivity before auto kick (1 min. / 4 max. / 0 - disable)", "Confirm", "Close");
					    return 1;
					}
					case 14:
					{
						ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Rank that can use /gang settings", "Confirm", "Close");
					    return 1;
					}
					case 15:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Map Controlling Buff (0 - Disable | 1 - Enable)", "Confirm", "Close");
					    return 1;
					}
					case 16:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Gangs War Day (min. 1 | max. 5)", "Confirm", "Close");
					    return 1;
					}
					case 17:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Gangs Cups Day (min. 1 | max. 7)", "Confirm", "Close");
					    return 1;
					}
					case 18:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Gangs Max Alliances (min. 1 | max. 2)", "Confirm", "Close");
					    return 1;
					}
					case 19:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Gangs Max Wars (min. 1 | max. 30)", "Confirm", "Close");
					    return 1;
					}
					case 20:
					{
					    ShowPlayerDialog(playerid, DIALOG_GANG_TYPE, DIALOG_STYLE_INPUT, "{ffb3ff}Gang settings", "Gangs Tax Percent (min. 10 | max. 50)", "Confirm", "Close");
					    return 1;
					}
				}
			}
		}
        
	    case DIALOG_SETTINGS:
	    {
	        if(response)
	        {
	            if(GetUnlockedSlot(Player[playerid][pSettings], listitem) == 1)
				{
					if(listitem == PS_IAP)
					{
                        if(ProccessPay(playerid))
                        {
                            SetUnlockedSlot(Player[playerid][pSettings], listitem, 0);
                        }
					}
					else SetUnlockedSlot(Player[playerid][pSettings], listitem, 0);
					if(listitem == PS_SHOW_EXP) TextDrawHideForPlayer(playerid, XP[playerid]);
					if(listitem == PS_SHOW_PET) RemovePlayerAttachedObject(playerid, 8);
				}
            	else
				{
					SetUnlockedSlot(Player[playerid][pSettings], listitem, 1);
					if(listitem == PS_SHOW_EXP) TextDrawShowForPlayer(playerid, XP[playerid]);
					if(listitem == PS_SHOW_PET)
					{
					    SetUnlockedSlot(Player[playerid][pSettings], PS_SHOW_PET, 1);
						SetPet(playerid);
					}
				}
	    	}
		}
	    
	    case DIALOG_SHOP_ITEMS:
	    {
	        new stype = GetPVarInt(playerid, "stype");
			new inx = GetPVarInt(playerid, "inx");
			new pr = GetPVarInt(playerid, "pr");
			new ct = GetPVarInt(playerid, "ct");
			new pl = GetPVarInt(playerid, "pl");
			new buyt = GetPVarInt(playerid, "buyt");
			
	        if(response)
			{
			    ClearPlayerShopInfo(playerid);
				SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase");
				return 1;
			}
			else
			{
				new vsn[3][] = {"Bronze VIP", "Silver VIP", "Gold VIP"};
				
				new __action[128], y, m, d, h, mts, s;
				
				if(!IsPlayerConnected(pl) || pl >= MAX_PLAYERS || pl <= -1)
				{
					ClearPlayerShopInfo(playerid);
					return SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (Internal, retry again)") && 0 || 0;
				}
				
				switch(stype)
				{
				    case 5:
					{
					    if(gettime() > buyt || buyt <= 0)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem #1 (Time is up, retry command again)") && 0 || 0;
						}
						if(inx <= -1)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem #2 (Invalid data)") && 0 || 0;
						}
						if(TrophyInInv[pl][plii_ID][inx] <= -1 || TrophyInInv[pl][plii_Rank][inx] <= -1)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem #3 (Invalid data)") && 0 || 0;
						}
						if(pr > Player[playerid][pXP])
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough exp for buying") && 0 || 0;
						}

					    printf("%d", TryToAddTrophyInInv(playerid));
					    
						if(TryToAddTrophyInInv(playerid) != -1)
						{
						    new r = TrophyInInv[pl][plii_Rare][inx];
		        
		                    #if debug_mode == 0
						    TimestampToDate(gettime(), y, m, d, h, mts, s, 3);
							DiscordChannel = DCC_FindChannelById("655076938209165315");
							format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought %s %s (%d / %d) from %s(%d) / Price: %d EXP\n```", d, m, y, h, mts, Player[playerid][RealName], Player[playerid][pAccountID], TrophyRares[r][8], TrophyName[TrophyInInv[pl][plii_Type][inx]], TrophyInInv[pl][plii_Rank][inx], TrophyInInv[pl][plii_MaxRank][inx], Player[pl][RealName], Player[pl][pAccountID], pr);
							DCC_SendChannelMessageEx(DiscordChannel, __action);
                            #endif
                            
                            new ID = -10, index = -10;
                            
                            for( new i = 0; i < sizeof(achTrnsl[]); i++ )
                            {
                                if(TrophyInInv[pl][plii_ID][TrophySlotUsed[pl][i]] == inx)
                                {
                                    ID = TrophyInInv[pl][plii_ID][TrophySlotUsed[pl][i]];
                                    index = i;
                                }
                            }

							if(ID <= -1 || index <= -1)
							{
							    ClearPlayerShopInfo(playerid);
								return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem #4 (Invalid data)") && 0 || 0;
							}

							new tryToFindAnAch = 0;
                            for( new i = 1; i < sizeof(achTrnsl[]); i++ )
                            {
                                if(TrophyInInv[playerid][plii_ID][TrophySlotUsed[playerid][i]] <= 0 && IsAchievementIsUnlocked(playerid, i))
                                {
                                    new type = TrophyInInv[pl][plii_Type][inx],
                                        rare = TrophyInInv[pl][plii_Rare][inx],
                                        rank = TrophyInInv[pl][plii_Rank][inx],
                                        exp = TrophyInInv[pl][plii_RankToNext][inx],
                                        rank_max = TrophyInInv[pl][plii_RankToNext][inx];
                                    
                            		TrophySlotUsed[playerid][i] = TryToAddTrophyInInv(playerid);
                            		//printf("DEBUG: %d #1", TrophySlotUsed[playerid][i]);

									if(TrophySlotUsed[playerid][i] > -1)
									{
									    //printf("DEBUG: %d #2", TrophySlotUsed[playerid][i]);
										AddTrophyInInv(playerid, type, rare, rank, exp, rank_max);
		                        		SendClientMessageFormat(pl, -1, "{0099ff}>> {FFFFFF}%s %s{0099ff} has been added and attached to{FFFFFF} %s", TrophyRares[r][8], TrophyName[TrophyInInv[pl][plii_Type][inx]], achNames[0][i+1]);
		                                tryToFindAnAch = 1;
										break;
									}
								}
							}

							if(tryToFindAnAch >= 1)
							{
	                            Player[playerid][pXP] -= pr;

								if(pr > 20) Player[pl][pXP] += (pr - floor(pr*TAXES));
								else Player[pl][pXP] += pr;

								new str[16];
								format(str, sizeof(str), "-%d EXP", pr);
				    			GameTextForPlayer(playerid, str, 3000, 1);
							    if(pr > 20) format(str, sizeof(str), "+%d EXP", pr - floor(pr*TAXES));
							    else format(str, sizeof(str), "+%d EXP", pr);
							    GameTextForPlayer(pl, str, 3000, 1);

	                            SendClientMessageFormat(pl, -1, "{0099ff}>> You removed your {FFFFFF}%s{0099ff} which got for{FFFFFF} %s", TrophyName[TrophyInInv[pl][plii_Type][inx]], achNames[0][index+1]);
								TrophyInInv[pl][plii_ID][inx] = -1;
	   							TrophySlotUsed[pl][index] = 0;
	   							
	   							if(Achievements[pl][ac_Merchant] <= 51)
								{
								    Achievements[pl][ac_Merchant]++;
								    if(Achievements[pl][ac_Merchant] == 1) UnlockAchievement(pl, 85, 100);
								    if(Achievements[pl][ac_Merchant] == 50) UnlockAchievement(pl, 86, 2000);
								}
								
							}
                            else
                            {
                                ClearPlayerShopInfo(playerid);
								return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem #5 (No completed achievements)") && 0 || 0;
                            }
						}
						else
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem #6 (Invalid data)") && 0 || 0;
						}
					}
					
				    case 2:
					{
					    new Float:vpr[] = {4.0, 7.0, 10.0};
					    
					    if(gettime() > buyt || buyt <= 0)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (Time is up, retry command again)") && 0 || 0;
						}
						if(Player[pl][pBalance] < vpr[inx])
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (No value)") && 0 || 0;
						}
						if(pr > Player[playerid][pXP])
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough exp for buying") && 0 || 0;
						}
						if((inx+1) <= -1)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (Invalid data)") && 0 || 0;
						}
						if(Player[playerid][pVip] >= (inx+1))
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFF000}>> Canceled for account's security reasons") && 0 || 0;
						}
						#if debug_mode == 0
						TimestampToDate(gettime(), y, m, d, h, mts, s, 3);
						DiscordChannel = DCC_FindChannelById("655076938209165315");
						format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought %s from %s(%d) / Price: %d EXP\n```", d, m, y, h, mts, Player[playerid][RealName], Player[playerid][pAccountID], vsn[inx], Player[pl][RealName], Player[pl][pAccountID], pr);
						DCC_SendChannelMessageEx(DiscordChannel, __action);
						#endif
                        Player[playerid][pVipTime] = (gettime() + (86400*30));
                        Player[playerid][pVip] = (inx+1);
					    Player[playerid][pXP] -= pr;

						mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `VIP` = '%d',`VipTime` = '%d' WHERE `ID` = '%d'", Player[playerid][pVip], Player[playerid][pVipTime], Player[playerid][pAccountID]);
						mysql_tquery(Base, query, "", "", "");

						if(pr > 20) Player[pl][pXP] += (pr - floor(pr*TAXES));
	    				else Player[pl][pXP] += pr;

	    				Player[pl][pBalance] -= vpr[inx];
				    	new str[16];
						format(str, sizeof(str), "-%d EXP", pr);
		    			GameTextForPlayer(playerid, str, 3000, 1);
					    if(pr > 20) format(str, sizeof(str), "+%d EXP", (pr - floor(pr*TAXES)));
					    else format(str, sizeof(str), "+%d EXP", pr);
					    GameTextForPlayer(pl, str, 3000, 1);
					   
					    if(Achievements[pl][ac_Merchant] <= 51)
						{
						    Achievements[pl][ac_Merchant]++;
						    if(Achievements[pl][ac_Merchant] == 1) UnlockAchievement(pl, 83, 100);
						    if(Achievements[pl][ac_Merchant] == 50) UnlockAchievement(pl, 84, 2000);
						}
					    
					    ClearPlayerShopInfo(playerid);
					    return 1;
					}
					
				    case 1:
					{
					    if(gettime() > buyt || buyt <= 0)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (Time is up, retry command again)") && 0 || 0;
						}
						if(UserPet[pl][inx][PI_Level] <= 0)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (Invalid data)") && 0 || 0;
						}
						if(pr > Player[playerid][pXP])
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough exp for buying") && 0 || 0;
						}
						PetUseds[playerid] = AddPet(playerid, UserPet[pl][inx][PI_Type], UserPet[pl][inx][PI_Name], UserPet[pl][inx][PI_Rare], UserPet[pl][inx][PI_VIP], UserPet[pl][inx][PI_Level]);
	    				if(PetUseds[playerid] > -1)
						{
						    #if debug_mode == 0
							TimestampToDate(gettime(), y, m, d, h, mts, s, 3);
							DiscordChannel = DCC_FindChannelById("655076938209165315");
							format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought a pet from %s(%d) / %s(%d) Price: %d EXP\n```", d, m, y, h, mts, Player[playerid][RealName], Player[playerid][pAccountID], Player[pl][RealName], Player[pl][pAccountID], UserPet[pl][inx][PI_Name], UserPet[pl][inx][PI_Level], pr);
							DCC_SendChannelMessageEx(DiscordChannel, __action);
							#endif
						    Player[playerid][pXP] -= pr;
							if(pr > 20) Player[pl][pXP] += (pr - floor(pr*TAXES));
							else Player[pl][pXP] += pr;
							
						    UserPet[pl][inx][PI_Level] = 0;
						    new str[16];
						    format(str, sizeof(str), "-%d EXP", pr);
						    GameTextForPlayer(playerid, str, 3000, 1);

							if(pr > 20) format(str, sizeof(str), "+%d EXP", pr - floor(pr*TAXES));
						    else format(str, sizeof(str), "+%d EXP", pr);
						    
						    GameTextForPlayer(pl, str, 3000, 1);
							SetPet(playerid);
							
							if(Achievements[pl][ac_Merchant] <= 51)
							{
							    Achievements[pl][ac_Merchant]++;
							    if(Achievements[pl][ac_Merchant] == 1) UnlockAchievement(pl, 85, 100); 
							    if(Achievements[pl][ac_Merchant] == 50) UnlockAchievement(pl, 86, 2000); 
							}
							
							ClearPlayerShopInfo(playerid);
							return 1;
						}
						else
		    			{
		    			    SendClientMessage(playerid, -1, "{FFF000}Not enough slots!");
		    			    ClearPlayerShopInfo(playerid);
		    			    return 1;
		    			}
					}
					case 0:
					{
					    if(gettime() > buyt || buyt <= 0)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (Time is up, retry command again)") && 0 || 0;
						}
						if(Inventory[pl][inx][II_ID] <= -1 || Inventory[pl][inx][II_Count] < ct)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (Invalid data / Count)") && 0 || 0;
						}
						if(pr > Player[playerid][pXP])
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough exp for buying") && 0 || 0;
						}
						if(inx <= -1)
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FFFFFF}SYSTEM: Processing problem (Invalid data)") && 0 || 0;
						}
						new bool:check = true;
						switch(Inventory[pl][inx][II_ID])
						{
						    case ITEM_NAME_EFF_AMPLIFIER, ITEM_NAME_COLOR_AMPLIFIER, ITEM_NAME_PET_AMPLIFIER, ITEM_NAME_CHAOS_SMALL_CHEST, ITEM_NAME_CHAOS_BIG_CHEST, ITEM_NAME_CHAOS_CHEST: check = false;
						    default: check = true;
						}
						if(TryToAdd(Inventory[pl][inx][II_ID], ct, 0, check))
						{

						    new itn[96];

						    itn = ItemNames[Inventory[pl][inx][II_ID]];
						    strdel(itn, 0, 8);
                            #if debug_mode == 0
							TimestampToDate(gettime(), y, m, d, h, mts, s, 3);
							DiscordChannel = DCC_FindChannelById("655076938209165315");
							format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought %s(%d) from %s(%d) / Price: %d EXP\n```", d, m, y, h, mts, Player[playerid][RealName], Player[playerid][pAccountID], itn, ct, Player[pl][RealName], Player[pl][pAccountID], pr);
							DCC_SendChannelMessageEx(DiscordChannel, __action);
							#endif
						    Player[playerid][pXP] -= pr;

							if(pr > 20) Player[pl][pXP] += (pr - floor(pr*TAXES));
							else Player[pl][pXP] += pr;

							AddItemInInv(playerid, Inventory[pl][inx][II_ID], ct, 0, -1, 0, 0, check, Inventory[pl][inx][II_CHAOS_INDEX], Inventory[pl][inx][II_CHAOS_TYPE], Inventory[pl][inx][II_CHAOS_PROGRESS]);
							
					    	new str[16];
					    	RemoveItemFromInv(pl, Inventory[pl][inx][II_ID], ct, true, inx);
							format(str, sizeof(str), "-%d EXP", pr);
			    			GameTextForPlayer(playerid, str, 3000, 1);
						    if(pr > 20) format(str, sizeof(str), "+%d EXP", pr - floor(pr*TAXES));
						    else format(str, sizeof(str), "+%d EXP", pr);
						    GameTextForPlayer(pl, str, 3000, 1);
						    
						    if(Achievements[pl][ac_Merchant] <= 51)
							{
							    Achievements[pl][ac_Merchant]++;
							    if(Achievements[pl][ac_Merchant] == 1) UnlockAchievement(pl, 85, 100); 
							    if(Achievements[pl][ac_Merchant] == 50) UnlockAchievement(pl, 86, 2000);
							}
							ClearPlayerShopInfo(playerid);
						    return 1;
						}
						else
						{
						    ClearPlayerShopInfo(playerid);
							return SendClientMessage(pl, -1, "{FF0000}>> Player refused purchase") && SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
						}
					}
				}
			}
			ClearPlayerShopInfo(playerid);
			return 1;
	    }
	    
	    case DIALOG_VALIENTINE_QUEST:
	    {
	        if(response)
	        {
	            if(IsWomanSkin(GetPlayerSkin(playerid)))
	            {
	                Player[playerid][pVipSkin] = 172;
		    		SetPlayerSkinAC(playerid, 172);
				}
	            else
	            {
	                Player[playerid][pVipSkin] = 171;
		    		SetPlayerSkinAC(playerid, 171);
	            }
	        }
	        return 1;
	    }
	
	    case DIALOG_VALIENTINE_DAY:
	    {
	        if(response)
	        {
	            if(GetPlayerSkin(playerid) != 172 && GetPlayerSkin(playerid) != 171)
	            {
		            new dlg[1500], name[32];
					new buttons[][][] =
					{
						{
						    "Start",
						    "Close"
						},
						{
						    "Начать",
						    "Закрыть"
						},
						{
						    "Comienzo",
						    "Cerca"
						}
					};
		            switch(Player[playerid][pLang])
		            {
						case 0, 2: name = "{FF6900}Julia";
						case 1: name = "{FF6900}Юлия";
		            }
		            strcat(dlg, ValintineText[Player[playerid][pLang]][0]);
		            strcat(dlg, ValintineText[Player[playerid][pLang]][1]);
		            strcat(dlg, ValintineText[Player[playerid][pLang]][2]);
		            strcat(dlg, ValintineText[Player[playerid][pLang]][3]);
		            strcat(dlg, ValintineText[Player[playerid][pLang]][4]);
		            strcat(dlg, ValintineText[Player[playerid][pLang]][5]);
		            strcat(dlg, ValintineText[Player[playerid][pLang]][6]);
		            strcat(dlg, ValintineText[Player[playerid][pLang]][7]);
		            strcat(dlg, ValintineText[Player[playerid][pLang]][8]);
		            ShowPlayerDialog(playerid, DIALOG_VALIENTINE_QUEST, DIALOG_STYLE_MSGBOX, name, dlg, buttons[Player[playerid][pLang]][0], buttons[Player[playerid][pLang]][1]);
				}
				else
				{
    				new buttons[][][] =
    				{
				 		{
	  						"Exchange",
				    		"Close",
					    	"{ECF0F1}You want to exchange {E74C3C}200 Experience{ECF0F1} and {E74C3C}2 Valentines{ECF0F1} for 1 love?"
						},
						{
		    				"Обменять",
					    	"Закрыть",
						    "{ECF0F1}Вы хотите обменять {E74C3C}200 Опыта{ECF0F1} и {E74C3C}2 Валентинки{ECF0F1} на 1 любовь?"
						},
						{
		    				"Interca.",
					    	"Cerca",
						    "{ECF0F1}Desea intercambiar {E74C3C}200 Experiencia{ECF0F1} y {E74C3C}2 Valentines{ECF0F1} por 1 amor"
						}
					};
					ShowPlayerDialog(playerid, DIALOG_VALIENTINE_QUEST_2, DIALOG_STYLE_MSGBOX, "{FF6900}Quest", buttons[Player[playerid][pLang]][2], buttons[Player[playerid][pLang]][0], buttons[Player[playerid][pLang]][1]);
				}
			}
	        else
	        {
		        new str[900];
		        switch(Player[playerid][pLang])
	            {
	                case 0:
	                {
					    strcat(str, "Item\tDesc\tLove\n");
					    strcat(str, "{FFFFFF}>>: Flowers\t{ECF0F1}Can be given to a woman\t{F1C40F}200 EXP\n");
					    strcat(str, "{FFFFFF}>>: {663E3C}Dark Chocolate\t{663E3C}May restore some health\t{999999}#10\n");
					    strcat(str, "{FFFFFF}>>: {EFBF7F}White Chocolate\t{EFBF7F}May restore some health\t{999999}#10\n");
						strcat(str, "{FFFFFF}>>: {CE863C}Cookies\t{CE863C}May restore some health\t{999999}#15\n");
					    strcat(str, "{FFFFFF}>>: {F0A1A5}Candie\t{F0A1A5}Adds experience to the pet\t{999999}#25\n");
					    strcat(str, "{FFFFFF}>>: {F73845}Love Card\t{FFFFFF}Unlocks Valentine Class\t{999999}#100\n");
					    strcat(str, "{FFFFFF}>>: {F73845}Love Potion\t{FFFFFF}Merges different pets\t{999999}#500\n");
				     	strcat(str, "{FFFFFF}>>: {F73845}Love Pet\t{FFFFFF}Gives HP Regeneration\t{999999}#1000\n");
				     	//strcat(str, "{FFFFFF}>>: {F73845}Essence of Love\t{FFFFFF}Merges different Classes\t{999999}#2500\n");
					}
					case 1:
					{
					    strcat(str, "Вещь\tИнфо\tЛюбовь\n");
					    strcat(str, "{FFFFFF}>>: Цветы\t{ECF0F1}Можно подарить девушке\t{F1C40F}200 ОПЫТА\n");
					    strcat(str, "{FFFFFF}>>: {663E3C}Темный Шоколад\t{663E3C}Восстанавливает здоровье\t{999999}#10\n");
					    strcat(str, "{FFFFFF}>>: {EFBF7F}Белый Шоколад\t{EFBF7F}Восстанавливает здоровье\t{999999}#10\n");
						strcat(str, "{FFFFFF}>>: {CE863C}Печенье\t{CE863C}Восстанавливает здоровье\t{999999}#15\n");
					    strcat(str, "{FFFFFF}>>: {F0A1A5}Конфета\t{F0A1A5}Даёт опыт питомцу\t{999999}#25\n");
					    strcat(str, "{FFFFFF}>>: {F73845}Открытка\t{FFFFFF}Открывает Класс Юлии\t{999999}#100\n");
					    strcat(str, "{FFFFFF}>>: {F73845}Любовное Зелье\t{FFFFFF}Объеденяет питомцев в одно целое\t{999999}#500\n");
				     	strcat(str, "{FFFFFF}>>: {F73845}Питомец Любви\t{FFFFFF}Восстанавливает здоровье\t{999999}#1000\n");
				     	//strcat(str, "{FFFFFF}>>: {F73845}Суть Любви\t{FFFFFF}Объеденяет классы в одно целое\t{999999}#2500\n");
					}
					case 2:
					{
					    strcat(str, "Articulo\tDescripciуn\tAmor\n");
					    strcat(str, "{FFFFFF}>>: Flores\t{ECF0F1}Se puede dar a una mujer\t{F1C40F}200 EXP\n");
					    strcat(str, "{FFFFFF}>>: {663E3C}Chocolate Negro\t{663E3C}Puede restaurar algo de salud\t{999999}#10\n");
					    strcat(str, "{FFFFFF}>>: {EFBF7F}Chocolate Blanco\t{EFBF7F}Puede restaurar algo de salud\t{999999}#10\n");
						strcat(str, "{FFFFFF}>>: {CE863C}Galleta\t{CE863C}Puede restaurar algo de salud\t{999999}#15\n");
					    strcat(str, "{FFFFFF}>>: {F0A1A5}Candie\t{F0A1A5}Agrega experiencia a la mascota\t{999999}#25\n");
					    strcat(str, "{FFFFFF}>>: {F73845}Tarjeta de Amor\t{FFFFFF}Desbloquea la clase de San Valentнn\t{999999}#100\n");
					    strcat(str, "{FFFFFF}>>: {F73845}Pociуn de Amor\t{FFFFFF}Fusiona diferentes Mascotas\t{999999}#500\n");
				     	strcat(str, "{FFFFFF}>>: {F73845}Amor Mascota\t{FFFFFF}Da regeneraciуn HP\t{999999}#1000\n");
				     	//strcat(str, "{FFFFFF}>>: {F73845}Esencia del Amor\t{FFFFFF}Fusiona diferentes Clases\t{999999}#2500\n");
					}
				}
			    ShowPlayerDialog(playerid, DIALOG_VALIENTINE_SHOP, DIALOG_STYLE_TABLIST_HEADERS, "{FF6900}Love Gifts", str, "Select", "Cancel");
			}
			return 1;
	    }
	    
	    case DIALOG_VALIENTINE_QUEST_2:
	    {
	        if(response)
	        {
         		if(Player[playerid][pXP] < 200)
				{
				    switch(Player[playerid][pLang])
        			{
						case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough EXP!") && 1 || 1;
						case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Недостаточно ОПЫТА!") && 1 || 1;
						case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficiente EXP!") && 1 || 1;
					}
					return 1;
				}
				if(GetItemCount(playerid, ITEM_NAME_VALENTINE) < 2)
				{
				    switch(Player[playerid][pLang])
        			{
						case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Valentines!") && 1 || 1;
						case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Валентинок!") && 1 || 1;
						case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Valentines!") && 1 || 1;
					}
					return 1;
				}
				
				if(TryToAdd(playerid, ITEM_NAME_VALENTINES_LOVE, 0))
				{
					RemoveItemFromInv(playerid, ITEM_NAME_VALENTINE, 2);
					AddItemInInv(playerid, ITEM_NAME_VALENTINES_LOVE, 1);
					Player[playerid][pXP] -= 200;
				}
	        }
	        return 1;
	    }
	    
	    case DIALOG_CHAOS_BUY:
	    {
	        if(response)
		    {
			    switch(listitem)
			    {
					case 0:
					{
					    pActionsSelected[playerid][4] = 0;
				    	ShowPlayerDialog(playerid, DIALOG_CHAOS_BUY_OFCOURSE, DIALOG_STYLE_MSGBOX, "{FF0000}Redemption", "\
						{FFFFFF}Do you want to buy a Small Chaos Chest{FF0000} for 1 CP?\n\n\
						{0099ff}Possible Buff:{99d6ff}\n\tDouble Ammo\n\tMed Kit\n\tDouble Kills\n\tAdditional 50 percents of Armour\n\tIncreades Drop Chance\n\tRandom Skin\n\tIncreased Chance To Be A Human\n\tIncreased Chance To Be A Human Boss", "Buy", "Back");
						return 1;
					}
					case 1:
					{
						pActionsSelected[playerid][4] = 1;
	    				ShowPlayerDialog(playerid, DIALOG_CHAOS_BUY_OFCOURSE, DIALOG_STYLE_MSGBOX, "{FF0000}Redemption", "\
						{FFFFFF}Do you want to buy a Normal Chaos Chest{FF0000} for 2 CP?\n\n\
						{0099ff}Possible Attachment:{99d6ff}\n\t\tSea Star\n\t\tShell\n\t\tShell #2\n\t\tBeach Ball\n\t\tCase for Money\n\t\tFan\n\t\tMachete\n\t\tCJ's suitcase\n\t\tDevil Mask\n\t\tBlue Flag\n\t\tMouse Hat", "Buy", "Back");
						return 1;
					}
					case 2:
					{
						pActionsSelected[playerid][4] = 2;
				    	ShowPlayerDialog(playerid, DIALOG_CHAOS_BUY_OFCOURSE, DIALOG_STYLE_MSGBOX, "{FF0000}Redemption", "\
						{FFFFFF}Do you want to buy a Big Chaos Chest{FF0000} for 3 CP?\n\n\
						{0099ff}Possible Color:{99d6ff}\n\t\
						Random Color on a random Weapon\n\n\
						{0099ff}Random Effect:{99d6ff}\n\tPoisoning\n\tBleeding\n\tRadiation\n\tHoly Ammo\n\tBlessing\n\tArson\n\tArmor Destruction\n\tKnock over\n\tTorment\n\tDischarge\n\tKiller\n\n\
						{0099ff}Random Pet:{99d6ff}\n\tHorse\n\tCow\n\tDeer\n\tTurtle\n\tDolphin\n\tShark", "Buy", "Back");
						return 1;
					}
					case 3:
					{
					    pActionsSelected[playerid][4] = -1;
				    	ShowPlayerDialog(playerid, DIALOG_CHAOS_BUY_OFCOURSE, DIALOG_STYLE_MSGBOX, "{FF0000}Redemption", "\
						{FFFFFF}Do you want to buy a Legendary Chaos Chest{FF0000} for 4 CP?\n\n\
						{0099ff}Random Armour Effect:{99d6ff}\
						\n\tIncreased absorption (I - V)\
						\n\tIncreased evasion (I - V)\
						\n\tIncreased accuracy (I - V)\
						\n\tRegeneration (I - V)\
						\n\tReducing critical damage (I - V)\
						\n\tReduced critical hit chance (I - V)\
						\n\tDamage increase (I - V)\
						\n\tIncreased critical hit chance (I - V)\
						\n\tIncreased critical damage (I - V)\
						\n\tReducing human damage (I - V)\
						\n\tIncreased damage to humans (I - V)\
						\n\tReducing enemy health (I - V)\
						\n\tEffects protection (I - V)\
						\n\n\
						{0099ff}Random Weapon Module:{99d6ff}\
						\n\tPointer: Laser / Flashlight / Knife\
						\n\tBarrel: Muffler / Compensator\
						\n\tSight: Regular / Collimator / Assault / Sniper\
						\n\tUnderbarrel: Grenade launcher / Tactical unit / Chock Bor\
						\n\tGrip: Vertical forward grip / Angled fore grip\
						\n\tStock: Folding / Fixed / Short / Polymer / Wooden\
						\n\tAmmo: Fire / Poisoned / Radioactive / Holy / Bloody\
						\n\tMagazine: Enlarged", "Buy", "Back");
						return 1;
					}
			    }
			    pActionsSelected[playerid][4] = -1;
			}
			pActionsSelected[playerid][4] = -1;
			return 1;
	    }
	    
	    case DIALOG_CHAOS_BUY_OFCOURSE:
	    {
	        if(response)
		    {
		        switch(pActionsSelected[playerid][4])
		        {
		            case 0:
		            {
		                if(GetItemCount(playerid, ITEM_NAME_CHAOS_COIN) >= 1)
		                {
	              			if(TryToAdd(playerid, ITEM_NAME_CHAOS_SMALL_CHEST, 0, false))
							{
								AddItemInInv(playerid, ITEM_NAME_CHAOS_SMALL_CHEST, 1, 0, -1, 0, 0, false, random(chaos_KILL_75_PLAYERS), 0, 0);
								RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_COIN, 1);
								pActionsSelected[playerid][4] = -1;
								return 1;
	    					}
	    					else
	    					{
	    					    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
	    					    pActionsSelected[playerid][4] = -1;
								return 1;
	    					}
						}
						else
						{
						    pActionsSelected[playerid][4] = -1;
						    SendClientMessage(playerid, -1, "{FF0000}>> Not enough currency!");
						    return 1;
						}
		            }
		            case 1:
		            {
		                if(GetItemCount(playerid, ITEM_NAME_CHAOS_COIN) >= 2)
		                {
                            if(TryToAdd(playerid, ITEM_NAME_CHAOS_CHEST, 0, false))
							{
								AddItemInInv(playerid, ITEM_NAME_CHAOS_CHEST, 1, 0, -1, 0, 0, false, random(chaos_KILL_75_PLAYERS), 0, 0);
								RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_COIN, 2);
								pActionsSelected[playerid][4] = -1;
								return 1;
			                }
			                else
	    					{
	    					    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
	    					    pActionsSelected[playerid][4] = -1;
								return 1;
	    					}
		                }
		                else
						{
						    pActionsSelected[playerid][4] = -1;
						    SendClientMessage(playerid, -1, "{FF0000}>> Not enough currency!");
						    return 1;
						}
					}
					case 2:
					{
					    if(GetItemCount(playerid, ITEM_NAME_CHAOS_COIN) >= 3)
		                {
					        if(TryToAdd(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 0, false))
							{
							    new chests[] = {
									chaos_EFFECT, chaos_MELEE_WEAPON,
									chaos_RIFLE, chaos_PISTOL, chaos_SHOTGUN, chaos_SUBMACHINE_GUN, chaos_ASSAULT_RIFLE, chaos_COLOR, chaos_PET
								}, rand = random(sizeof(chests));
								
								AddItemInInv(playerid, ITEM_NAME_CHAOS_BIG_CHEST, 1, 0, -1, 0, 0, false, random(chaos_KILL_75_PLAYERS), chests[rand], 0);
								RemoveItemFromInv(playerid, ITEM_NAME_CHAOS_COIN, 3);
								pActionsSelected[playerid][4] = -1;
								return 1;
			                }
			                else
	    					{
	    					    SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full!");
	    					    pActionsSelected[playerid][4] = -1;
								return 1;
	    					}
						}
						else
						{
						    pActionsSelected[playerid][4] = -1;
						    SendClientMessage(playerid, -1, "{FF0000}>> Not enough currency!");
						    return 1;
						}
					}
					default:
					{
					    SendClientMessage(playerid, -1, "{FF0000}>> Error");
					    pActionsSelected[playerid][4] = -1;
					    return 1;
					}
				}
				pActionsSelected[playerid][4] = -1;
			}
			pActionsSelected[playerid][4] = -1;
			return 1;
		}
	    case DIALOG_CHAOS:
	    {
	        if(response)
		    {
			    switch(listitem)
			    {
			        case 1:
			        {
			            new s[74], str[144] = "Random Buff - 1 CP\nNew attachment (/att) - 2 CP\nChaos Chest (/inv) - 3 CP\n";
			            switch(Player[playerid][pLang])
			            {
			                case 0:
							{
								format(s, sizeof(s), "{FF0000}Redemption{FFFFFF} (%d Chaos Points)", GetItemCount(playerid, ITEM_NAME_CHAOS_COIN));
								str = "Small Chaos Chest - 1 CP\nChaos Chest - 2 CP\nBig Chaos Chest - 3 CP\nLegendary Chaos Chest - 4 CP\n";
								ShowPlayerDialog(playerid, DIALOG_CHAOS_BUY, DIALOG_STYLE_LIST, s, str, "Select", "Back");
							}
							case 1:
							{
								format(s, sizeof(s), "{FF0000}Искупление{FFFFFF} (%d Очков Хаоса)", GetItemCount(playerid, ITEM_NAME_CHAOS_COIN));
								str = "Маленький Сундук Хаоса - 1 ОХ\nСундук Хаоса - 2 ОХ\nБольшой Сундук Хаоса - 3 ОХ\nLegendary Chaos Chest - 4 CP\n";
								ShowPlayerDialog(playerid, DIALOG_CHAOS_BUY, DIALOG_STYLE_LIST, s, str, "Выбрать", "Закрыть");
							}
							case 2:
							{
								format(s, sizeof(s), "{FF0000}Redencion{FFFFFF} (%d Puntos de Сaos)", GetItemCount(playerid, ITEM_NAME_CHAOS_COIN));
								str = "Cofre Pequeno del Caos - 1 PC\nCofre del Caos - 2 PC\nCofre del Gran Caos - 3 PC\nLegendary Chaos Chest - 4 CP\n";
								ShowPlayerDialog(playerid, DIALOG_CHAOS_BUY, DIALOG_STYLE_LIST, s, str, "Seleccione", "Atras");
							}
						}
			        }
			        case 0:
			        {
			            if(NightEvent[evn_Mission][8] <= -1) ev_CreateHardMission();
			            if(NightEvent[evn_Mission][4] <= -1) ev_CreateMediumMission();
			            if(NightEvent[evn_Mission][0] <= -1) ev_CreateEasyMission();
			            
			            new l = Player[playerid][pLang], str[2048], t[196], text[64], head[128], id, i, exp[] = {1000, 4500, 7000}, time[96];

						new y, m, d, h, j, n;
						TimestampToDate(NightEvent[evn_MissionTime]-gettime(), y, m, d, h, j, n, 0);
						
						switch(l)
						{
						    case 0: { format(time, sizeof(time), "{6b4747}%d day(s) %d hour(s)", d > 0 ? d : 0, h > 0 ? h : 0); text = "reputation"; }
                            case 1: { format(time, sizeof(time), "{6b4747}%d дней(я) %d час(а/ов)", d > 0 ? d : 0, h > 0 ? h : 0); text = "репутации"; }
                            case 2: { format(time, sizeof(time), "{6b4747}%d dia(s) %d hora(s)", d > 0 ? d : 0, h > 0 ? h : 0); text = "reputacion"; }
						}
						for( i = 0; i < 4; i++)
					    {
					    	id = NightEvent[evn_Mission][i];
					    	format(t, sizeof(t), "{66ccff}%s {b3e6ff}- %s{e6f7ff} (+%d %s){c6ffb3} ~~~ %d\n", ev_Names[l][id], ev_Quests[l][id], exp[diffEvMission[id]], text, e_ExclusionZone[playerid][e_ezMission][i]);
					    	strcat(str, t);
					    }
					    strcat(str, "--------------------------------------------------\n");
			            for( i = 0; i < 4; i++) // 4 - 8
					    {
					    	id = NightEvent[evn_Mission][4 + i];
					    	format(t, sizeof(t), "{66ccff}%s {b3e6ff}- %s{e6f7ff} (+%d %s){c6ffb3} ~~~ %d\n", ev_Names[l][id], ev_Quests[l][id], exp[diffEvMission[id]], text, e_ExclusionZone[playerid][e_ezMission][4 + i]);
					    	strcat(str, t);
					    }
					    strcat(str, "--------------------------------------------------\n");
					    for( i = 0; i < 2; i++)
					    {
					    	id = NightEvent[evn_Mission][8 + i];
					    	format(t, sizeof(t), "{66ccff}%s {b3e6ff}- %s{e6f7ff} (+%d %s){c6ffb3} ~~~ %d\n", ev_Names[l][id], ev_Quests[l][id], exp[diffEvMission[id]], text, e_ExclusionZone[playerid][e_ezMission][8 + i]);
					    	strcat(str, t);
					    }
					    strcat(str, "--------------------------------------------------\n\nDon't hold up time!");
					    
					    switch(l)
					    {
							case 0:
							{
					    		format(head, sizeof(head), "{66ccff}Chaos status:{FFFFFF} Rank: %d (Reputation: %d / 10000) | %s", e_ExclusionZone[playerid][e_ezRank]+1, e_ExclusionZone[playerid][e_ezRep], time);
			            		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, head, str, "Ok", "Back");
							}
							case 1:
							{
					    		format(head, sizeof(head), "{66ccff}Статус Хаоса:{FFFFFF} Ранг: %d (Репутация: %d / 10000) | %s", e_ExclusionZone[playerid][e_ezRank]+1, e_ExclusionZone[playerid][e_ezRep], time);
			            		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, head, str, "Ок", "Назад");
							}
							case 2:
							{
					    		format(head, sizeof(head), "{66ccff}Estado del Caos:{FFFFFF} Rango: %d (Reputaciуn: %d / 10000) | %s", e_ExclusionZone[playerid][e_ezRank]+1, e_ExclusionZone[playerid][e_ezRep], time);
			            		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, head, str, "Ok", "Atrбs");
							}
						}
			        }
				}
			}
			return 1;
	    }
	    
	    case DIALOG_DONATE_ACTIONS:
	    {
	        if(response)
	        {
        		SendClientMessage(playerid, -1, "{FFFFFF}PayPal: sveta81238@yandex.ru");
			    SendClientMessage(playerid, -1, "{FFFFFF}Yandex: 410012126305863");
			    SendClientMessage(playerid, -1, "{FFFFFF}Qiwi: 79160427482");

			    new str[1024];
				strcat(str, DonateInfo);
				strcat(str, "\n\n");

                strcat(str, "1 ZAP = 1 EURO\n\n");
                strcat(str, "PayPal: sveta81238@yandex.ru\n");
                strcat(str, "Yandex: 410012126305863\n");
                strcat(str, "Qiwi: 79160427482\n\n");
                strcat(str, "{FF0000}When buying, INDICATE THE {FFFFFF}ACCOUNT ID (/stats){FF0000}\nAfter your payment, you need to {FFFFFF}wait from 1 minute to 3 days\nOr contact Taxa / Kioko with the screen of your payment\n\n");

				ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{BEBEBE}Donate", str, "Ok", "");
				return 1;
	        }
	        else
	        {
	            ShowVIPShop(playerid);
	        }
	        return 1;
	    }
	    
	    case DIALOG_SPECIALITES:
	    {
	        if(response)
	        {
	            new l = Player[playerid][pLang], s[32], tmp[332];
             	switch(l)
				{
				    case 0: s = "Specialty";
				    case 1: s = "Специальность";
				    case 2: s = "Especialidad";
				}
				TempSpeciality[playerid] = listitem;
				
                if(Specialty[playerid][spc_level][listitem] <= 0)
                {
                    switch(l)
                    {
                        case 0: { format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\t{6666ff}%s\n\n{E73A95}Do you want to be a(n) %s?\n%s\n\n{FFFFFF}**** All current progress will be lost", spec_Names[l][listitem], spec_Desc[l][listitem], spec_Names[l][listitem], spec_AddDesc[l][listitem]); ShowPlayerDialog(playerid, DIALOG_SPECIALITES_CONFIRM, DIALOG_STYLE_MSGBOX, s, tmp, "Ok", "Back"); }
						case 1: { format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\t{6666ff}%s\n\n{E73A95}Вы хотите взять специальность %s?\n%s\n\n{FFFFFF}**** Весь текущий прогресс будет утерян", spec_Names[l][listitem], spec_Desc[l][listitem], spec_Names[l][listitem], spec_AddDesc[l][listitem]); ShowPlayerDialog(playerid, DIALOG_SPECIALITES_CONFIRM, DIALOG_STYLE_MSGBOX, s, tmp, "Да", "Назад"); }
                        case 2: { format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\t{6666ff}%s\n\n{E73A95}Quieres ser un %s?\n%s\n\n{FFFFFF}**** Todo el progreso actual se perdera", spec_Names[l][listitem], spec_Desc[l][listitem], spec_Names[l][listitem], spec_AddDesc[l][listitem]); ShowPlayerDialog(playerid, DIALOG_SPECIALITES_CONFIRM, DIALOG_STYLE_MSGBOX, s, tmp, "Si", "Espalda"); }
					}
                }
                else
                {
                    new index = (Specialty[playerid][spc_level][listitem]-1), desc[] = "{ee77b6}----------------------------------------------------------";
					if(index <= 9)
					{
						switch(listitem)
	                    {
	                        case 0: format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\n%s\n{E73A95}Items to next rank\nCollect these things from zombies to level up\n%s\n\n\t{98ED00}%d of Grass to be collected\n\t{98ED00}%d of Meats to be collected\n\n\n", spec_Names[l][listitem], desc, desc, max(0, spec_ToNextRank[listitem][index] - GetItemCount(playerid, ITEM_NAME_GRASS)), max(0, spec_ToNextRank[listitem][index] - GetItemCount(playerid, ITEM_NAME_ZOMBIE_MEAT)));
	                        case 1: format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\n%s\n{E73A95}Purchases to next rank\nBuy any items in shops to level up\n%s\n\n\t{98ED00}%d purchases left\n\n\n", spec_Names[l][listitem], desc, desc, spec_ToNextRank[listitem][index] - spec_minPercent[playerid][listitem]);
	                        case 2: format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\n%s\n{E73A95}Items to next rank\nCollect any items to level up\n%s\n\n\t{98ED00}%d items left\n\n\n", spec_Names[l][listitem], desc, desc, spec_ToNextRank[listitem][index] - spec_minPercent[playerid][listitem]);
	                        case 3: format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\n%s\n{E73A95}Creations to next rank\nCreate any items to level up\n%s\n\n\t{98ED00}%d creations left\n\n\n", spec_Names[l][listitem], desc, desc, spec_ToNextRank[listitem][index] - spec_minPercent[playerid][listitem]);
	                        case 4: format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\n%s\n{E73A95}Diplomacy to next rank\nDo diplomacy with gangs to level up\n%s\n\n\t{98ED00}%d affairs left\n\n\n", spec_Names[l][listitem], desc, desc, spec_ToNextRank[listitem][index] - spec_minPercent[playerid][listitem]);
						}
						ShowPlayerDialog(playerid, DIALOG_SPECIALITES_LEVEL_UP, DIALOG_STYLE_MSGBOX, s, tmp, "Level Up", "Back");
					}
					else
					{
					    format(tmp, sizeof(tmp), "{ffbb33}::: %s :::\n\n%s\n{98ED00}MAX LEVEL\n%s\n\n\n", spec_Names[l][listitem], desc, desc);
                        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, s, tmp, "Ok", "");
					}
				}
	        }
	        return 1;
	    }
	    
	    case DIALOG_SPECIALITES_LEVEL_UP:
	    {
     		if(response)
	        {
	            if(TempSpeciality[playerid] > -1)
				{
				    switch(TempSpeciality[playerid])
				    {
				        case 0:
						{
						    new index = Specialty[playerid][spc_level][SPECIALITY_PHARMACIST]-1;
							if(GetItemCount(playerid, ITEM_NAME_GRASS) >= spec_ToNextRank[SPECIALITY_PHARMACIST][index] && GetItemCount(playerid, ITEM_NAME_ZOMBIE_MEAT) >= spec_ToNextRank[SPECIALITY_PHARMACIST][index])
							{
                                RemoveItemFromInv(playerid, ITEM_NAME_GRASS, spec_ToNextRank[SPECIALITY_PHARMACIST][index]);
                                RemoveItemFromInv(playerid, ITEM_NAME_ZOMBIE_MEAT, spec_ToNextRank[SPECIALITY_PHARMACIST][index]);
                                Specialty[playerid][spc_level][SPECIALITY_PHARMACIST]++;
                                ShowSpecialty(playerid);
                                return 1;
							}
						}
						case 1:
						{
						    new index = Specialty[playerid][spc_level][SPECIALITY_HUCKSTER]-1;
						    if(spec_ToNextRank[SPECIALITY_HUCKSTER][index] - spec_minPercent[playerid][SPECIALITY_HUCKSTER] <= 0)
						    {
						        Specialty[playerid][spc_level][SPECIALITY_HUCKSTER]++;
                                ShowSpecialty(playerid);
                                return 1;
							}
						}
						case 2:
						{
						    new index = Specialty[playerid][spc_level][SPECIALITY_COLLECTOR]-1;
						    if(spec_ToNextRank[SPECIALITY_COLLECTOR][index] - spec_minPercent[playerid][SPECIALITY_COLLECTOR] <= 0)
						    {
						        Specialty[playerid][spc_level][SPECIALITY_COLLECTOR]++;
                                ShowSpecialty(playerid);
                                return 1;
							}
						}
						case 3:
						{
						    new index = Specialty[playerid][spc_level][SPECIALITY_MECHANIC]-1;
						    if(spec_ToNextRank[SPECIALITY_MECHANIC][index] - spec_minPercent[playerid][SPECIALITY_MECHANIC] <= 0)
						    {
						        Specialty[playerid][spc_level][SPECIALITY_MECHANIC]++;
                                ShowSpecialty(playerid);
                                return 1;
							}
						}
						case 4:
						{
						    new index = Specialty[playerid][spc_level][SPECIALITY_DIPLOMAT]-1;
						    if(spec_ToNextRank[SPECIALITY_DIPLOMAT][index] - spec_minPercent[playerid][SPECIALITY_DIPLOMAT] <= 0)
						    {
						        Specialty[playerid][spc_level][SPECIALITY_DIPLOMAT]++;
                                ShowSpecialty(playerid);
                                return 1;
							}
						}
					}
				}
	            TempSpeciality[playerid] = -1;
	        }
	        TempSpeciality[playerid] = -1;
	        return 1;
	    }
	    
	    case DIALOG_SPECIALITES_CONFIRM:
	    {
	        if(response)
	        {
	            if(TempSpeciality[playerid] > -1)
				{
				    for( new i = 0; i < sizeof(spec_maxRanks); i++)
					{
						Specialty[playerid][spc_level][i] = 0;
						spec_minPercent[playerid][i] = 0;
				    }
				    
				    Specialty[playerid][spc_meat] = 0;
				    Specialty[playerid][spc_grass] = 0;
				    Specialty[playerid][spc_price] = 0;
				    Specialty[playerid][spc_dropChance] = 0;
				    Specialty[playerid][spc_succCreation] = 0;
				    Specialty[playerid][spc_Diplomat] = 0;
				    
					Specialty[playerid][spc_level][TempSpeciality[playerid]] = 1;
				}
	            TempSpeciality[playerid] = -1;
	        }
	        TempSpeciality[playerid] = -1;
	        return 1;
	    }
	    
	    case DIALOG_UPGRADE_CHAR:
	    {
	        if(response)
			{
			    PlayerSelectStatToUpgrade[playerid] = 1 + listitem;
                ShowPlayerDialog(playerid, DIALOG_UPGRADE_CHAR_SELECT, DIALOG_STYLE_LIST, "Armour - Upgrade", "{FFFFFF}Armour Upgrader\nUnique Armour Upgrader\nLegendary Armour Upgrader\n{FFFFFF}\nSell", "Select", "Close");
	        }
	        return 1;
	    }
	    
	    case DIALOG_UPGRADE_WEAPONS:
	    {
	        if(response)
			{
			    PlayerSelectWeaponToUpgrade[playerid] = 22 + listitem;
                ShowPlayerDialog(playerid, DIALOG_UPGRADE_WEAPONS_SELECT, DIALOG_STYLE_LIST, "Weapons - Upgrade", "{FFFFFF}Weapon Upgrader\nUnique Weapon Upgrader\nLegendary Weapon Upgrader\n{FFFFFF}\nSell", "Select", "Close");
	        }
	        return 1;
	    }
	    
	    case DIALOG_SELL_CHAR_CONFIRM:
	    {
	        if(!strlen(inputtext))
            {
                ShowPlayerDialog(playerid, DIALOG_SELL_CHAR_CONFIRM, DIALOG_STYLE_INPUT, "Armour - Selling", "Type your price", "Ok", "Cancel");
                return 1;
            }

            if(strval(inputtext) < 100)
            {
                ShowPlayerDialog(playerid, DIALOG_SELL_CHAR_CONFIRM, DIALOG_STYLE_INPUT, "Armour - Selling", "Type your price (min. 100 XP)", "Ok", "Cancel");
                return 1;
            }
            
            new weapid = PlayerSelectStatToUpgrade[playerid]-1;
            new str[256], info[256]="", buff[64];

            switch(CharArInfo[playerid][CharAR_Buff_One][weapid])
			{
			    case 0: strcat(buff, chaos_ARwordsS[0]);
			    case 1: strcat(buff, chaos_ARwordsS[1]);
			    case 2: strcat(buff, chaos_ARwordsS[2]);
			    case 3: strcat(buff, chaos_ARwordsS[3]);
			    case 4: strcat(buff, chaos_ARwordsS[4]);
			    case 5: strcat(buff, chaos_ARwordsS[5]);
			    case 6: strcat(buff, chaos_ARwordsS[6]);
			    case 7: strcat(buff, chaos_ARwordsS[7]);
			    case 8: strcat(buff, chaos_ARwordsS[8]);
			    case 9: strcat(buff, chaos_ARwordsS[9]);
			    case 10: strcat(buff, chaos_ARwordsS[10]);
			    case 11: strcat(buff, chaos_ARwordsS[11]);
			    default: strcat(buff, "");
			}
		    switch(CharArInfo[playerid][CharAR_Buff_Two][weapid])
			{
			    case 0: strcat(buff, chaos_ARwordsM[0]);
			    case 1: strcat(buff, chaos_ARwordsM[1]);
			    case 2: strcat(buff, chaos_ARwordsM[2]);
			    case 3: strcat(buff, chaos_ARwordsM[3]);
			    case 4: strcat(buff, chaos_ARwordsM[4]);
			    case 5: strcat(buff, chaos_ARwordsM[5]);
			    case 6: strcat(buff, chaos_ARwordsM[6]);
			    case 7: strcat(buff, chaos_ARwordsM[7]);
			    case 8: strcat(buff, chaos_ARwordsM[8]);
			    case 9: strcat(buff, chaos_ARwordsM[9]);
			    case 10: strcat(buff, chaos_ARwordsM[10]);
			    case 11: strcat(buff, chaos_ARwordsM[11]);
			    default: strcat(buff, "");
			}
			switch(CharArInfo[playerid][CharAR_Buff_Three][weapid])
			{
			    case 0: strcat(buff, chaos_ARwordsE[0]);
			    case 1: strcat(buff, chaos_ARwordsE[1]);
			    case 2: strcat(buff, chaos_ARwordsE[2]);
			    case 3: strcat(buff, chaos_ARwordsE[3]);
			    case 4: strcat(buff, chaos_ARwordsE[4]);
			    case 5: strcat(buff, chaos_ARwordsE[5]);
			    case 6: strcat(buff, chaos_ARwordsE[6]);
			    case 7: strcat(buff, chaos_ARwordsE[7]);
			    case 8: strcat(buff, chaos_ARwordsE[8]);
			    case 9: strcat(buff, chaos_ARwordsE[9]);
			    case 10: strcat(buff, chaos_ARwordsE[10]);
			    case 11: strcat(buff, chaos_ARwordsE[11]);
			    default: strcat(buff, "");
			}
            
   			format(str, sizeof(str), "{FFFFFF}+%d %s %s", CharacterSkill[playerid][weapid], chs_n[weapid], buff);
		    format(info, sizeof(info), "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
		    weapid,
		    CharacterSkill[playerid][weapid],
		    CharArInfo[playerid][CharAR_Buff_One][weapid],
	 		CharArInfo[playerid][CharAR_Buff_Two][weapid],
			CharArInfo[playerid][CharAR_Buff_Three][weapid],
			CharArInfo[playerid][CharAR_Buff_Time_One][weapid],
			CharArInfo[playerid][CharAR_Buff_Time_Two][weapid],
	 		CharArInfo[playerid][CharAR_Buff_Time_Three][weapid],
			CharArInfo[playerid][CharAR_Power_One][weapid],
			CharArInfo[playerid][CharAR_Power_Two][weapid],
			CharArInfo[playerid][CharAR_Power_Three][weapid]);

		    mysql_format(Base, query, sizeof(query), "INSERT INTO `auction` (`name`,`indx`,`count`,`price`,`time`,`vip`,`acc`,`type`,`info`) VALUES ('%e', '%d', '%d', '%d', '%d', '%d', '%d', '%d', '%e')",
			str,
		    10000,
		    1,
		    strval(inputtext),
		    gettime(),
		    0,
		    Player[playerid][pAccountID],
		    9, info);
		    mysql_tquery(Base, query, "", "", "");
            
            CharacterSkill[playerid][weapid] = 0;
            
            new i = weapid;
	        CharArInfo[playerid][CharAR_Buff_One][i] = -1;
	        CharArInfo[playerid][CharAR_Buff_Two][i] = -1;
	        CharArInfo[playerid][CharAR_Buff_Three][i] = -1;

	        CharArInfo[playerid][CharAR_Buff_Time_One][i] = -1;
	        CharArInfo[playerid][CharAR_Buff_Time_Two][i] = -1;
	        CharArInfo[playerid][CharAR_Buff_Time_Three][i] = -1;

	        CharArInfo[playerid][CharAR_Power_One][i] = -1;
	        CharArInfo[playerid][CharAR_Power_Two][i] = -1;
	        CharArInfo[playerid][CharAR_Power_Three][i] = -1;
            
            return 1;
	    }
	    
	    case DIALOG_SELL_WEAPON_CONFIRM:
	    {
	        if(response)
	        {
	            if(!strlen(inputtext))
	            {
	                ShowPlayerDialog(playerid, DIALOG_SELL_WEAPON_CONFIRM, DIALOG_STYLE_INPUT, "Weapon - Selling", "Type your price", "Ok", "Cancel");
	                return 1;
	            }
	            
	            if(strval(inputtext) < 100)
	            {
	                ShowPlayerDialog(playerid, DIALOG_SELL_WEAPON_CONFIRM, DIALOG_STYLE_INPUT, "Weapon - Selling", "Type your price (min. 100 XP)", "Ok", "Cancel");
	                return 1;
	            }
	            
	            new weapid = PlayerSelectWeaponToUpgrade[playerid];
	            
	            new wn[32], str[128], info[256]="", buff[32];
                switch(WeaponsInfo[playerid][WeaponBuff_One][weapid])
				{
				    case chaos_POISONING: strcat(buff, chaos_wordsS[chaos_POISONING]);
				    case chaos_BLEEDING: strcat(buff, chaos_wordsS[chaos_BLEEDING]);
				    case chaos_RADIATION: strcat(buff, chaos_wordsS[chaos_RADIATION]);
				    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsS[chaos_HOLY_AMMO]);
				    case chaos_BLESSING: strcat(buff, chaos_wordsS[chaos_BLESSING]);
				    case chaos_ARSON: strcat(buff, chaos_wordsS[chaos_ARSON]);
				    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsS[chaos_ARMOR_DESTRUCTION]);
				    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsS[chaos_KNOCK_OVER]);
				    case chaos_TORMENT: strcat(buff, chaos_wordsS[chaos_TORMENT]);
				    case chaos_DISCHARGE: strcat(buff, chaos_wordsS[chaos_DISCHARGE]);
				    default: strcat(buff, "");
				}
			    switch(WeaponsInfo[playerid][WeaponBuff_Two][weapid])
				{
				    case chaos_POISONING: strcat(buff, chaos_wordsM[chaos_POISONING]);
				    case chaos_BLEEDING: strcat(buff, chaos_wordsM[chaos_BLEEDING]);
				    case chaos_RADIATION: strcat(buff, chaos_wordsM[chaos_RADIATION]);
				    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsM[chaos_HOLY_AMMO]);
				    case chaos_BLESSING: strcat(buff, chaos_wordsM[chaos_BLESSING]);
				    case chaos_ARSON: strcat(buff, chaos_wordsM[chaos_ARSON]);
				    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsM[chaos_ARMOR_DESTRUCTION]);
				    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsM[chaos_KNOCK_OVER]);
				    case chaos_TORMENT: strcat(buff, chaos_wordsM[chaos_TORMENT]);
				    case chaos_DISCHARGE: strcat(buff, chaos_wordsM[chaos_DISCHARGE]);
				    default: strcat(buff, "");
				}
				switch(WeaponsInfo[playerid][WeaponBuff_Three][weapid])
				{
				    case chaos_POISONING: strcat(buff, chaos_wordsE[chaos_POISONING]);
				    case chaos_BLEEDING: strcat(buff, chaos_wordsE[chaos_BLEEDING]);
				    case chaos_RADIATION: strcat(buff, chaos_wordsE[chaos_RADIATION]);
				    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsE[chaos_HOLY_AMMO]);
				    case chaos_BLESSING: strcat(buff, chaos_wordsE[chaos_BLESSING]);
				    case chaos_ARSON: strcat(buff, chaos_wordsE[chaos_ARSON]);
				    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsE[chaos_ARMOR_DESTRUCTION]);
				    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsE[chaos_KNOCK_OVER]);
				    case chaos_TORMENT: strcat(buff, chaos_wordsE[chaos_TORMENT]);
				    case chaos_DISCHARGE: strcat(buff, chaos_wordsE[chaos_DISCHARGE]);
				    default: strcat(buff, "");
				}

			    GetWeaponName(PlayerSelectWeaponToUpgrade[playerid], wn, sizeof(wn));
			    format(str, sizeof(str), "{FFFFFF}+%d %s %s", WeaponSkill[playerid][weapid], wn, buff);

			    format(info, sizeof(info), "%d,%d,%d,%d,%d,%.2f,%d,%d,%d,%.2f,%d,%d,%d,%.2f",
			    weapid,
			    WeaponSkill[playerid][weapid],
			    WeaponsInfo[playerid][WeaponBuff_One][weapid],
		 		WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid],
				WeaponsInfo[playerid][WeaponBuff_Time_One][weapid],
				WeaponsInfo[playerid][WeaponBuff_Power_One][weapid],
				WeaponsInfo[playerid][WeaponBuff_Two][weapid],
		 		WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid],
				WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid],
				WeaponsInfo[playerid][WeaponBuff_Power_Two][weapid],
				WeaponsInfo[playerid][WeaponBuff_Three][weapid],
				WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid],
				WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid],
				WeaponsInfo[playerid][WeaponBuff_Power_Three][weapid]);

			    mysql_format(Base, query, sizeof(query), "INSERT INTO `auction` (`name`,`indx`,`count`,`price`,`time`,`vip`,`acc`,`type`,`info`) VALUES ('%e', '%d', '%d', '%d', '%d', '%d', '%d', '%d', '%e')",
				str,
			    10000,
			    1,
			    strval(inputtext),
			    gettime(),
			    0,
			    Player[playerid][pAccountID],
			    8, info);
			    mysql_tquery(Base, query, "", "", "");

			    WeaponSkill[playerid][weapid] = 0;
			    WeaponsInfo[playerid][WeaponBuff_One][weapid] = -1;
			 	WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid] = 0;
				WeaponsInfo[playerid][WeaponBuff_Time_One][weapid] = -1;
				WeaponsInfo[playerid][WeaponBuff_Power_One][weapid] = 0.0;

				WeaponsInfo[playerid][WeaponBuff_Two][weapid] = -1;
			 	WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid] = 0;
				WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid] = -1;
				WeaponsInfo[playerid][WeaponBuff_Power_Two][weapid] = 0.0;

				WeaponsInfo[playerid][WeaponBuff_Three][weapid] = -1;
			 	WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid] = 0;
				WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid] = -1;
				WeaponsInfo[playerid][WeaponBuff_Power_Three][weapid] = 0.0;
	            
                PlayerSelectWeaponToUpgrade[playerid] = -1;
	        }
	        return 1;
	    }
	    
	    case DIALOG_SELL_WEAPON:
	    {
	        if(response)
	        {
		        if(PlayerSelectWeaponToUpgrade[playerid] <= 0)
			    {
			        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "Error", "Ok", "");
	       			return 1;
			    }

			    new weapid = PlayerSelectWeaponToUpgrade[playerid];
                if(WeaponSkill[playerid][weapid] < 1)
			    {
                    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You need to have min. +1 level of this weapon to sell", "Ok", "");
	       			return 1;
			    }
			    
			    ShowPlayerDialog(playerid, DIALOG_SELL_WEAPON_CONFIRM, DIALOG_STYLE_INPUT, "Weapon - Selling", "Type your price", "Ok", "Cancel");
			}
	        return 1;
	    }
	    
	    case DIALOG_SELL_CHAR:
	    {
	        if(response)
	        {
		        if(PlayerSelectStatToUpgrade[playerid] <= 0)
			    {
			        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "Error", "Ok", "");
	       			return 1;
			    }

			    new weapid = PlayerSelectStatToUpgrade[playerid]-1;
                if(CharacterSkill[playerid][weapid] < 1)
			    {
                    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You need to have min. +1 level of this item to sell", "Ok", "");
	       			return 1;
			    }

			    ShowPlayerDialog(playerid, DIALOG_SELL_CHAR_CONFIRM, DIALOG_STYLE_INPUT, "Armour - Selling", "Type your price", "Ok", "Cancel");
			}
	        return 1;
	    }
	    
	    case DIALOG_UPGRADE_WEAPONS_CONFIRM:
	    {
	        if(response)
			{
			    if(PlayerSelectWeaponToUpgrade[playerid] <= 0 || PlayerSelectUpgraderToWeapon[playerid] <= 0)
			    {
			        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "Error", "Ok", "");
           			return 1;
			    }
			    TryToUpgradeWeapon(playerid, PlayerSelectWeaponToUpgrade[playerid], PlayerSelectUpgraderToWeapon[playerid]);
			}
	        return 1;
	    }
	    
     	case DIALOG_UPGRADE_CHAR_CONFIRM:
	    {
	        if(response)
			{
			    if(PlayerSelectUpgraderToStat[playerid] <= 0 || PlayerSelectStatToUpgrade[playerid] <= 0)
			    {
			        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "Error", "Ok", "");
           			return 1;
			    }
			    TryToUpgradeStat(playerid, PlayerSelectStatToUpgrade[playerid]-1, PlayerSelectUpgraderToStat[playerid]);
			}
	        return 1;
	    }
	    
	    case DIALOG_UPGRADE_CHAR_SELECT:
	    {
	        if(response)
			{
			    switch(listitem)
			    {
			        case 0:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_ARMOUR_UPGRADER) <= 0 || PlayerSelectStatToUpgrade[playerid] <= -1)
			            {
			                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You do not have this item!", "Ok", "");
			                return 1;
			            }
			            else
			            {
			                PlayerSelectUpgraderToStat[playerid] = listitem+1;
			                new str[512], upgr = PlayerSelectStatToUpgrade[playerid]-1;
			                format(str, sizeof(str), "{3399ff}Are you sure want to upgrade your{FFF000} +%d %s {3399ff}to{FFF000} +%d %s{FFFFFF}?\n\n{FF0000}WARNING:\n\t{FFFFFF}Upgrading may not be successful and then you will receive{FFF000} +0 %s\n\n{3399ff}Are you really willing to try it?\n\n", CharacterSkill[playerid][upgr], chs_n[upgr], CharacterSkill[playerid][upgr]+1, chs_n[upgr], chs_n[upgr]);
			                ShowPlayerDialog(playerid, DIALOG_UPGRADE_CHAR_CONFIRM, DIALOG_STYLE_MSGBOX, "Armour - Upgrade - Confirm", str, "Try", "Close");
			            }
			        }
			        case 1:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_U_ARMOUR_UPGRADER) <= 0 || PlayerSelectStatToUpgrade[playerid] <= -1)
			            {
			                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You do not have this item!", "Ok", "");
			                return 1;
			            }
			            else
			            {
			                PlayerSelectUpgraderToStat[playerid] = listitem+1;
			                new str[512], upgr = PlayerSelectStatToUpgrade[playerid]-1;
			                format(str, sizeof(str), "{3399ff}Are you sure want to upgrade your{FFF000} +%d %s {3399ff}to{FFF000} +%d %s{FFFFFF}?\n\n{FF0000}WARNING:\n\t{FFFFFF}Upgrading may not be successful and then you will receive{FFF000} +0 %s\n\n{3399ff}Are you really willing to try it?\n\n", CharacterSkill[playerid][upgr], chs_n[upgr], CharacterSkill[playerid][upgr]+1, chs_n[upgr], chs_n[upgr]);
			                ShowPlayerDialog(playerid, DIALOG_UPGRADE_CHAR_CONFIRM, DIALOG_STYLE_MSGBOX, "Armour - Upgrade - Confirm", str, "Try", "Close");
			            }
			        }
			        case 2:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_L_ARMOUR_UPGRADER) <= 0 || PlayerSelectStatToUpgrade[playerid] <= -1)
			            {
			                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You do not have this item!", "Ok", "");
			                return 1;
			            }
			            else
			            {
			                PlayerSelectUpgraderToStat[playerid] = listitem+1;
			                new str[512], upgr = PlayerSelectStatToUpgrade[playerid]-1;
			                format(str, sizeof(str), "{3399ff}Are you sure want to upgrade your{FFF000} +%d %s {3399ff}to{FFF000} +%d %s{FFFFFF}?\n\n{FF0000}WARNING:\n\t{FFFFFF}Upgrading may not be successful and then you will receive{FFF000} +0 %s\n\n{3399ff}Are you really willing to try it?\n\n", CharacterSkill[playerid][upgr], chs_n[upgr], CharacterSkill[playerid][upgr]+1, chs_n[upgr], chs_n[upgr]);
			                ShowPlayerDialog(playerid, DIALOG_UPGRADE_CHAR_CONFIRM, DIALOG_STYLE_MSGBOX, "Armour - Upgrade - Confirm", str, "Try", "Close");
			            }
			        }
			        
			        case 3: ShowPlayerDialog(playerid, DIALOG_UPGRADE_CHAR_SELECT, DIALOG_STYLE_LIST, "Armour - Upgrade", "{FFFFFF}Armour Upgrader\nUnique Armour Upgrader\nLegendary Armour Upgrader\n{FFFFFF}\nSell", "Select", "Close");
			        case 4:
			        {
			            if(PlayerSelectStatToUpgrade[playerid] <= -1)
			            {
			                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You do not have this item!", "Ok", "");
			                return 1;
			            }
			            ShowArmourInfo(playerid, PlayerSelectStatToUpgrade[playerid]-1);
			        }
			    }
			}
	        return 1;
	    }
	    
	    case DIALOG_UPGRADE_WEAPONS_SELECT:
	    {
	        if(response)
			{
			    switch(listitem)
			    {
			        case 0:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_WEAPON_UPGRADER) <= 0 || PlayerSelectWeaponToUpgrade[playerid] <= -1)
			            {
			                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You do not have this item!", "Ok", "");
			                return 1;
			            }
			            else
			            {
			                PlayerSelectUpgraderToWeapon[playerid] = listitem+1;
			                
			                new str[512], wn[24], weapid = PlayerSelectWeaponToUpgrade[playerid];
			                GetWeaponName(PlayerSelectWeaponToUpgrade[playerid], wn, sizeof(wn));
			                format(str, sizeof(str), "{3399ff}Are you sure want to upgrade your{FFF000} +%d %s {3399ff}to{FFF000} +%d %s{FFFFFF}?\n\n{FF0000}WARNING:\n\t{FFFFFF}Upgrading may not be successful and then you will receive{FFF000} +0 %s\n\t{FFFFFF}Also, all your amplifiers on this weapon will disappear without a trace\n\n{3399ff}Are you really willing to try it?\n\n", WeaponSkill[playerid][weapid], wn, WeaponSkill[playerid][weapid]+1, wn, wn);
			                ShowPlayerDialog(playerid, DIALOG_UPGRADE_WEAPONS_CONFIRM, DIALOG_STYLE_MSGBOX, "Weapons - Upgrade - Confirm", str, "Try", "Close");
			            }
			        }
			        case 1:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_U_WEAPON_UPGRADER) <= 0 || PlayerSelectWeaponToUpgrade[playerid] <= -1)
			            {
			                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You do not have this item!", "Ok", "");
			                return 1;
			            }
			            else
			            {
			                PlayerSelectUpgraderToWeapon[playerid] = listitem+1;
			                new str[512], wn[24], weapid = PlayerSelectWeaponToUpgrade[playerid];
			                GetWeaponName(PlayerSelectWeaponToUpgrade[playerid], wn, sizeof(wn));
			                format(str, sizeof(str), "{3399ff}Are you sure want to upgrade your{FFF000} +%d %s {3399ff}to{FFF000} +%d %s{FFFFFF}?\n\n{FF0000}WARNING:\n\t{FFFFFF}Upgrading may not be successful and then you will receive{FFF000} +0 %s\n\t{FFFFFF}Also, all your amplifiers on this weapon will disappear without a trace\n\n{3399ff}Are you really willing to try it?\n\n", WeaponSkill[playerid][weapid], wn, WeaponSkill[playerid][weapid]+1, wn, wn);
			                ShowPlayerDialog(playerid, DIALOG_UPGRADE_WEAPONS_CONFIRM, DIALOG_STYLE_MSGBOX, "Weapons - Upgrade - Confirm", str, "Try", "Close");
			            }
			        }
			        case 2:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_L_WEAPON_UPGRADER) <= 0 || PlayerSelectWeaponToUpgrade[playerid] <= -1)
			            {
			                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You do not have this item!", "Ok", "");
			                return 1;
			            }
			            else
			            {
			                PlayerSelectUpgraderToWeapon[playerid] = listitem+1;
			                new str[512], wn[24], weapid = PlayerSelectWeaponToUpgrade[playerid];
			                GetWeaponName(PlayerSelectWeaponToUpgrade[playerid], wn, sizeof(wn));
			                format(str, sizeof(str), "{3399ff}Are you sure want to upgrade your{FFF000} +%d %s {3399ff}to{FFF000} +%d %s{FFFFFF}?\n\n{FF0000}WARNING:\n\t{FFFFFF}Upgrading may not be successful and then you will receive{FFF000} +0 %s\n\t{FFFFFF}Also, all your amplifiers on this weapon will disappear without a trace\n\n{3399ff}Are you really willing to try it?\n\n", WeaponSkill[playerid][weapid], wn, WeaponSkill[playerid][weapid]+1, wn, wn);
			                ShowPlayerDialog(playerid, DIALOG_UPGRADE_WEAPONS_CONFIRM, DIALOG_STYLE_MSGBOX, "Weapons - Upgrade - Confirm", str, "Try", "Close");
			            }
			        }
			        case 3: ShowPlayerDialog(playerid, DIALOG_UPGRADE_WEAPONS_SELECT, DIALOG_STYLE_LIST, "Weapons - Upgrade", "{FFFFFF}Weapon Upgrader\nUnique Weapon Upgrader\nLegendary Weapon Upgrader\n{FFFFFF}\nSell", "Select", "Close");
			        case 4:
			        {
			            if(PlayerSelectWeaponToUpgrade[playerid] <= -1)
			            {
			                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Ops!", "You do not have this item!", "Ok", "");
			                return 1;
			            }
			            ShowWeaponInfo(playerid, PlayerSelectWeaponToUpgrade[playerid]);
			        }
			    }
			}
			return 1;
	    }
	    
	    case DIALOG_BUY_FROM_MERCHANT:
	    {
			if(response)
			{
			    switch(listitem)
			    {
			        case 0: return CheckMerchantBuff(playerid, 0) && 1;
                    case 1: return CheckMerchantBuff(playerid, 1) && 1;
                    case 2: return GiveMerchantAdditionalWeapon(playerid, 2) && 1;
                    case 3:
					{
						if(IsPlayerInRangeOfPoint(playerid, 3.0, ValintinePoses[Merchant[mc_map]][0], ValintinePoses[Merchant[mc_map]][1], ValintinePoses[Merchant[mc_map]][2])) return MerchantShop(playerid, true);
						return MerchantShop(playerid, false);
					}
                    case 4:
                    {
                        if(GetItemCount(playerid, ITEM_NAME_GOLD_COIN) < Merchant[mc_class][2])
				        {
				            ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "OPS", "Not enough Gold Coins (GC)", "Ok", "");
				            return 1;
				        }
				        if(Merchant[mc_class][3] == 0)
				        {
				            PlayerClassUnlocked[playerid][TEAM_HUMAN][Merchant[mc_class][0]] = gettime() + 86400*Merchant[mc_class][1];
				            SendClientMessageFormat(playerid, -1, "{99ffff}>> You have unlocked a %s, use /class %s to set it! (%d Days)", humanClassesListNames[Player[playerid][pLang]][Merchant[mc_class][0]], humanClassesListNames[Player[playerid][pLang]][Merchant[mc_class][0]], Merchant[mc_class][1]);
                            RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_class][2]);
						}
				        else
				        {
				            PlayerClassUnlocked[playerid][TEAM_ZOMBIE][Merchant[mc_class][0]] = gettime() + 86400*Merchant[mc_class][1];
						   	SendClientMessageFormat(playerid, -1, "{99ffff}>> You have unlocked a %s, use /class %s to set it! (%d Days)", zombieClassesListNames[Player[playerid][pLang]][Merchant[mc_class][0]], zombieClassesListNames[Player[playerid][pLang]][Merchant[mc_class][0]], Merchant[mc_class][1]);
                            RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_class][2]);
						}
				        return 1;
                    }
			    }
			}
			return 1;
	    }
	    
	    case DIALOG_ZOMBIE_SHOP:
	    {
	        if(response)
		    {
		        new newPrice = (floor(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] * 0.75) > 0 ? floor(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] * 0.75) : 1);
		        
			    switch(listitem)
			    {
			        case 0:
			        {
			        	if(Player[playerid][pXP] >= floor(ZombieShopPrices[0] / newPrice) && !Player[playerid][AntiScreamer])
						{
							Player[playerid][AntiScreamer] = true;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Anti-Screamer");
							
							Player[playerid][pXP] -= floor(ZombieShopPrices[0] / newPrice);
                            Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
                            
                            return ShowZombieShop(playerid);
						}
						return ShowZombieShop(playerid);
					}
                    case 1:
					{
						if(Player[playerid][pXP] >= floor(ZombieShopPrices[1] / newPrice) && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && !Player[playerid][Helmet])
						{
							Player[playerid][Helmet] = true;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Helmet");
							
							Player[playerid][pXP] -= floor(ZombieShopPrices[1] / newPrice);
							
							SetPlayerAttachedObject(playerid, 9, 18936, 2, 0.129999,0.030000,0.000000,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000);
                            Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
                            
							return ShowZombieShop(playerid);
						}
						return ShowZombieShop(playerid);
					}
			    }
			}
			return 1;
	    }
	    
		case DIALOG_VALIENTINE_SHOP:
		{
		    if(response)
		    {
			    switch(listitem)
			    {
			        case 8:
					{
						if(GetItemCount(playerid, ITEM_NAME_VALENTINES_LOVE) < 2500)
			            {
			                switch(Player[playerid][pLang])
        					{
				                case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Love!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Любви!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Amor!") && 1 || 1;
							}
							return 1;
			            }
			            if(TryToAdd(playerid, ITEM_NAME_NOISE, 0))
						{
			            	RemoveItemFromInv(playerid, ITEM_NAME_VALENTINES_LOVE, 2500);
			            	AddItemInInv(playerid, ITEM_NAME_NOISE, 1);
						}
					}
			        case 7:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_VALENTINES_LOVE) < 1000)
			            {
			                switch(Player[playerid][pLang])
        					{
				                case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Love!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Любви!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Amor!") && 1 || 1;
							}
							return 1;
			            }

                        RemoveItemFromInv(playerid, ITEM_NAME_VALENTINES_LOVE, 1000);
                        AddPet(playerid, ITEM_NAME_LOVE_PET, "Julia", 1, 0, 1);
			            return 1;
			        }
			        case 6:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_VALENTINES_LOVE) < 500)
			            {
			                switch(Player[playerid][pLang])
        					{
				                case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Love!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Любви!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Amor!") && 1 || 1;
							}
							return 1;
			            }

			            if(TryToAdd(playerid, ITEM_NAME_LOVE_POTION, 0))
						{
			            	RemoveItemFromInv(playerid, ITEM_NAME_VALENTINES_LOVE, 500);
			            	AddItemInInv(playerid, ITEM_NAME_LOVE_POTION, 1);
						}
			            return 1;
			        }
			        case 5:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_VALENTINES_LOVE) < 100)
			            {
			                switch(Player[playerid][pLang])
        					{
				                case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Love!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Любви!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Amor!") && 1 || 1;
							}
							return 1;
			            }

			            if(TryToAdd(playerid, ITEM_NAME_GREETING_CARD, 0))
						{
			            	RemoveItemFromInv(playerid, ITEM_NAME_VALENTINES_LOVE, 100);
			            	AddItemInInv(playerid, ITEM_NAME_GREETING_CARD, 1);
						}
			            return 1;
			        }
			        case 4:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_VALENTINES_LOVE) < 25)
			            {
			                switch(Player[playerid][pLang])
        					{
				                case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Love!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Любви!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Amor!") && 1 || 1;
							}
							return 1;
			            }

			            if(TryToAdd(playerid, ITEM_NAME_PET_CANDIE, 0))
						{
			            	RemoveItemFromInv(playerid, ITEM_NAME_VALENTINES_LOVE, 25);
			            	AddItemInInv(playerid, ITEM_NAME_PET_CANDIE, 1);
						}
			            return 1;
			        }
			        case 3:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_VALENTINES_LOVE) < 15)
			            {
			                switch(Player[playerid][pLang])
        					{
				                case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Love!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Любви!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Amor!") && 1 || 1;
							}
							return 1;
			            }

			            if(TryToAdd(playerid, ITEM_NAME_LCOOKIE, 0))
						{
			            	RemoveItemFromInv(playerid, ITEM_NAME_VALENTINES_LOVE, 15);
			            	AddItemInInv(playerid, ITEM_NAME_LCOOKIE, 1);
						}
			            return 1;
			        }
			        case 2:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_VALENTINES_LOVE) < 10)
			            {
			                switch(Player[playerid][pLang])
        					{
				                case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Love!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Любви!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Amor!") && 1 || 1;
							}
							return 1;
			            }

			            if(TryToAdd(playerid, ITEM_NAME_WHITE_CHOCOLATE, 0))
						{
			            	RemoveItemFromInv(playerid, ITEM_NAME_VALENTINES_LOVE, 10);
			            	AddItemInInv(playerid, ITEM_NAME_WHITE_CHOCOLATE, 1);
						}
			            return 1;
			        }
			        case 1:
			        {
			            if(GetItemCount(playerid, ITEM_NAME_VALENTINES_LOVE) < 10)
			            {
			                switch(Player[playerid][pLang])
        					{
				                case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough Love!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Не хватает Любви!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficientes Amor!") && 1 || 1;
							}
							return 1;
			            }
			            
			            if(TryToAdd(playerid, ITEM_NAME_DARK_CHOCOLATE, 0))
						{
			            	RemoveItemFromInv(playerid, ITEM_NAME_VALENTINES_LOVE, 10);
			            	AddItemInInv(playerid, ITEM_NAME_DARK_CHOCOLATE, 1);
						}
			            return 1;
			        }
			        case 0:
			        {
			            if(Player[playerid][pXP] < 200)
						{
						    switch(Player[playerid][pLang])
	            			{
								case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Not enough EXP!") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Недостаточно ОПЫТА!") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> ?No hay suficiente EXP!") && 1 || 1;
							}
							return 1;
						}
						if(IsWomanSkin(GetPlayerSkin(playerid)))
						{
						    switch(Player[playerid][pLang])
	            			{
								case 0: return SendClientMessage(playerid, -1, "{FFF000}>> Sweetheart, do you want to give them to yourself?") && 1 || 1;
								case 1: return SendClientMessage(playerid, -1, "{FFF000}>> Милая, ты хочешь подарить их себе?") && 1 || 1;
								case 2: return SendClientMessage(playerid, -1, "{FFF000}>> Carino, ?quieres dartelas a ti mismo??") && 1 || 1;
							}
							return 1;
						}
						new w, a;
						GetPlayerWeaponData(playerid, 10, w, a);
	                    if(a == 0)
	                    {
							Player[playerid][pXP] -= 200;
		                    GivePlayerWeaponAC(playerid, 14, 1);
		                    SetPlayerArmedWeapon(playerid, 14);
		                    return 1;
						}
						switch(Player[playerid][pLang])
   						{
							case 0: SendClientMessage(playerid, -1, "{FFF000}>> You already have a present!") && 1 || 1;
							case 1: SendClientMessage(playerid, -1, "{FFF000}>> У вас уже есть подарок!") && 1 || 1;
							case 2: SendClientMessage(playerid, -1, "{FFF000}>> Ya tienes un regalo!") && 1 || 1;
						}
			            return 1;
			        }
			    }
			}
			return 1;
		}
	    
	    case DIALOG_AUCTION_EDIT:
		{
			if(response)
			{
			    Player[playerid][isInBying][0] = listitem;
			    ShowPlayerDialog(playerid, DIALOG_AUCTION_DELETE, DIALOG_STYLE_MSGBOX, "Server's Auction", "Do you really want to delete an item?\n\nThe action will be rejected if you do not have free slots", "Delete", "Close");
		        return 1;
			}
			else
			{
			    Player[playerid][isInBying][0] = -1;
		        for( new i = 0; i < 10; i++)
			    {
					OnlineShop[playerid][eps_id][i] = -1;
				    OnlineShop[playerid][eps_inx][i] = -1;
				    OnlineShop[playerid][eps_count][i] = 0;
				    OnlineShop[playerid][eps_price][i] = 0;
				    OnlineShop[playerid][eps_time][i] = 0;
				    OnlineShop[playerid][eps_vip][i] = 0;
				    OnlineShop[playerid][eps_acc][i] = 0;
				    OnlineShop[playerid][eps_type][i] = 0;
				}
				strmid(OnlineShop[playerid][eps_info_0], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_1], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_2], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_3], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_4], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_5], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_6], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_7], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_8], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_9], "", 0, 128, 129);
			}
			return 1;
		}

		case DIALOG_AUCTION_DELETE:
		{
			if(response)
			{
			    if(Player[playerid][isInBying][0] <= -1)
			    {
			        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "Error", "Ok", "");
		            Player[playerid][isInBying][0] = -1;
		            Player[playerid][isInBying][1] = 0;
		            return 1;
			    }
			    
			    new index = Player[playerid][isInBying][0];
			    mysql_format(Base, query, sizeof(query),  "SELECT * FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
                mysql_tquery(Base, query, "TryToFindAnItemInShop", "i", playerid);
                
			    return 1;
			}
			else
			{
			    Player[playerid][isInBying][0] = -1;
			    for( new i = 0; i < 10; i++)
			    {
					OnlineShop[playerid][eps_id][i] = -1;
				    OnlineShop[playerid][eps_inx][i] = -1;
				    OnlineShop[playerid][eps_count][i] = 0;
				    OnlineShop[playerid][eps_price][i] = 0;
				    OnlineShop[playerid][eps_time][i] = 0;
				    OnlineShop[playerid][eps_vip][i] = 0;
				    OnlineShop[playerid][eps_acc][i] = 0;
				    OnlineShop[playerid][eps_type][i] = 0;
				}
				strmid(OnlineShop[playerid][eps_info_0], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_1], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_2], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_3], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_4], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_5], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_6], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_7], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_8], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_9], "", 0, 128, 129);
			}
			return 1;
		}
	    
	    case DIALOG_AUCTION_START:
	    {
	        if(response)
	        {
	            Player[playerid][isInBying][0] = -1;
	            Player[playerid][pShopPage] = 0;
	            
	            for( new i = 0; i < 10; i++)
			    {
					OnlineShop[playerid][eps_id][i] = -1;
				    OnlineShop[playerid][eps_inx][i] = -1;
				    OnlineShop[playerid][eps_count][i] = 0;
				    OnlineShop[playerid][eps_price][i] = 0;
				    OnlineShop[playerid][eps_time][i] = 0;
				    OnlineShop[playerid][eps_vip][i] = 0;
				    OnlineShop[playerid][eps_acc][i] = 0;
				    OnlineShop[playerid][eps_type][i] = 0;
				}
				strmid(OnlineShop[playerid][eps_info_0], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_1], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_2], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_3], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_4], "", 0, 128, 129);
				strmid(OnlineShop[playerid][eps_info_5], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_6], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_7], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_8], "", 0, 128, 129);
			    strmid(OnlineShop[playerid][eps_info_9], "", 0, 128, 129);
				
	            switch(listitem)
		        {
		            case 0:
		            {
		                for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
					    
					    if(strlen(Player[playerid][pShopFilter]) >= 1)
				    	{
				        	mysql_format(Base, query, sizeof(query), "SELECT * FROM `auction` ORDER BY `time` AND `name` LIKE '%%%e%%' DESC LIMIT 11", Player[playerid][pShopFilter]);
		                	mysql_tquery(Base, query, "GetAuction", "i", playerid);
				    	}
					    else
					    {
		                	mysql_tquery(Base, "SELECT * FROM `auction` ORDER BY time DESC LIMIT 11;", "GetAuction", "i", playerid);
						}
                        return 1;
					}
					case 1:
					{
					    if(Player[playerid][itemsInShop] >= 10)
					    {
					        ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "Server's Auction", "The maximum number of items selling is 10", "Ok", "");
					        return 1;
					    }
					    for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
					    Player[playerid][isInSelling][0] = 1;
					    ShowInvItems(playerid);
					    return 1;
					}
					case 2:
					{
					    mysql_format(Base, query, sizeof(query), "SELECT * FROM `auction` WHERE `acc` = '%d' ORDER BY `time` DESC", Player[playerid][pAccountID]);
					    mysql_tquery(Base, query, "AuctionEditMyItems", "i", playerid);
					}
				}
			}
			else
			{
			    Player[playerid][pShopPage] = 0;
			    strmid(Player[playerid][pShopFilter], "", 0, 128, 129);
			    for( new i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
			}
			return 1;
	    }
	    
	    case DIALOG_VIP_SHOP:
		{
		    if(response)
		    {
		        switch(listitem)
		        {
			        case 0: return ShowVIPShop(playerid);
					case 1:
					{
					    if(Player[playerid][pBalance] >= float(BRONZE_VIP_PRICE))
						{
						    if(Player[playerid][pVip] <= 1)
						    {
							    Player[playerid][pVip] = 1;
								Player[playerid][pVipTime] = gettime() + (86400*30);
								Player[playerid][pBalance] -= float(BRONZE_VIP_PRICE);
								SendClientMessage(playerid, -1, "{FFF000}>> The purchase was successful!");
								SendClientMessage(playerid, -1, "{FFF000}>> You are given Bronze VIP status!");
                                #if debug_mode == 0
							 	new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought a Bronze VIP (30 days)```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
								return 1;
							}
							else
							{
							    SendClientMessage(playerid, -1, "{FFF000}>> Your VIP status is better than this!");
							    return 1;
							}
						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 2:
					{
					    if(Player[playerid][pBalance] >= float(SILVER_VIP_PRICE))
						{
						    if(Player[playerid][pVip] <= 2)
						    {
							    Player[playerid][pVip] = 2;
								Player[playerid][pVipTime] = gettime() + (86400*30);
								Player[playerid][pBalance] -= float(SILVER_VIP_PRICE);
								SendClientMessage(playerid, -1, "{FFF000}>> The purchase was successful!");
								SendClientMessage(playerid, -1, "{FFF000}>> You are given Silver VIP status!");
                                #if debug_mode == 0
								new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought a Silver VIP (30 days)```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
								return 1;
							}
							else
							{
							    SendClientMessage(playerid, -1, "{FFF000}>> Your VIP status is better than this!");
							    return 1;
							}
						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 3:
					{
					    if(Player[playerid][pBalance] >= float(GOLD_VIP_PRICE))
						{
						    if(Player[playerid][pVip] <= 3)
						    {
							    Player[playerid][pVip] = 3;
								Player[playerid][pVipTime] = gettime() + (86400*30);
								Player[playerid][pBalance] -= float(GOLD_VIP_PRICE);
								SendClientMessage(playerid, -1, "{FFF000}>> The purchase was successful!");
								SendClientMessage(playerid, -1, "{FFF000}>> You are given Gold VIP status!");
                                #if debug_mode == 0
								new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought a Gold VIP (30 days)```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
								return 1;
							}
							else
							{
							    SendClientMessage(playerid, -1, "{FFF000}>> Your VIP status is better than this!");
							    return 1;
							}
						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 4:
					{
					    if(Player[playerid][pBalance] >= 3.0)
						{
							if(TryToAdd(playerid, ITEM_NAME_FOUNDATION_STONE_VIP, 5))
	      					{
	      					    SendClientMessage(playerid, -1, "{FFF000}>> The purchase was successful!");
	           					AddItemInInv(playerid, ITEM_NAME_FOUNDATION_STONE_VIP, 5);
	           					Player[playerid][pBalance] -= 3.0;
                                #if debug_mode == 0
	           					new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought a VIP Foundation Stone (SHOP)```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
	                			return 1;
							}
							else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
	                }
	                case 5:
					{
					    if(Player[playerid][pBalance] >= 3.0)
						{
						    if(VipBuffs[playerid][vb_IID][0] > 0) return SendClientMessage(playerid, -1, "{FF0000}>> You already have an amplifier!") && 0 || 0;
					    	VipBuffs[playerid][vb_IID][0] = 1;
					    	VipBuffs[playerid][vb_IID][1] = gettime()+86400;
					    	Player[playerid][pBalance] -= 3.0;
					    	SendClientMessage(playerid, -1, "{FFF000}>> The purchase was successful!");
							#if debug_mode == 0
					    	new __action[128], y, m, d, h, i, s;
							TimestampToDate(gettime(), y, m, d, h, i, s, 3);
							DiscordChannel = DCC_FindChannelById("655076938209165315");
							format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Increased Item Drop I (1 day)```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
							DCC_SendChannelMessageEx(DiscordChannel, __action);
							#endif
					    	return 1;
					    }
					    else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
				 	case 6:
					{
					    if(Player[playerid][pBalance] >= 5.0)
						{
						    if(VipBuffs[playerid][vb_IID][0] > 0) return SendClientMessage(playerid, -1, "{FF0000}>> You already have an amplifier!") && 0 || 0;
					    	VipBuffs[playerid][vb_IID][0] = 1;
					    	VipBuffs[playerid][vb_IID][1] = gettime()+(86400*3);
					    	Player[playerid][pBalance] -= 5.0;
					    	SendClientMessage(playerid, -1, "{FFF000}>> The purchase was successful!");
                            #if debug_mode == 0
					    	new __action[128], y, m, d, h, i, s;
							TimestampToDate(gettime(), y, m, d, h, i, s, 3);
							DiscordChannel = DCC_FindChannelById("655076938209165315");
							format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Increased Item Drop II (7 days)```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
							DCC_SendChannelMessageEx(DiscordChannel, __action);
							#endif
							return 1;
					    }
					    else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 7:
					{
					    if(Player[playerid][pBalance] >= 7.0)
						{
						    if(VipBuffs[playerid][vb_IID][0] > 0) return SendClientMessage(playerid, -1, "{FF0000}>> You already have an amplifier!") && 0 || 0;
					    	VipBuffs[playerid][vb_IID][0] = 1;
					    	VipBuffs[playerid][vb_IID][1] = gettime()+(86400*7);
					    	Player[playerid][pBalance] -= 7.0;
					    	SendClientMessage(playerid, -1, "{FFF000}>> The purchase was successful!");
                            #if debug_mode == 0
					    	new __action[128], y, m, d, h, i, s;
							TimestampToDate(gettime(), y, m, d, h, i, s, 3);
							DiscordChannel = DCC_FindChannelById("655076938209165315");
							format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Increased Item Drop III (30 days)```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
							DCC_SendChannelMessageEx(DiscordChannel, __action);
							#endif
							return 1;
					    }
					    else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 8:
					{
					    if(Player[playerid][pBalance] >= 5.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_SET_OF_COINS, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_SET_OF_COINS, 5);
	                            Player[playerid][pBalance] -= 5.0;
                                #if debug_mode == 0
	                            new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Set of Quest Coins```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
	                            return 1;
							}
	                        else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;

						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 9:
					{
					    if(Player[playerid][pBalance] >= 7.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_SET_OF_RARE_COINS, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_SET_OF_RARE_COINS, 2);
	                            Player[playerid][pBalance] -= 7.0;
                                #if debug_mode == 0
	                            new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Set of Rare Quest Coins```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
	                            return 1;
							}
	                        else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 10:
					{
					    if(Player[playerid][pBalance] >= 9.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_SET_OF_EPIC_COINS, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_SET_OF_EPIC_COINS, 1);
	                            Player[playerid][pBalance] -= 9.0;
                                #if debug_mode == 0
	                            new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Set of Epic Quest Coins```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
	                            return 1;
							}
	                        else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;

						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 11:
					{
					    if(Player[playerid][pBalance] >= 11.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_SET_OF_LEG_COINS, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_SET_OF_LEG_COINS, 1);
	                            Player[playerid][pBalance] -= 11.0;
                                #if debug_mode == 0
	                            new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Set of Legendary Quest Coins```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
	                            return 1;
							}
	                        else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;

						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 12:
					{
					 	if(Player[playerid][pBalance] >= 5.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_GANG_HOUSE_KEY, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_GANG_HOUSE_KEY, 1);
	         					Player[playerid][pBalance] -= 5.0;
	         					#if debug_mode == 0
		                        new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought a Gang House Key```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
		                        return 1;
							}
							else return SendClientMessage(playerid, -1, "{FF0000}>> Your inventory is full") && 0 || 0;
						}
						else
						{
						    SendClientMessage(playerid, -1, "{FFF000}>> You do not have enough of this currency");
						    return 1;
						}
					}
					case 13: return ShowVIPShop(playerid);
					case 14:
					{
						if(Player[playerid][pBalance] >= 1.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_CHAOS_NOTIFICATION, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_CHAOS_NOTIFICATION, 1);
	                            Player[playerid][pBalance] -= 1.0;
	                            #if debug_mode == 0
		                        new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Chaos Notification```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
								return 1;
							}
						}
						return 1;
					}
					case 15:
					{
						if(Player[playerid][pBalance] >= 3.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_CHAOS_ALERTNESS, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_CHAOS_ALERTNESS, 1);
	                            Player[playerid][pBalance] -= 3.0;
                                #if debug_mode == 0
		                        new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Chaos Alertness```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
								return 1;
							}
						}
						return 1;
					}
					case 16:
					{
						if(Player[playerid][pBalance] >= 4.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_CHAOS_AWARENESS, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_CHAOS_AWARENESS, 1);
	                            Player[playerid][pBalance] -= 4.0;
	                            #if debug_mode == 0
		                        new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought Chaos Awareness```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
								return 1;
							}
						}
						return 1;
					}
					case 17:
					{
						if(Player[playerid][pBalance] >= 6.0)
						{
						    if(TryToAdd(playerid, ITEM_NAME_CHAOS_REDEMPTION, 0))
	                        {
	                            AddItemInInv(playerid, ITEM_NAME_CHAOS_REDEMPTION, 1);
	                            Player[playerid][pBalance] -= 6.0;
	                            #if debug_mode == 0
		                        new __action[128], y, m, d, h, i, s;
								TimestampToDate(gettime(), y, m, d, h, i, s, 3);
								DiscordChannel = DCC_FindChannelById("655076938209165315");
								format(__action, sizeof __action, "```\n(%02dD/%02dM/%04dY) (%02d:%02d) %s(%d) bought a Redemption```", d, m, y, h, s, Player[playerid][UserName], Player[playerid][pAccountID]);
								DCC_SendChannelMessageEx(DiscordChannel, __action);
								#endif
								return 1;
							}
						}
						return 1;
					}
			    }
			}
		    return 1;
		}

		case DIALOG_SHOP:
	    {
	        if(response)
	        {
	            new newPrice = (floor(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] * 0.75) > 0 ? floor(Specialty[playerid][spc_level][SPECIALITY_HUCKSTER] * 0.75) : 1);
	            
		        switch(listitem)
		        {
		            case 0:
		            {
		                if(Player[playerid][pXP] >= floor(ShopPrices[0] / newPrice) )
						{
							GivePlayerWeaponAC(playerid, 43, 10);
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Camera");
							Player[playerid][pXP] -= floor(ShopPrices[0] / newPrice);
							
							return ShowShop(playerid);
						}
						return ShowShop(playerid);
		            }
			        case 1:
					{
					    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) return 1;
						if(Player[playerid][pXP] >= floor(ShopPrices[1] / newPrice) && !Player[playerid][AntiSeeker])
						{
							Player[playerid][AntiSeeker] = true;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Anti-Seeker");
							
							Player[playerid][pXP] -= floor(ShopPrices[1] / newPrice);
							
							if(Achievements[playerid][Purchases] <= 199)
							{
						  		++Achievements[playerid][Purchases];
						    	if(Achievements[playerid][Purchases] == 50) UnlockAchievement(playerid, 42, 200);
								if(Achievements[playerid][Purchases] == 100) UnlockAchievement(playerid, 43, 1000);
	       						if(Achievements[playerid][Purchases] == 200) UnlockAchievement(playerid, 44, 5000);
							}
							Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
							
							ImproveHucksterLevel(playerid);
							
							return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
					case 2:
					{
					    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) return 1;
						if(Player[playerid][pXP] >= floor(ShopPrices[2] / newPrice) && !Player[playerid][AntiFreeze])
						{
							Player[playerid][AntiFreeze] = true;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Anti-Freezer");
							
							Player[playerid][pXP] -= floor(ShopPrices[2] / newPrice);
							
							if(Achievements[playerid][Purchases] <= 199)
							{
						  		++Achievements[playerid][Purchases];
						    	if(Achievements[playerid][Purchases] == 50) UnlockAchievement(playerid, 42, 200);
								if(Achievements[playerid][Purchases] == 100) UnlockAchievement(playerid, 43, 1000);
	       						if(Achievements[playerid][Purchases] == 200) UnlockAchievement(playerid, 44, 5000);
							}
							Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
							
							ImproveHucksterLevel(playerid);
							
							return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
					case 3:
					{
					    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) return 1;
						if(Player[playerid][pXP] >= floor(ShopPrices[3] / newPrice) && !Player[playerid][AntiRadioctive])
						{
							Player[playerid][AntiRadioctive] = true;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Armour");
							
							Player[playerid][pXP] -= floor(ShopPrices[3] / newPrice);
							
							if(Achievements[playerid][thropyManiac]) SetPlayerArmourAC(playerid, 75.0);
							else SetPlayerArmourAC(playerid, 50.0);
							if(Achievements[playerid][Purchases] <= 199)
							{
						  		++Achievements[playerid][Purchases];
						    	if(Achievements[playerid][Purchases] == 50) UnlockAchievement(playerid, 42, 200);
								if(Achievements[playerid][Purchases] == 100) UnlockAchievement(playerid, 43, 1000);
	       						if(Achievements[playerid][Purchases] == 200) UnlockAchievement(playerid, 44, 5000);
							}
							Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
							
							ImproveHucksterLevel(playerid);
							
							return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
					case 4:
					{
					    //if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) return 1;
						if(Player[playerid][pXP] >= floor(ShopPrices[4] / newPrice) &&!Player[playerid][AntiBuring])
						{
							Player[playerid][AntiBuring] = true;
							Player[playerid][IsBurned][0] = 0;
    						Player[playerid][IsBurned][1] = 0;
							TextDrawHideForPlayer(playerid, Stun[playerid]);
							RemovePlayerAttachedObject(playerid, 9);
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Anti-Burning");
							
							Player[playerid][pXP] -= floor(ShopPrices[4] / newPrice);
							
							if(Achievements[playerid][Purchases] <= 199)
							{
						  		++Achievements[playerid][Purchases];
						    	if(Achievements[playerid][Purchases] == 50) UnlockAchievement(playerid, 42, 200);
								if(Achievements[playerid][Purchases] == 100) UnlockAchievement(playerid, 43, 1000);
	       						if(Achievements[playerid][Purchases] == 200) UnlockAchievement(playerid, 44, 5000);
							}
							Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
							
							ImproveHucksterLevel(playerid);
							
							return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
					case 5:
					{
					    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) return 1;
						if(Player[playerid][pXP] >= floor(ShopPrices[5] / newPrice) && !Player[playerid][AntiLegBreaks])
						{
							Player[playerid][AntiLegBreaks] = true;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Morphine");
							
							Player[playerid][pXP] -= floor(ShopPrices[5] / newPrice);
							
							if(Achievements[playerid][Purchases] <= 199)
							{
						  		++Achievements[playerid][Purchases];
						    	if(Achievements[playerid][Purchases] == 50) UnlockAchievement(playerid, 42, 200);
								if(Achievements[playerid][Purchases] == 100) UnlockAchievement(playerid, 43, 1000);
	       						if(Achievements[playerid][Purchases] == 200) UnlockAchievement(playerid, 44, 5000);
							}
							Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
							
							ImproveHucksterLevel(playerid);
							
							return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
					case 6:
					{
						if(Player[playerid][pXP] >= floor(ShopPrices[6] / newPrice) && !Player[playerid][AntiScreamer])
						{
							Player[playerid][AntiScreamer] = true;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Anti-Screamer");
							
							Player[playerid][pXP] -= floor(ShopPrices[6] / newPrice);
							
							if(GetUnlockedSlot(Player[playerid][pQuickSet], QS_AntiScreamer) <= 2)
                        		SetUnlockedSlot(Player[playerid][pQuickSet], QS_AntiScreamer, GetUnlockedSlot(Player[playerid][pQuickSet], QS_AntiScreamer) + 1);
                            Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
                            
                            ImproveHucksterLevel(playerid);
                            
                            return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
		            case 7:
					{
					    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && !Player[playerid][AntiBlind]) return 1;
						if(Player[playerid][pXP] >= floor(ShopPrices[7] / newPrice))
						{
							Player[playerid][AntiBlind] = true;
							TextDrawHideForPlayer(playerid, Blind[playerid]);
							SetPlayerWeather(playerid, Map[m_Weather]);
							Player[playerid][Blidness] = 0;
							KillTimer(Player[playerid][BlidnessTimer]);
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Anti-Blind");
							
							Player[playerid][pXP] -= floor(ShopPrices[7] / newPrice);
							
							if(Achievements[playerid][Purchases] <= 199)
							{
						  		++Achievements[playerid][Purchases];
						    	if(Achievements[playerid][Purchases] == 50) UnlockAchievement(playerid, 42, 200);
								if(Achievements[playerid][Purchases] == 100) UnlockAchievement(playerid, 43, 1000);
	       						if(Achievements[playerid][Purchases] == 200) UnlockAchievement(playerid, 44, 5000);
							}
							Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
							
							ImproveHucksterLevel(playerid);
							
							return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
					case 8:
					{
						if(Player[playerid][pXP] >= floor(ShopPrices[8] / newPrice) && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && !Player[playerid][Helmet])
						{
							Player[playerid][Helmet] = true;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Helmet");
							
							Player[playerid][pXP] -= floor(ShopPrices[8] / newPrice);
							
							SetPlayerAttachedObject(playerid, 9, 18936, 2, 0.129999,0.030000,0.000000,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000);
                            Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
                            
                            ImproveHucksterLevel(playerid);
                            
							return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
					case 9:
					{
						return ShowShop(playerid);
					}
					case 10:
					{
						if(Player[playerid][pXP] >= floor(ShopPrices[10] / newPrice) && GetPlayerTeamEx(playerid) == TEAM_HUMAN)
						{
							Player[playerid][Cursed] = true;
							Player[playerid][IsCursed] = false;
							SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][159], "Bag of Chestnuts");

							Player[playerid][pXP] -= floor(ShopPrices[10] / newPrice);

                            Player[playerid][AntiSpider] = true;
						
                            Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
							//SetPlayerAttachedObject(playerid, 9, 18936, 2, 0.129999,0.030000,0.000000,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000);
                            if(Achievements[playerid][Purchases] <= 199)
							{
						  		++Achievements[playerid][Purchases];
						    	if(Achievements[playerid][Purchases] == 50) UnlockAchievement(playerid, 42, 200);
								if(Achievements[playerid][Purchases] == 100) UnlockAchievement(playerid, 43, 1000);
	       						if(Achievements[playerid][Purchases] == 200) UnlockAchievement(playerid, 44, 5000);
							}

							ImproveHucksterLevel(playerid);

							return ShowShop(playerid);
						}
						return ShowShop(playerid);
					}
				}
			}
			return 1;
		}
		
		case DIALOG_REGISTER_LANGUAGE:
		{
		    if(response)
		    {
		        Player[playerid][pLang] = listitem;
		        new Head[48], mess[410];
				format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 1);
				strcat(mess, ServerRegisters[Player[playerid][pLang]][1]);
				strcat(mess, ServerRegisters[Player[playerid][pLang]][2]);
				ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_0, DIALOG_STYLE_INPUT, Head, mess, serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][5]);
				new playerIP[16];
				GetPlayerIp(playerid, playerIP, sizeof(playerIP));
				strmid(Player[playerid][pIP], playerIP, false, 16, 16);
		    }
		    else
		    {
		        foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> %s has been kicked [Reason: Unregistered]", Player[playerid][UserName]);
				PlayerKick(playerid);
		    }
		    return 1;
		}
		
 	    case DIALOG_REGISTER_STEP_0:
		{
		    if(response)
		    {
		    	if(strlen(inputtext) < 6 || strlen(inputtext) > 64)
		    	{
	    			new Head[48],str[410];
					format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 1);
					strcat(str, ServerRegisters[Player[playerid][pLang]][1]);
					strcat(str, ServerRegisters[Player[playerid][pLang]][2]);
					ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_0, DIALOG_STYLE_INPUT, Head, str, serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][5]);
					return 1;
				}
				
				if(!strcmp(inputtext, "password", true) || !strcmp(inputtext, "qwerty", true) || !strcmp(inputtext, "123456", true) || !strcmp(inputtext, "000000", true) || !strcmp(inputtext, "111111", true) || !strcmp(inputtext, "666666", true))
				{
					new Head[48],str[410];
					format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 1);
					strcat(str, ServerRegisters[Player[playerid][pLang]][3]);
					strcat(str, ServerRegisters[Player[playerid][pLang]][1]);
					strcat(str, ServerRegisters[Player[playerid][pLang]][2]);
					ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_0, DIALOG_STYLE_INPUT, Head, str, serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][5]);
					return 1;
				}
				
				strmid(Player[playerid][pPass], inputtext, 0, strlen(inputtext), strlen(inputtext)+1);
				
				new Head[48];
				format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 2);
				ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_1, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
			}
			else
			{
			    foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> %s has been kicked [Reason: Unregistered]", Player[playerid][UserName]);
				PlayerKick(playerid);
			}
		}
		
		case DIALOG_CREATE_MAIL:
		{
		    if(response)
		    {
		        if(strlen(Player[playerid][pEmail]) >= 1) return 1;
		        if(strlen(inputtext) <= 0)
		        {
          			ShowPlayerDialog(playerid, DIALOG_CREATE_MAIL, DIALOG_STYLE_INPUT, "Email", "Enter your new email address to be able to regain access to your account", "Ok", "Back");
             		return 1;
		        }
		        if(strfind(inputtext, "@") >= 3)
				{
				    mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `Email` = '%e' AND `build`='"SERVER_BUILD"'", inputtext);
        			mysql_tquery(Base, query, "OnSetPlayerEmail", "is", playerid, inputtext);
					return 1;
				}
				else
				{
				    ShowPlayerDialog(playerid, DIALOG_CREATE_MAIL, DIALOG_STYLE_INPUT, "Email", "Enter your new email address to be able to regain access to your account", "Ok", "Back");
             		return 1;
				}
		    }
			return 1;
		}
		
		case DIALOG_REGISTER_STEP_1:
		{
		    if(response)
		    {
		        if(strlen(inputtext) <= 0)
		        {
                    new Head[48];
					format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 2);
					ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_1, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
					return 1;
				}
				if(strfind(inputtext, "@") >= 3 && strfind(inputtext, ".com") >= 4 || strfind(inputtext, ".ru") >= 4)
				{
				    mysql_format(Base, query, sizeof(query), "SELECT * FROM `users` WHERE `Email` = '%e' AND `build`='"SERVER_BUILD"'", inputtext);
        			mysql_tquery(Base, query, "OnCheckForRegisterOrRecovery", "is", playerid, inputtext);
					return 1;
				}
				else
				{
				    new Head[48];
					format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 2);
					ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_1, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
					return 1;
				}
		    }
		    else
		    {
		    	new Head[48],str[410];
				format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 1);
				strcat(str, ServerRegisters[Player[playerid][pLang]][1]);
				strcat(str, ServerRegisters[Player[playerid][pLang]][2]);
				ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_0, DIALOG_STYLE_INPUT, Head, str, serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][5]);
                return 1;
			}
		}
		
		case DIALOG_REGISTER_STEP_3:
		{
		    if(response)
		    {
		        if(strlen(inputtext) <= 0)
		        {
		            new Head[48];
					format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 4);
	    			ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_3, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][11], ServerRegisters[Player[playerid][pLang]][10], ServerRegisters[Player[playerid][pLang]][12]);
					return 1;
				}
				mysql_format(Base, query, sizeof(query), "SELECT promo.*, u.Name FROM promo JOIN users u WHERE u.ID = promo.ID AND `code` = '%e'", inputtext);
				mysql_tquery(Base, query, "OnCheckForPromocode", "i", playerid);
			}
			else
			{
			    SignCreate(playerid);
		     	playerOnline++;
		     	configureClass(playerid);
				setupZombie(playerid);
				SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
				SpawnPlayer(playerid);
				Registered{playerid} = true;
				Player[playerid][pLogged] = true;
				cmd::help(playerid);
			}
			return 1;
		}
		
		case DIALOG_REGISTER_STEP_2:
		{
		    if(response)
		    {
		        if(strlen(inputtext) <= 0)
		        {
		            new Head[48];
					format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 3);
	    			ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_2, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][5], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][56]);
					return 1;
				}

				new IP[16];
				GetPlayerIp(playerid, IP, 16);
				mysql_format(Base, query, sizeof(query), "INSERT INTO `users` (`Kills`,`Killstreak`,`RoundWins`,`DuelWins`,`DuelLoses`,`VIP`, `Admin`,`Rank`,`EXP`,`Clan`,`ClanRank`,`Password`,`Salt`,`Email`,`Name`,`Language`,`Secret`,`ZombieList`,`HumanList`,`IP`,`build`) VALUES (0,0,0,0,0,0,0,0,0,0,0,'%e','%e','%e','%e',0,'%e','0,0','0,0','%e','"SERVER_BUILD"')",Player[playerid][pPass],Player[playerid][pSalt],Player[playerid][pEmail],Player[playerid][UserName], inputtext, IP);
				mysql_tquery(Base, query, "CreateNewUserInDB", "is", playerid, IP);
				return 1;
		    }
		    else
		    {
		        new Head[48];
				format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 2);
				ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_1, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
				return 1;
		    }
		}
		
		case DIALOG_RESTORE_ACCESS_0:
		{
		    if(response)
		    {
                if(strlen(inputtext) <= 0)
		        {
                	format(scs[0], 128, serverLang[Player[playerid][pLang]][53], 1);
 					format(scs[1], 128, serverLang[Player[playerid][pLang]][54], NM[playerid]);
  					ShowPlayerDialog(playerid, DIALOG_RESTORE_ACCESS_0, DIALOG_STYLE_INPUT, scs[0], scs[1], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
					return 1;
				}
				
		        //SHA256_PassHash(inputtext, Player[playerid][pSalt], hash, sizeof(hash));
		        if(!strcmp(inputtext, Player[playerid][pKey]))
		        {
		            format(scs[0], 128, serverLang[Player[playerid][pLang]][53], 2);
		            ShowPlayerDialog(playerid, DIALOG_RESTORE_ACCESS_1, DIALOG_STYLE_INPUT, scs[0], serverLang[Player[playerid][pLang]][57], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][56]);
					return 1;
		        }
		        else
                {
		        	attemptsToLog[playerid]--;
		        	if(attemptsToLog[playerid] > 0)
		        	{
		        	    format(scs[0], 128, serverLang[Player[playerid][pLang]][53], 1);
     					format(scs[1], 128, serverLang[Player[playerid][pLang]][54], NM[playerid]);
	    				ShowPlayerDialog(playerid, DIALOG_RESTORE_ACCESS_0, DIALOG_STYLE_INPUT, scs[0], scs[1], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
						return 1;
					}
					if(attemptsToLog[playerid] <= 0)
	    			{
		        		foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][46], Player[playerid][UserName]);
					    PlayerKick(playerid);
					}
				}
		    }
		    else
		    {
     			new Head[48];
				format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 2);
				ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_1, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
				return 1;
		    }
		}
		
		case DIALOG_RESTORE_ACCESS_1:
		{
		    if(response)
		    {
		        if(strlen(inputtext) < 6 || strlen(inputtext) > 64)
		        {
		        	format(scs[0], 128, serverLang[Player[playerid][pLang]][53], 2);
		            ShowPlayerDialog(playerid, DIALOG_RESTORE_ACCESS_1, DIALOG_STYLE_INPUT, scs[0], serverLang[Player[playerid][pLang]][57], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][56]);
					return 1;
				}
				if(!strcmp(inputtext, "password", true) || !strcmp(inputtext, "qwerty", true) || !strcmp(inputtext, "123456", true) || !strcmp(inputtext, "000000", true) || !strcmp(inputtext, "111111", true) || !strcmp(inputtext, "666666", true))
				{
				    format(scs[0], 128, serverLang[Player[playerid][pLang]][53], 2);
		            ShowPlayerDialog(playerid, DIALOG_RESTORE_ACCESS_1, DIALOG_STYLE_INPUT, scs[0], serverLang[Player[playerid][pLang]][57], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][56]);
					return 1;
				}
				//SHA256_PassHash(inputtext, Player[playerid][pSalt], hash, sizeof(hash));
				mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Password` = '%e' WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", inputtext, NM[playerid]);
				SetPlayerName(playerid, NM[playerid]);
				GetPlayerName(playerid, Player[playerid][RealName], 25);
				GetPlayerName(playerid, Player[playerid][UserName], 25);
			
    			mysql_tquery(Base, query, "", "");
    			Player[playerid][pLogged] = true;
    			KillTimer(RegisterTimer[playerid]);
   			 	SignCreate(playerid);
   			 	
   			 	playerOnline++;
				setupZombie(playerid);
				SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
				SpawnPlayer(playerid);
		    }
		    else
		    {
		        new Head[48];
				format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 2);
				ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_1, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
				return 1;
			}
		}
		
		case DIALOG_LOGIN:
		{
			if(response)
		    {
		        new dlg[264];
		        if(strlen(inputtext) <= 0)
		        {
		            if(Player[playerid][pLang] == 1)
		            {
			            format(dlg, 264, ServerRegisters[Player[playerid][pLang]][8], attemptsToLog[playerid]);
			            ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD, ServerRegisters[Player[playerid][pLang]][7], dlg, ServerRegisters[Player[playerid][pLang]][9], serverLang[Player[playerid][pLang]][5]);
					}
					else
					{
					    format(dlg, sizeof(dlg), ServerRegisters[Player[playerid][pLang]][7], attemptsToLog[playerid]);
						ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD, ServerRegisters[Player[playerid][pLang]][6], dlg, ServerRegisters[Player[playerid][pLang]][9], serverLang[Player[playerid][pLang]][5]);
					}
					return 1;
				}
				
		        if(!strcmp(inputtext, Player[playerid][pPass]))
                {
                    SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][45]);
    				Player[playerid][pLogged] = true;
					KillTimer(RegisterTimer[playerid]);
				 	SignCreate(playerid);
				 	
				 	playerOnline++;
				 	Registered{playerid} = true;
				 	
				 	new ip[16];
				 	GetPlayerIp(playerid, ip, sizeof(ip));
				 	mysql_format(Base, query, sizeof(query), "DELETE FROM `autolog` WHERE `Name` = '%e' OR `IP` = '%e' AND `build`='"SERVER_BUILD"'", Player[playerid][UserName], ip);
			 		mysql_tquery(Base, query, "", "");
				    GetPlayerIp(playerid, ip, sizeof(ip));
			        mysql_format(Base, query, sizeof(query), "INSERT INTO `autolog` (`IP`,`time`,`Name`,`build`) VALUES ('%e',NOW(),'%e','"SERVER_BUILD"')", ip, Player[playerid][UserName]);
			 		mysql_tquery(Base, query, "", "", "");
			 		
					mysql_format(Base, query, sizeof(query), "SELECT * FROM `paydays` WHERE `acc` = '%d' AND `build`='"SERVER_BUILD"'", Player[playerid][pAccountID]);
					mysql_tquery(Base, query, "CheckForEXP", "i", playerid);
					
					mysql_format(Base, query, sizeof(query), "SELECT * FROM `userinfo` WHERE `id` = '%d'", Player[playerid][pAccountID]);
					mysql_tquery(Base, query, "CheckForRegs", "i", playerid);
					
					/*if(UserTankInWarState[playerid] <= 0) // Event*/
					ShowEverydayReward(playerid);
					
					//cmd::help(playerid);
					return 1;
                }
                else
                {
		        	attemptsToLog[playerid]--;
		        	if(attemptsToLog[playerid] > 0)
		        	{
		        	    if(Player[playerid][pLang] == 1)
		            	{
			        	    format(dlg, 264, ServerRegisters[Player[playerid][pLang]][8], attemptsToLog[playerid]);
	                    	ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD, ServerRegisters[Player[playerid][pLang]][7], dlg, ServerRegisters[Player[playerid][pLang]][9], serverLang[Player[playerid][pLang]][5]);
							return 1;
						}
						else
						{
						    format(dlg, 264, ServerRegisters[Player[playerid][pLang]][7], attemptsToLog[playerid]);
	                    	ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_PASSWORD, ServerRegisters[Player[playerid][pLang]][6], dlg, ServerRegisters[Player[playerid][pLang]][9], serverLang[Player[playerid][pLang]][5]);
							return 1;
						}
					}
					if(attemptsToLog[playerid] <= 0)
	    			{
	    			    new g[41], y, m, d, h, i, s, ip[16], mess[164];
						gpci(playerid, g, sizeof(g));
						GetPlayerIp(playerid, ip, sizeof(ip));
			  			TimestampToDate(gettime(), y, m, d, h, i, s, 3);
			            mysql_format(Base, query, sizeof(query), "INSERT INTO `security` (`acc`,`ip`,`date`,`reg`,`sign`,`type`) VALUES ('%d','%e','%d','%e','%e', '3')", Player[playerid][pAccountID], ip, gettime(), Player[playerid][pIP], g);
						mysql_tquery(Base, query, "", "", "");
                        #if debug_mode == 0
						DiscordChannel = DCC_FindChannelById("614265642966843404");
			    		format(mess, sizeof mess, "%04d-%02d-%02d %02d:%02d:%02d Login Error: %s(%d) failed to log in (REG: %s | CUR: %s)", y, d, m, h, i, s, Player[playerid][UserName], Player[playerid][pAccountID], Player[playerid][pIP], ip);
						DCC_SendChannelMessageEx(DiscordChannel, mess);
				        #endif
		        		foreach(Player, j) SendClientMessageFormat(j, -1, serverLang[Player[i][pLang]][46], Player[playerid][UserName]);
						PlayerKick(playerid);
						return 1;
					}
				}
		    }
			else
			{
			    foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> %s has been kicked [Reason: Not logged in]", Player[playerid][UserName]);
				PlayerKick(playerid);
			}
			return 1;
		}
		
		case DIALOG_GAME_HELP_GANGS:
		{
		    if(response)
		    {
		        new str[2000];
		        switch(Player[playerid][pLang])
		        {
		            case 0:
		            {
				        switch(listitem)
				        {
				            case 0:
				            {
				                str = "Rulers are the most powerful gang on the server\nThey can set rules and taxes for other gangs\nHowever, the reputation of rulers can be shaken every week\nAfter all, just then the battle between gangs for the right to become dominant begins\nGangs that have not declared neutrality must capture as many maps as possible in order to become a ruler\n\
								The hassle on each map determines who will be the ruler\nBe careful that on this day in the truest sense of the word you will be afraid of both zombies and humans\nAlso, your game rank and your equipment (trophies and pets) will play a role in this battle\nThe battle ends the next day\n\
								The gang that became the ruler has 24 hours left after the battle to update the terms and conditions (/gang settings) for all other gangs\nThe gang that became the ruler has the ability to use the class with RPG and grenades! (The weapon will depend on the rank, and allowed only on controlled maps)\n\
								This class also has the ability to collective reunion - players with this class who are nearby and from the same gang will have infinite ammo for weapons\n\n*** After the gang has become a ruler, its minimum entry rank will increase by +5";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Ruller Gang", str, "Ok", "");
				                return 1;
				            }
				            case 1:
				            {
				                str = "Be careful that if you are a normal gang, you accept the terms and conditions of the dominant gang and you have the strength to fight them\nIf you are weak or not ready - go to neutrality, this will protect your gang members!\n(/gang neutral) -> switching to neutral mode will destroy all maps that own you\nIn order to protect new players, they cannot join the gang until they reach a certain rank, this is done so that they do not die more than they could understand\n\
				                Normal gangs have the right to declare alliances and war on other gangs\nFor one reason or another\nExample:\n\tLet's unite with another gang, but before, the leaders will discussing between them the new rules and conditions that you will dictate\n\tto other gangs and then destroy the ruler gang\n\
				                The incompetence of gang leaders or their inability to agree among themselves does not require the intervention of the creator of the server\nWhen you created a gang you should to understand what and how you are doing\nIf you can't keep your gang or are too incompetent to manage your members - it's better to delete the gang\n\
				                When declaring an alliance (/gang alliance) or a war (/gang war) be careful that all the alliances and wars of this gang will also go over to your side\nThe gang leader must understand what, how and why he/she does\nJoining an alliance increases your \"members capacity\" in (/gang list)\nThe minimum number of alliances is 2, more rulers can do\n\
				                To communicate with your alliance, use symbol '+' as the first symbol in the chat\nTo create an alliance with a gang in which war is with you or with your allies is impossible\nThe number of members in the gang open buffs from the gang\nHowever, only the ammo buff works in the ZA mode\nOthers only in cup battles";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Normal Gang", str, "Ok", "");
				                return 1;
				            }
				            case 2:
				            {
				                str = "A gang that is neutral is either a novice gang that was created not long ago or a gang that does not have the ability to resist\nThis gang is exempted from battles for a map, and accordingly buffs, for control of maps\nIt disables the ability to quickly rank up and some other things\nWhich are available to normal gangs\n\
				                These gangs do not depend on the policies of other gangs\nThey cannot participate in alliances, wars, gang cups battles\nHowever, if a neutral gang enters into an alliance with a gang or declares war on another gang, it will become normal\nAs already noted, these gangs may exist but not have a lot of advantages, like other gangs\nBut you will be protected in your own way from other gangs\n\
				                A great solution to get experience or just chat with each other";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Neutral Gang", str, "Ok", "");
				                return 1;
				            }
				            case 3:
				            {
				                str = "The Gang Manager, (GM) tag, is an evil and strong uncle\nWhich can destroy and create gangs, dissolve and enter into alliances / wars between gangs without their agreement\nAnd change the general policy of gangs (which rank can become a leader, and which deputy)\nHe can also remove and appoint leaders, not deputies, they are appointed by the clan leader";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Gang Manager", str, "Ok", "");
				                return 1;
				            }
				            case 4:
				            {
				                str = "In order to start interacting with the gang, use (/gang settings)\nMost of the configurations there are more than clear, let's touch on the settings of the rulers\n*** To open them you need to become the most powerful gang on the server on the day of battles between gangs\n\
				                Rulers have the opportunity to appoint war for the cups and between gangs on any day of the week\nThe following two settings: you can change the maximum number of alliances and wars for gangs, including you\n\
				                Rulers have the ability to assign taxes to other gangs, which means that the higher the tax they made, the more\nexperience you will give to their pot when transferring experience on a gang, and the more they will receive from you (min. 35% and max. 65% taxes)\nSince this gang is the one that sets taxes - for it there are none\n\
				                They also have the opportunity to change the minimum threshold for joining any clan (minimum rank), including them, however, the minimum rank cannot be lower than 5 if the gang is not neutral";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Gang Settings", str, "Ok", "");
				                return 1;
				            }
				        }
					}
					case 1:
					{
					    switch(listitem)
				        {
				            case 0:
				            {
				                str = "Правители - самая мощная банда на сервере\nОни могут устанавливать правила и налоги для других банд\nОднако репутацию правителей можно поколебать каждую неделю\nВедь именно тогда начинается борьба между бандами за право стать доминирующей\nБанды, которые не объявили нейтралитет, должны захватить как можно больше карт, чтобы стать правителем\n\
								Сражение на каждой карте определяет, кто будет правителем\nБудьте осторожны, в этот день в прямом смысле этого слова вы будете бояться как зомби, так и людей\nКроме того, ваш ранг и ваше оборудование (трофеи и животные) будут играть роль в этой битве\nБитва заканчивается на следующий день\n\
								У банды, ставшей правителем, есть 24 часа после битвы, чтобы обновить условия и правила (/gang settings) для всех других банд\nБанда, ставшая правителем, имеет возможность использовать класс с РПГ и гранатами! (Оружие будет зависеть от ранга и разрешено только на контролируемых картах)\n\
								Этот класс также имеет возможность коллективного воссоединения - у игроков c этим классом, которые находятся рядом и из одной и той же банды, будут бесконечные патроны для оружия\n\n*** После того, как банда станет правителем, ее минимальный ранг входа увеличится на +5";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Ruller Gang", str, "Ok", "");
				                return 1;
				            }
				            case 1:
				            {
				                str = "Будьте осторожны, если вы нормальная банда, вы принимаете условия доминирующей банды и у вас есть силы, чтобы бороться с ними\nЕсли вы слабы или не готовы - переходите к нейтралитету, это защитит ваших членов банды!\n(/gang neutral) -> переход в нейтральный режим уничтожит все карты, которыми вы владеете\nЧтобы защитить новых игроков, они не могут вступить в банду, пока не достигнут определенного ранга, это делается для того, чтобы они не умирали больше, чем могли понять\n\
				                Нормальные банды имеют право объявлять альянсы и вести войну с другими бандами\nПо той или иной причине\nПример:\n\tДавайте объединимся с другой бандой, но прежде лидеры обсудят между собой новые правила и условия, которые вы будете диктовать\n\tдругим бандам, а затем отберём власть у правителей\n\
				                Некомпетентность лидеров банд или их неспособность договориться между собой не требует вмешательства создателя сервера\nКогда вы создали банду, вы должны понимать, что и как вы делаете\nЕсли вы не можете держать свою банду или слишком некомпетентны, чтобы управлять своими членами - лучше удалить банду\n\
				                При объявлении альянса (/gang alliance) или войны (/gang war) будьте осторожны, ибо все союзы и войны этой банды также перейдут на вашу сторону\nЛидер банды должен понимать, что, как и почему он / она делает\nВступление в альянс увеличивает вашу \"вместимость\" в (/gang list)\nМинимальное количество альянсов - 2, больше могут сделать только правители\n\
				                Чтобы общаться с вашим альянсом, используйте символ '+' как первый символ в чате\nСоздать альянс с бандой, у которой война с вами или с вашими союзниками, невозможно\nКоличество членов банды, открывает баффы банды\nОднако в режиме ZA работает только бафф патронов\nОстальные только в кубковых сражениях";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Normal Gang", str, "Ok", "");
				                return 1;
				            }
				            case 2:
				            {
				                str = "Нейтральная банда - это либо новая банда, созданная не так давно, либо банда, которая не способна противостоять\nЭта банда освобождается от сражений за карту и, соответственно, от баффов за контроль над картами\nНе имеет возможности быстро качать ранг и некоторые другие вещи\nКоторые доступны для нормальных банд\n\
				                Эти банды не зависят от политики других банд\nОни не могут участвовать в союзах, войнах, кубковых сражениях\nОднако, если нейтральная банда вступит в союз с бандой или объявит войну другой банде, она станет нормальной\nКак уже отмечалось, эти банды могут существовать, но не иметь много преимуществ, как и другие банды\nНо вы будете защищены по-своему от других банд\n\
				                Отличное решение, чтобы фармить опыт или просто пообщаться друг с другом";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Neutral Gang", str, "Ok", "");
				                return 1;
				            }
				            case 3:
				            {
				                str = "Руководитель Банд, тэг (GM), злой и сильный дядя\nКоторый может уничтожать и создавать банды, распускать и создавать альянсы / войны между бандами без их согласия\nИ изменить общую политику банд (какой ранг может стать лидером, а какой замом)\nОн также может снимать и назначать лидеров, а не замов, они назначаются лидером клана";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Gang Manager", str, "Ok", "");
				                return 1;
				            }
				            case 4:
				            {
				                str = "Для того, чтобы начать взаимодействовать с кланом используйте (/gang settings)\nБольшинство конфигураций там более чем понятны, давайте затронем настройки правителей\n*** Чтобы их открыть нужно стать самой мощной бандой на сервере в день сражений между бандами\n\
				                Правители имеют возможность назначать войну за кубки и между бандами в любой день недели\nСледующие две настройки: вы можете изменить максимальное количество альянсов и войн для банд, включая вас\n\
				                Правители имеют возможность назначать налоги другим бандам, это значит, что чем выше налог они сделали тем больше опыта\nвы будете отдавать в их казну при передаче опыта по банде, и тем больше будут они получать от вас (мин 35% и макс 65% налоги)\nТак как эта банда является той, которая устанавливает налоги - для неё их нету\n\
				                У них также есть возможность изменить минимальный порог для вхождения в любой клан (минимальный ранг), включая их, однако минимальный ранг не может быть ниже 5, если банда не нейтральна";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Gang Settings", str, "Ok", "");
				                return 1;
				            }
				        }
					}
					case 2:
					{
					    switch(listitem)
				        {
				            case 0:
				            {
				                str = "Reglas: la pandilla mas poderosa del servidor\nPueden establecer reglas e impuestos para otras pandillas\nSin embargo, la reputacion de los gobernantes se puede sacudir todas las semanas\nDespues de todo, es entonces cuando comienza la lucha entre las pandillas por el derecho a convertirse en dominante\nLas pandillas que no han declarado neutralidad deben capturar tantas cartas como sea posible para convertirse en gobernantes\n\
								La batalla en cada carta determina quien sera el gobernante\nTen cuidado, en este dia en el sentido literal de la palabra, tendras miedo tanto de los zombis como de las personas\nAdemas, tu rango y tu equipo (trofeos y animales) jugaran un papel en esta batalla\nLa batalla termina al dia siguiente\n\
								La pandilla que se convirtio en gobernante tiene 24 horas despues de la batalla para actualizar los terminos y condiciones (/gang settings) para todas las otras pandillas\n?La pandilla que se ha convertido en gobernante tiene la capacidad de usar la clase con juegos de rol y granadas! (Las armas dependeran del rango y solo se permiten en mapas controlados)\n\
								Esta clase tambien tiene la posibilidad de una reunion colectiva: los jugadores con esta clase que estan cerca y de la misma pandilla tendran municiones infinitas para armas\n\n*** Despues de que la pandilla se convierta en gobernante, su rango minimo de entrada aumentara en +5";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Ruller Gang", str, "Ok", "");
				                return 1;
				            }
				            case 1:
				            {
				                str = "Ten cuidado si eres una pandilla normal, aceptas los terminos de la pandilla dominante y tienes la fuerza para luchar contra ellos\nSi eres debil o no estas listo, ve a la neutralidad, ?esto protegera a los miembros de tu pandilla!\n(/gang neutral) -> cambiar al modo neutral destruira todas las cartas que poseas\nPara proteger a los nuevos jugadores, no pueden unirse a la pandilla hasta que alcancen un cierto rango, esto se hace para que no mueran mas de lo que podrian entender\n\
				                Las pandillas normales tienen derecho a declarar alianzas y hacer la guerra con otras pandillas\nPor una razon u otra\nEjemplo:\n\tUnamonos con otra pandilla, pero primero los lideres discutiran entre ellos las nuevas reglas y condiciones que usted dictara\n\ta otras pandillas, y luego tomaremos el poder de los gobernantes\n\
				                La incompetencia de los lideres de pandillas o su incapacidad para ponerse de acuerdo entre ellos no requiere la intervencion del creador del servidor\nCuando creas una pandilla, debes entender que y como lo haces\nSi no puede mantener a su pandilla o es demasiado incompetente para administrar a sus miembros, es mejor eliminar a la pandilla\n\
				                Al declarar una alianza (/gang alliance) o guerra (/gang war) ten cuidado, porque todas las alianzas y guerras de esta pandilla tambien iran a tu lado\nEl lider de la pandilla debe entender que, como y por que lo hace\nUnirse a una alianza aumenta su \"capacidad\" en (/gang list)\nEl numero minimo de alianzas es 2, solo los gobernantes pueden hacer mas\n\
				                Para comunicarse con su alianza, use el simbolo '+' como el primer personaje en el chat\nEs imposible crear una alianza con una pandilla cuya guerra sea contigo o con tus aliados\nEl numero de miembros de pandillas abre beneficios para pandillas\nSin embargo, en modo ZA solo funciona la mejora de municion\nEl resto es solo en batallas de copa";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Normal Gang", str, "Ok", "");
				                return 1;
				            }
				            case 2:
				            {
				                str = "Una pandilla neutral es una nueva pandilla creada no hace mucho tiempo, o una pandilla que no puede resistir\nEsta pandilla esta exenta de batallas por carta y, en consecuencia, de beneficios para el control de las cartas\nNo puedo descargar rapidamente un rango y algunas otras cosas\nQue estan disponibles para las pandillas normales\n\
				                Estas pandillas son independientes de la politica de otras pandillas\nNo pueden participar en alianzas, guerras, batallas de copa\nSin embargo, si una pandilla neutral entra en una alianza con una pandilla o declara la guerra a otra pandilla, se volvera normal\nComo ya se senalo, estas pandillas pueden existir, pero no tienen muchas ventajas, como otras pandillas\nPero estaras protegido a tu manera de otras pandillas\n\
				                Gran solucion para la experiencia agricola o simplemente chatear entre ellos";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Neutral Gang", str, "Ok", "");
				                return 1;
				            }
				            case 3:
				            {
				                str = "Lider de pandillas (GM), tio enojado y fuerte\nQue puede destruir y crear pandillas, disolver y crear alianzas / guerras entre pandillas sin su consentimiento\nY cambiar la politica general de las pandillas (que rango puede convertirse en lider y que diputado)\nTambien puede eliminar y nombrar lideres, no diputados, son nombrados por el lider del clan";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Gang Manager", str, "Ok", "");
				                return 1;
				            }
				            case 4:
				            {
				                str = "In para comenzar a interactuar con la pandilla, use (/gang settings)\nLa mayorнa de las configuraciones allн son mбs que claras, vamos a tocar la configuraciуn de las reglas\n*** Para abrirlos, debes convertirte en la pandilla mбs poderosa del servidor el dнa de las batallas entre pandillas\n\
				                Los gobernantes tienen la oportunidad de designar la guerra para las copas y entre pandillas cualquier dнa de la semana\nLas siguientes dos configuraciones: puede cambiar el nъmero mбximo de alianzas y guerras para pandillas, incluido usted\n\
				                Los gobernantes tienen la capacidad de asignar impuestos a otras pandillas, lo que significa\nque cuanto mayor sea el impuesto que hicieron, mбs experiencia le darбs a su bote al transferir la experiencia en una pandilla y mбs recibirбn de ti (mнnimo 35% y un mбximo de 65% de impuestos)\nComo esta pandilla es la que establece los impuestos, para ella no hay\n\
				                Tambiйn tienen la oportunidad de cambiar el umbral mнnimo para unirse a cualquier clan (rango mнnimo), incluidos ellos, sin embargo, el rango mнnimo no puede ser inferior a 5 si la pandilla no es neutral";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs {FF0000}> {FFFFFF}Gang Settings", str, "Ok", "");
				                return 1;
				            }
				        }
					}
				}
		        return 1;
		    }
		}
		
		case DIALOG_GAME_HELP_GPROCESS:
		{
		    if(response)
		    {
		        new str[2000];
		        switch(Player[playerid][pLang])
		        {
		            case 0:
		            {
				        switch(listitem)
				        {
				            case 0:
				            {
				                str = "***(/language)\nIn this mode, you need to survive And/Or kill the players from another team\nHere are 2 teams: 1 are humans, 2 are zombies\nThe task of people to survive until the end of time, this time is shown in the lower left corner in large blue numbers\nFor convenience, the display is provided in a language that you understand, if it is not, try changing it (/language)\nIt will also translate the text written here\n\
								Zombies must kill all humans before they can evacuate after this time has elapsed (300 seconds = 5 minutes)\nBoth can use abilities, depending on the class they choose (/class)\nMost beginners classes of humans do not have abilities\nWhile zombies have to use the ability of the class Press Left Alt\n\
								Be careful that class Object 02 eventually gains immunity to the class ability, so you need to try to kill it with another ability\nFor killing for humans / zombies / using abilities for zombies you will gain experience\nThis experience is needed to be able to play for other classes\nWhen choosing a class, experience is not wasted!\n\
								You can also gain experience participating in lotteries (/lottery), answering the first to the questions that appear in the chat (erudition)\nWeapons cannot be bought, they are given with the class and cannot be changed\nIt is made for balance\nBut, before you start playing, read the basic server (/rules)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Zombie Apocalypse Mode", str, "Ok", "");
				                return 1;
				            }
				            case 1:
				            {
				                str = "In this mode, you will fight 1 on 1 with a player with the same weapons\nAnyone who wins in any way wins (/duel)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Duels", str, "Ok", "");
				                return 1;
				            }
				            case 2:
				            {
				                str = "To participate in this mode you need to be a member of a normal gang\nEvery week passes a day when gangs can fight among themselves for Cups, Gold Coins, Items (/gang cup)\nOne gang can participate no more than 3 times\nThe first stage is an ordinary duel. There you can put the most powerful gang player\n\
				                The second stage is 2 on 2, 2 players from your gang against 2 players from another gang\nThe third stage is 3 on 3 - 3 of your members will battle here against 3 members of another gang\nThe 4th stage is a shootout, all the members participate there, and over time, everyone will receive a reward for winning or losing\n\
								If the battle did not end in nothing\nBe careful that the player's rank and equipment (trophies and pet, gang buff) play a significant role here\nYou can die from one player's bullet, or you can take no damage at all\nAlso, the gang's house buffs increase the amount of HP and its regeneration, vitality also increases regeneration\n\
								If within 2 minutes the player has not died, the victory will be with the team that caused more damage than the other\nIf you can't win, this is not a reason to write to the owner, recruit gamers and experienced players\nAnd not those who take your gang's reputation down\nWhen choosing who will participate in 1x1, 2x2, 3x3 duels, rely on the experience and equipment of your gang members!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Gang Cups", str, "Ok", "");
				                return 1;
				            }
				            case 3:
				            {
				                str = "Some server members can create their own events!\nThey have (EM) tag (Event Manager)\nThey can recruit assistants rulers who can also moderate the event\nFollow the rules of their event and get rewards!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Modular Events", str, "Ok", "");
				                return 1;
				            }
				        }
					}
					case 1:
					{
					    switch(listitem)
				        {
						    case 0:
				            {
				                str = "***(/language)\nВ этом режиме вам нужно выживать и / или убивать игроков из другой команды\nЗдесь 2 команды: 1 это люди, 2 это зомби\nЗадача людей выжить до конца времени, это время показано в левом нижнем углу большими синими цифрами\nДля удобства дисплей предоставляется на понятном вам языке, если нет, попробуйте изменить его (/language)\nОн также переведет текст, написанный здесь\n\
								Зомби должны убить всех людей, прежде чем они смогут эвакуироваться по истечении этого времени (300 секунд = 5 минут)\nОба могут использовать способности, в зависимости от класса, который они выбирают (/class)\nБольшинство начинающих классов людей не имеют способностей\nНо начальные зомби могут использовать умение класса Нажмите Левый Альт\n\
								Будьте осторожны, класс объект 02 в конечном итоге приобретает иммунитет к классовой способности, поэтому вам нужно попытаться убить его другой способностью\nЗа убийство людей / зомби / используя способности для зомби вы получите опыт\nЭтот опыт нужен, чтобы играть за другие классы\nПри выборе класса опыт не пропадает!\n\
								Вы также можете получить опыт участия в лотереях (/lottery), отвечая первым на вопросы, которые появляются в чате (эрудиция)\nОружие нельзя купить, оно дается с классом и не может быть изменено\nЭто сделано для баланса\nНо, прежде чем начать играть, прочитайте основные правила сервера (/rules)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Zombie Apocalypse Mode", str, "Ok", "");
				                return 1;
				            }
				            case 1:
				            {
				                str = "В этом режиме вы будете сражаться 1 на 1 с игроком с тем же оружием\nТот, кто победит любым способом, побеждает (/duel)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Duels", str, "Ok", "");
				                return 1;
				            }
				            case 2:
				            {
				                str = "Для участия в этом режиме вам необходимо быть членом нормальной банды\nКаждую неделю проходит день, когда банды могут сражаться между собой за кубки, золотые монеты, предметы (/gang cup)\nОдна банда может участвовать не более 3 раз\nПервый этап - обычный дуэль. Сюда вы можете поставить самого мощного игрока банды\n\
				                Второй этап - 2 на 2, 2 игрока из вашей банды против 2 игроков из другой банды\nТретий этап - 3 на 3, 3 ваших члена сразятся здесь с 3 членами другой банды\nЧетвертый этап - это перестрелка, в которой участвуют все участники, и со временем каждый получит вознаграждение за победу или поражение\n\
								Если битва не закончилась вничью\nБудьте осторожны, ранг и экипировка игрока (трофеи и питомцы, бафф банды) играют здесь существенную роль\nВы можете умереть от одной пули игрока, или вы можете не получить никакого урона вообще\nКроме того, баффы банды увеличивают количество здоровья и его регенерацию, живучесть также увеличивает регенерацию\n\
								Если в течение 2 минут ни один игрок не умер, победа будет за командой, которая нанесла больше урона, чем другая\nЕсли вы не можете выиграть, это не повод писать владельцу, набирайте акивных и опытных игроков\nА не тех, кто разрушает репутацию вашей банды\nПри выборе, кто будет участвовать в 1x1, 2x2, 3x3, положитесь на ранг и экипировку членов вашей банды!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Gang Cups", str, "Ok", "");
				                return 1;
				            }
				            case 3:
				            {
				                str = "Некоторые участники сервера могут создавать свои собственные события!\nУ них есть (EM) тэг (Event Manager)\nОни могут набирать помощников руководителей, которые также могут модерировать событие\nСледуй правилам их мероприятия и получай награды!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Modular Events", str, "Ok", "");
				                return 1;
				            }
						}
					}
					case 2:
					{
					    switch(listitem)
				        {
						    case 0:
				            {
				                str = "***(/language)\nEn este modo, debes sobrevivir y / o matar jugadores de otro equipo\nHay 2 equipos: 1 son personas, 2 son zombies\nLa tarea de las personas de sobrevivir hasta el final de los tiempos, esta vez se muestra en la esquina inferior izquierda en grandes numeros azules\nPara mayor comodidad, la pantalla se proporciona en un idioma que entienda, si no, intente cambiarlo (/language)\nTambien traducira el texto escrito aqui\n\
								Los zombis deben matar a todas las personas antes de que puedan evacuar despues de este tiempo (300 segundos = 5 minutos)\nAmbos pueden usar habilidades, dependiendo de la clase que elijan (/class)\nLa mayoria de las clases principiantes de personas no tienen habilidades\nPero los zombis iniciales pueden usar la habilidad de clase\n\
								Ten cuidado, de clase el objeto 02 eventualmente se vuelve inmune a la habilidad de clase, por lo que debes intentar matarlo con otra habilidad\nPara matar personas / zombies / usar habilidades para zombies obtendras experiencia\nEsta experiencia es necesaria para jugar en otras clases\n?Al elegir una clase, la experiencia no desaparece!\n\
								Tambien puede obtener experiencia de loteria (/lottery), respondiendo las primeras preguntas que aparecen en el chat (erudicion)\nLas armas no se pueden comprar, se entregan con una clase y no se pueden cambiar\nEsta hecho para el equilibrio\nPero, antes de comenzar a jugar, lea las reglas basicas del servidor (/rules)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Zombie Apocalypse Mode", str, "Ok", "");
				                return 1;
				            }
				            case 1:
				            {
				                str = "En este modo, lucharas 1 contra 1 con un jugador con la misma arma\nCualquiera que gane de alguna manera gana (/duel)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Duels", str, "Ok", "");
				                return 1;
				            }
				            case 2:
				            {
				                str = "Para participar en este modo, debes ser miembro de una pandilla normal\nCada semana pasa un dia en que las pandillas pueden luchar entre ellas por tazas, monedas de oro, articulos (/gang cup)\nUna pandilla no puede participar mas de 3 veces\nLa primera etapa es un duelo ordinario. Aqui puedes poner al jugador de pandillas mas poderoso\n\
				                La segunda etapa: 2 contra 2, 2 jugadores de tu pandilla contra 2 jugadores de otra pandilla\nLa tercera etapa: 3 contra 3, 3 de tus miembros lucharan aqui con 3 miembros de otra pandilla\nLa cuarta etapa es un tiroteo en el que participan todos los participantes y, con el tiempo, todos recibiran una recompensa por ganar o perder\n\
								Si la batalla no termino en empate\nTenga cuidado, el rango y el equipo del jugador (trofeos y mascotas, pandillas de mejora) juegan un papel importante aqui\nPuedes morir por la bala de un jugador o no recibir ningun dano\nAdemas, los beneficios de las pandillas aumentan la cantidad de salud y su regeneracion, la vitalidad tambien aumenta la regeneracion\n\
								Si ningun jugador muere en 2 minutos, la victoria sera con el equipo que causo mas dano que el otro\nSi no puede ganar, esta no es una razon para escribir al propietario, reclutar jugadores activos y con experiencia\nNo aquellos que arruinan la reputacion de tu pandilla\nAl elegir quien participara en 1x1, 2x2, 3x3, ?confie en el rango y el equipo de los miembros de su pandilla!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Gang Cups", str, "Ok", "");
				                return 1;
				            }
				            case 3:
				            {
				                str = "?Algunos miembros del servidor pueden crear sus propios eventos!\nTienen una etiqueta (EM) (Event Manager)\nPueden reclutar subgerentes que tambien pueden moderar el evento\n?Sigue las reglas de su evento y obten recompensas!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process {FF0000}> {FFFFFF}Modular Events", str, "Ok", "");
				                return 1;
				            }
						}
					}
				}
		        return 1;
			}
		}
		
		case DIALOG_GAME_HELP:
		{
		    if(response)
		    {
		        new str[2500];
		        switch(Player[playerid][pLang])
		        {
		            case 0:
		            {
				        switch(listitem)
				        {
				            case 0:
							{
							    str = "Zombie Apocalypse Mode\nDuels\nGang Cups\nModular Events";
							    ShowPlayerDialog(playerid, DIALOG_GAME_HELP_GPROCESS, DIALOG_STYLE_LIST, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process", str, "Select", "Back");
								return 1;// Game Process
							}
				            case 1:
							{
							    cmd::rules(playerid);
								return 1;//Server Rules
							}
							case 2: return 1;//Game Chats
							case 3:
							{
							    str = "When income a new update on the server, a message will appear showing the start of tech. works\n15 seconds before the start, the server will warn all players about disconnecting from the database and will be turned off\nThe server will work after the end of tech. works";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Tech. Work", str, "Ok", "");
								return 1;//Tech. Work
							}
							case 4:
							{
							    str = "The server has 5 teams:\n1 and 2 are people and zombies (Light Blue & Green)\n3 are players participating in duels (Purple)\n4 are players participating in competitions between gangs (No color) (Another Locations)\n5 are players participating in modular user events (From Red to Blue colors)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Teams", str, "Ok", "");
								return 1;//Teams
							}
							case 5: return 1;//Classes
							case 6:
							{
							    str = "A player who has less than 15,000 experience or has a booster can become a Human Hero\nNearby (10m) with the hero players do double damage to zombies\nAlso the hero receives M4 and a Deagle, as well as armor and reduced damage from a chainsaw\n\nAlmost any zombie can become a zombie boss\n\
								Zombies that have too little health or too much are not counted\nZombie boss has 200 hp and deals double damage\nIt cannot be healed by meat pickuping and cannot be killed with one hit / burned\n\nZombie boss and Human Hero can appear on the server when the total number of players is 10 or more";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Ranks", str, "Ok", "");
								return 1;//Human Hero / Zombie Boss
							}
							case 7: //Ranks
							{
							    str = "Rank is a measure of a player's level (/ranks)\nBy increasing the rank you increase the level of shooting and the level of evasion\nThe ranks only work on gang competition days: Gang War & Gang Cups Days\n\n\nHowever, it is worth noting that a player who has the \"Accuracy\" trophy has a success chance to shoot the player, even if he is above your level\nIn combination with a Fire Pet, you can increase your damage to a player many times\nAnd also lower it by using The Earth Pet";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Ranks", str, "Ok", "");
				                return 1;
							}
							case 8: //Gangs
							{
							    str = "Ruller Gang\nNormal Gang\nNeutral Gang\nGang Manager\nSettings";
							    ShowPlayerDialog(playerid, DIALOG_GAME_HELP_GANGS, DIALOG_STYLE_LIST, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs", str, "Select", "Back");
				                return 1;
							}
							case 9:
							{
							    str = "The server has an inventory system in which you can contain various items (/inv)\nMaximum number of slots 50\nSome things may be temporary, the inventory will also display this (Deffender Event)\nSome items in your inventory cannot have more than one in a slot\nSome items in the inventory may be transferred / sold to other players (/give)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs", str, "Ok", "");
								return 1;//Inventory + Items
							}
							case 10: //Daily Quests
							{
							    str = "By completing daily tasks, you can rank up more quickly (/quest)\nIt is worth noting that the higher the rank, the higher the difficulty in obtaining coins and, accordingly, increasing the rank\nReceived tasks for coins can be exchanged for trophies\nThe more expensive the coin, the higher the chance to get a rarer trophy";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Quests", str, "Ok", "");
				                return 1;
							}
							case 11:
							{
		     					str = "For completing achievements you will receive experience (/achievements)\nIf you complete all the achievements on the first page, you will receive a reward\n*** The second sheet is not taken into account, as it was added after\nSome achievements are not so simple to fulfill as they might seem at first glance\nAll of them need a smart approach and thinking";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Achievements", str, "Ok", "");
								return 1;//Achievements
							}
							case 12:
							{
							    str = "Trophies can be obtained by completing the daily quest (get a coin for the quest) and have completed the achievement (/trophies)\nSelect a coin in the invoice and click on the achievement you need, you cannot create a trophy from one achievement twice\nYou can only remove the trophy\nThe rarity of the trophy depends on your luck and the rarity of the coin. The type of trophy depends on the randomness\n\
							    Vitality Trophy - Gives a Health Bonus\nAccuracy Trophy - Increases Accuracy and Damage\nEvasion Trophy - Increases Evasion Rate\nWarrior Trophy - Increases Melee Damage\nTrophy of a Titan - There is a chance to throw the enemy back when he attacks you (Gang Cups & Gang War Days only)\nMirror Trophy - There is a chance to reflect part of the damage back to the enemy (Gang Cups & Gang War Days only)\n\
							    *** Trophies limit is 12\nThe maximum trophy level depends on your rank (max. 12), respectively, the trophy parameters of players with a high rank will be better\nTrophies can be reinforced with coins\nTrophies can be:\nCommon (+1 stat per level)\nRare (+2 stat per level)\nUnique (+3 stat per level)\nEpic (+5 stat per level)\nLegendary (+7 stat per level)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Quests", str, "Ok", "");
								return 1;//Trophies
							}
							case 13: //Pets
							{
							    str = "To create a pet you need all the items that are listed here: (/craft)\nTo dress / remove / change your pet use (/pets)\n\nAfter collecting the required number of items, creating pets may not be successful, the rarer the pet, the lower the chance of creating it\n\
							    Pet can increase your HP / HP regeneration (Love Pet [Valentine Event])\nPet can increase your exp (Moon Pet)\nPet can increase your damage (Fire Pet)\nPet can lower your enemies damage (The Earth Pet)\nPet can speed up you (Air Pet)\n\n\
							    You can get these items by killing players / Daily Reward (1-10 items)\nIt is worth noting that there are drop amplifiers that increase the chance of an item drop (/shop) | Daily Reward\n\nPets can be:\nCommon\nRare\nUnique\nLegendary\nGenuine\n\n\
								VIP Pet: Faster level uping speed and slightly improved stats\nPet level grows from killing an enemy team\n\n*** Pets can be sold to players if the pet level is 1 (/give)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Pets", str, "Ok", "");
				                return 1;
							}
							case 14: //Merchant
							{
				                str = "Every Friday comes a merchant who brings different things\nIt can be both boosters and unique pieces of jewelry\n\nGold Coins for which you can buy these things can be obtained by fighting between server gangs\n*** In gang cups day\n*** Gold Coins cannot be transferred between players";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Merchant", str, "Ok", "");
				                return 1;
				            }
				            case 15: //Daily Rewards
				            {
				                str = "When you enter the server, you get various kinds of bonuses, these can be either boosters or other things\nOver time, you will begin to receive unique items of clothing and upgrades for clothing slots\nSome boosters only work with online 10+ people (Example: Medkit)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Daily Rewards", str, "Ok", "");
				                return 1;
				            }
				            case 16: // Skills
				            {
				                str = "{FFFFFF}After a long game on the server, your game rank has grown, so what to do with it now?\nAnswer: Time to skills up!\n\nIn order to open a skill you need to have a certain rank and experience\n*** It is worth noting that not all skills are available just like that, some can open only after unlock another\n\
				                This arrow: {FFF000}|^|{FFFFFF} indicates that the skill from above should be up to the maximum\nOnly after that you can open and up in a new skill\nOh I said 'open'?\n- Exactly!\nTo begin with, to up a skill you need to buy it, but it doesn't end on one purchase\n\
								*** It is worth noting that the experience with the purchase will be taken away\n*** If it has not been opened before\nEach time you upgrade a skill, you will lose a skill point\nEach such skill point can be obtained for a new rank\n*** It is worth noting that most skills do not work in the ZA mode\n\
								But such: Wisdom, Reaction, Various kinds of resistance and Adrenaline - work\nThis was done to balance the game\n- So where can I use these skills?\nAnswer: In battles for cups or on the day of war of all gangs\nAfter all, it is on these days that rank, skills, pets and equipment play a significant role in the battle!\n\
								Be smart and wary, do not swing skills out of ignorance of what you are doing\nFor resetting these skills is possible only when activating a special powder\nSuch a powder is given for winning in cup battles, as a random reward or in daily bonuses\nThe End: Fight for maps and cool bonuses having advantages over other players!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Skills", str, "Ok", "");
				                return 1;
				            }
				        }
				    }
				    case 1:
				    {
				        switch(listitem)
				        {
				            case 0:
							{
							    str = "Режим зомби-апокалипсиса\nДуэли\nСражения за кубки\nМодульные события";
							    ShowPlayerDialog(playerid, DIALOG_GAME_HELP_GPROCESS, DIALOG_STYLE_LIST, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process", str, "Select", "Back");
								return 1;// Game Process
							}
				            case 1:
							{
							    cmd::rules(playerid);
								return 1;//Server Rules
							}
							case 2: return 1;//Game Chats
							case 3:
							{
							    str = "Когда появится новое обновление на сервере, появится сообщение, показывающее начало тех. работ\nЗа 15 секунд до старта сервер предупредит всех игроков об отключении от базы и будет выключен\nСервер будет работать после окончания тех. работ";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Tech. Work", str, "Ok", "");
								return 1;//Tech. Work
							}
							case 4:
							{
							    str = "На сервере 5 команд:\n1 и 2 - люди и зомби (Голубые и Зеленые)\n3 - дуэлянты (Фиолетовые)\n4 игроки, участвующие в соревнованиях между бандами (без цвета) (В других локациях)\n5 игроки, участвующие в модульных пользовательских мероприятиях (от Красного до Синего цветов)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Teams", str, "Ok", "");
								return 1;//Teams
							}
							case 5: return 1;//Classes
							case 6:
							{
							    str = "Игрок, имеющий менее 15 000 опыта или бустер, может стать героем\nРядом (10м) с героем игроки наносят двойной урон по зомби\nТакже герой получает M4 и Deagle, а также броню и уменьшенный урон от бензопилы\n\nПочти любой зомби может стать боссом зомби\n\
								Зомби, которые имеют слишком мало или слишком много здоровья, не учитываются\nБосс зомби имеет 200 хп и наносит двойной урон\nОн не может быть вылечен при получении мяса и не может быть убит одним ударом / сожжен\n\nБосс зомби и Герой могут появиться на сервере, если общее количество игроков составляет 10 или более";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Ranks", str, "Ok", "");
								return 1;//Human Hero / Zombie Boss
							}
							case 7: //Ranks
							{
							    str = "Ранг является мерой уровня игрока (/ranks)\nУвеличивая звание, вы увеличиваете уровень стрельбы и уровень уклонения\nРанги работают только в дни соревнований банд: Gang War и Gang Cups Days\n\n\nТем не менее, стоит отметить, что у игрока, имеющего трофей \"Точность\", есть шанс с успехом застрелить игрока, даже если он выше вашего уровня\nВ сочетании с огненным питомцем вы можете увеличить свой урон по игроку во много раз\nА также снизить его, используя Земное животное";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Ranks", str, "Ok", "");
				                return 1;
							}
							case 8: //Gangs
							{
							    str = "Правители\nНормальные банды\nНейтральные Банды\nРуководитель Банд\nНастройки";
							    ShowPlayerDialog(playerid, DIALOG_GAME_HELP_GANGS, DIALOG_STYLE_LIST, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs", str, "Select", "Back");
				                return 1;
							}
							case 9:
							{
							    str = "На сервере есть система инвентаря, в котором вы можете содержать различные предметы (/inv)\nМаксимальное количество слотов 50\nНекоторые вещи могут быть временными, инвентарь также будет отображать это\nНекоторые предметы в вашем инвентаре не могут иметь более одного в слоте\nНекоторые предметы в инвентаре могут быть переданы / проданы другим игрокам (/give)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs", str, "Ok", "");
								return 1;//Inventory + Items
							}
							case 10: //Daily Quests
							{
							    str = "Выполняя ежедневные задания, вы можете качать ранг быстрее (/quest)\nСтоит отметить, что чем выше звание, тем выше сложность получения монет и, соответственно, повышения звания\nПолученные монеты за задания можно обменять на трофеи\nЧем дороже монета, тем выше шанс получить более редкий трофей";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Quests", str, "Ok", "");
				                return 1;
							}
							case 11:
							{
		     					str = "За выполнение достижений вы получите опыт (/achievements)\nЕсли вы выполните все достижения на первой странице, вы получите награду\n*** Второй лист не учитывается, так как он был добавлен после\nНекоторые достижения не так просто выполнить, как может показаться на первый взгляд\nВсе они нуждаются в умном подходе и мышлении";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Achievements", str, "Ok", "");
								return 1;//Achievements
							}
							case 12:
							{
							    str = "Трофеи можно получить, выполнив ежедневный квест (получить монетку за квест) и выполнив достижение (/trophies)\nВыберите монету в инвентаре и нажмите на достижение, которое вам нужно, вы не можете создать трофей из одного достижения дважды\nВы можете удалить только трофей\nРедкость трофея зависит от вашей удачи и редкости монеты. Тип трофея зависит от случайности\n\
							    Трофей Живучести - дает бонус здоровья\nТрофей Точности - Увеличивает Точность и Урон\nТрофей уклонения - увеличивает шанс уклонения\nТрофей Воина - Увеличивает урон в ближнем бою\nТрофей Титана - есть шанс отбросить врага назад, когда он атакует вас (только в Кубковых Сражениях)\nЗеркальный Трофей - есть шанс отразить часть урона обратно врагу (только в Кубковых Сражениях)\n\
							    *** Предел трофеев 12\nМаксимальный уровень трофея зависит от вашего ранга (макс. 12), соответственно параметры трофея у игроков с высоким рангом будут лучше\nТрофеи могут быть усилены монетами\nТрофеии бывают:\nОбычный (+1 стат за прокачку)\nРедкий (+2 стата за прокачку)\nУникальный (+3 стата за прокачку)\nЭпический (+5 статов за прокачку)\nЛегендарный (+7 статов за прокачку)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Quests", str, "Ok", "");
								return 1;//Trophies
							}
							case 13: //Pets
							{
							    str = "Для создания питомца вам понадобятся все предметы, перечисленные здесь: (/craft)\nЧтобы одеть / удалить / изменить вашего питомца используйте (/pets)\n\nПосле того, как вы собрали необходимое количество предметов, создание домашних животных может быть неудачным, чем реже животное, тем ниже вероятность его создания\n\
							    Питомец может увеличить ваш уровень HP / регенерацию HP (Питомец Любви [Давался как награда в День Святого Валентина])\nПитомец может увеличить ваш опыт (Лунный)\nПитомец может увеличить ваш урон (Огненный)\nПитомец может снизить урон ваших врагов (Питомец Земли)\nПитомец может ускорить вас (Ветреной)\n\n\
							    Вы можете получить эти предметы, убивая игроков / За ежедневный вход (1-10 предметов)\nСтоит отметить, что есть усилители выпадения, которые увеличивают вероятность выпадения предмета (/shop) | За ежедневный вход\n\nПитомцы могут быть:\nОбычный\nРедкий\nУникальный\nЛегендарный\nНастоящий\n\n\
								VIP Питомец:Более быстрая скорость повышения уровня и немного улучшенные характеристики\nУровень питомца растет от убийства вражеской команды\n\n*** Питомцы могут быть проданы игрокам, если уровень питомца 1 (/give)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Pets", str, "Ok", "");
				                return 1;
							}
							case 14: //Merchant
							{
				                str = "Каждую пятницу приезжает торговец, который приносит разные вещи\nЭто могут быть как бустеры, так и уникальные украшения\n\nЗолотые монеты, за которые можно купить эти вещи, можно получить, сражаясь между серверными бандами\n*** В кубковых сражениях\n*** Золотые монеты не могут быть переданы между игроками";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Merchant", str, "Ok", "");
				                return 1;
				            }
				            case 15: //Daily Rewards
				            {
				                str = "При входе на сервер вы получаете различные виды бонусов, это могут быть как бустеры, так и другие вещи\nСо временем вы начнете получать уникальные предметы одежды и улучшения для слотов одежды\nНекоторые бустеры работают только с 10+ людьми онлайн (пример: Medkit)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Daily Rewards", str, "Ok", "");
				                return 1;
				            }
				            case 16: // Skills
				            {
				                str = "{FFFFFF}После длительной игры на сервере ваш игровой ранг вырос, что же с ним теперь делать?\nОтвет: Прокачайте скиллы!\n\nДля того чтобы открыть скилл вам необходимо иметь определенный ранг и опыт\n*** Стоит заметить, что не все скиллы доступны просто так, некоторые могут открытся, только после прокачки другого\n\
				                Эта стрелочка: {FFF000}|^|{FFFFFF} указывает на то, что скилл сверху должен быть прокачан до максимума\nТолько после этого вы сможете открыть и вкачать новый скилл\nОх, я сказал 'открыть'?\n- Именно!\nДля начала, чтобы прокачать скилл его необходимо купить, однако на одной покупке все не заканчивается\n\
								*** Стоит заметить, что опыт при покупке будет отнят\n*** Если не был открыт до этого\nПри каждой прокачке скилла вы будете терять очко умений\nКаждое такое очко умений можно получить за новый ранг\n*** Стоит заметить, что большинство скиллов не работают в режиме ЗА\n\
								Но такие: Мудрость, Реакция, Различного рода сопротивления и Адреналин - работают\nЭто было сделано для баланса игры\n- Так где я могу использовать эти скиллы?\nОтвет: В сражениях за кубки или в день войны всех банд\nВедь именно в эти дни ранг, скиллы, питомцы и экипировка играют значительную роль в сражении!\n\
								Будьте умны и насторожены, не качайте скиллы по незнанию, что вы делаете\nИбо сбросить эти умения можно только при активации специального порошка\nТакой порошок даётся за победу в кубковых сражениях, как случайная награда или в ежедневный бонусах\nКонец: Сражайтесь за карты и крутые бонусы имея преимущества перед другими игроками!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Skills", str, "Ok", "");
				                return 1;
				            }
				        }
				    }
				    case 2:
				    {
				        switch(listitem)
				        {
				            case 0:
							{
							    str = "Modo Apocalipsis Zombi\nDuelos\nBatallas de copa\nEventos modulares";
							    ShowPlayerDialog(playerid, DIALOG_GAME_HELP_GPROCESS, DIALOG_STYLE_LIST, "{FFFFFF}Help {FF0000}> {FFFFFF}Game Process", str, "Select", "Back");
								return 1;// Game Process
							}
				            case 1:
							{
							    cmd::rules(playerid);
								return 1;//Server Rules
							}
							case 2: return 1;//Game Chats
							case 3:
							{
							    str = "Cuando aparece una nueva actualizacion en el servidor, aparece un mensaje que muestra el inicio de las mismas. funciona\n15 segundos antes del inicio, el servidor advertira a todos los jugadores sobre la desconexion de la base y se apagara\nEl servidor funcionara despues del final de esos. funciona";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Tech. Work", str, "Ok", "");
								return 1;//Tech. Work
							}
							case 4:
							{
							    str = "Hay 5 equipos en el servidor:\n1 y 2 - humanos y zombies (azul y verde)\n3 - Duelistas (Purpura)\n4 jugadores que participan en competiciones entre pandillas (sin color) (en otros lugares)\n5 jugadores que participan en eventos de usuario modulares (de rojo a azul)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Teams", str, "Ok", "");
								return 1;//Teams
							}
							case 5: return 1;//Classes
							case 6:
							{
							    str = "Un jugador con menos de 15,000 de experiencia o un refuerzo puede convertirse en un heroe\nCerca (10 m) con el heroe, los jugadores infligen el doble de dano a los zombis\nEl heroe tambien recibe M4 y Deagle, asi como armadura y dano reducido de una motosierra\n\nCasi cualquier zombie puede convertirse en un jefe zombie\n\
								Los zombis que tienen muy poca o demasiada salud no se cuentan\nEl jefe zombi tiene 200 caballos de fuerza y causa el doble de dano\nNo se puede curar recibiendo carne y no se puede matar de un solo golpe / quemado\n\nEl jefe y el heroe zombis pueden aparecer en el servidor si el numero total de jugadores es 10 o mas";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Ranks", str, "Ok", "");
								return 1;//Human Hero / Zombie Boss
							}
							case 7: //Ranks
							{
							    str = "El rango es una medida del nivel del jugador (/ranks)\nAl aumentar el rango, aumenta el nivel de disparo y el nivel de evasion\nLos rangos solo funcionan en dias de competencia de pandillas: Gang War и Gang Cups Days\n\n\nSin embargo, vale la pena senalar que un jugador con un trofeo \"Precision\" tiene la oportunidad de disparar con exito a un jugador, incluso si esta por encima de su nivel\nEn combinacion con una mascota de fuego, puedes aumentar tu dano a un jugador muchas veces\nY tambien bajarlo usando animales de la Tierra";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Ranks", str, "Ok", "");
				                return 1;
							}
							case 8: //Gangs
							{
							    str = "Gobernantes\nPandillas normales\nPandillas Neutrales\nLider de pandillas\nConfiguraciones";
							    ShowPlayerDialog(playerid, DIALOG_GAME_HELP_GANGS, DIALOG_STYLE_LIST, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs", str, "Select", "Back");
				                return 1;
							}
							case 9:
							{
							    str = "El servidor tiene un sistema de inventario en el que puede contener varios articulos (/inv)\nNumero maximo de ranuras 50\nAlgunas cosas pueden ser temporales, el inventario tambien lo mostrara\nAlgunos articulos en su inventario no pueden tener mas de uno en la ranura\nAlgunos articulos en el inventario pueden ser transferidos / vendidos a otros jugadores (/give)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Gangs", str, "Ok", "");
								return 1;//Inventory + Items
							}
							case 10: //Daily Quests
							{
							    str = "Al realizar tareas diarias, puede descargar un rango mas rapido (/quest)\nVale la pena senalar que cuanto mayor sea el rango, mayor sera la dificultad de obtener monedas y, en consecuencia, aumentar el rango\nLas monedas recibidas por tareas se pueden cambiar por trofeos\nCuanto mas cara sea la moneda, mayores seran las posibilidades de obtener un trofeo mas raro";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Quests", str, "Ok", "");
				                return 1;
							}
							case 11:
							{
		     					str = "Ganaras experiencia para completar logros (/achievements)\nSi completa todos los logros en la primera pagina, recibira una recompensa\n*** La segunda hoja no se tiene en cuenta, ya que se agrego despues\nAlgunos logros no son tan faciles de cumplir como podria parecer a primera vista\nTodos necesitan un enfoque inteligente y pensamiento";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Achievements", str, "Ok", "");
								return 1;//Achievements
							}
							case 12:
							{
							    str = "Los trofeos se pueden obtener al completar la mision diaria (obtener una moneda para la mision) y completar el logro (/trophies)\nSeleccione una moneda en el inventario y haga clic en el logro que necesita, no puede crear un trofeo a partir de un logro dos veces\nSolo puedes quitar el trofeo\nLa rareza del trofeo depende de tu suerte y la rareza de la moneda. El tipo de trofeo depende del azar\n\
							    Trofeo de vitalidad: otorga un bono de salud\nTrofeo de precision: aumenta la precision y el dano\nEvasion Trophy: aumenta la probabilidad de evasion\nWarrior Trophy: aumenta el dano cuerpo a cuerpo\nTitan Trophy: existe la posibilidad de devolver al enemigo cuando te ataca (solo en Cup Battles)\nMirror Trophy: existe la posibilidad de reflejar parte del dano al enemigo (solo en Cup Battles)\n\
							    *** Trofeo Limite 12\nEl nivel maximo de trofeo depende de su rango (max. 12), por lo que los parametros del trofeo para jugadores con un rango alto seran mejores\nLos trofeos se pueden reforzar con monedas\nLos trofeos suceden:\nOrdinario (+1 punto por nivelacion)\nRaro (+2 punto por nivelacion)\nUnico (+3 punto por nivelacion)\nEpica(+5 punto por nivelacion)\nLegendario (+7 punto por nivelacion)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Quests", str, "Ok", "");
								return 1;//Trophies
							}
							case 13: //Pets
							{
							    str = "Para crear una mascota, necesitara todos los elementos enumerados aqui: (/craft)\nPara vestir / quitar / cambiar el uso de su mascota (/pets)\n\nDespues de haber recogido el numero requerido de articulos, la creacion de mascotas puede no tener exito, cuanto menos frecuente sea el animal, menor sera la probabilidad de su creacion\n\
							    Una mascota puede aumentar su regeneracion de HP / HP (Pet of Love [Dado como recompensa en el Dia de San Valentin])\nLa mascota puede mejorar tu experiencia (Lunar)\nLa mascota puede aumentar tu dano (fuego)\nUna mascota puede reducir el dano de tus enemigos (Earth Pet)\nLa mascota puede acelerarte (ventoso)\n\n\
							    Puede obtener estos articulos matando jugadores / Para la entrada diaria (1-10 articulos)\nVale la pena senalar que hay amplificadores de caida que aumentan la probabilidad de que un articulo se caiga (/shop) | Para entrada diaria\n\nLas mascotas pueden ser:\nOrdinario\nRaro\nUnico\nLegendario\nPresente\n\n\
								VIP Mascota: Velocidad de nivelacion mas rapida y caracteristicas ligeramente mejoradas\nEl nivel de mascota aumenta al matar a un equipo enemigo\n\n*** Las mascotas se pueden vender a los jugadores si la mascota es de nivel 1 (/give)";
							    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Pets", str, "Ok", "");
				                return 1;
							}
							case 14: //Merchant
							{
				                str = "Todos los viernes llega un comerciante que trae cosas diferentes\nPueden ser refuerzos y decoraciones unicas\n\nLas monedas de oro para las que puedes comprar estas cosas se pueden obtener luchando entre pandillas de servidores\n*** En batallas de copa\n*** Las monedas de oro no se pueden transferir entre jugadores";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Merchant", str, "Ok", "");
				                return 1;
				            }
				            case 15: //Daily Rewards
				            {
				                str = "Cuando ingresas al servidor, obtienes varios tipos de bonificaciones, que pueden ser tanto potenciadores como otras cosas\nCon el tiempo, comenzara a recibir prendas unicas y mejoras para las maquinas tragamonedas\nAlgunos boosters solo funcionan con mas de 10 personas en linea (un ejemplo: Medkit)";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Daily Rewards", str, "Ok", "");
				                return 1;
				            }
				            case 16: // Skills
				            {
				                str = "{FFFFFF}Despuйs de un largo juego en el servidor, su rango de juego ha crecido, їquй hacer con йl ahora?\nRespuesta: ЎEs hora de mejorar!\n\nPara abrir una habilidad necesitas tener un cierto rango y experiencia\n*** Vale la pena seсalar que no todas las habilidades estбn disponibles asн, algunas solo se pueden abrir despuйs de desbloquear otras\n\
				                Esta flecha: {FFF000}|^|{FFFFFF} indica que la habilidad de arriba debe estar al mбximo\nSolo despuйs de eso puedes abrir una nueva habilidad\nOh, dije 'abierto'?\n- Exactamente!\nPara empezar, para mejorar una habilidad debes comprarla, pero no termina en una compra\n\
								*** Vale la pena seсalar que se quitarб la experiencia con la compra\n*** Si no se ha abierto antes\nCada vez que actualices una habilidad, perderбs un punto de habilidad\nCada punto de habilidad se puede obtener para un nuevo rango\n*** Vale la pena seсalar que la mayorнa de las habilidades no funcionan en el modo ZA\n\
								Pero tales: sabidurнa, reacciуn, varios tipos de resistencia y adrenalina - trabajo\nEsto se hizo para equilibrar el juego\n- Entonces, їdуnde puedo usar estas habilidades?\nRespuesta: En batallas por copas o en el dнa de la guerra de todas las pandillas\nЎDespuйs de todo, es en estos dнas que el rango, las habilidades, las mascotas y el equipo juegan un papel importante en la batalla!\n\
								Sй inteligente y cauteloso, no cambies las habilidades por ignorancia de lo que estбs haciendo\nPara restablecer estas habilidades solo es posible al activar un polvo especial\nTal polvo se da para ganar en batallas de copa, como recompensa aleatoria o en bonos diarios\nThe End: lucha por mapas y bonificaciones geniales que tengan ventajas sobre otros jugadores!";
				                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FFFFFF}Help {FF0000}> {FFFFFF}Skills", str, "Ok", "");
				                return 1;
				            }
				        }
				    }
				}
			}
		    return 1;
		}
		
		case DIALOG_UPGRADE_SKILLS:
		{
		    if(response)
		    {
				new listIndex = ((listitem <= 1) ? 0 : listitem / 2);

				if(pSkills[playerid][e_sWasUnlocked][e_skills:listIndex] <= 0)
				{
				    if(UpgradesDependence[listIndex] > -1)
				    {
					    if(pSkills[playerid][e_skills:UpgradesDependence[listIndex]] < UpgradesMax[UpgradesDependence[listIndex]])
						{
                            switch(Player[playerid][pLang])
		        			{
		        			    case 0: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You need to up to max. the skill above!", "Ok", "");
									return 1;
								}
								case 1: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вам нужно прокачать до максимума скилл выше!", "Ок", "");
									return 1;
								}
								case 2: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "?Necesitas bombear a la habilidad maxima de arriba!", "Ok", "");
									return 1;
								}
		        			}
						}
						else
						{
							if(Player[playerid][pRank] < UpgradesRanks[listIndex])
						    {
						        switch(Player[playerid][pLang])
			        			{
			        			    case 0: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You do not have enough rank to buy it!", "Ok", "");
										return 1;
									}
									case 1: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вы не имеете достаточный ранг, чтобы купить это!", "Ок", "");
										return 1;
									}
									case 2: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "No tienes suficiente rango para comprarlo!", "Ok", "");
										return 1;
									}
			        			}
						    }
						    if(Player[playerid][pXP] < UpgradesExp[listIndex])
						    {
						        switch(Player[playerid][pLang])
			        			{
			        			    case 0: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You do not have enough exp to buy it!", "Ok", "");
										return 1;
									}
									case 1: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вы не имеете достаточно опыта, чтобы купить это!", "Ок", "");
										return 1;
									}
									case 2: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "No tienes suficiente exp para comprarlo!", "Ok", "");
										return 1;
									}
			        			}
						    }
						    pActionsSelected[playerid][0] = 0;
						    pActionsSelected[playerid][1] = listIndex;
						    
						    new str[144], l = Player[playerid][pLang];
					        switch(l)
					        {
								case 0:
								{
									format(str, sizeof(str), "{FFFFFF}Are you really want to {3399ff}buy %s{FFFFFF}\nfor %d EXP\n\n?", UpgradesNames[l][listIndex], UpgradesExp[listIndex]);
	                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", str, "Yes", "No");
									return 1;
								}
								case 1:
								{
									format(str, sizeof(str), "{FFFFFF}Вы действительно хотите {3399ff}купить %s{FFFFFF}\nЗа %d опыта\n\n?", UpgradesNames[l][listIndex], UpgradesExp[listIndex]);
	                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", str, "Да", "Нет");
	                                return 1;
								}
								case 2:
								{
									format(str, sizeof(str), "{FFFFFF}?De verdad quieres {3399ff}comprar %s{FFFFFF}\nPor %d exp\n\n?", UpgradesNames[l][listIndex], UpgradesExp[listIndex]);
	                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", str, "Si", "No");
	                                return 1;
								}
							}
						}
					}
					else
					{
					    if(Player[playerid][pRank] < UpgradesRanks[listIndex])
					    {
					        switch(Player[playerid][pLang])
		        			{
		        			    case 0: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You do not have enough rank to buy it!", "Ok", "");
									return 1;
								}
								case 1: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вы не имеете достаточный ранг, чтобы купить это!", "Ок", "");
									return 1;
								}
								case 2: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "No tienes suficiente rango para comprarlo!", "Ok", "");
									return 1;
								}
		        			}
					    }
					    if(Player[playerid][pXP] < UpgradesExp[listIndex])
					    {
					        switch(Player[playerid][pLang])
		        			{
		        			    case 0: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You do not have enough exp to buy it!", "Ok", "");
									return 1;
								}
								case 1: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вы не имеете достаточно опыта, чтобы купить это!", "Ок", "");
									return 1;
								}
								case 2: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "No tienes suficiente exp para comprarlo!", "Ok", "");
									return 1;
								}
		        			}
					    }
					    pActionsSelected[playerid][0] = 0;
					    pActionsSelected[playerid][1] = listIndex;
					    new str[144], l = Player[playerid][pLang];
				        switch(l)
				        {
							case 0:
							{
								format(str, sizeof(str), "{FFFFFF}Are you really want to {3399ff}buy %s{FFFFFF}\nfor %d EXP\n\n?", UpgradesNames[l][listIndex], UpgradesExp[listIndex]);
                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", str, "Yes", "No");
								return 1;
							}
							case 1:
							{
								format(str, sizeof(str), "{FFFFFF}Вы действительно хотите {3399ff}купить %s{FFFFFF}\nЗа %d опыта\n\n?", UpgradesNames[l][listIndex], UpgradesExp[listIndex]);
                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", str, "Да", "Нет");
                                return 1;
							}
							case 2:
							{
								format(str, sizeof(str), "{FFFFFF}?De verdad quieres {3399ff}comprar %s{FFFFFF}\nPor %d exp\n\n?", UpgradesNames[l][listIndex], UpgradesExp[listIndex]);
                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", str, "Si", "No");
                                return 1;
							}
						}
					}
				}
				else
				{
				    if(Player[playerid][pUpgPoints] >= 1)
				    {
				        if(UpgradesDependence[listIndex] > -1)
					    {
						    if(pSkills[playerid][e_skills:UpgradesDependence[listIndex]] < UpgradesMax[UpgradesDependence[listIndex]])
							{
	                            switch(Player[playerid][pLang])
			        			{
			        			    case 0: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You need to up to max. the skill above!", "Ok", "");
										return 1;
									}
									case 1: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вам нужно прокачать до максимума скилл выше!", "Ок", "");
										return 1;
									}
									case 2: {
										ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "?Necesitas bombear a la habilidad maxima de arriba!", "Ok", "");
										return 1;
									}
			        			}
							}
						}
					    if(pSkills[playerid][e_skills:listIndex] <  UpgradesMax[listIndex])
					    {
					        pActionsSelected[playerid][0] = 1;
						    pActionsSelected[playerid][1] = listIndex;
					        new str[144], l = Player[playerid][pLang];
					        switch(l)
					        {
								case 0:
								{
									format(str, sizeof(str), "{FFFFFF}Are you really want to up {3399ff}%s{FFFFFF}\n\n?", UpgradesNames[l][listIndex]);
	                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Upgrade skill", str, "Yes", "No");
									return 1;
								}
								case 1:
								{
									format(str, sizeof(str), "{FFFFFF}Вы действительно хотите улучшить {3399ff}%s{FFFFFF}\n\n?", UpgradesNames[l][listIndex]);
	                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Улучшение", str, "Да", "Нет");
                                    return 1;
								}
								case 2:
								{
									format(str, sizeof(str), "{FFFFFF}?De verdad quieres mejorar {3399ff}%s{FFFFFF}\n\n?", UpgradesNames[l][listIndex]);
	                                ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILL, DIALOG_STYLE_MSGBOX, "{FF0000}Mejora", str, "Si", "No");
                                    return 1;
								}
							}
					    }
					}
					else
					{
					    switch(Player[playerid][pLang])
	        			{
	        			    case 0: {
								ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Upgrade skill", "Not enough skill points!", "Ok", "");
								return 1;
							}
							case 1: {
								ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Улучшение", "Не хватает очков!", "Ок", "");
								return 1;
							}
							case 2: {
								ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Mejora", "?No hay suficientes puntos de habilidad!", "Ok", "");
								return 1;
							}
	        			}
					}
				}
		    }
		    else cmd::class(playerid,"");
		}
	    case DIALOG_UPGRADE_SKILL:
	    {
	        if(response)
	        {
	            if(pActionsSelected[playerid][1] <= -1)
	            {
	                ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Error", "Segmentation Fault", "Ok", "");
                    pActionsSelected[playerid][0] = -1;
	    			pActionsSelected[playerid][1] = -1;
					return 1;
	            }
	            new listIndex = pActionsSelected[playerid][1];
	            switch(pActionsSelected[playerid][0])
	            {
	                case 0:
	                {
	                    if(Player[playerid][pRank] < UpgradesRanks[listIndex])
					    {
					        switch(Player[playerid][pLang])
		        			{
		        			    case 0: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You do not have enough rank to buy it!", "Ok", "");
									return 1;
								}
								case 1: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вы не имеете достаточный ранг, чтобы купить это!", "Ок", "");
									return 1;
								}
								case 2: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "No tienes suficiente rango para comprarlo!", "Ok", "");
									return 1;
								}
		        			}
					    }
					    if(Player[playerid][pXP] < UpgradesExp[listIndex])
					    {
					        switch(Player[playerid][pLang])
		        			{
		        			    case 0: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You do not have enough exp to buy it!", "Ok", "");
									return 1;
								}
								case 1: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вы не имеете достаточно опыта, чтобы купить это!", "Ок", "");
									return 1;
								}
								case 2: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "No tienes suficiente exp para comprarlo!", "Ok", "");
									return 1;
								}
		        			}
					    }
					    Player[playerid][pXP] -= UpgradesExp[listIndex];
					    pSkills[playerid][e_sWasUnlocked][listIndex] = 1;
					    ShowUpgrades(playerid);
					    #if debug_mode == 0
					    new y, m, d, h, i, s, msg[164];
						TimestampToDate(gettime(), y, m, d, h, i, s, 3);
						DiscordChannel = DCC_FindChannelById("693662045995925604");
						format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s(%d) bought %s for %d EXP\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], UpgradesNames[0][listIndex], UpgradesExp[listIndex]);
						DCC_SendChannelMessageEx(DiscordChannel, msg);
						#endif
	                }
	                case 1:
	                {
	                    if(Player[playerid][pRank] < UpgradesRanks[listIndex])
					    {
					        switch(Player[playerid][pLang])
		        			{
		        			    case 0: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Buying skill", "You do not have enough rank to buy it!", "Ok", "");
									return 1;
								}
								case 1: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Покупка улучшения", "Вы не имеете достаточный ранг, чтобы купить это!", "Ок", "");
									return 1;
								}
								case 2: {
									ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{FF0000}Habilidad de compra", "No tienes suficiente rango para comprarlo!", "Ok", "");
									return 1;
								}
		        			}
					    }
					    pSkills[playerid][e_skills:listIndex]++;
					    Player[playerid][pUpgPoints]--;
					    ShowUpgrades(playerid);
					    #if debug_mode == 0
					    new y, m, d, h, i, s, msg[164];
						TimestampToDate(gettime(), y, m, d, h, i, s, 3);
						DiscordChannel = DCC_FindChannelById("693662045995925604");
						format(msg, sizeof(msg), "```\n%04d-%02d-%02d %s(%d) uped the skill %s to level %d of %d\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], UpgradesNames[0][listIndex], pSkills[playerid][e_skills:listIndex], UpgradesMax[listIndex]);
						DCC_SendChannelMessageEx(DiscordChannel, msg);
						#endif
	                }
	            }
	            pActionsSelected[playerid][0] = -1;
	    		pActionsSelected[playerid][1] = -1;
	        }
	        else
			{
			    pActionsSelected[playerid][0] = -1;
	    		pActionsSelected[playerid][1] = -1;
				ShowUpgrades(playerid);
				return 1;
			}
		}
		
	 	case DIALOG_CLASSES:
 	    {
 	        new cls[4096], tmps[128];
 	        if(response)
 	        {
				switch(listitem)
				{
			    	case 0:
					{
					    for( new i = 0; i < sizeof(svrCLHXP); i++ ) // sizeof(svrCLHRK)
						{
			   				if(i % 2 == 0)
			 				{
			 				    if(Player[playerid][pXP] < svrCLHXP[i])
				 		        {
				 		            format(tmps, 128, "{EC3013}%s{FFFFFF} - %s -{FF0000} %d %s\n", humanClassesListNames[Player[playerid][pLang]][i], svrCLH[Player[playerid][pLang]][i], svrCLHXP[i], serverLang[Player[playerid][pLang]][64]);
									strcat(cls, tmps);
				 		        }
				 		        else
				 		        {
 		            				format(tmps, 128, "{009900}%s{FFFFFF} - %s\n", humanClassesListNames[Player[playerid][pLang]][i], svrCLH[Player[playerid][pLang]][i]);
									strcat(cls, tmps);
				 		        }
			 				}
			 				else
			 				{
                                if(Player[playerid][pXP] < svrCLHXP[i])
				 		        {
				 		            format(tmps, 128, "{FF4D55}%s{A7A5A5} - %s -{FF0000} %d %s\n", humanClassesListNames[Player[playerid][pLang]][i], svrCLH[Player[playerid][pLang]][i], svrCLHXP[i], serverLang[Player[playerid][pLang]][64]);
									strcat(cls, tmps);
				 		        }
				 		        else
				 		        {
 		            				format(tmps, 128, "{75F0B0}%s{A7A5A5} - %s\n", humanClassesListNames[Player[playerid][pLang]][i], svrCLH[Player[playerid][pLang]][i]);
									strcat(cls, tmps);
								}
							}
						}
						for( new i = 0; i < sizeof(humanVIPClXP); i++ )
						{
						    format(tmps, 128, "{faf06d}%s - %s - VIP\n", humanVIPCl[Player[playerid][pLang]][i], humanVIPClAb[Player[playerid][pLang]][i]);
							strcat(cls, tmps);
						}
						ShowPlayerDialog(playerid, DIALOG_HUMAN_CLASSES, DIALOG_STYLE_LIST, serverLang[Player[playerid][pLang]][7], cls, serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
						return 1;
					}
					
					case 1:
					{
					    for( new i = 0; i < sizeof(svrCLZXP); i++ )
						{
			   				if(i % 2 == 0)
			 				{
			 				    if(Player[playerid][pXP] < svrCLZXP[i])
				 		        {
				 		            format(tmps, 128, "{EC3013}%s{FFFFFF} - %s -{FF0000} %d %s\n", zombieClassesListNames[Player[playerid][pLang]][i], svrCLZ[Player[playerid][pLang]][i], svrCLZXP[i], serverLang[Player[playerid][pLang]][64]);
									strcat(cls, tmps);
				 		        }
				 		        else
				 		        {
 		            				format(tmps, 128, "{009900}%s{FFFFFF} - %s\n", zombieClassesListNames[Player[playerid][pLang]][i], svrCLZ[Player[playerid][pLang]][i]);
									strcat(cls, tmps);
				 		        }
			 				}
			 				else
			 				{
			 				    if(Player[playerid][pXP] < svrCLZXP[i])
				 		        {
				 		            format(tmps, 128, "{FF4D55}%s{A7A5A5} - %s -{FF0000} %d %s\n", zombieClassesListNames[Player[playerid][pLang]][i], svrCLZ[Player[playerid][pLang]][i], svrCLZXP[i], serverLang[Player[playerid][pLang]][64]);
									strcat(cls, tmps);
				 		        }
				 		        else
				 		        {
 		            				format(tmps, 128, "{75F0B0}%s{A7A5A5} - %s\n", zombieClassesListNames[Player[playerid][pLang]][i], svrCLZ[Player[playerid][pLang]][i]);
									strcat(cls, tmps);
				 		        }
							}
						}
						for( new i = 0; i < sizeof(zombieVIPClXP); i++ )
						{
						    format(tmps, 128, "{faf06d}%s - %s - VIP\n", zombieVIPCl[Player[playerid][pLang]][i], zombieVIPClAb[Player[playerid][pLang]][i]);
							strcat(cls, tmps);
						}
						ShowPlayerDialog(playerid, DIALOG_ZOMBIE_CLASSES, DIALOG_STYLE_LIST, serverLang[Player[playerid][pLang]][7], cls, serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][5]);
						return 1;
					}
				}
  			}
  			else
  			{

			}
 	    }
 	    case DIALOG_ZOMBIE_CLASSES:
	 	{
	 		if(response)
		 	{
		 	    if(listitem < sizeof(svrCLZXP))
		 	    {
			 		if(Player[playerid][pXP] >= svrCLZXP[listitem] || gettime() < PlayerClassUnlocked[playerid][TEAM_ZOMBIE][listitem])
			 		{
				 		setPlayerClass(playerid, listitem, TEAM_ZOMBIE);
			 		}
			 		else ShowExpError(playerid, svrCLZXP[listitem]);
				}
				else
				{
					if(Player[playerid][pVip] >= zombieVIPClXP[listitem-sizeof(svrCLZXP)])
					{
				    	setPlayerClass(playerid, zombieVipClIDs[listitem-sizeof(svrCLZXP)], TEAM_ZOMBIE);
					}
					else ShowVipError(playerid, zombieVIPClXP[listitem-sizeof(svrCLZXP)]);
				}
			}
			if(!response) cmd::class(playerid,"");
		}
		
		case DIALOG_HUMAN_CLASSES:
		{
			if(response)
			{
			    if(listitem < sizeof(svrCLHXP))
			    {
					if(Player[playerid][pXP] >= svrCLHXP[listitem] || gettime() < PlayerClassUnlocked[playerid][TEAM_HUMAN][listitem])
					{
					    if(!Player[playerid][pWasGangAffected]) setPlayerClass(playerid, listitem, TEAM_HUMAN);
		 		    	else SendClientMessage(playerid, -1, "{FFF000}>> You are too wounded to change class");
						
					}
					else ShowExpError(playerid, svrCLHXP[listitem]);
				}
				else
				{
				    if(Player[playerid][pVip] >= humanVIPClXP[listitem-sizeof(svrCLHXP)])
					{
				    	if(!Player[playerid][pWasGangAffected]) setPlayerClass(playerid, humanVipClIDs[listitem-sizeof(svrCLHXP)], TEAM_HUMAN);
                        else SendClientMessage(playerid, -1, "{FFF000}>> You are too wounded to change class");
					}
					else ShowVipError(playerid, humanVIPClXP[listitem-sizeof(svrCLHXP)]);
				}
			}
            if(!response) cmd::class(playerid,"");
		}
		case DIALOG_LANGUAGE:
 	    {
 	        if(response) Player[playerid][pLang] = listitem,SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][6]);
 	    }
 	}
	return 1;
}

fun OnPlayerClickPlayer(playerid, clickedplayerid, source)
{
	if(!Player[playerid][pLogged]) return 0;
	if(Player[playerid][pAdmin] < 1)
	{
	    new s[4];
	    format(s, sizeof(s), "%d", clickedplayerid);
		cmd::stats(playerid, s);
	}
	else
	{
		if(!Player[playerid][aDuty]) return 0;
		if(clickedplayerid == playerid)
		{
		    cmd::specoff(playerid);
		    return 1;
		}
		if(GetPlayerState(clickedplayerid) == PLAYER_STATE_SPECTATING)
		{
		    SendClientMessage(playerid, -1, " /spec (id)");
		    return 1;
		}
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		TogglePlayerSpectating(playerid, 1);
		SetPlayerVirtualWorld(playerid,GetPlayerVirtualWorld(clickedplayerid));
		SetPlayerInterior(playerid,GetPlayerInterior(clickedplayerid));
		PlayerSpectatePlayer(playerid,clickedplayerid);
		for( new j; j < 8; j++ ) TextDrawShowForPlayer(playerid, APanel[playerid][j]);
		IsSpecing[playerid] = true;
		IsBeingSpeced[clickedplayerid] = true;
		spectatorid[playerid] = clickedplayerid;
		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][116], Player[playerid][UserName], Player[clickedplayerid][UserName], clickedplayerid);
	 	SendClientMessage(playerid, -1, "/specoff");
	}
	return 1;
}

fun ShowExpError(const playerid, const exp)
{
	SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][14], exp);
	return 1;
}

fun ShowVipError(const playerid, const exp)
{
	SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][151], exp);
	return 1;
}

stock setPlayerClass(const playerid, classid, const cteam)
{
    /*if(classid == FIREMANIAC && cteam == TEAM_HUMAN && GetWeekDay() == GANG_WARS_DAY)
 	{
	 	classid = CIVILIAN;
	 	SendClientMessage(playerid, -1, "{FF0000}>> You cannot select this class, select it tomorrow");
	}*/

	if(cteam == TEAM_HUMAN) Player[playerid][pClass][TEAM_HUMAN+1] = classid;
	else Player[playerid][pClass][TEAM_ZOMBIE+2] = classid;
	
	if(!Player[playerid][aDuty] && Time >= 285)
	{
		if(GetPlayerTeamEx(playerid) == cteam)
		{
		    //if(classid != LEATHERFACE && Player[playerid][LeatherFace][0]) Player[playerid][LeatherFace][0]=0;
		    configureClass(playerid);
			setClass(playerid);
			SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][23]);
		}
		else SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][24]);
	}
	else SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][24]);
}

stock getPlayerClass(const playerid, const cteam) return Player[playerid][pClass][(cteam*2)+1];
stock configureClass(const playerid)
{
	Player[playerid][pClass][TEAM_HUMAN] = Player[playerid][pClass][TEAM_HUMAN+1];
    Player[playerid][pClass][TEAM_ZOMBIE+1] = Player[playerid][pClass][TEAM_ZOMBIE+2];
}
stock setClassStartUp(const playerid) { Player[playerid][pClass][TEAM_HUMAN+1] = CIVILIAN; Player[playerid][pClass][TEAM_ZOMBIE+1] = STANDARDZOMBIE; }

fun setupHuman(playerid)
{
	SetPlayerColor(playerid, COLOR_HUMAN);
	SetPlayerTeamEx(playerid, TEAM_HUMAN);
    SetPlayerHealthAC(playerid, 100.0);
}

fun setupZombie(playerid)
{
	SetPlayerColor(playerid, COLOR_ZOMBIE);
	SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
	SetPlayerHealthAC(playerid, 100.0);
	if(Player[playerid][pClass][TEAM_ZOMBIE+1] == TANKZOMBIE) SetPlayerHealthAC(playerid, 300.0);
}

fun StartupZombie(playerid)
{
    SetPlayerColor(playerid, COLOR_ZOMBIE);
	SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
	SetPlayerHealthAC(playerid, 100.0);
	if(Player[playerid][pClass][TEAM_ZOMBIE+1] == TANKZOMBIE) SetPlayerHealthAC(playerid, 300.0);
	
	SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
	SpawnPlayer(playerid);
	SendClientMessage(playerid, -1, "{FFF000}>> You must constantly move in order to have a chance to be human in the next round!");
}

fun Float:GetDistanceBetweenPlayers(p1,p2)
{
    new Float:x1,Float:y1,Float:z1,Float:x2,Float:y2,Float:z2;
    if(!IsPlayerConnected(p1) || !IsPlayerConnected(p2)) {
        return -1.00;
    }
    GetPlayerPos(p1,x1,y1,z1);
    GetPlayerPos(p2,x2,y2,z2);
    return floatsqroot(floatpower(floatabs(floatsub(x2,x1)),2)+floatpower(floatabs(floatsub(y2,y1)),2)+floatpower(floatabs(floatsub(z2,z1)),2));
}

fun SeekerHunting(playerid, type)
{
	if(Time >= 275)
	{
		switch(Player[playerid][pLang])
	    {
			case 0: GameTextForPlayer(playerid, "~w~Too early", 1000, 5);
	        case 1: GameTextForPlayer(playerid,RusToGame("~w~РАНО"), 1000, 5);
	        case 2: GameTextForPlayer(playerid,"~w~Demasiado temprano", 1000, 5);
		}
		return 0;
	}
	
	new victimid = -1, LastID = -1;
	new Float:MyPos[3];
	GetPlayerPos(playerid, MyPos[0], MyPos[1], MyPos[2]);
	
	new get_class = SLENDERZOMBIE;
	
	foreach(Player, i)
	{
    	if(IsPlayerInRangeOfPoint(i, 4096.0, MyPos[0], MyPos[1], MyPos[2]) && GetPlayerTeamEx(i) == TEAM_HUMAN)
    	{
    	    LastID = i;
            if(random(3) == 0 && !ItsNewbie(i) && !Player[i][AntiSeeker] && !IsPlayerOnDuel[i] && Player[i][Jailed] <= 0 && !InGangWar{i} && Player[i][pLogged] && Player[i][eventMember] <= -1 && !TryToAvoidAnAbility(i, get_class))
			{
				victimid = i;
            	break;
			}
    	}
	}
	
	if(victimid == -1) victimid = LastID;
	
	if(victimid > -1 && !Player[victimid][AntiSeeker] && !ItsNewbie(victimid) && !IsPlayerOnDuel[victimid] && Player[victimid][Jailed] <= 0 && !InGangWar{victimid} && Player[victimid][pLogged] && Player[victimid][eventMember] <= -1 && !TryToAvoidAnAbility(victimid, get_class))
	{
	    ZombieSpawnProtection[playerid] = 0;
	    switch(type)
	    {
	        case 0:
	        {
			    new Float:pos[3];
			    if(!Player[victimid][AntiSeeker] && Player[victimid][pClass][TEAM_HUMAN] != VIPHUMAN && !IsEvacuated[victimid])
			    {
			   		GetPlayerPos(victimid, pos[0], pos[1], pos[2]);
					SetPlayerPosAC(playerid, pos[0]+0.4, pos[1]+0.4, pos[2]+0.3);
					foreach(Player, i) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][85], Player[victimid][UserName], Player[playerid][UserName]);
			        Abilitys[playerid][SeekerFound] = gettime();
			        
			       SetAbilityTimer(playerid, 35);
					
			        GivePlayerXP(playerid, 2);
			        AbilityWasUsed(playerid);
					
					if(GetUnlockedSlot(Achievements[playerid][ZombieClassesUses], 7) == 0)
					{
				    	UnlockAchievement(playerid, 63, 20);
				    	SetUnlockedSlot(Achievements[playerid][ZombieClassesUses], 7, 1);
					}
					
					return 1;
			    }
			}
			case 1:
			{
			    new Float:pos[5], Float:radius = 3.5;
			    if(!Player[victimid][AntiSeeker] && !IsEvacuated[victimid] && classCanBeFrighted(victimid))
			    {
			     	GetPlayerPos(victimid, pos[0], pos[1], pos[2]);
	        		SetPlayerPosAC(playerid, pos[0]+0.4, pos[1]+0.4, pos[2] - 0.3);
	        		foreach(Player,i)
					{
					    if(IsPlayerInRangeOfPoint(i, radius, pos[0], pos[1], pos[2]) && GetPlayerTeamEx(i) == TEAM_HUMAN && !IsEvacuated[i] && classCanBeFrighted(i))
					    {
					        GetPlayerFacingAngle(i, pos[3]);
	        				GetPlayerHealth(i, pos[4]);
	            			SetPlayerHealthAC(i, pos[4] - 5.00);
	            			ShowDamageTaken(i, 5.0);
					    	GetPlayerVelocity(i, pos[0], pos[1], pos[2]);
				  			SetPlayerVelocity(i, pos[0] + 0.5, pos[1] + 0.5, pos[2] + 0.3);
				  			SetPlayerFacingAngle(i, pos[3]);
						  	BlindPlayer(i, 8);
						  	AntiTPTimerEx(i, 4);
							AntiSlap(i, 4);
							AntiSpeedHack(i, 4);
						  	foreach(Player, j) SendClientMessageFormat(j, -1, serverLang[Player[j][pLang]][70], Player[i][UserName], Player[playerid][UserName]);
					    }
					}
					RemovePlayerAttachedObject(playerid, 9);
	                SetPlayerAttachedObject(playerid,4,18641,2,-0.032000,0.014000,0.325000,0.000000,37.599998,0.000000,1.000000,1.000000,3.642001);
					SetPlayerAttachedObject(playerid,5,18641,1,0.376999,0.029000,-0.280999,0.000000,133.300018,0.000000,1.000000,1.000000,3.867000);
					SetPlayerAttachedObject(playerid,6,18641,1,-0.351000,0.005999,0.362999,-0.800000,-44.900005,0.000000,1.000000,1.000000,4.524999);
					SetPlayerAttachedObject(playerid,7,18641,1,-0.369000,-0.003000,-0.409000,-4.400001,-140.099822,0.000000,1.000000,1.000000,4.718002);
					SetPlayerAttachedObject(playerid,8,18641,1,0.000000,0.000000,0.500999,0.000000,0.000000,0.000000,1.000000,1.000000,4.641000);
					SetPlayerAttachedObject(playerid,9,18641,1,0.000000,0.000000,-0.500000,0.000000,-179.999847,0.000000,1.000000,1.000000,4.709000);
					SetTimerEx("HideSlenderObjects", 3000, false, "i", playerid);
				    //GivePlayerXP(playerid, 2);
				    Abilitys[playerid][SlenderBlind] = gettime();
				    SetAbilityTimer(playerid, 40);
				    AbilityWasUsed(playerid);
					return 1;
				}
			}
		}
	}
    return 0;
}

fun GetClosestPlayer(p1)
{
    new x, Float:dis, Float:dis2, player;
    player = -1;
    dis = 999999.99;
    for(x = 0;x < MAX_PLAYERS; x++)
	{
        if(IsPlayerConnected(x))
		{
            if(x != p1)
			{
                dis2 = GetDistanceBetweenPlayers(x,p1);
                if(dis2 < dis && dis2 != -1.00)
				{
                    dis = dis2;
                    player = x;
                }
            }
        }
    }
    return player;
}

public OnPlayerStreamOut(playerid, forplayerid)
{
	return 1;
}

fun setClass(playerid)
{
    Player[playerid][pWasGangAffected] = false;
    CockroachAbility[playerid] = false;
    Player[playerid][hasBleedEffect] = false;
	KillTimer(Player[playerid][InfectedTimer]);
   	KillTimer(Player[playerid][PoisionTimer]);
   	KillTimer(Player[playerid][BleedingTimer]);
    TextDrawHideForPlayer(playerid, Poision[playerid]);
    TextDrawHideForPlayer(playerid, GreenScreen[playerid]);
    TextDrawHideForPlayer(playerid, Stun[playerid]);
    TextDrawHideForPlayer(playerid, Blidnes[playerid]);
    TextDrawHideForPlayer(playerid, Infected[playerid]);
	Player[playerid][Poisioned] = false;
 	Player[playerid][IsBurned][0] = 0;
 	Player[playerid][IsBurned][1] = 0;
	Player[playerid][LegBreak] = false;
	Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
	
	if(MyFantom[playerid] > -1)
	{
		DestroyActor(MyFantom[playerid]);
		MyFantom[playerid] = -1;
		Delete3DTextLabel(FantomHelp[playerid]);
	}
	TextDrawHideForPlayer(playerid, Blidnes[playerid]);
   	TextDrawHideForPlayer(playerid, Infected[playerid]);
   	TextDrawHideForPlayer(playerid, Poision[playerid]);
   	TextDrawHideForPlayer(playerid, Stun[playerid]);
   	Player[playerid][Blidness] = 0;
   	Player[playerid][Tasered] = false;
    KillTimer(Player[playerid][BlidnessTimer]);
	CurePlayer(playerid);
	SetPlayerArmourAC(playerid, 0.0);
	
	static q;
	// for( q = 0; q < NIGHTMARE; q++) Player[playerid][e_Avoid][q] = 0;
	
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
	    SetPlayerHealthAC(playerid, 100.0 + SetVitality(playerid));
		//if(GetWeekDay() == GANG_WARS_DAY) SetPlayerHealthAC(playerid, 100.0 + SetVitality(playerid));
		//else SetPlayerHealthAC(playerid, 100.0);
	}
	else SetPlayerHealthAC(playerid, 100.0);
	
	if(Player[playerid][pClass][TEAM_ZOMBIE+1] == TANKZOMBIE) SetPlayerHealthAC(playerid, 300.0);
	
	RemovePlayerAttachedObject(playerid, 4);
   	RemovePlayerAttachedObject(playerid, 5);
   	RemovePlayerAttachedObject(playerid, 6);
    RemovePlayerAttachedObject(playerid, 7);
   	RemovePlayerAttachedObject(playerid, 8);
   	RemovePlayerAttachedObject(playerid, 9);
   	SetPlayerFightingStyle(playerid, FIGHT_STYLE_GRABKICK);
   	ResetWeapons(playerid);
   	
   	foreach(Player, i)
 	{
	   	ShowPlayerNameTagForPlayer(i, playerid, 1);
  		SetPlayerMarkerForPlayer(i, playerid, (GetPlayerColor(playerid) & 0xFFFFFF00));
	}

    for( new i = 0; i < sizeof(svrCLHXP); i++)
	{
		if(gettime() > PlayerClassUnlocked[playerid][TEAM_HUMAN][i] && PlayerClassUnlocked[playerid][TEAM_HUMAN][i] > 0)
		{
			PlayerClassUnlocked[playerid][TEAM_HUMAN][i] = 0;
			if(Player[playerid][pClass][TEAM_HUMAN] == i) Player[playerid][pClass][TEAM_HUMAN] = CIVILIAN;
		}
	}
	
	for( new i; i < sizeof(svrCLZXP); i++)
	{
		if(gettime() > PlayerClassUnlocked[playerid][TEAM_ZOMBIE][i] && PlayerClassUnlocked[playerid][TEAM_ZOMBIE][i] > 0)
		{
			PlayerClassUnlocked[playerid][TEAM_ZOMBIE][i] = 0;
			if(Player[playerid][pClass][TEAM_ZOMBIE+1] == i) Player[playerid][pClass][TEAM_ZOMBIE+1] = STANDARDZOMBIE;
		}
	}
	
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && gettime() < LasDeadTime[playerid] && LasDeadTime[playerid] > 0) SetPlayerTeamEx(playerid, TEAM_ZOMBIE);

	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
	    setupHuman(playerid);
	    ResetWeapons(playerid);
	    SetPlayerArmourAC(playerid, 0.0);
	    
	    for( new j; j < 18; j++ )
	    {
		    if(IsValidObject(box[playerid][j]))
		    {
		        //SendClientMessageFormat(playerid, -1, "(Set Class) (ID: %d) >> %d", j, IsValidObject(box[playerid][j]));
		    	DestroyObject(box[playerid][j]);
	      		Delete3DTextLabel(boxText[playerid][j]);
			}
			box[playerid][j] = INVALID_OBJECT_ID;
		}
	    
		switch(Player[playerid][pClass][TEAM_HUMAN])
		{
		    case CIVILIAN:
		    {
		        GivePlayerWeaponAC(playerid, 23, 100);
		        GivePlayerWeaponAC(playerid, 25, 50);
		        switch(random(26))
		        {
		            case 0: SetPlayerSkinAC(playerid, 12);
		            case 1: SetPlayerSkinAC(playerid, 14);
		            case 2: SetPlayerSkinAC(playerid, 15);
		            case 3: SetPlayerSkinAC(playerid, 18);
		            case 4: SetPlayerSkinAC(playerid, 23);
		            case 5: SetPlayerSkinAC(playerid, 33);
		            case 6: SetPlayerSkinAC(playerid, 37);
		            case 7: SetPlayerSkinAC(playerid, 40);
		            case 8: SetPlayerSkinAC(playerid, 43);
		            case 9: SetPlayerSkinAC(playerid, 44);
		            case 10: SetPlayerSkinAC(playerid, 45);
		            case 11: SetPlayerSkinAC(playerid, 51);
		            case 12: SetPlayerSkinAC(playerid, 52);
		            case 13: SetPlayerSkinAC(playerid, 56);
		            case 14: SetPlayerSkinAC(playerid, 58);
		            case 15: SetPlayerSkinAC(playerid, 76);
		            case 16: SetPlayerSkinAC(playerid, 90);
		            case 17: SetPlayerSkinAC(playerid, 91);
		            case 18: SetPlayerSkinAC(playerid, 93);
		            case 19: SetPlayerSkinAC(playerid, 141);
		            case 20: SetPlayerSkinAC(playerid, 150);
		            case 21: SetPlayerSkinAC(playerid, 188);
		            case 22: SetPlayerSkinAC(playerid, 216);
		            case 23: SetPlayerSkinAC(playerid, 226);
		            case 24: SetPlayerSkinAC(playerid, 233);
		            case 25: SetPlayerSkinAC(playerid, 5);
				}
			}
			
	        case POLICEMAN:
			{
			    GivePlayerWeaponAC(playerid, 24, 50);
		        GivePlayerWeaponAC(playerid, 25, 25);
		        SetPlayerArmourAC(playerid, 50.0);
		       	SetPlayerSkinAC(playerid, 280);
			}

			case MEDIC:
			{
   				GivePlayerWeaponAC(playerid, 24, 25);
		        GivePlayerWeaponAC(playerid, 25, 50);
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 308);
		        SetPlayerAttachedObject(playerid, 9, 11738, 7, 0.24300, 0.00000, -0.11999, 0.00000, -88.40001, 88.00001, 1.00000, 1.00000, 1.00000);
			}

			case SCOUT:
			{
   				GivePlayerWeaponAC(playerid, 34, 50, false);
		        SetPlayerSkinAC(playerid, 230);
		        SetPlayerColor(playerid, 0xFFFFFF00);
			}
			
			case RUNNER:
			{
			    GivePlayerWeaponAC(playerid, 24, 50);
			    GivePlayerWeaponAC(playerid, 31, 350);
		        SetPlayerSkinAC(playerid, 0);
			}
			
			case ENGINEER:
			{
		        GivePlayerWeaponAC(playerid, 30, 100); // 200
		        GivePlayerWeaponAC(playerid, 33, 15); // 50
		        GivePlayerWeaponAC(playerid, 25, 15);
		        SetPlayerSkinAC(playerid, 260);
		        
		        if(GetUnlockedCardEffect(playerid, CARD_EFFECT_BUILDING) >= 1) Player[playerid][Boxes] = 4;
		        else Player[playerid][Boxes] = 3;
			}

			case SWAT:
			{
   				GivePlayerWeaponAC(playerid, 29, 300); // 500
		        GivePlayerWeaponAC(playerid, 24, 50);
				SetPlayerArmourAC(playerid, 50.0);
				SetPlayerSkinAC(playerid, 285);
			}

			case ADVANCEDENGINEER:
			{
   				GivePlayerWeaponAC(playerid, 24, 50); // 150
		        GivePlayerWeaponAC(playerid, 31, 350); // 500
				SetPlayerArmourAC(playerid, 50.0);
				SetPlayerSkinAC(playerid, 27);
				if(GetUnlockedCardEffect(playerid, CARD_EFFECT_BUILDING) >= 1) Player[playerid][AdvancedBoxes] = 6;
				else Player[playerid][AdvancedBoxes] = 5;
			}

			case MI7:
			{
   				GivePlayerWeaponAC(playerid, 31, 250); //500
		        GivePlayerWeaponAC(playerid, 24, 50); // 100
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 165);
			}
			
			case SCAVENGER:
			{
		        GivePlayerWeaponAC(playerid, 31, 275);
		        GivePlayerWeaponAC(playerid, 24, 50);
		        SetPlayerArmourAC(playerid, 5.0);
		        SetPlayerSkinAC(playerid, 8);
			}

			case TOUGHIE:
			{
		        GivePlayerWeaponAC(playerid, 31, 350);
		        GivePlayerWeaponAC(playerid, 24, 50);
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 110);
			}
			
			case ATHLETE:
			{
			    GivePlayerWeaponAC(playerid, 30, 250);
		        GivePlayerWeaponAC(playerid, 25, 50);
		        SetPlayerSkinAC(playerid, 251);
			}
			
			case IRONMAN:
			{
			    GivePlayerWeaponAC(playerid, 25, 50); // 200
		        GivePlayerWeaponAC(playerid, 24, 50);
			    SetPlayerArmourAC(playerid, 50.0);
			    
			    SetPlayerAttachedObject(playerid,8,19141,2,0.100999,0.010000,0.000999,0.000000,0.000000,0.000000,1.347001,1.021000,1.096000);
				SetPlayerAttachedObject(playerid,9,19142,1,0.101000,0.047999,0.013000,0.000000,0.000000,0.000000,1.102001,1.046999,1.009000);
				SetPlayerAttachedObject(playerid,7,18641,1,0.206999,0.089000,0.000000,93.299972,-21.300020,0.000000,1.000000,1.000000,1.000000);
			    SetPlayerSkinAC(playerid, 0);
			    Abilitys[playerid][Fuel] = 100.0;
			}

            case ADVANCEDENGINEER_2:
            {
                GivePlayerWeaponAC(playerid, 34, 30); // 75
			    GivePlayerWeaponAC(playerid, 24, 50); // 150
			    GivePlayerWeaponAC(playerid, 31, 250);
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 153);
		        Player[playerid][UnlimitedBoxes] = 0;
            }

			case DOCTOR:
			{
			    GivePlayerWeaponAC(playerid, 29, 350);
			    GivePlayerWeaponAC(playerid, 25, 70);
			    SetPlayerArmourAC(playerid, 50.0);
			    SetPlayerSkinAC(playerid, 70);
			}
			
			case HUMANQUEEN:
			{
			    GivePlayerWeaponAC(playerid, 31, 350); // 650
			    GivePlayerWeaponAC(playerid, 25, 70); // 250
		        GivePlayerWeaponAC(playerid, 24, 50); // 100
			    SetPlayerArmourAC(playerid, 50.0);
			    Abilitys[playerid][QueenJumps][0] = 3;
			    SetPlayerSkinAC(playerid, 92);
			}
			
			case VIPHUMAN:
			{
			    GivePlayerWeaponAC(playerid, 31, 350);
		        GivePlayerWeaponAC(playerid, 24, 50);
		        GivePlayerWeaponAC(playerid, 25, 50);
		        GivePlayerWeaponAC(playerid, 29, 150);
		        GivePlayerWeaponAC(playerid, 33, 10, false);
			    SetPlayerArmourAC(playerid, 50.0);
			    SetPlayerSkinAC(playerid, 119);
			}
			
			case ASSASSIN:
			{
			    GivePlayerWeaponAC(playerid, 31, 350);
		        GivePlayerWeaponAC(playerid, 24, 50);
		        GivePlayerWeaponAC(playerid, 33, 10, false);
			    SetPlayerArmourAC(playerid, 50.0);
			    SetPlayerSkinAC(playerid, 294);
			}
			
            case HEAVYSUPPORT:
			{
			    GivePlayerWeaponAC(playerid, 30, 250);
			    GivePlayerWeaponAC(playerid, 23, 50);
			    SetPlayerSkinAC(playerid, 179);
			    if(GetUnlockedCardEffect(playerid, CARD_EFFECT_ADDITIONAL_AMMO) >= 1) Abilitys[playerid][CanGiveAmmo] = 10;
		 		else Abilitys[playerid][CanGiveAmmo] = 8;
			}
			
   			case ZOMBIEFAN:
			{
		        GivePlayerWeaponAC(playerid, 9, 1);
		        SetPlayerSkinAC(playerid, 181);
			}
			
			case FIREMANIAC:
			{
		        GivePlayerWeaponAC(playerid, 37, 130);
		        GivePlayerWeaponAC(playerid, 25, 50); // 150
		        GivePlayerWeaponAC(playerid, 42, 4000);
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 277);
			}
			
			case TERRORIST:
			{
			    GivePlayerWeaponAC(playerid, 24, 50); // 150
		        GivePlayerWeaponAC(playerid, 39, 20, false);
		        GivePlayerWeaponAC(playerid, 40, 1000);
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 3);
			}

			case ROCKETMAN:
			{
   				GivePlayerWeaponAC(playerid, 31, 350); // 550
		        GivePlayerWeaponAC(playerid, 24, 50); // 150
		        SetPlayerArmourAC(playerid, 50.0);
			    SetPlayerSkinAC(playerid, 50);
			}
			
			case TOURIST:
			{
		        GivePlayerWeaponAC(playerid, 31, 350);
		        GivePlayerWeaponAC(playerid, 24, 50);
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 26);
			}
			
			case SHARPSHOOTER:
			{
			    GivePlayerWeaponAC(playerid, 34, 150);
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 286);
			}
			
			/*case SPIDERMAN:
			{
			    GivePlayerWeaponAC(playerid, 24, 50);
			    GivePlayerWeaponAC(playerid, 32, 500, false); // 1200
		        SetPlayerArmourAC(playerid, 50.0);
		        SetPlayerSkinAC(playerid, 170);
		        if(GetUnlockedCardEffect(playerid, CARD_EFFECT_ADDITIONAL_FUEL) >= 1) Abilitys[playerid][QueenJumps][0] = 4;
			}*/
		}
		
		if(VipBuffs[playerid][vb_Weapon][0] > -1 && gettime() < VipBuffs[playerid][vb_Weapon][1])
		{
		    new winfo = VipBuffs[playerid][vb_Weapon][0];
		    if(winfo > -1 && winfo < sizeof(randomWeaponAmmo))
		    {
		    	GivePlayerWeaponAC(playerid, randomWeaponAmmo[winfo][0], randomWeaponAmmo[winfo][1], false);
			}
		}
		
		if(Player[playerid][pClass][TEAM_HUMAN] < sizeof(humanClassesListNames[])) SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][25], humanClassesListNames[Player[playerid][pLang]][Player[playerid][pClass][TEAM_HUMAN]]);
		else SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][25], humanVIPCl[Player[playerid][pLang]][Player[playerid][pClass][TEAM_HUMAN]-5000]);
		if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
		{
			if(Player[playerid][pVip] >= 1)
			{
   				SetPlayerArmourAC(playerid, 50.0);
			}
		}
	}
	else if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
	    setupZombie(playerid);
	    ResetWeapons(playerid);
    	GivePlayerWeaponAC(playerid, 9, 1, false);
    	
    	for( new j; j < 2; j++ )
	   	{
	   		if(NewSpawnPoints[j][0] != 0.0 && NewSpawnsCreators[j] == playerid && Player[playerid][pClass][TEAM_ZOMBIE+1] != RISENDEAD)
			{
		 		NewSpawnsCreators[j] = INVALID_PLAYER_ID;
		 		Delete3DTextLabel(NewSpawnPointsText[j]);
		 		NewSpawnPoints[j][0] = 0.0;
			}
		}
    	
    	switch(Player[playerid][pClass][TEAM_ZOMBIE+1])
		{
		    case STANDARDZOMBIE: SetPlayerSkinAC(playerid, 181);
		    case FASTZOMBIE: SetPlayerSkinAC(playerid, 162);
	        case REAPERZOMBIE: SetPlayerSkinAC(playerid, 168);
	        case BOOMERZOMBIE: SetPlayerSkinAC(playerid, 264), SetPlayerHealthAC(playerid, 15.0, true, 15.0);
	        case STOMPERZOMBIE: SetPlayerSkinAC(playerid, 239);
			case BLINDZOMBIE: SetPlayerSkinAC(playerid, 213);
			case FLESHERZOMBIE: SetPlayerSkinAC(playerid, 77);
            case ROGUEZOMBIE: SetPlayerSkinAC(playerid, 135);
            case MEGAJUMPERZOMBIE: SetPlayerSkinAC(playerid, 162), Abilitys[playerid][QueenJumps][0] = 3;
            case RADIOACTIVEZOMBIE: SetPlayerSkinAC(playerid, 146);
            case SLOWZOMBIE: SetPlayerSkinAC(playerid, 160);
            case RISENDEAD: SetPlayerSkinAC(playerid, 177);
            case SPACEBREAKERZOMBIE: SetPlayerSkinAC(playerid, 180);
            case REMOVER: SetPlayerSkinAC(playerid, 28);
            case SLENDERZOMBIE: SetPlayerSkinAC(playerid, 165), SetPlayerAttachedObject(playerid,9,19036,2,0.084999,0.037999,0.001000,0.000000,82.699966,98.799995,1.000000,1.070001,1.000000);
            case TANKZOMBIE: { SetPlayerHealthAC(playerid, 300.0); SetPlayerSkinAC(playerid, 155); }
            case SCREAMERZOMBIE: SetPlayerSkinAC(playerid, 212);
		}
		if(Player[playerid][Helmet]) SetPlayerAttachedObject(playerid, 9, 18936, 2, 0.129999,0.030000,0.000000,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000);
		if(Player[playerid][pClass][TEAM_ZOMBIE+1] < sizeof(zombieClassesListNames[])) SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][25], zombieClassesListNames[Player[playerid][pLang]][Player[playerid][pClass][TEAM_ZOMBIE+1]]);
		else SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][25], zombieVIPCl[Player[playerid][pLang]][Player[playerid][pClass][TEAM_ZOMBIE+1]-5000]);
	}
}

stock Float:GetDistanceBetweenPoints3D(Float:x1,Float:y1,Float:z1,Float:x2,Float:y2,Float:z2) { return VectorSize(x1-x2,y1-y2,z1-z2); }

stock BadFloat(Float:x)
{
	if(x >= 10.0 || x <= -10.0) return 1;
	return 0;
}

fun OnPlayerWeaponShot(playerid, weaponid, hittype, hitid, Float: fX, Float: fY, Float: fZ)
{
	if(hittype == BULLET_HIT_TYPE_VEHICLE) if(hitid <= -1 || !IsValidVehicle(hitid)) return 0;
    if(hittype == BULLET_HIT_TYPE_PLAYER) if(!IsPlayerConnected(hitid)) return 0;
	
	
    new Float:capos[3];
	GetPlayerCameraPos(playerid, capos[0], capos[1], capos[2]);
	if(floatcmp(capos[0], 7000.0) == 1 || floatcmp(capos[1], 7000.0) == 1 || floatcmp(capos[2], 7000.0) == 1 || floatcmp(capos[0], -7000.0) == -1 || floatcmp(capos[1], -7000.0) == -1 || floatcmp(capos[2], -7000.0) == -1)
	{
	    foreach(Player, i)
	    {
	        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Weapon Crasher #1", Player[playerid][UserName], playerid);
		}
		return 0;
	}
	
	GetPlayerPos(playerid, capos[0], capos[1], capos[2]);
	if(!(-20000.0 <= capos[2] <= 20000.0))
	{
	    foreach(Player, i)
	    {
	        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) - Invalid AIM data", Player[playerid][UserName], playerid);
		}
		return 0;
	}
	
	if(hittype == BULLET_HIT_TYPE_PLAYER)
	{
		if(fX == -0.009999 && fY == -0.019999 && fZ == 0.039999)
		{
			foreach(Player, i)
		    {
		        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Eclipse Crasher #1", Player[playerid][UserName], playerid);
			}
			return 0;
		}
	}
	
    if(GetPlayerState(playerid) != 2 && weaponid != 38 && !(21 < weaponid < 35))
	{
	    foreach(Player, i)
	    {
	        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Weapon Crasher #2", Player[playerid][UserName], playerid);
		}
		return 0;
	}
	
	if(hittype == BULLET_HIT_TYPE_PLAYER && (BadFloat(fX) || BadFloat(fY) || BadFloat(fZ)) )
	{
	    foreach(Player, i)
	    {
	        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Bullet Crasher", Player[playerid][UserName], playerid);
		}
        return 0;
	}

    new weapname[32];
	GetWeaponName(weaponid, weapname, sizeof(weapname));
	SetPVarInt(playerid, weapname, GetPVarInt(playerid, weapname) - 1);
    
	if(playerid != INVALID_PLAYER_ID)
	{
	    if(!InGangWar{playerid})
	    {
	        if(IsPlayerOnDuel[playerid] && DuelRules[0][playerid] <= 0)
	        {
		        gLastShotTime[playerid] = GetTickCount();
			    new LastShotDelay = GetTickCount() - LastShotTime[playerid];
				switch(weaponid)
				{
					 case 22: if(LastShotDelay < COLT_DELAY_HIT) return 0;
				     case 23: if(LastShotDelay < SILENCE_HIT_DELAY) return 0;
				     case 24: if(LastShotDelay < DEAGLE_HIT_DELAY) return 0;
				     case 25: if(LastShotDelay < SHOTGUN_HIT_DELAY) return 0;
				     case 33: if(LastShotDelay < RIFLE_HIT_DELAY) return 0;
				     case 34: if(LastShotDelay < SNIPER_HIT_DELAY) return 0;
				}
				LastShotTime[playerid] = GetTickCount();
			}
			else
			{
			    gLastShotTime[playerid] = GetTickCount();
			    new LastShotDelay = GetTickCount() - LastShotTime[playerid];
				switch(weaponid)
				{
					 case 22: if(LastShotDelay < COLT_DELAY_HIT) return 0;
				     case 23: if(LastShotDelay < SILENCE_HIT_DELAY) return 0;
				     case 24: if(LastShotDelay < DEAGLE_HIT_DELAY) return 0;
				     case 25: if(LastShotDelay < SHOTGUN_HIT_DELAY) return 0;
				     case 33: if(LastShotDelay < RIFLE_HIT_DELAY) return 0;
				     case 34: if(LastShotDelay < SNIPER_HIT_DELAY) return 0;
				}
				LastShotTime[playerid] = GetTickCount();
			}
		}
		
		if(GetPVarInt(playerid, weapname) <= -5 && strlen(weapname) >= 2 && GetPlayerWeapon(playerid) > 0)
		{
		    //printf("%d", GetPVarInt(playerid, weapname));
		    if(AntiCheatAlertMode && AntiCheat[playerid][ac_weapon_hack] >= AC_MAX_REPORTS) BanPlayer(playerid, "Weapon Hack - Consensus");
			else
			{
				if(AdminOnline())
			    {
				    if(gettime() > AntiCheat[playerid][ac_Tick])
	        		{
	        		    AddCheater(playerid, 0);
						strmid(AC_Requests[playerid][ac_reason], "Weapon Hack", 0, 128, 128);
						AC_Requests[playerid][ac_time] = gettime();
						AC_Requests[playerid][ac_type] = 1;
						AC_Requests[playerid][ac_additional] = 0;
						AC_Requests[playerid][ac_pl] = NetStats_PacketLossPercent(playerid);
					    foreach(Player, p)
					    {
					        if(Player[p][pAdmin] > 0 && Player[p][pLogged])
					        {
					            SendClientMessageFormat(p, -1, "{6A8EE2}>> %s(%d) supposedly uses Weapon Hack", Player[playerid][UserName], playerid);
					        }
						}
						AntiCheat[playerid][ac_Tick] = gettime()+2;
				    }
				}
			}
			return 0;
		}
		
		/*if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1]  == SPITTERZOMBIE)
		{
		    for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(playerid, 15.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j])) return 0;
		    if(weaponid == 23)
		    {
		        ZombieSpawnProtection[playerid] = 0;
		        if(classCanBeInfected(hitid))
		        {
		            if(InfectPlayer(60.0, hitid, playerid) && GetUnlockedSlot(Player[hitid][pAntisonRound], 7) <= 0)
		            {
						foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][182], Player[hitid][UserName], Player[playerid][UserName]);
						GivePlayerXP(playerid, 2);

						for( new p; p < sizeof(NightEvent[evn_Mission]); p++)
						{
							if(NightEvent[evn_Mission][p] == ev_CAPILLARYINFECTION && e_ExclusionZone[playerid][e_ezMission][p] <= 49)
						    {
						        ++e_ExclusionZone[playerid][e_ezMission][p];
						        if(e_ExclusionZone[playerid][e_ezMission][p] == 50) ev_CompleteToNext(playerid, ev_CAPILLARYINFECTION);
								break;
						    }
						}
					}
				}
				else
				{
					switch(Player[playerid][pLang])
				    {
						case 0: GameTextForPlayer(playerid, "~r~Cannot infect", 2000, 5);
				        case 1: GameTextForPlayer(playerid,RusToGame("~r~НЕЛЬЗЯ ЗАРАЗИТЬ"), 2000, 5);
				        case 2: GameTextForPlayer(playerid,"~r~No puede infectar", 2000, 5);
					}
					return 1;
				}
			}
			return 0;
		}*/
		
		if(hittype == BULLET_HIT_TYPE_PLAYER && GetPlayerTeamEx(hitid) == TEAM_ZOMBIE)
		{
		    if(gettime() < ZombieSpawnProtection[hitid])
			{
			    SetPlayerChatBubble(hitid, "MISS", 0xd6d6c2FF, 20.0, 1000);
				return 0;
			}
			
			for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(hitid, 5.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j])) { SetPlayerChatBubble(hitid, "MISS", 0xd6d6c2FF, 20.0, 1000); return 0; }
		}
		
		if(hittype != 1 && ProAimCount[playerid] > 0)
	    {
	        ProAimCount[playerid] = 0;
	    }
		
		if(hittype == BULLET_HIT_TYPE_OBJECT && (Player[playerid][pClass][TEAM_HUMAN] == ENGINEER || Player[playerid][pClass][TEAM_HUMAN] == ADVANCEDENGINEER || Player[playerid][pClass][TEAM_HUMAN] == ADVANCEDENGINEER_2)) // Check for class
		{
		    //SendClientMessageFormat(playerid, -1, "(Shoot) (ID: %d)", hitid);
		    
		    for( new i = 0; i < 18; i++ )
			{
	            if(hitid == box[playerid][i])
				{
					DestroyObject(box[playerid][i]);
					Delete3DTextLabel(boxText[playerid][i]);
					//SendClientMessageFormat(playerid, -1, "(Shoot) (ID: %d) >> %d", hitid, IsValidObject(box[playerid][i]));
					box[playerid][i] = INVALID_OBJECT_ID;
					//SendClientMessageFormat(playerid, -1, "Valid: %d", box[playerid][i]);
					//return 1;
				}
			}
		}
		
	    if(hittype != BULLET_HIT_TYPE_NONE) 
		{
			if((fX <= -1000.0 || fX >= 1000.0) || (fY <= -1000.0 || fY >= 1000.0) || (fZ <= -1000.0 || fZ >= 1000.0) || ((hittype != BULLET_HIT_TYPE_PLAYER) && (hittype != BULLET_HIT_TYPE_VEHICLE) && (hittype != BULLET_HIT_TYPE_OBJECT) && (hittype != BULLET_HIT_TYPE_PLAYER_OBJECT)))
			{
				return 0;
			}
		}
	}
	return 1;
}

fun canBeInRadioactiveField(playerid)
{
    switch(Player[playerid][pClass][TEAM_HUMAN])
	{
	    case VIPHUMAN, IRONMAN, DOCTOR: return 0;
	}
	return 1;
}

fun classCanBeFrighted(playerid)
{
    switch(Player[playerid][pClass][TEAM_HUMAN])
	{
	    case VIPHUMAN, DOCTOR, TOUGHIE: return 0;
	}
	if(Player[playerid][pXP] < 2500) return 0;
	return 1;
}

fun classCanBeArmourRemoved(playerid)
{
    switch(Player[playerid][pClass][TEAM_HUMAN])
	{
	    case HUMANQUEEN, VIPHUMAN, IRONMAN, DOCTOR, TOUGHIE, ADVANCEDENGINEER_2: return 0;
	}
	if(Player[playerid][pXP] < 2500) return 0;
	return 1;
}

fun classCanBeStomped(playerid)
{
    switch(Player[playerid][pClass][TEAM_HUMAN])
	{
	    case HUMANQUEEN, VIPHUMAN, IRONMAN, DOCTOR, TOUGHIE, ADVANCEDENGINEER_2: return 0;
	}
	return 1;
}

fun classCanBeInfected(playerid)
{
	switch(Player[playerid][pClass][TEAM_HUMAN])
	{
	    case SWAT, HUMANQUEEN, ZOMBIEFAN, VIPHUMAN, SHARPSHOOTER, ADVANCEDENGINEER_2: return 0;
	}
	if(Player[playerid][hasNurseField]) return 0;
	if(Player[playerid][IsPlayerInfected]) return 0;
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) return 0;
	if(PlayerGuitarTime[playerid] >= 2) return 0;
	if(Player[playerid][eventMember] > -1) return 0;
	return 1;
}

stock InfectPlayer(Float:distance, playerid, infectedid, Float:hp = 1.5, drankLevel = 0, bool:canInfectHumans = false)
{
	if(Player[playerid][aDuty]) return 0;
	if(TryToAvoidAnAbility(playerid, STANDARDZOMBIE))
	{
	    switch(Player[infectedid][pLang])
	    {
			case 0: GameTextForPlayer(infectedid, "~p~Resist", 2000, 5);
	        case 1: GameTextForPlayer(infectedid,RusToGame("~p~Иммунитет"), 2000, 5);
	        case 2: GameTextForPlayer(infectedid,"~p~Resistirse", 2000, 5);
		}
		return 0;
	}
    if(Player[playerid][hasNurseField])
    {
		switch(Player[infectedid][pLang])
	    {
			case 0: GameTextForPlayer(infectedid, "~p~Nurse Field", 2000, 5);
	        case 1: GameTextForPlayer(infectedid,RusToGame("~p~ПОЛЕ МЕДСЕСТРЫ"), 2000, 5);
	        case 2: GameTextForPlayer(infectedid,"~p~Campo de la Enfermera", 2000, 5);
		}
		return 0;
	}
	
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && !Player[playerid][IsPlayerInfected] && classCanBeInfected(playerid))
	{
	    if(GetUnlockedSlot(Player[playerid][pAntisonRound], 0) > 0) drankLevel = 0;
	    
	    if(GetUnlockedCardEffect(infectedid, CARD_EFFECT_COVID19) >= 1)
	    {
     		canInfectHumans = true;
	        hp += 0.3;
	        if(GetUnlockedSlot(Player[playerid][pAntisonRound], 0) <= 0) drankLevel = 3500;
	    }
	    
	    if(infectedid != INVALID_PLAYER_ID && IsPlayerConnected(infectedid)) if(!DayMission[infectedid][dm_done] && DayliMission[infectedid] == 4 && DayMission[infectedid][dm_progress] < DayMission[infectedid][dm_counter]) ++DayMission[infectedid][dm_progress];
	    
	    CheckForChaosChestOpen(infectedid, chaos_INFECT_100_HUMANS);
	    
        new Float:pos[3];
  		GetPlayerPos(infectedid, pos[0], pos[1], pos[2]);
  		if(IsPlayerInRangeOfPoint(playerid, distance, pos[0], pos[1], pos[2]))
  		{
  		    switch(Player[playerid][pLang])
		    {
				case 0: GameTextForPlayer(playerid, "~r~You have been infected!", 2000, 5);
		        case 1: GameTextForPlayer(playerid,RusToGame("~r~ВЫ ЗАРАЖЕНЫ"), 2000, 5);
		        case 2: GameTextForPlayer(playerid,"~r~Has estado infectado!", 2000, 5);
			}
			SetPlayerDrunkLevel(playerid, drankLevel);
	  		Player[playerid][InfectedTimer] = SetTimerEx("Infection", 2000, 1, "ifii", playerid, hp, drankLevel, infectedid);
	  		
	  		if(!Player[playerid][IsCursed]) SetPlayerColor(playerid,COLOR_INFECTED);
	  		
			TextDrawShowForPlayer(playerid, Infected[playerid]);
			Player[playerid][IsPlayerInfected] = true;
			if(canInfectHumans) Player[playerid][IsPlayerAdvancedInfected] = true;
			foreach(Player, i)
			{
			    if(GetPlayerTeamEx(i) == TEAM_HUMAN && Player[i][pClass][TEAM_HUMAN] == MEDIC)
				{
				    SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][26], Player[playerid][UserName]);
				}
			}
			/*************************************************** CHAOS *******************************/
            for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
			{
				if(NightEvent[evn_Mission][i] == ev_EBOLA && e_ExclusionZone[infectedid][e_ezMission][i] <= 49)
			    {
			        ++e_ExclusionZone[infectedid][e_ezMission][i];
			        if(e_ExclusionZone[infectedid][e_ezMission][i] == 50) ev_CompleteToNext(infectedid, ev_EBOLA);
					break;
			    }
			}
			/***************************************************************************************/
			return 1;
		}
		return 0;
	}
	return 0;
}

stock InfectPlayerWithAbility(playerid, Float:hp = 0.0, effect, provoked = INVALID_PLAYER_ID)
{
	if(hp > 0.0 && !Player[playerid][Poisioned])
	{
	    if(GetUnlockedSlot(Player[playerid][pAntisonRound], 14) <= 0)
	    {
			Player[playerid][PoisionTimer] = SetTimerEx("PoisionFunction", 2000, 1, "ifi", playerid, hp, effect);
	        Player[playerid][Poisioned] = true;
	        TextDrawShowForPlayer(playerid, Poision[playerid]);
	        if(provoked != INVALID_PLAYER_ID) Player[playerid][AbilityAffectedID] = provoked;
		}
	}
}

fun BlindPlayer(playerid, time) { if(!Player[playerid][AntiBlind]) TextDrawShowForPlayer(playerid, Blind[playerid]); SetTimerEx("HideBlind", time*1000, false, "i", playerid); SetPlayerWeather(playerid, 999); }
fun HideBlind(playerid) { TextDrawHideForPlayer(playerid, Blind[playerid]); SetPlayerWeather(playerid, Map[m_Weather]); }

stock InfectPlayerBlidness(playerid, provoked = INVALID_PLAYER_ID)
{
    Player[playerid][BlidnessTimer] = SetTimerEx("StartBlidnes", 5000, 1, "i", playerid);
    if(provoked != INVALID_PLAYER_ID) Player[playerid][AbilityAffectedID] = provoked;
}

fun StartBlidnes(playerid)
{
	if(Player[playerid][Blidness])
	{
		TextDrawHideForPlayer(playerid, Blidnes[playerid]);
		switch(Player[playerid][Blidness])
		{
			case 0: TextDrawBoxColor(Blidnes[playerid], 0x00000000);
			case 1: TextDrawBoxColor(Blidnes[playerid], 0x00000011);
			case 2: TextDrawBoxColor(Blidnes[playerid], 0x00000022);
			case 3: TextDrawBoxColor(Blidnes[playerid], 0x00000033);
			case 4: TextDrawBoxColor(Blidnes[playerid], 0x00000044);
			case 5: TextDrawBoxColor(Blidnes[playerid], 0x00000055);
			case 6: TextDrawBoxColor(Blidnes[playerid], 0x00000066);
			case 7: TextDrawBoxColor(Blidnes[playerid], 0x00000077);
			case 8: TextDrawBoxColor(Blidnes[playerid], 0x00000088);
			case 9: TextDrawBoxColor(Blidnes[playerid], 0x00000099);
			case 10: TextDrawBoxColor(Blidnes[playerid], 0x000000AA);
			case 11: TextDrawBoxColor(Blidnes[playerid], 0x000000BB);
			case 12: TextDrawBoxColor(Blidnes[playerid], 0x000000CC);
			case 13: TextDrawBoxColor(Blidnes[playerid], 0x000000DD);
			case 14: TextDrawBoxColor(Blidnes[playerid], 0x000000EE);
			case 15: { TextDrawBoxColor(Blidnes[playerid], 0x000000FF); SetPlayerWeather(playerid, 999); }
		}
		TextDrawShowForPlayer(playerid, Blidnes[playerid]);
		if(Player[playerid][Blidness] < 15) Player[playerid][Blidness]++;
	}
	else
	{
	    KillTimer(Player[playerid][BlidnessTimer]);
	    TextDrawHideForPlayer(playerid, Blidnes[playerid]);
		Player[playerid][Blidness] = 0;
	}
}

fun PoisionFunction(playerid, Float: hp, effect)
{
    if(Player[playerid][Poisioned])
    {
	    new Float:health;
	    if(effect == 0) GameTextForPlayer(playerid,"~p~Poison", 1000, 5);
	    if(effect == 1) GameTextForPlayer(playerid,"~y~Stung", 1000, 5);
	    if(effect == 2)
		{
		    new Float:h;
		    GetPlayerArmour(playerid, h);
		    if( h <= 0.0 ) GameTextForPlayer(playerid,"~p~Radiation", 1000, 5);
	        else hp = 0.0;
		}

	    if(effect == 0)
	    {
	        switch(pSkills[playerid][e_sPoision])
	        {
	            case 1: hp = 16.5;
	            case 2: hp = 11.5;
	            case 3: hp = 7.0;
	        }
	    }
	    
		GetPlayerHealth(playerid, health);
		SetPlayerHealthAC(playerid, health - hp);
		ShowDamageTaken(playerid, hp);
	}
}

fun Infection(playerid, Float: hp, drankLevel, from)
{
	if(hp <= 0.0) hp = 1.5;
	if( hp >= 1.0 )
	{
		switch(pSkills[playerid][e_sImmunization])
	    {
	        case 1: hp /= 1.1;
	        case 2: hp /= 1.2;
	        case 3: hp /= 1.3;
	       	case 4: hp /= 1.4;
	       	case 5: hp /= 1.7;
	    }
    }
    
    if(from > -1)
    {
		switch(Player[playerid][pLang])
	    {
			case 0: GameTextForPlayer(playerid, "~r~Infected", 2000, 5);
	        case 1: GameTextForPlayer(playerid,RusToGame("~r~ЗАРАЖЕН"), 2000, 5);
	        case 2: GameTextForPlayer(playerid,"~r~Infectado", 2000, 5);
		}
		new Float:health;
		GetPlayerHealth(playerid, health);
		SetPlayerHealthAC(playerid, health - hp);
		SetPlayerDrunkLevel(playerid, drankLevel);
		ShowDamageTaken(playerid, hp);
	}
	else if(Player[playerid][hasBleedEffect])
	{
	    switch(Player[playerid][pLang])
	    {
			case 0: GameTextForPlayer(playerid, "~r~Bleeding", 2000, 5);
	        case 1: GameTextForPlayer(playerid,RusToGame("~r~КРО_В_ОТЕЧЕНИЕ"), 2000, 5);
	        case 2: GameTextForPlayer(playerid, "~r~Sangrado", 2000, 5);
		}
		new Float:health;
		GetPlayerHealth(playerid, health);
		SetPlayerHealthAC(playerid, health - hp);
		SetPlayerDrunkLevel(playerid, drankLevel);
		ShowDamageTaken(playerid, hp);
	}
}

stock CurePlayer(playerid, healerid = INVALID_PLAYER_ID)
{
	if(Player[playerid][IsPlayerInfected])
	{
    	KillTimer(Player[playerid][InfectedTimer]);
	    Player[playerid][IsPlayerInfected] = false;
	    Player[playerid][IsPlayerAdvancedInfected] = false;
	    SetPlayerColor(playerid, COLOR_HUMAN);
		SetPlayerDrunkLevel(playerid, 0);
		TextDrawHideForPlayer(playerid, Infected[playerid]);
		TextDrawHideForPlayer(playerid, Blind[playerid]);
		Player[playerid][SlowWalk] = 0;
		Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
		
		if(healerid != INVALID_PLAYER_ID && IsPlayerConnected(healerid)) if(!DayMission[healerid][dm_done] && DayliMission[healerid] == 3 && DayMission[healerid][dm_progress] < DayMission[healerid][dm_counter]) ++DayMission[healerid][dm_progress];
		return 1;
	}
	return 0;
}

stock GetPlayerHealthEx(playerid, &Float:hp) { hp = playerStats[playerid][0]; }
stock GetPlayerArmourEx(playerid, &Float:hp) { hp = playerStats[playerid][1]; }

stock SetPlayerHealthAC(playerid, Float: Health, bool:ignore = false, Float:def = 100.0)
{
    new Float:ad = 0.0;
    //if(Health >= 16.0 && Clan[Player[playerid][pClan]][g_Buff] == 3 && InGangWar{playerid}) ad = float(GiveGangBuff(Player[playerid][pClan]));
	//if(Health >= 100.0 && Health <= 199.0) ad += float(Player[playerid][pRank]);
	
	if(!ignore)
    {
	    playerStats[playerid][2] = 3;
	    playerStats[playerid][0] = Health + ad;
	    LastHealth[playerid][0] = ((Health+ad) - 100.0);
	    SetPlayerHealth(playerid, Health+ad);
    }
    else
    {
        playerStats[playerid][2] = 3;
	    playerStats[playerid][0] = def + ad;
	    LastHealth[playerid][0] = ((def+ad) - 100.0);
	    SetPlayerHealth(playerid, def+ad);
    }
    AntiCheat[playerid][ac_OldHP] = 0.0;
    AntiCheat[playerid][ex_OldHP] = 0.0;
    AntiCheat[playerid][weap_OldHP] = -100.0;
    return 1;
}

stock SetPlayerArmourAC(playerid, Float: Armour)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
	    playerStats[playerid][3] = 3;
		playerStats[playerid][1] = 0.0;
		LastHealth[playerid][1] = -100.0;
		SetPlayerArmour(playerid, 0.0);
		return 1;
	}
	
	new Float:ad = 0.0;
	playerStats[playerid][3] = 3;
	playerStats[playerid][1] = Armour + ad;
	
	playerStats[playerid][1] = float(min(floor(playerStats[playerid][1]), 85));
	LastHealth[playerid][1] = ((playerStats[playerid][1]) - 100.0);
	SetPlayerArmour(playerid, playerStats[playerid][1]);
	
    return 1;
}

stock SetPlayerTeamEx(playerid, team)
{
    Player[playerid][pTeam] = team;
	if(team == TEAM_HUMAN || team == TEAM_ZOMBIE) SetPlayerTeam(playerid, 0); else SetPlayerTeam(playerid, team);
	CallRemoteFunction("OnServerSetPlayerTeam", "dd", playerid, team);
}

stock GetPlayerTeamEx(playerid) return Player[playerid][pTeam];


stock ResetWeapons(playerid)
{
    new gunname[32];
	for(new i; i<46; i++)
	{
		GetWeaponName(i, gunname, sizeof(gunname));
		SetPVarInt(playerid, gunname, -4);
	}
    SetPlayerArmedWeapon(playerid, 0);
    ResetPlayerWeapons(playerid);
}

stock GivePlayerWeaponAC(playerid, weapid, ammo, bool:candouble = true)
{
    new gunname[32];
    GetWeaponName(weapid, gunname, sizeof(gunname));
    SetPVarInt(playerid, gunname, 0);
    //SetPVarInt(playerid, gunname, GetPVarInt(playerid, gunname) + ammo);
    if(candouble)
	{
	    new addAmo = 0;
	    
	    GetWeaponName(weapid, gunname, sizeof(gunname));
	    if(Player[playerid][pVip] >= 1 && weapid != 27 && weapid != 26 && weapid != 16 && weapid <= 32 && GetPlayerTeamEx(playerid) == TEAM_HUMAN)
		{
		    if((ammo*2)+addAmo < 1000)
		    {
				SetPVarInt(playerid, gunname, GetPVarInt(playerid, gunname) + (ammo*2)+addAmo);
				GivePlayerWeapon(playerid, weapid, (ammo * 2)+addAmo);
			}
			else
			{
			    SetPVarInt(playerid, gunname, 1000);
				GivePlayerWeapon(playerid, weapid, 1000);
			}
		}
		else
		{
		    if(GetPlayerTeamEx(playerid) != TEAM_HUMAN) addAmo = 0;
		    
		    if((ammo+addAmo) < 1000)
		    {
				SetPVarInt(playerid, gunname, GetPVarInt(playerid, gunname) + (ammo+addAmo));
				GivePlayerWeapon(playerid, weapid, (ammo+addAmo));
  			}
			else
			{
			    GivePlayerWeapon(playerid, weapid, 1000);
			    SetPVarInt(playerid, gunname, 1000);
			    SetPlayerAmmoAC(playerid, weapid, 1000);
			}
		}
	}
	else
	{
	    new addAmo = 0;
	    new wd, wp;
	    GetPlayerWeaponData(playerid, GetWeaponSlot(weapid), wp, wd);
	   	if(wd <= 0)
 		{
 		    SetPVarInt(playerid, gunname, GetPVarInt(playerid, gunname) + ammo+addAmo);
		 	GivePlayerWeapon(playerid, weapid, ammo+addAmo);
		}
		else
		{
		    if(wd > 0 &&  GetPVarInt(playerid, gunname) <= 0)
		    {
		        GivePlayerWeapon(playerid, weapid, ammo+addAmo);
		        SetPVarInt(playerid, gunname, GetPVarInt(playerid, gunname) + ammo+addAmo);
   				SetPlayerAmmoAC(playerid, weapid, GetPVarInt(playerid, gunname));
       			SetPVarInt(playerid, gunname, GetPVarInt(playerid, gunname));
		    }
			else if(GetPVarInt(playerid, gunname) > 1000)
			{
			    GivePlayerWeapon(playerid, weapid, ammo);
   				SetPlayerAmmoAC(playerid, weapid, 1000);
       			SetPVarInt(playerid, gunname, 1000);
			}
		}
	}
	return 1;
}

stock SetPlayerAmmoAC(playerid, weapid, ammo)
{
    new gunname[32];
    GetWeaponName(weapid, gunname, sizeof(gunname));
    SetPVarInt(playerid, gunname, ammo);
    SetPlayerAmmo(playerid, weapid, ammo);
}

stock GivePlayerXP(playerid, xp, bool:more=true)
{
    new string[24];
    if((xp == 2 || xp == 1) && more) xp = (5 + GivePetGradeXP(playerid, 5));
	if(GetUnlockedCardEffect(playerid, CARD_EFFECT_HALLOWEEN) >= 1 && (xp == 2 || xp == 1 || xp == 5)) xp = floor(xp * 1.5);
	
	if(gettime() < VipBuffs[playerid][vb_IEXP][1]) xp += 10;
	
	Player[playerid][pXP] += xp * (DayMission[playerid][MultiplerTime] > 0 ? 2 : 1);
	
	format(string,sizeof(string),"~y~+_%i_]", xp);
	GameTextForPlayer(playerid, string, 3500, 5);
	
	/***************************************** CHAOS ******************************/
	for( new j; j < sizeof(NightEvent[evn_Mission]); j++)
	{
	    if(NightEvent[evn_Mission][j] == ev_COLLECTOR && e_ExclusionZone[playerid][e_ezMission][j] <= 1499)
	    {
	        e_ExclusionZone[playerid][e_ezMission][j] += xp;
	        if(e_ExclusionZone[playerid][e_ezMission][j] >= 1500) ev_CompleteToNext(playerid, ev_COLLECTOR);
			break;
	    }
	}
	/*****************************************************************************/
}

fun CanUseAbility(playerid)
{
	if(IsPlayerInRangeOfPoint(playerid, 35.0, 313.1213,-166.1391,999.6010)) return 0;
	if(gettime() < TormentTime[playerid]) return 0;
	if(Player[playerid][aDuty]) return 0;
	if(Player[playerid][Jailed] >= 1) return 0;
	if(InGangWar{playerid}) return 0;
	if(IsValidActor(MyFantom[playerid])) return 0;
	if(GetPlayerAnimationIndex(playerid) == 839) return 0;
	if(IsFalling(playerid))
	{
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	    {
	    	if(Player[playerid][pClass][TEAM_HUMAN] == ROCKETMAN ||
      		Player[playerid][pClass][TEAM_HUMAN] == IRONMAN ||
        	//Player[playerid][pClass][TEAM_HUMAN] == SPIDERMAN ||
         	Player[playerid][pClass][TEAM_HUMAN] == HUMANQUEEN) return 1;
		}
		else if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
		{
		    if(Player[playerid][pClass][TEAM_ZOMBIE+1] == FASTZOMBIE ||
      		Player[playerid][pClass][TEAM_ZOMBIE+1] == MEGAJUMPERZOMBIE) return 1;
		}
		return 0;
	}
	if(InGangHouse[playerid]) return 0;
	
	if(PlayerGuitarTime[playerid] >= 1 && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) return 0;
	return 1;
}

fun stopSound(i) return PlayerPlaySound(i, 0, 0.0, 0.0, 0.0);

fun OnPlayerGiveDamage(playerid, damagedid, Float:amount, weaponid, bodypart)
{
    if(IsPlayerConnected(damagedid))
	{
		if(Player[playerid][aDuty] || Player[damagedid][aDuty]) return 1;
		if(gettime() < ZombieSpawnProtection[damagedid] && GetPlayerTeamEx(damagedid) == TEAM_ZOMBIE)
		{
		    SetPlayerChatBubble(damagedid, "SPAWN PROTECTION", 0xd6d6c2FF, 20.0, 1000);
			return 0;
		}
		if(GetPlayerTeamEx(damagedid) == TEAM_ZOMBIE) for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(damagedid, 5.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j])) { SetPlayerChatBubble(damagedid, "SPAWN PROTECTION", 0xd6d6c2FF, 20.0, 1000); return 0; }
		
		if(weaponid >= 22 && weaponid <= 42)
		{
		    PlayerShotPlayer[playerid][damagedid] = true;

			//ApplyCustomDamage(playerid, damagedid, weaponid, amount, false, bodypart);
			UseDamageSystem(damagedid, playerid, amount, weaponid, bodypart);
		}
	}
    return 1;
}

fun OnPlayerTakeDamage(playerid, issuerid, Float: amount, weaponid, bodypart)
{
    if(weaponid >= 49 && weaponid <= 54)
	{
	    if(IsPlayerConnected(issuerid))
		{
			if(GetPlayerTeamEx(issuerid) != GetPlayerTeamEx(playerid) && !Player[issuerid][aDuty])
			{
			    PlayerShotPlayer[issuerid][playerid] = true;
			    if(weaponid == 50)
			    {
			        if(!ItsNewbie(playerid)) ApplyCustomDamage(issuerid, playerid, weaponid, amount, false, bodypart);
			    }
				else ApplyCustomDamage(issuerid, playerid, weaponid, amount, false, bodypart);
			}
		}
		else
		{
			return 0;
		}
	}
    else if((!IsPlayerConnected(playerid) || !IsPlayerConnected(issuerid)) && weaponid != 33)
	{
	    //printf("Check damage #2: %d", weaponid);
		return 0;
	}
	
	PlayerShotPlayer[issuerid][playerid] = true;
	if(Player[issuerid][aDuty] || Player[playerid][aDuty]) return 0;
	
	if(gettime() < ZombieSpawnProtection[playerid] && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
 		SetPlayerChatBubble(playerid, "SPAWN PROTECTION", 0xd6d6c2FF, 20.0, 1000);
		return 0;
	}
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(playerid, 5.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j])) { SetPlayerChatBubble(playerid, "SPAWN PROTECTION", 0xd6d6c2FF, 20.0, 1000); return 0; }
	
    if(weaponid >= 0 && weaponid <= 15) UseDamageSystem(playerid, issuerid, amount, weaponid, bodypart);
    
	return 1;
}

fun Unstung(playerid)
{
	TextDrawHideForPlayer(playerid, Stun[playerid]);
	Player[playerid][Stung] = false;
}

fun TaserIsReady(playerid, hitid)
{
    /*if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == ADVANCEDPOLICEMAN)
	{
	    switch(Player[playerid][pLang])
	    {
			case 0: GameTextForPlayer(playerid, "~y~Taser is ~g~ready", 2000, 5);
			case 1: GameTextForPlayer(playerid, "~y~ШОКЕР ~g~заряжен", 2000, 5);
			case 2: GameTextForPlayer(playerid, "~y~Taser esta ~g~listo", 2000, 5);
		}
	}*/
    Player[playerid][TaserReady] = true;
    Player[hitid][Tasered] = false;
}

fun StartMap()
{
    static query[96], q;
    if(gettime() > Clan[Map[m_GangControll]][g_LastKill]) Map[m_GangControll] = 0;

	foreach(Player, j)
	{
	    //SaveUserData(j); // TODO
	    
	    mysql_format(Base, query, sizeof(query), "SELECT * FROM `paydays` WHERE `acc` = '%d' AND `build`='"SERVER_BUILD"'", Player[j][pAccountID]);
		mysql_tquery(Base, query, "CheckForEXP", "i", j);
		
	    static i;
	    for( i = 0; i < 18; i++ )
		{
	        if(IsValidObject(box[j][i]))
			{
				DestroyObject(box[j][i]);
				Delete3DTextLabel(boxText[j][i]);
				box[j][i] = INVALID_OBJECT_ID;
			}
			box[j][i] = INVALID_OBJECT_ID;
		}
	}

	if(IsValidObject(mapGate))
	{
		DestroyObject(mapGate);
		mapGate = INVALID_OBJECT_ID;
	}

	if(IsValidObject(mapGate2))
	{
		DestroyObject(mapGate2);
		mapGate2 = INVALID_OBJECT_ID;
	}

   	foreach(Player, i)
   	{
   	    DeattachSpider(i);
   	    if(Player[i][eventMember] > -1) continue;
   	    foreach(Player, j)
	   	{
		   	PlayerShotPlayer[i][j] = false;
   	        Abilitys[i][CanGiveArmour][j] = 1;
		}

	   	PlayerDamageChecker[i][p_ID] = -1;
   	    IsEvacuated[i] = false;
   	    CurePlayer(i);
   	    lastHuman[i] = false;
   	    HumanZombieBoss[i] = false;
   	    HumanHumanBoss[i] = false;
   	    Healer[i] = false;
   	    Player[i][IsBurned][0] = 0;
    	Player[i][IsBurned][1] = 0;
    	Player[i][ReinPos][0] = 0.0;
		Player[i][ReinPos][1] = 0.0;
		Player[i][ReinPos][2] = 0.0;
   	    Player[i][IsCursed] = false;
   	    Player[i][Poisioned] = false;
   	    TimesJumped[i] = 0;
   	    Invisible[i] = false;
   	    IsInCoffin[i] = false;
    	FatalAttack[i] = false;
     	PR_VirtualWorldForPlayer[i] = 0;
   	    
   	    IsPlayerControlledBy[i] = -1;
   	    PlayerControllPlayer[i] = -1;
   	    DoctorTimes[i] = 0;
   	    
   	    Player[i][AbilityAffectedID] = INVALID_PLAYER_ID;
   	    if(MyFantom[i] > -1)
   		{
		   	DestroyActor(MyFantom[i]);
		   	Delete3DTextLabel(FantomHelp[i]);
		   	MyFantom[i] = -1;
		}
   	    hasFlowers[i] = false;
		Player[i][Tasered] = false;
		//if(DayliMission[i] == 11) DayMission[i][dm_progress] = 0;
		Player[i][PortalWasCreated] = false;
   	    SetPlayerTeamEx(i, TEAM_HUMAN);
   	    SpawnZoneTimer[i] = 5;
   	    Player[i][IsPlayerAdvancedInfected] = false;
		DisablePlayerCheckpoint(i);
	 	Player[i][AntiSeeker] = false;
		Player[i][AntiFreeze] = false;
		Player[i][pWasGangAffected] = false;
		PlayerDamageChecker[i][DamageGiven] = 0.0;
		Player[i][AntiRadioctive] = false;
		Player[i][AntiBuring] = false;
		Player[i][AntiLegBreaks] = false;
		Player[i][AntiSpider] = false;
		Player[i][hasBleedEffect] = false;
		SetPlayerGravity(i, 0.008);
		GravityMode[i] = false;
		GravityReset[i] = false;
		CallRemoteFunction("ServerMapStartToPlayer", "ii", i, Player[i][pAccountID]);
		
		KillTimer(Player[i][PoisionTimer]);
		KillTimer(Player[i][InfectedTimer]);
		KillTimer(Player[i][BleedingTimer]);
		
		Player[i][CheckForProtect] = INVALID_PLAYER_ID;
		//HeroFieldTime[i][0] = 0;
		//HeroFieldTime[i][1] = 0;
		//for( q = 0; q< FLYZOMBIE; q++) Player[i][e_Avoid][q]=0;

		Player[i][AntiScreamer] = false;
		Player[i][Helmet] = false;
		Player[i][Fearlessness] = false;
		Player[i][Cursed] = false;
		p_FallingTime[i] = -1;
	    p_FallingCheck{i} = 0;
	    if(IsPlayerAcceleratedText[i]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[i]),IsPlayerAcceleratedText[i]=Text3D:-1;
		Player[i][Accelerated] = -1;

		for( new j; j < 5; j++ ) TextDrawHideForPlayer(i, ServerIntro[i][j]);
		for( new j; j < 8; j++ ) TextDrawHideForPlayer(i, APanel[i][j]);
        Player[i][pAntisonRound] = 0;
        
  		if(IsValidPickup(infectedMeat[i])) DestroyPickupEx(infectedMeat[i], true);

  		if(GetUnlockedSlot(Achievements[i][HumanClassesUses], 7) == 0 && Player[i][ConnectedMap] == mapid)
  		{
  		    UnlockAchievement(i, 56, 500);
	   		SetUnlockedSlot(Achievements[i][HumanClassesUses], 7, 1);
  		}

  		if(Player[i][Jailed] >= 1) SetPlayerTeamEx(i, TEAM_ZOMBIE);

		if(IsPlayerOnDuel[i]) SetPlayerTeamEx(i, NO_TEAM);
		if(InGangWar{i}) SetPlayerTeamEx(i, NO_TEAM);
		Map[m_AreaBattleStart] = false;

		if(Map[m_GangControll] > 0)
		{
		    if(mapid > 0) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][196], mapid, Map[m_MapName], Map[m_Author], Clan[Map[m_GangControll]][Full]);
			else SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][196], maps+1, Map[m_MapName], Map[m_Author], Clan[Map[m_GangControll]][Full]);
		}
		else
		{
			if(mapid > 0) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][33], mapid, Map[m_MapName], Map[m_Author]);
			else SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][33], maps+1, Map[m_MapName], Map[m_Author]);
		}

		/*if(GetWeekDay() == GANG_WARS_DAY)
		{
			switch(Player[i][pLang])
			{
			    case 0: SendClientMessage(i, -1, "{a64dff}>> The map can be captured by a gang");
			    case 1: SendClientMessage(i, -1, "{a64dff}>> Теперь эта карта может быть захвачена бандой");
			    case 2: SendClientMessage(i, -1, "{a64dff}>> El mapa puede ser capturado por una pandilla");
			}
			SetTimerEx("CreateDisplayInfo", 30, 0, "iffifffi", i, 1024.0, 354.9375, 18, 450.000, 354.9375, 10.0, 5000);
		}*/

		if(Map[m_Interior] <= 0) SendClientMessage(i,-1,serverLang[Player[i][pLang]][34]);
		
		if(GetUnlockedCardEffect(i, CARD_EFFECT_BUILDING) >= 1) Player[i][Boxes] = 4; else Player[i][Boxes] = 3;
		if(GetUnlockedCardEffect(i, CARD_EFFECT_BUILDING) >= 1) Player[i][AdvancedBoxes] = 6; else Player[i][AdvancedBoxes] = 5;
		
		drugs[i] = 5;
		Player[i][UnlimitedBoxes] = 0;
		if(IsValidPickup(meatDrops[i])) DestroyPickupEx(meatDrops[i], true);
		Player[i][LegBreak] = false;
		Player[i][Blidness] = 0;

		Player[i][aDuty] = false;
		AdminVeh[i] = 0;

		if(Player[i][ZombieCount] > 3) Player[i][ZombieCount] = 0;
		if(IsSpecing[i] && Player[i][pAdmin] > 0)
    	{
    	    TogglePlayerSpectating(i, 0);
        	IsSpecing[i] = false;
			IsBeingSpeced[spectatorid[i]] = false;
			spectatorid[i] = -1;
		}
		IsSpecing[i] = false;
   	}

   	for( new i; i < 2; i++ )
   	{
   		if(NewSpawnPoints[i][0] != 0.0)
		{
	 		NewSpawnsCreators[i] = INVALID_PLAYER_ID;
	 		Delete3DTextLabel(NewSpawnPointsText[i]);
	 		NewSpawnPoints[i][0] = 0.0;
		}
	}
	
 	for( new j = 0; j < sizeof(Map[ZombieSpawnX]); j++ )
    {
        Delete3DTextLabel(SpawnPoints[j]);
    	SpawnPoints[j] = Create3DTextLabel("{FFFFFF}Zombie Spawn\ndo{FF0000} not{FFFFFF} shoot zombies here", 0xFF0000FF, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j], 50.0, 0, 1);
	}

   	SetZombies();
   	foreach(Player, i) StartupHuman(i);

    UnloadFilterScript(Map[m_FSMapLastName]);

    if(Map[m_GateID] > 0) mapGate = CreateObject(Map[m_GateID], Map[m_GatePos][0], Map[m_GatePos][1], Map[m_GatePos][2], Map[m_GatePos][3], Map[m_GatePos][4], Map[m_GatePos][5]);
   	if(Map[m_Gate2ID] > 0) mapGate2 = CreateObject(Map[m_Gate2ID], Map[m_Gate2Pos][0], Map[m_Gate2Pos][1], Map[m_Gate2Pos][2], Map[m_Gate2Pos][3], Map[m_Gate2Pos][4], Map[m_Gate2Pos][5]);

   	for( new i; i < MAX_PICKUPS; i++ ) DestroyPickupEx(i);

    Map[m_XPType] = 1;
    CallRemoteFunction("OnServerSetMapEXP", "i", Map[m_XPType]);
    //if( GetWeekDay() >= 6 && GetWeekDay() <= 7) { Map[m_XPType] = 2; }
    //if(gettime() < 1597449600) { Map[m_XPType] = 3; }

    Time = MAX_MAP_TIME;

   	KillTimerEx(mapvar[0]);
	KillTimerEx(mapvar[1]);
	KillTimerEx(mapvar[2]);

    mapvar[0] = SetTimer("OnMapUpdate", MAX_MAPUPDATE_TIME, true);
	mapvar[1] = SetTimer("OnMapBalance", MAX_BALANCERUPDATE_TIME, true);

	SetWeather(Map[m_Weather]);
	SetWorldTime(Map[m_Time]);
	FirstBlood = false;
	LastAlive = false;
	LastHumanKilled = false;
	ZombieBoss = false;
	HumanBoss = false;
	RoundHealer = false;
	MapStarted = true;

	/*if(GetWeekDay() == GangsSettings[1])
	{
	    War[wi_GlobalWarIsStarted] = true;
		ClearWarInfo();
		SendClientMessageToAll(-1, "{FFF000}*** The battle between gangs has begun! (/gang cup ...[cup id])");
	}

	else if(War[wi_GlobalWarIsStarted])
	{
	    War[wi_GlobalWarIsStarted] = false;
		ClearWarInfo();
		foreach(Player, y)
		{
		    if(InGangWar{y})
		    {
				if(GangName[y]>Text3D:-1) Delete3DTextLabel(GangName[y]),GangName[y]=Text3D:-1;
		        InGangWar{y} = false;
		        InWarStage2{y} = false;
		        WarStageAgainst{y} = -1;
		        WarStageTeam{y} = -1;
		        ResetWeapons(y);
		        SetPlayerTeamEx(y, TEAM_ZOMBIE);
		        SetPlayerVirtualWorld(y, 0);
		        SetSpawnInfo(y,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		        SpawnPlayer(y);
			}
		}
		SendClientMessageToAll(-1, "{FFF000}*** The battle for the cups has end!");
	}*/

	if(mapid > -1 && mapid < sizeof(Valintine))
    {
		SetActorPos(Valintine[mapid], ValintinePoses[mapid][0], ValintinePoses[mapid][1], ValintinePoses[mapid][2]);
    	SetActorFacingAngle(Valintine[mapid], ValintinePoses[mapid][3]);
    }

	new i, Float:dsx = 2.5, Float:dsy = 2.5;

	for( i = 0; i < sizeof(Merchants); i++ )
	{
	    Delete3DTextLabel(SpawnMerchants[i]);
		if(IsValidActor(Merchants[i])) DestroyActor(Merchants[i]);
	}

	for( i = 0; i < sizeof(ZombieMerchant); i++ )
	{
	    Delete3DTextLabel(ZombieSpawnMerchants[i]);
		if(IsValidActor(ZombieMerchant[i])) DestroyActor(ZombieMerchant[i]);
	}

    Merchants[0] = CreateActor(172, 0.0, 0.0, 5.0, 360.0);
	CallRemoteFunction("OnServerSpawnBots", "ifffi", Merchants[0], Map[HumanSpawnX][1]+dsx, Map[HumanSpawnY][1]+dsy, Map[HumanSpawnZ][1], 0);
	
	Merchants[1] = CreateActor(171, 0.0, 0.0, 5.0, 360.0);
	CallRemoteFunction("OnServerSpawnBots", "ifffi", Merchants[1], Map[HumanSpawnX][2]+dsx, Map[HumanSpawnY][2]+dsy, Map[HumanSpawnZ][2], 1);
	
	/*for( i = 1; i < sizeof(Merchants); i++ )
	{
	    switch(random(3))
	    {
	        case 0: Merchants[i] = CreateActor(11, Map[HumanSpawnX][i]+dsx, Map[HumanSpawnY][i]+dsy, Map[HumanSpawnZ][i], float(random(360)));
            case 1: Merchants[i] = CreateActor(171, Map[HumanSpawnX][i]+dsx, Map[HumanSpawnY][i]+dsy, Map[HumanSpawnZ][i], float(random(360)));
            case 2: Merchants[i] = CreateActor(172, Map[HumanSpawnX][i]+dsx, Map[HumanSpawnY][i]+dsy, Map[HumanSpawnZ][i], float(random(360)));
		}
		SetActorInvulnerable(Merchants[i], false);
		SetActorVirtualWorld(Merchants[i], Map[m_World]);
		SetActorHealth(Merchants[i], 200.0);
		ApplyActorAnimation(Merchants[i], "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 1, 1000);
		SpawnMerchants[i] = Create3DTextLabel("{FFFFFF}{0099ff}Merchant\n{99d6ff}Press {FFFFFF}LEFT ALT{99d6ff} to buy anti-things", 0xFF0000FF, Map[HumanSpawnX][i]+dsx, Map[HumanSpawnY][i]+dsy, Map[HumanSpawnZ][i] + 1.5, 10.0, 0, 1);
	}

	for( i = 0; i < sizeof(ZombieMerchant); i++ )
	{
	    SetActorVirtualWorld(ZombieMerchant[i], Map[m_World]);
		SetActorHealth(ZombieMerchant[i], 200.0);
		ApplyActorAnimation(ZombieMerchant[i], "DEALER", "DEALER_IDLE", 4.1, 1, 0, 0, 1, 1000);
	    ZombieMerchant[i] = CreateActor(70, Map[ZombieSpawnX][i]+dsx, Map[ZombieSpawnY][i]+dsy, Map[ZombieSpawnZ][i], float(random(360)));
		ZombieSpawnMerchants[i] = Create3DTextLabel("{FFFFFF}{00b33c}Mutation Shop\n{009933}Press {1aff66}LEFT ALT{009933} to buy anti-things", 0xFF0000FF, Map[ZombieSpawnX][i]+dsx, Map[ZombieSpawnY][i]+dsy, Map[ZombieSpawnZ][i] + 1.5, 10.0, 0, 1);
	}
	
	if(isMerchantCame[0])
	{
	    Delete3DTextLabel(Merchant[mc_Text]);
	    DestroyActor(Valintine[Merchant[mc_map]]);
	   	Merchant[mc_Text] = Create3DTextLabel("{d633ff}Itinerant Merchant\n{FFFFFF}Press {FFF000}LEFT ALT", 0xFF0000FF, ValintinePoses[Merchant[mc_map]][0], ValintinePoses[Merchant[mc_map]][1], ValintinePoses[Merchant[mc_map]][2], 150.0, 0, 0);
		Valintine[Merchant[mc_map]] = CreateActor(249, ValintinePoses[Merchant[mc_map]][0], ValintinePoses[Merchant[mc_map]][1], ValintinePoses[Merchant[mc_map]][2], ValintinePoses[Merchant[mc_map]][3]);
	}
	*/
}

fun FunSetVip(i)
{
    if(cache_num_rows() > 0)
	{
	    new time, vip;
	   	cache_get_value_name_int(0, "VipTime", time);
	   	cache_get_value_name_int(0, "VIP", vip);
	   	if(vip >= 1)
  		{
  		    Player[i][pVipTime] = time;
		  	Player[i][pVip] = vip;
		}
		else
		{
		    Player[i][pVipTime] = 0;
		  	Player[i][pVip] = 0;
		}
	}
	else
	{
 		if(Player[i][pVip] <= 0)
 		{
	    	Player[i][pVipTime] = 0;
			Player[i][pVip] = 0;
		}
	}
	return 1;
}

fun OnMapBalance()
{
	if(playerOnline >= 2)
	{
		if(GetTeamPlayersAlive(TEAM_HUMAN) <= 0 && IsValidTimer(mapvar[0]) && GetTeamPlayersAlive(TEAM_ZOMBIE) >= 2)
		{
		    KillTimerEx(mapvar[0]);
			KillTimerEx(mapvar[1]);
			KillTimerEx(mapvar[2]);
		    foreach(Player, i)
			{
				SendClientMessage(i, -1, serverLang[Player[i][pLang]][69]);
				//if(DayliMission[i] == 7 && DayMission[i][dm_progress] < DayMission[i][dm_counter]) DayMission[i][dm_progress]++;
			}
			mapvar[2] = SetTimer("EndMap", 4000, false);
			MapStarted = false;
			foreach(Player, j)
			{
				if(GetPlayerTeamEx(j) == TEAM_ZOMBIE && !lastHuman[j] && AFK[j] <= -4 && ZombieMoveTime[j] <= 2)
				{
    				GivePlayerXP(j, 5);
				}
			}
		}
	}
}

fun Load_GetMapID()
{
    if(cache_num_rows() > 0)
 	{
 	    cache_get_value_name_int(0, "ID", maps);
	}
	
	new tmp = (mapid+1), query[64];

	if(tmp == 31) tmp = 32;
	if(tmp > maps || tmp <= 0) tmp = 0;
	
	mysql_format(Base, query, sizeof(query), "SELECT `Name` FROM `maps` WHERE `ID` = '%i'", tmp);
 	mysql_tquery(Base, query, "Load_GetMapName");
	
	return 1;
}

fun Load_GetMapName()
{
    if(cache_num_rows() > 0)
 	{
 	    new name[32], string[144];
 	    cache_get_value_name(0, "Name", name, 32);
 	    foreach(Player, i)
		{
   			for( new j = strlen(name); j > -1; j--) if(name[j] == ' ') name[j] = '_';
			switch(Player[i][pLang])
			{
			    case 0: format(string,sizeof(string), "Next_Map:_%s", name);
				case 1: format(string,sizeof(string), RusToGame("Следующая__Карта:_%s"), name);
				case 2: format(string,sizeof(string), "Siguiente_Mapa:_%s", name);
			}
			TextDrawSetString(DisplayInfo[0][i], string);
		}
	}
	return 1;
}

fun LoadMapInfo()
{
    strmid(Map[m_Author], " ", 0, 1, 1);
    if(cache_num_rows() > 0)
 	{
		new position[15][96], name[2][96], CamPos[256];
		
		if(mapid == 0) DestroyAllVehicle();

        cache_get_value_name(0, "mauthor", Map[m_Author], 25);
        if(strlen(Map[m_Author]) >= 2)
        {
            new str[48];
	        format(str, sizeof(str), "{FFFFFF}(by %s)", Map[m_Author]);
			strmid(Map[m_Author], str, 0, 48, 49);
        }
        
	    cache_get_value_name_int(0, "Time", Map[m_Time]);
	    cache_get_value_name_int(0, "Weather", Map[m_Weather]);
	    cache_get_value_name_int(0, "Interior", Map[m_Interior]);
	    cache_get_value_name(0, "Filterscript", name[0], 96);
	    cache_get_value_name(0, "Name", name[1], 96);
	    cache_get_value_name_int(0, "GateID", Map[m_GateID]);
	    cache_get_value_name_int(0, "Gate2ID", Map[m_Gate2ID]);
	    cache_get_value_name_int(0, "GateMove", Map[m_MoveGate]);
	    cache_get_value_name_int(0, "World", Map[m_World]);
	    cache_get_value_name_int(0, "checkpoint_size", Map[m_CheckPointSize]);
        
	    cache_get_value_name_int(0, "controlled", Map[m_GangControll]);

	    cache_get_value_name_float(0, "GateSpeed", Map[m_GateSpeed]);

	    cache_get_value_name(0, "FHS", position[0], 96);
	    cache_get_value_name(0, "SHS", position[1], 96);
	    cache_get_value_name(0, "THS", position[2], 96);
	    cache_get_value_name(0, "VHS", position[9], 96);
	    cache_get_value_name(0, "YHS", position[11], 96);

	    cache_get_value_name(0, "FZS", position[3], 96);
	    cache_get_value_name(0, "SZS", position[4], 96);
	    cache_get_value_name(0, "TZS", position[5], 96);
	    cache_get_value_name(0, "VZS", position[10], 96);
	    cache_get_value_name(0, "YZS", position[12], 96);

	    cache_get_value_name(0, "Camera", CamPos);

	    cache_get_value_name(0, "GatePos", position[6], 96);
	    cache_get_value_name(0, "GatePosTo", position[7], 96);

	    cache_get_value_name(0, "Checkpoint", position[8], 96);
	    cache_get_value_name_int(0, "AllowWater", Map[m_AllowWater]);

	    cache_get_value_name(0, "Gate2Pos", position[13], 96);
	    cache_get_value_name(0, "Gate2PosTo", position[14], 96);

	    sscanf(position[0], "p<,>fff", Map[HumanSpawnX][0], Map[HumanSpawnY][0], Map[HumanSpawnZ][0]);
	    sscanf(position[1], "p<,>fff", Map[HumanSpawnX][1], Map[HumanSpawnY][1], Map[HumanSpawnZ][1]);
	    sscanf(position[2], "p<,>fff", Map[HumanSpawnX][2], Map[HumanSpawnY][2], Map[HumanSpawnZ][2]);
	    sscanf(position[9], "p<,>fff", Map[HumanSpawnX][3], Map[HumanSpawnY][3], Map[HumanSpawnZ][3]);
	    sscanf(position[11], "p<,>fff", Map[HumanSpawnX][4], Map[HumanSpawnY][4], Map[HumanSpawnZ][4]);

	    sscanf(CamPos, "p<,>ffffff", Map[m_CamPos][0], Map[m_CamPos][1], Map[m_CamPos][2], Map[m_CamPos][3], Map[m_CamPos][4], Map[m_CamPos][5]);

	    sscanf(position[3], "p<,>fff", Map[ZombieSpawnX][0], Map[ZombieSpawnY][0], Map[ZombieSpawnZ][0]);
	    sscanf(position[4], "p<,>fff", Map[ZombieSpawnX][1], Map[ZombieSpawnY][1], Map[ZombieSpawnZ][1]);
	    sscanf(position[5], "p<,>fff", Map[ZombieSpawnX][2], Map[ZombieSpawnY][2], Map[ZombieSpawnZ][2]);
	    sscanf(position[10], "p<,>fff", Map[ZombieSpawnX][3], Map[ZombieSpawnY][3], Map[ZombieSpawnZ][3]);
	    sscanf(position[12], "p<,>fff", Map[ZombieSpawnX][4], Map[ZombieSpawnY][4], Map[ZombieSpawnZ][4]);

	    sscanf(position[6], "p<,>ffffff",Map[m_GatePos][0], Map[m_GatePos][1], Map[m_GatePos][2], Map[m_GatePos][3], Map[m_GatePos][4], Map[m_GatePos][5]);
	    sscanf(position[7], "p<,>ffffff", Map[m_GatePosTo][0], Map[m_GatePosTo][1], Map[m_GatePosTo][2], Map[m_GatePosTo][3], Map[m_GatePosTo][4], Map[m_GatePosTo][5]);

	    sscanf(position[13], "p<,>ffffff", Map[m_Gate2Pos][0], Map[m_Gate2Pos][1], Map[m_Gate2Pos][2], Map[m_Gate2Pos][3], Map[m_Gate2Pos][4], Map[m_Gate2Pos][5]);
	    sscanf(position[14], "p<,>ffffff", Map[m_Gate2PosTo][0], Map[m_Gate2PosTo][1], Map[m_Gate2PosTo][2], Map[m_Gate2PosTo][3], Map[m_Gate2PosTo][4], Map[m_Gate2PosTo][5]);

		sscanf(position[8], "p<,>fff", Map[m_Check][0], Map[m_Check][1], Map[m_Check][2]);

		new mpname[96];
		strmid(Map[m_MapName], name[1], false, strlen(name[1]), 96);
		format(mpname, sizeof(mpname), "mapname %s", Map[m_MapName]);
		SendRconCommand(mpname);

		strmid(Map[m_FSMapLastName], Map[m_FSMapName], 0, 128, 128);
		strmid(Map[m_FSMapName], name[0], 0, 128, 128);

		if(mapid < maps) { mapid++; } else { mapid = 0; }
		
		if(!Map[m_IsStarted])
		{
			StartMap();
			Map[m_IsStarted] = true;
		}

		/// Load map
		
		new lan_name[64];
		format(lan_name, sizeof(lan_name), "language %s", Map[m_MapName]);
		SendRconCommand(lan_name);
		
		LoadFilterScript(Map[m_FSMapName]);
		already_skipped = false;
		
 	}
 	return 1;
}

fun LoadFilterScript(filename[])
{
	new string[128];
	format(string, sizeof(string), "loadfs %s", filename);
	SendRconCommand(string);
	
	//printf("Loaded in %d ms!", GetTickCount() - time);
	
	return 1;
}

stock LoadNewMap()
{
	if(mapid == 31) mapid = 32;
	if((mapid-1) > maps || mapid <= 0) mapid = 0;

	new query[200];
 	mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `maps` ORDER BY `ID` DESC LIMIT 1");
 	mysql_tquery(Base, query, "Load_GetMapID");
	
 	mysql_format(Base, query, sizeof(query), "SELECT maps.*, IFNULL((SELECT users.Name mathor FROM users JOIN maps ON maps.author = users.ID WHERE maps.ID = %i),'') mauthor FROM maps WHERE maps.ID = %i", mapid, mapid);
 	mysql_tquery(Base, query, "LoadMapInfo");
 	
 	current_map = mapid;
}

fun EndMap()
{
    CallRemoteFunction("ServerMapEnd", "d", 0);
    new j = 0;
	if(Map[m_AreaBattleStart])
	{
	    new mxk = 1, gid = 0;
		for( j = 1; j < 30; j++)
		{
		    if(Map[m_GangKillsPerRound][j] > mxk)
		    {
		        foreach(Player, i)
				{
				    if(Player[i][pClan] == j && GetPlayerTeamEx(i) == TEAM_HUMAN && GetPlayerColor(i) == COLOR_EVACUATED)
				    {
				    	mxk = Map[m_GangKillsPerRound][j];
						gid = j;
						break;
					}
				}
			}
		}
		
		new bool:captured = false;
		if(gid > 0)
		{
			foreach(Player, i)
			{
				if(Player[i][pClan] == gid && GetPlayerTeamEx(i) == TEAM_HUMAN && GetPlayerColor(i) == COLOR_EVACUATED)
				{
					captured = true;
					break;
				}
		    }
		    
			if(captured)
			{
			   	if(Map[m_GangControll] <= 0)
				{
					SendMessageFormatToAll(-1, "{a64dff}>> %s got control over the map", Clan[gid][Short], Map[m_GangKillsPerRound][gid]);
					Map[m_GangControll] = gid;
				}
				else if(Map[m_GangControll] != gid)
				{
					SendMessageFormatToAll(-1, "{a64dff}>> %s took control of the map from %s (%s: %d / %s: %d)", Clan[gid][Short], Clan[Map[m_GangControll]][Short], Clan[gid][Short], Map[m_GangKillsPerRound][gid], Clan[Map[m_GangControll]][Short], Map[m_GangKillsPerRound][Map[m_GangControll]]);
		  			Map[m_GangControll] = gid;
				}
				else
				{
				    Map[m_GangControll] = gid;
					SendMessageFormatToAll(-1, "{a64dff}>> %s saved controlled map", Clan[gid][Short]);
					foreach(Player, i)
					{
					    if(Player[i][pClan] == gid)
					    {
							for( j = 0; j < sizeof(NightEvent[evn_Mission]); j++)
							{
							    if(NightEvent[evn_Mission][j] == ev_SOUNDASLEEP && e_ExclusionZone[i][e_ezMission][j] <= 0)
							    {
							        ++e_ExclusionZone[i][e_ezMission][j];
							        if(e_ExclusionZone[i][e_ezMission][j] >= 1) ev_CompleteToNext(i, ev_SOUNDASLEEP);
							        captured = true;
									break;
							    }
							}
						}
					}
				}
			}
			else Map[m_GangControll] = 0;
		}
		for( j = 0; j < 30; j++) Map[m_GangKillsPerRound][j] = 0;

		new query[128];
	    mysql_format(Base, query, sizeof(query), "UPDATE `maps` SET `controlled`='%d' WHERE `ID` = '%d'", gid, mapid-1);
	    mysql_tquery(Base, query, "", "");
	}
	
    foreach(Player,i)
	{
	    if(!Player[i][aDuty] && !IsPlayerOnDuel[i] && !IsPlayerInAnyVehicle(i) && !IsEvacuated[i] && Player[i][Jailed] <= 0 && !InGangHouse[i] && !InGangWar{i} && Player[i][eventMember] <= -1)
	    {
     		for( j = 0; j < 5; j++ ) TextDrawHideForPlayer(i, ServerIntro[i][j]);

		    switch(Player[i][pLang])
		    {
		        case 0:
		        {
		            TextDrawSetString(ServerIntro[i][0], "welcome to the");
		            TextDrawSetString(ServerIntro[i][1], "Zombie Apocalypse");
	                TextDrawSetString(ServerIntro[i][2], "server");
	                TextDrawSetString(ServerIntro[i][3], "Add to favorites <3");
	                TextDrawSetString(ServerIntro[i][4], "Type /help for more information~n~Type /rules for the server rules");
		        }
		        case 1:
		        {
		            TextDrawSetString(ServerIntro[i][0], RusToGame("добро п_ожаловать_в__мир"));
		            TextDrawSetString(ServerIntro[i][1], RusToGame("ЗОМБИ АП_ОКАЛ_ИП_СИСА"));
	                TextDrawSetString(ServerIntro[i][2], " ");
	                TextDrawSetString(ServerIntro[i][3], RusToGame("Доба_в__ьте_в__закладки <3"));
	                TextDrawSetString(ServerIntro[i][4], RusToGame("/help - помощь~n~/rules - правила сервера"));
		        }
		        case 2:
		        {
		            TextDrawSetString(ServerIntro[i][0], "Bienvenido a la");
		            TextDrawSetString(ServerIntro[i][1], "Apocalipsis Zombie");
	                TextDrawSetString(ServerIntro[i][2], "servidor");
	                TextDrawSetString(ServerIntro[i][3], "Agregar a los favoritos <3");
	                TextDrawSetString(ServerIntro[i][4], "/help para mбs informaciуn~n~/rules para las reglas del servidor");
		        }
		        default:
		        {
		            TextDrawSetString(ServerIntro[i][0], "welcome to the");
		            TextDrawSetString(ServerIntro[i][1], "Zombie Apocalypse");
	                TextDrawSetString(ServerIntro[i][2], "server");
	                TextDrawSetString(ServerIntro[i][3], "Add to favorites <3");
	                TextDrawSetString(ServerIntro[i][4], "Type /help for more information~n~Type /rules for the server rules");
		        }
		    }

	    	for( j = 0; j < 5; j++ ) TextDrawShowForPlayer(i, ServerIntro[i][j]);
			
	        if(Map[m_CamPos][0] != 0.0)
	        {
	        	SetPlayerCameraPos(i, Map[m_CamPos][0], Map[m_CamPos][1], Map[m_CamPos][2]);
	       		SetPlayerCameraLookAt(i, Map[m_CamPos][3], Map[m_CamPos][4], Map[m_CamPos][5]);
	    	}
		}
		Player[i][ReinPos][0] = 0.0;
		Player[i][ReinPos][1] = 0.0;
		Player[i][ReinPos][2] = 0.0;
		
		if(AdminVeh[i] > -1)
		{
			DestroyVehicle(AdminVeh[i]);
			AdminVeh[i] = -1;
		}
		if(IsPlayerInAnyVehicle(i) && Player[i][eventMember] <= -1)
		{
		    DestroyVehicle(GetPlayerVehicleID(i));
			//RemovePlayerFromVehicle(i);
		}
	}
	LoadNewMap();
    KillTimerEx(mapvar[2]);
    foreach(Player, i)
	{
		SendClientMessage(i, -1, serverLang[Player[i][pLang]][58]);
		switch(Player[i][pLang])
		{
		    case 0: GameTextForPlayer(i, "~r~ROUND OVER~n~~w~STARTING NEW ROUND...", 5000, 5);
		    case 1: GameTextForPlayer(i, RusToGame("~r~КОНЕЦ РАУНДА~n~~w~ПОДГОТОВКА НОВОГО..."), 5000, 5);
		    case 2: GameTextForPlayer(i, "~r~REDONDEAR~n~~w~COMENZANDO NUEVA RONDA...", 5000, 5);
		}
	}
	SetTimer("StartMap", 8000, false);
	MapStarted = false;
	return 1;
}

fun OnMapUpdate()
{
	if(!War[wi_GangWarIsStarted] && War[wi_GlobalWarIsStarted])
	{
	    new n, l = -1, t, b;
    	for(n = 0; n < 30; n++ )
	    {
	        for( t = 0; t < 30; t++ )
	        {
		        if(War[wi_GangSorted][n] && n != t)
				{
				    if(Clan[n][g_AllianceWith][t] <= 1)
					{
					    l = n;
					    b = War[wi_GangSorted][n];
					    if(random(2) == 0)
						{
						    if(strlen(Clan[t][Full]) >= 1 && strlen(Clan[n][Full]) >= 1)
						    {
						        for( new gangs; gangs < 30; gangs++ ) if(gangs != t && gangs != n) War[KickGang][gangs] = gettime() + 240;
								War[wi_TeamsInBattle][0] = t;
								War[wi_TeamsInBattle][1] = n;
								War[wi_GangWarIsStarted] = true;
								War[KickGang][t] = 0;
								War[KickGang][n] = 0;
								War[wi_Members][0] = 9999999;
			       				War[wi_Members][1] = 9999999;
			       				War[wi_Damage][0] = 0.0;
								War[wi_Damage][1] = 0.0;
								War[wi_Stage] = 0;
								Clan[t][g_WasInWarTimes]++;
								Clan[n][g_WasInWarTimes]++;
							    SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs begins!");
								SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (0 / 0)", Clan[t][Full], Clan[n][Full]);
								SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
								GameTextForAll("~w~15", 1000, 5);
								break;
							}
						}
					}
				}
			}
	    }
	    if( l > -1 && !War[wi_GangWarIsStarted])
	    {
	        if(strlen(Clan[b][Full]) >= 1 && strlen(Clan[l][Full]) >= 1 && Clan[b][g_AllianceWith][l] <= 1)
   			{
   			    if(Clan[b][g_AllianceWith][l] <= 1)
   			    {
   			        for( new gangs; gangs < 30; gangs++ ) if(gangs != b && gangs != l) War[KickGang][gangs] = gettime() + 240;
			        War[wi_TeamsInBattle][0] = b;
					War[wi_TeamsInBattle][1] = l;
					War[wi_GangWarIsStarted] = true;
					War[KickGang][b] = 0;
					War[KickGang][l] = 0;
					War[wi_Members][0] = 9999999;
					War[wi_Members][1] = 9999999;
					War[wi_Damage][0] = 0.0;
					War[wi_Damage][1] = 0.0;
					War[wi_Stage] = 0;
					Clan[b][g_WasInWarTimes]++;
					Clan[l][g_WasInWarTimes]++;
				    SendClientMessageToAll(-1, "{FFF000}>> The battle between the gangs begins!");
					SendMessageFormatToAll(-1, "{ffcc99}>> %s against %s (0 / 0)", Clan[b][Full], Clan[l][Full]);
					SetTimerEx("GangWarTimeBack", 1000, false, "ii", 15, War[wi_Stage]);
					GameTextForAll("~w~15", 1000, 5);
				}
			}
	    }
	}
				    
	Time -= 5;
	
	static tm[64], query[96];
	format(tm,sizeof(tm), "%d", Time);
	TextDrawSetString(TimeLeft, tm);
	
	mysql_format(Base, query, sizeof(query), "SELECT * FROM `ge_events` WHERE 1");
	mysql_tquery(Base, query, "SetServerConfigs");
	
	if(Time == 60)
	{
	 	mysql_format(Base, query, sizeof(query), "SELECT `ID` FROM `maps` ORDER BY `ID` DESC LIMIT 1");
		mysql_tquery(Base, query, "GetTheNextMap");
 	}
	
	foreach(Player, i)
	{
	    if(Time <= 0) DeattachSpider(i);
	    
	    if(SpawnZoneTimer[i] <= 4)
	    {
	        static j, bool:c = false;
		    for( j = 0; j < sizeof(Map[ZombieSpawnX]); j++ )
			{
				if(IsPlayerInRangeOfPoint(i, 25.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j]))
				{
				    c = true;
					break;
				}
			}
			if(!c) SpawnZoneTimer[i]++;
			if(Time <= 0)
			{
				switch(pSkills[i][e_sAdrenaline])
	    		{
					case 1: Accelerate(i, 3);
					case 2: Accelerate(i, 5);
					case 3: Accelerate(i, 8);
					case 4: Accelerate(i, 9);
					case 5: Accelerate(i, 12);
	    		}
	    		
	    		new Float:h;
	    		GetPlayerHealth(i, h);
	    		switch(pSkills[i][e_sImprovedAdrenaline])
	    		{
					case 1: { Accelerate(i, 5); if(h <= 14.9) SetPlayerHealth(i, h + 3.0); }
					case 2: { Accelerate(i, 8); if(h <= 14.9) SetPlayerHealth(i, h + 6.0); }
					case 3: { Accelerate(i, 11); if(h <= 14.9) SetPlayerHealth(i, h + 9.0); }
					case 4: { Accelerate(i, 13); if(h <= 14.9) SetPlayerHealth(i, h + 12.0); }
					case 5: { Accelerate(i, 17); if(h <= 14.9) SetPlayerHealth(i, h + 15.0); }
	    		}
			}
   		}
   		
 		if(OldPos[i][3] >= 1.0)  OldPos[i][3] -= 1.0;
 		
 		/*if(GetWeekDay() == GANG_WARS_DAY && !IsPlayerOnDuel[i] && GetPlayerTeamEx(i) == TEAM_HUMAN)
 		{
 		    new Float:h;
	        GetPlayerHealthEx(i, h);
 			if(h <= (SetVitality(i) / 2.0))
		 	{
			 	SetPlayerHealthAC(i, h + (SetVitality(i) / 2.0));
 				GameTextForPlayer(i, "~r~Regeneration", 2000, 5);
			}
 		}
 		*/
 		
	    if(IsPlayerOnDuel[i])
	    {
	        new Float:h;
	        GetPlayerHealth(i, h);
	        //if(GiveGangBuff(Player[i][pClan], 3) >= 2.0) if( h < (GiveGangBuff(Player[i][pClan], 3)/2.0)) SetPlayerHealthAC(i, h + (GiveGangBuff(Player[i][pClan], 3)/2.0));
	    }
		Player[i][TimesDamage] = 0;
		if(CBugTimes[i] >= 1) CBugTimes[i]--;
		
		if(TimesJumped[i] > 0) TimesJumped[i]--;
		if(JumpTimes[i] > 0) JumpTimes[i]--;
		
		if(MaybeBH[i] > 0) MaybeBH[i]--;
		Player[i][GunJammerAttack] = false;
    	Player[i][HeroField] = false;
    	//Player[i][hasNurseField] = false;
	}
	
	if(Time <= 0) TextDrawSetString(TimeLeft,"...");
	
	if(Time == 0)
	{
		if(IsValidTimer(mapvar[2])) KillTimerEx(mapvar[2]);
	    if(Map[m_MoveGate] > 0)
		{
			MoveObject(mapGate, Map[m_GatePosTo][0], Map[m_GatePosTo][1], Map[m_GatePosTo][2], Map[m_GateSpeed], Map[m_GatePosTo][3], Map[m_GatePosTo][4], Map[m_GatePosTo][5]);
        	if(mapGate2 > 0) MoveObject(mapGate2, Map[m_Gate2PosTo][0], Map[m_Gate2PosTo][1], Map[m_Gate2PosTo][2], Map[m_Gate2PosTo], Map[m_Gate2PosTo][3], Map[m_Gate2PosTo][4], Map[m_Gate2PosTo][5]);
		}
		
		TextDrawSetString(TimeLeft,"...");
		SetTimer("ShowCheckpoint", MAX_SHOW_CP_TIME, false);
		foreach(Player, i)
		{
		    SendClientMessage(i,-1, serverLang[Player[i][pLang]][37]);
			SendClientMessage(i,-1, serverLang[Player[i][pLang]][38]);
		}
	}
	return 1;
}

fun ShowCheckpoint()
{
	foreach(Player,i) SetPlayerCheckpoint(i,Map[m_Check][0],Map[m_Check][1],Map[m_Check][2], Map[m_CheckPointSize]);
	mapvar[2] = SetTimer("EndMap", MAX_END_TIME, false);
	return 1;
}

stock DestroyAllVehicle()
{
    for(new i; i < MAX_VEHICLES; i++)
	{
    	DestroyVehicle(i);
	}
	return 1;
}

stock CheckToStartMap()
{
    if(!Map[m_IsStarted]) LoadNewMap();
}

GetWeekDay(day=0, month=0, year=0)
{
	if(!day) getdate(year, month, day);
    new j, e;
  	if (month <= 2) { month += 12; --year; }
  	j = year % 100;
  	e = year / 100;
  	switch ((day + (month+1)*26/10 + j + j/4 + e/4 - 2*e) % 7)
  	{
    	case 0: return 6;
    	case 1: return 7;
    	case 2: return 1;
    	case 3: return 2;
    	case 4: return 3;
    	case 5: return 4;
    	case 6: return 5;
  	}
  	return 0;
}

stock EmptyMessage(const string[])
{
    for(new i; string[i] != 0x0; i++)
    {
        switch(string[i])
        {
            case 0x20: continue;
            default: return 0;
        }
    }
    return 1;
}

stock ShowDisplayInfo(playerid)
{
    TextDrawShowForPlayer(playerid, TimeLeft);
    TextDrawShowForPlayer(playerid, AliveInfo[playerid]);
    TextDrawShowForPlayer(playerid, UntillEvac[0][playerid]);
	TextDrawShowForPlayer(playerid, UntillEvac[1][playerid]);
	
	TextDrawShowForPlayer(playerid, DisplayInfo[0][playerid]);
	TextDrawShowForPlayer(playerid, DisplayInfo[1][playerid]);
}

stock UpdateAliveInfo(playerid)
{
	new string[160];
	switch(Player[playerid][pLang])
	{
	    case 0:
		{
			format(string,sizeof(string),"~r~zombies: %d~n~~w~humans: %d~n~~n~forum~n~%s~n~~b~Discord~n~~w~"DISCORD"",GetTeamPlayersAlive(TEAM_ZOMBIE),GetTeamPlayersAlive(TEAM_HUMAN),FORUM);
            TextDrawSetString(UntillEvac[1][playerid], "UNTIL EVAC");
		}
		case 1:
		{
			format(string,sizeof(string),RusToGame("~r~зомби: %d~n~~w~люди: %d~n~~n~Форум~n~%s~n~~b~Дискорд~n~~w~"DISCORD""),GetTeamPlayersAlive(TEAM_ZOMBIE),GetTeamPlayersAlive(TEAM_HUMAN),FORUM);
            TextDrawSetString(UntillEvac[1][playerid], RusToGame("В_РЕМЯ"));
		}
		case 2:
		{
			format(string,sizeof(string),"~r~zombies: %d~n~~w~humanos: %d~n~~n~foro~n~%s~n~~b~Discord~n~~w~"DISCORD"",GetTeamPlayersAlive(TEAM_ZOMBIE),GetTeamPlayersAlive(TEAM_HUMAN),FORUM);
            TextDrawSetString(UntillEvac[1][playerid], "HASTA EVAC");
		}
	}
	TextDrawSetString(AliveInfo[playerid], string);
	
	if(GetUnlockedSlot(Player[playerid][pSettings], PS_FPS) == 1)
	{
	    TextDrawHideForPlayer(playerid, FPS_Info[playerid]);
	    format(string,sizeof(string),"~y~FPS:_~w~%d", GetPlayerFPS(playerid));
	    TextDrawSetString(FPS_Info[playerid], string);
	    TextDrawShowForPlayer(playerid, FPS_Info[playerid]);
	}
	
	return 1;
}

fun GetTeamPlayersAlive(teamid)
{
    new count;
    foreach(Player, i)
    {
        if(GetPlayerTeamEx(i) == teamid) count++;
    }
    return count;
}

stock PlayerKick(playerid, const reason[] = "") {
	if(strlen(reason)) {
	   	new y, m, d, h, i, s, body[866];
		TimestampToDate(gettime(), y, m, d, h, i, s, 3);
	    new stats[2][401];
	    GetNetworkStats(stats[1], sizeof(stats[]));
	    GetPlayerNetworkStats(playerid, stats[0], sizeof(stats[]));
		format(body, sizeof(body), "\t\t\n\n%02d:%02d %02d/%02d/%04d\n\n%s\n%s\n\t\t", h, i, m, d, y, stats[1], stats[0]);
		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "(N)etwork (I)nformation", body, "Close", "");
	}
	SetTimerEx("KickPL",100,0,"i", playerid);
}

fun KickPL(playerid) { Kick(playerid); }

stock RankUp(playerid)
{
    if(PetUseds[playerid] > -1)
    {
        if(UserPet[playerid][PetUseds[playerid]][PI_Level] <= 99)
        {
	        UserPet[playerid][PetUseds[playerid]][PI_XP]++;
	        //if(UserPet[playerid][PetUseds[playerid]][PI_VIP]) UserPet[playerid][PetUseds[playerid]][PI_XP] += 2;
	        if(UserPet[playerid][PetUseds[playerid]][PI_XP] >= UserPet[playerid][PetUseds[playerid]][PI_XPM])
	        {
	            UserPet[playerid][PetUseds[playerid]][PI_XP] = 0;
	            UserPet[playerid][PetUseds[playerid]][PI_Level]++;
	            UserPet[playerid][PetUseds[playerid]][PI_XPM] = (++UserPet[playerid][PetUseds[playerid]][PI_Level])*3;
	            SendClientMessageFormat(playerid, -1, "{E68687}>> Your pet level upped. New level is %d!", UserPet[playerid][PetUseds[playerid]][PI_Level]);
	            GameTextForPlayer(playerid, "~y~Pet Level Up", 1500, 5);
			}
		}
    }
    
	if(Player[playerid][pKills] >= 10000 && Player[playerid][pKills] <= 12000 && GetUnlockedSlot(Achievements[playerid][eErgoProxy], 0) <= 0)
	{
		UnlockAchievement(playerid, 17, 10000);
		SetUnlockedSlot(Achievements[playerid][eErgoProxy], 0, 1);
    }
    
    //if(Player[playerid][pKills] == 10000) UnlockAchievement(playerid, 17, 10000);
    
    for( new i; i < sizeof(RanksEXP); i++ )
	{
		if(Player[playerid][pKills] >= RanksEXP[i] && Player[playerid][pRank] < i)
		{
		    foreach(Player, j) SendClientMessageFormat(j, -1, serverLang[Player[j][pLang]][197], Player[playerid][UserName], Player[playerid][UserName], PlayerRank[Player[j][pLang]][i]);
      		SendClientMessageFormat(playerid, -1, serverLang[Player[playerid][pLang]][198], PlayerRank[Player[playerid][pLang]][i]);
			
			switch(Player[playerid][pLang])
		    {
				case 0: GameTextForPlayer(playerid, "~y~Rank Up", 2000, 5);
		        case 1: GameTextForPlayer(playerid,RusToGame("~y~НОВЫЙ РАНГ"), 2000, 5);
		        case 2: GameTextForPlayer(playerid,"~y~Subir de rango", 2000, 5);
			}
			
			Player[playerid][pRank] = i;
			Player[playerid][pUpgPoints]++;
			
			if(Player[playerid][pRank] == 10 && Player[playerid][pRefID] > 0)
			{
			    new query[250];
				mysql_format(Base, query, sizeof(query), "INSERT INTO `paydays` (`acc`, `ID`, `amount`, `type`, `desc`, `build`) VALUES ('%d', NULL, '15000', '0', 'From %e - referral', '"SERVER_BUILD"')", Player[playerid][pRefID], Player[playerid][UserName]);
    			mysql_tquery(Base, query);
    			Player[playerid][pXP] += 10000;
			}
		}
	}
}

stock StartupHuman(playerid)
{
	if(IsPlayerOnDuel[playerid]) return 0;
	if(InGangWar{playerid}) return 0;
	if(InGangHouse[playerid]) return 0;
	if(Player[playerid][Jailed] >= 1) return 0;
	if(Player[playerid][eventMember] > -1) return 0;
    if(WasHumanTimes[playerid] > 3 && VipTeamSelected[playerid] != TEAM_HUMAN)
    {
        switch(Player[playerid][pLang])
		{
			case 0:
			{
				//SendClientMessage(playerid, -1, "{FFF000}>> You were chosen as a zombie due to inactive playing, go and kill all the humans");
                SendClientMessage(playerid, -1, "{FFF000}>> You should help your team, not stand most of the time");
	   			SendClientMessage(playerid, -1, "{FFF000}>> Use your ability to make it faster (LEFT ALT)");
                //SendClientMessageFormat(playerid, -1, "{FFF000}>> Team Balance: Zombie: %d times / Human: %d times", WasZombieTimes[playerid], WasHumanTimes[playerid]);
			}
			case 1:
			{
				//SendClientMessage(playerid, -1, "{FFF000}>> Вы были выбраны за команду зомби из за неактивной игры, идите и убейте всех людей!");
                SendClientMessage(playerid, -1, "{FFF000}>> Вы должны помогать своей команде, а не стоять большую часть времени");
	   			SendClientMessage(playerid, -1, "{FFF000}>> Используйте свою способность, чтобы сделать это быстрее (ЛЕВЫЙ АЛЬТ)");
                //SendClientMessageFormat(playerid, -1, "{FFF000}>> Баланс Команд: Вы были Зомби: %d раз / Человеком: %d раз", WasZombieTimes[playerid], WasHumanTimes[playerid]);
			}
			case 2:
			{
				//SendClientMessage(playerid, -1, "{FFF000}>> Fuiste elegido como zombie debido a la inactividad jugando, ve y mata a todos los humanos");
                SendClientMessage(playerid, -1, "{FFF000}>> Debes ayudar a tu equipo, no pararte la mayor parte del tiempo");
	   			SendClientMessage(playerid, -1, "{FFF000}>> Usa tu habilidad para hacerlo mбs rбpido (IZQUIERDA ALT)");
	   			//SendClientMessageFormat(playerid, -1, "{FFF000}>> Team Balance: Zombie: %d times / Human: %d times", WasZombieTimes[playerid], WasHumanTimes[playerid]);
			}
		}
		setupZombie(playerid);
		SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
		SpawnPlayer(playerid);
		
		WasZombieTimes[playerid] = 0;
		WasHumanTimes[playerid] = 0;
        return 0;
    }
	if(!Player[playerid][pLogged] || VipTeamSelected[playerid] == TEAM_ZOMBIE) {
		SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
		new p = random(sizeof(Map[ZombieSpawnX])), Float:dist = (float(1+random(19))/100.0);
		SetPlayerPosAC(playerid, Map[ZombieSpawnX][p]+dist, Map[ZombieSpawnY][p]+dist, Map[ZombieSpawnZ][p]);
		SetCameraBehindPlayer(playerid);
		// printf("THIS CALLED");
	}
	if(GetPlayerTeamEx(playerid) != TEAM_ZOMBIE && Player[playerid][pLogged])
	{
	    switch(Player[playerid][pLang])
	    {
	    	case 0: GameTextForPlayer(playerid, "~r~TRY TO STAY~n~~w~ALIVE", 2000, 6);
	    	case 1: GameTextForPlayer(playerid, RusToGame("~r~ПОПЫТАЙТЕСЬ~n~~w~ВЫЖИТЬ"), 2000, 6);
	    	case 2: GameTextForPlayer(playerid, "~r~INTENTA PERMANECER~n~~w~VIVO", 2000, 6);
		}
 	   	setupHuman(playerid);
 	   	SetSpawnInfo(playerid,TEAM_HUMAN,252,Map[HumanSpawnX][0],Map[HumanSpawnY][0],Map[HumanSpawnZ][0],0.0,0,0,0,0,0,0);
		SpawnPlayer(playerid);
		
		WasZombieTimes[playerid] = 0;
		WasHumanTimes[playerid]++;
		ZombieMoveTime[playerid] = 0;
 	}
 	return 1;
}

stock SetZombies()
{
	new Zmbsn;
	
	if(UseNewBalance)
	{
		if(playerOnline >= 3) Zmbsn = floor(playerOnline / 2.5);
		else Zmbsn = floor(playerOnline / 2);
	}
	else
	{
	    Zmbsn = floor(playerOnline / 2);
	}
	//if(playerOnline >= 21) Zmbsn = floor(playerOnline / 3);
	
    if(Zmbsn >= 1)
    {
        new pl, itterations = 0, i;
	    for(i = 0; i < Zmbsn; i++)
		{
		    search_player:
		    if(itterations >= (Zmbsn*12)) break;
		    itterations++;
		    pl = Iter_Random(Players);
		    if(!Player[pl][pLogged]) goto search_player;
		    if(IsPlayerOnDuel[pl]) goto search_player;
		    if(Player[pl][Jailed] >= 1) goto search_player;
			if(GetPlayerTeamEx(pl) == TEAM_ZOMBIE) goto search_player;
			if(InGangWar{pl}) goto search_player;
			if(VipTeamSelected[pl] == TEAM_HUMAN) goto search_player;
			if(Player[pl][eventMember] > -1) goto search_player;
			if(WasZombieTimes[pl] > WasHumanTimes[pl] && WasZombieTimes[pl] > 3) goto search_player;
			//if((VipBuffs[pl][vb_ICBH][0] == 1 && gettime() < VipBuffs[pl][vb_ICBH][1]) && random(2) == 0) goto search_player;
			if(InGangHouse[pl])
			{
			    SetPlayerWeather(pl, 0);
				SetPlayerTime(pl, 12, 0);
				setupZombie(pl);
			}
			
	 		printf("Setting teams %d of %d", i+1, Zmbsn);
	 		setupZombie(pl);
	 		SetSpawnInfo(pl,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
	       	SpawnPlayer(pl);
			
	       	if(VipTeamSelected[pl] == -1) WasZombieTimes[pl]++;
	       	WasHumanTimes[pl] = 0;
	       	
	       	switch(Player[pl][pLang])
			{
				case 0:
				{
					SendClientMessage(pl, -1, "{FFF000}>> You were chosen as a zombie go and kill all the humans");
	       			SendClientMessage(pl, -1, "{FFF000}>> Use your ability to make it faster (LEFT ALT)");
	       			//SendClientMessageFormat(pl, -1, "{FFF000}>> Team Balance: Zombie: %d times / Human: %d times", WasZombieTimes[pl], WasHumanTimes[pl]);
				}
				case 1:
				{
					SendClientMessage(pl, -1, "{FFF000}>> Вы были выбраны за команду зомби, идите и убейте всех людей!");
	       			SendClientMessage(pl, -1, "{FFF000}>> Используйте свою способность, чтобы сделать это быстрее (ЛЕВЫЙ АЛЬТ)");
	       			//SendClientMessageFormat(pl, -1, "{FFF000}>> Баланс Команд: Вы были Зомби: %d раз / Человеком: %d раз", WasZombieTimes[pl], WasHumanTimes[pl]);
				}
				case 2:
				{
					SendClientMessage(pl, -1, "{FFF000}>> Fuiste elegido como zombie, ve y mata a todos los humanos");
	       			SendClientMessage(pl, -1, "{FFF000}>> Usa tu habilidad para hacerlo mбs rбpido (IZQUIERDA ALT)");
	       			//SendClientMessageFormat(pl, -1, "{FFF000}>> Team Balance: Zombie: %d times / Human: %d times", WasZombieTimes[pl], WasHumanTimes[pl]);
				}
			}
		}
	}
}

stock ceil(Float:num) return floatround(num, floatround_ceil);
stock floor(Float:num) return floatround(num, floatround_floor);

stock RusToGame(const string[])
{
    new result[128];
    for(new i; i < 128; i++)
    {
    	switch(string[i])
     	{
      		case 'а':result[i] = 'a';
      		case 'А':result[i] = 'A';
      		case 'б':result[i] = '—';
	      	case 'Б':result[i] = 'Ђ';
	      	case 'в':result[i] = 'ў';
	      	case 'В':result[i] = '‹';
	      	case 'г':result[i] = '™';
	      	case 'Г':result[i] = '‚';
	      	case 'д':result[i] = 'љ';
	      	case 'Д':result[i] = 'ѓ';
	      	case 'е':result[i] = 'e';
	      	case 'Е':result[i] = 'E';
	      	case 'ё':result[i] = 'e';
	      	case 'Ё':result[i] = 'E';
	      	case 'ж':result[i] = '›';
	      	case 'Ж':result[i] = '„';
	      	case 'з':result[i] = 'џ';
	      	case 'З':result[i] = '€';
	      	case 'и':result[i] = 'њ';
	      	case 'И':result[i] = '…';
	      	case 'й':result[i] = 'ќ';
	      	case 'Й':result[i] = '…';
	      	case 'к':result[i] = 'k';
	      	case 'К':result[i] = 'K';
	      	case 'л':result[i] = 'ћ';
	      	case 'Л':result[i] = '‡';
	      	case 'м':result[i] = 'Ї';
	      	case 'М':result[i] = 'M';
	      	case 'н':result[i] = '®';
	      	case 'Н':result[i] = 'H';
	      	case 'о':result[i] = 'o';
	      	case 'О':result[i] = 'O';
	      	case 'п':result[i] = 'Ј';
	      	case 'П':result[i] = 'Њ';
	      	case 'р':result[i] = 'p';
	      	case 'Р':result[i] = 'P';
	      	case 'с':result[i] = 'c';
	      	case 'С':result[i] = 'C';
	      	case 'т':result[i] = '¦';
	      	case 'Т':result[i] = 'Џ';
	      	case 'у':result[i] = 'y';
	      	case 'У':result[i] = 'Y';
	      	case 'ф':result[i] = '?';
	      	case 'Ф':result[i] = 'Ѓ';
	      	case 'х':result[i] = 'x';
	      	case 'Х':result[i] = 'X';
	      	case 'ц':result[i] = '$';
	      	case 'Ц':result[i] = '‰';
	      	case 'ч':result[i] = '¤';
	      	case 'Ч':result[i] = 'Ќ';
	      	case 'ш':result[i] = 'Ґ';
	      	case 'Ш':result[i] = 'Ћ';
	      	case 'щ':result[i] = 'Ў';
	      	case 'Щ':result[i] = 'Љ';
	      	case 'ь':result[i] = '©';
	      	case 'Ь':result[i] = '’';
	      	case 'ъ':result[i] = 'ђ';
	      	case 'Ъ':result[i] = '§';
	      	case 'ы':result[i] = 'Ё';
	      	case 'Ы':result[i] = '‘';
	      	case 'э':result[i] = 'Є';
	      	case 'Э':result[i] = '“';
	      	case 'ю':result[i] = '«';
	      	case 'Ю':result[i] = '”';
	      	case 'я':result[i] = '¬';
	      	case 'Я':result[i] = '•';
   			default:result[i]=string[i];
     	}
	}
    return result;
}

stock AdminOnline()
{
	foreach(Player, i)
	{
	    if(Player[i][pAdmin] > 0 && Player[i][pLogged] && FakeData[i][6] <= 0 && AFK[i] <= -3) return 1;
	}
	return 0;
}

stock HighAdminOnline()
{
    foreach(Player, i)
	{
	    if(Player[i][pAdmin] >= 3 && AFK[i] <= -3) return 1;
	}
	return 0;
}

stock SendGangMessage(playerid, const message[])
{
	foreach(Player, i)
	{
		if(Player[i][pClan] == Player[playerid][pClan])
		{
	 	    SendClientMessage(i, -1, message);
	 	}
 	}
 	return 1;
}

stock DestroyPickupEx(pickupid, bool:ByForce = false)
{
	if(IsValidPickup(pickupid))
	{
	    if(!ByForce)
	    {
			if(Pickups[pickupid][epi_PickCanDestroy])
			{
				DestroyPickup(pickupid);
				Pickups[pickupid][epi_PickCanDestroy] = true;
				Pickups[pickupid][e_ID] = -1;
    			Pickups[pickupid][e_Time] = 0;
    			Pickups[pickupid][e_ForPlayer] = -1;
			}
		}
		else
		{
		    DestroyPickup(pickupid);
		    Pickups[pickupid][epi_PickCanDestroy] = true;
			Pickups[pickupid][e_ID] = -1;
		    Pickups[pickupid][e_Time] = 0;
		    Pickups[pickupid][e_ForPlayer] = -1;
		}
	}
}

stock IsValidPickup(pickupid)
{
	return (pickupid > -1 && pickupid <= 4093);
}

stock CreatePickupMeat(model, type, Float:X, Float:Y, Float:Z, virtualworld = 0, forPlayer = -1, playerid = -1)
{
    new a = CreatePickup(model, type, X, Y, Z, virtualworld);
    Pickups[a][e_ID] = a;
    Pickups[a][e_Time] = gettime()+15;
    Pickups[a][e_ForPlayer] = forPlayer;
    Pickups[a][e_ItemID] = model;
    Pickups[a][epi_PickCanDestroy] = true;
    Pickups[a][e_DropperID] = playerid;
    
    return a;
}

stock CreatePickupEx(pickupid, type, Float: x, Float: y, Float: z, virtual, bool:canDelete = true, eventID = -1)
{
    new ID = CreatePickup(pickupid, type, x, y, z, virtual);
	if(IsValidPickup(ID))
	{
	    Pickups[ID][e_ID] = ID;
    	Pickups[ID][e_Time] = 0;
    	Pickups[ID][e_ForPlayer] = -1;
    	Pickups[ID][e_ItemID] = -1;
		Pickups[ID][epi_PickCanDestroy] = canDelete;
		Pickups[ID][e_DropperID] = -1;
	}
	return ID;
}

stock IsPlayerInWater(playerid)
{
    new animlib[32],tmp[32];
    GetAnimationName(GetPlayerAnimationIndex(playerid),animlib,32,tmp,32);
    if(!strcmp(animlib, "SWIM") && !IsPlayerInAnyVehicle(playerid) ) return true;
    return false;
}

stock AnimCmp(playerid, const animname[])
{
    new animlib[32],tmp[32];
    GetAnimationName(GetPlayerAnimationIndex(playerid),animlib,32,tmp,32);
    if(strfind(animlib, tmp, true) != -1 || strfind(animlib, animname, true) != -1) return 1;
    return 0;
}

stock GetPlayerSpeed(playerid)
{
    new Float:ST[4];
    if(IsPlayerInAnyVehicle(playerid))GetVehicleVelocity(GetPlayerVehicleID(playerid),ST[0],ST[1],ST[2]);
    else GetPlayerVelocity(playerid,ST[0],ST[1],ST[2]);
    ST[3] = floatsqroot(floatpower(floatabs(ST[0]), 2.0) + floatpower(floatabs(ST[1]), 2.0) + floatpower(floatabs(ST[2]), 2.0)) * 150.0;
    return floatround(ST[3]);
}

stock OnPlayerCheckForSpeed(player_id)
{
    new
        vehicle_id = GetPlayerVehicleID(player_id),
        Float: pos_x,
        Float: pos_y,
        Float: pos_z;
    switch(vehicle_id)
    {
        case 0: GetPlayerVelocity(player_id, pos_x, pos_y, pos_z);
        default: GetVehicleVelocity(vehicle_id, pos_x, pos_y, pos_z);
    }
    return floatround(VectorSize(pos_x, pos_y, pos_z) * 100.0);
}

ReColor(text[])
{
    new
        pos = -1;
    while ((pos = strfind(text, "(", false, pos + 1)) != -1)
    {
        new
            c = pos + 1,
            n = 0,
            ch;
        while ((ch = text[c]) && n != 6)
        {
            if (!('a' <= ch <= 'f' || 'A' <= ch <= 'F' || '0' <= ch <= '9'))
            {
                break;
            }
            ++c;
            ++n;
        }
        if (n == 6 && ch == ')')
        {
            text[pos] = '{';
            text[c] = '}';
        }
    }
    //return 1;
}

stock SignCreate(playerid)
{
	//SendClientMessageFormat(playerid, -1, "%s", Name(playerid));
	CallRemoteFunction("GetUserAccountID", "ii", playerid, Player[playerid][pAccountID]);
	
	new hash[65], query[264], timedate[24];
	format(timedate, sizeof(timedate), "%d", gettime()+getdate()+Player[playerid][pAccountID]);
	SHA256_PassHash(timedate, "u37!39UM+t3;-PTohhHUEm?9A4}.mNu3fa4n~MoA93F77K,;7[!9WFpRVy@c3X@9T{gTdjC7Lk_3q#34A*E}3%e4№p4Xu3zL9,~u-F37@fu*%tM4q{_MtF9=9$sJHd(7", hash, sizeof(hash));
    mysql_format(Base, query, sizeof(query), "INSERT INTO `signs` (`Sign`,`Name`,`EXP`,`VIP`,`Admin`,`Rank`,`Balance`,`build`) VALUES ('%e','%e','%d','%d','%d','%d','%f','"SERVER_BUILD"')", hash,
	Player[playerid][UserName],
	Player[playerid][pXP],
	Player[playerid][pVip],
	Player[playerid][pAdmin],
	Player[playerid][pRank],
    Player[playerid][pBalance]);
	mysql_tquery(Base, query, "", "", "");
	strmid(Player[playerid][pSign], hash, 0, 16, 17);
}

stock resetVars(playerid)
{
    for( new i = 0; i < MAX_PLAYERS; i++ ) HeadshotsInCount[playerid][i] = 0;
    SuspectForAIM[playerid] = false;
    
    KillTimer(Player[playerid][PoisionTimer]);
	KillTimer(Player[playerid][InfectedTimer]);
	KillTimer(Player[playerid][BleedingTimer]);

    VipTeamSelected[playerid] = -1;
    GravityMode[playerid] = false;
    GravityReset[playerid] = false;
    TormentTime[playerid] = 0;
    ARDestructionTime[playerid] = 0;
    DoctorTimes[playerid] = 0;
    
    PlayerSelectWeaponToUpgrade[playerid] = -1;
    PlayerSelectUpgraderToWeapon[playerid] = -1;
    
    PlayerSelectStatToUpgrade[playerid] = -1;
    PlayerSelectUpgraderToStat[playerid] = -1;
    
    WasZombieTimes[playerid] = 0;
	WasHumanTimes[playerid] = 0;
	
	/// MODULE
	for(new j, i; i < 39; i++ ) for( j = 0; j < 8; j++) WeaponModule[playerid][i][j] = -1;
	//////////
	
	
	for(new i; i < sizeof(PlayerClassUnlocked[][]); i++)
    {
       PlayerClassUnlocked[playerid][TEAM_HUMAN][i] = -1;
       PlayerClassUnlocked[playerid][TEAM_ZOMBIE][i] = -1;
	}
	
	for( new i = 0; i < sizeof(WeaponSkill[]); i++ ) WeaponSkill[playerid][i] = 0;
    for( new i = 0; i < sizeof(CharacterSkill[]); i++ ) CharacterSkill[playerid][i] = 0;
    
    for( new i = 0; i < 4; i++ )
    {
        CharArInfo[playerid][CharAR_Buff_One][i] = -1;
        CharArInfo[playerid][CharAR_Buff_Two][i] = -1;
        CharArInfo[playerid][CharAR_Buff_Three][i] = -1;
        
        CharArInfo[playerid][CharAR_Buff_Time_One][i] = -1;
        CharArInfo[playerid][CharAR_Buff_Time_Two][i] = -1;
        CharArInfo[playerid][CharAR_Buff_Time_Three][i] = -1;
        
        CharArInfo[playerid][CharAR_Power_One][i] = -1;
        CharArInfo[playerid][CharAR_Power_Two][i] = -1;
        CharArInfo[playerid][CharAR_Power_Three][i] = -1;
    }
    
    IsInCoffin[playerid] = false;
    TimesJumped[playerid] = 0;
    PHS_SelID[playerid] = -1;
    Player[playerid][hasBleedEffect] = false;
    AntiCheat[playerid][ac_OldHP] = 0.0;
    AntiCheat[playerid][ex_OldHP] = 0.0;
    AntiCheat[playerid][weap_OldHP] = -100.0;
    drugs[playerid] = 5;
    CanJumpTwice[playerid] = 0;
    TempSpeciality[playerid] = -1;
    
    AntiCheat[playerid][ac_break_space] = 0;
    AntiCheat[playerid][ac_cs_warns] = 0;
    AntiCheat[playerid][ac_ex_warns] = 0;
    AntiCheat[playerid][ac_bp_warns] = 0;

    IsPlayerControlledBy[playerid] = -1;
    PlayerControllPlayer[playerid] = -1;

    AntiCheat[playerid][ac_weapon_hack] = 0;
    AntiCheat[playerid][ac_parkour] = 0;
    AntiCheat[playerid][ac_health_hack] = 0;

    AntiCheat[playerid][ac_teleport_hack] = 0;
    AntiCheat[playerid][ac_jump_hack] = 0;
    AntiCheat[playerid][ac_airbreak_hack] = 0;

    AntiCheat[playerid][weap_bp_ticks] = 0;

    AntiCheat[playerid][ac_teleports] = 0;
    AntiCheat[playerid][ac_jumps] = 0;

	/////////////////////// ANTI-CHEAT ///////////////////////////////

    static i;
    lmrf[playerid] = INVALID_PLAYER_ID;
    SpawnZoneTimer[playerid] = 5;
    hasFlowers[playerid] = false;
    alreadyNotificated[playerid] = -1;

    Player[playerid][pAntisonRound] = 0;

    for( i = 0; i < sizeof(spec_maxRanks); i++ )
	{
		spec_minPercent[playerid][i] = 0;
        Specialty[playerid][spc_level][i] = 0;
	}
	
    CanUseCBugTime[playerid] = 0;
	BadNetworkTime[playerid] = 0;
    
    Player[playerid][pPort] = 0;
    HasBottle[playerid] = 0;
    Player[playerid][IsBurned][0] = 0;
	Player[playerid][IsBurned][1] = 0;
    Player[playerid][Poisioned] = false;
    Player[playerid][IsPlayerAdvancedInfected] = false;
 	Player[playerid][AntiSeeker] = false;
	Player[playerid][AntiFreeze] = false;
	Player[playerid][AntiRadioctive] = false;
	Player[playerid][AntiBuring] = false;
	Player[playerid][AntiLegBreaks] = false;
	Player[playerid][AntiSpider] = false;
	Player[playerid][AntiScreamer] = false;
	Player[playerid][SlowWalk] = 0;
	Player[playerid][Helmet] = false;
	Player[playerid][Fearlessness] = false;
	Player[playerid][Cursed] = false;
	
	Player[playerid][hasInfinitiveAmmo] = 0;

    for( i = 0; i < 30; i++) AccountsToAccept[playerid][i] = -1;
    for( i = 0; i < 32; i++) Player[playerid][pNewAttachments][i] = -1;

    CardEffectToUnlock[playerid] = -1;

    Player[playerid][resetEasyMissions] = 0;
    Player[playerid][resetMediumMissions] = 0;
    Player[playerid][resetHardMissions] = 0;
    Player[playerid][pYouTuber] = 0;
    DuelEXP[playerid] = 0;
	DuelRules[0][playerid] = 0;
	DuelRules[1][playerid] = 0;
    
    byingClass[playerid][0] = -1;
    byingClass[playerid][1] = -1;
    
    Player[playerid][pLang] = 0;
    Player[playerid][isInBying][0] = -1;
    Player[playerid][isInBying][1] = 0;
    Player[playerid][itemsInShop] = 0;
    Player[playerid][pShopPage] = 0;
    strmid(Player[playerid][pShopFilter], "", 0, 128, 129);
    
    Player[playerid][pShowWeapon][0] = -1;
    Player[playerid][pShowWeapon][1] = 0;
    
    for( i = 0; i < 10; i++)
    {
		OnlineShop[playerid][eps_id][i] = -1;
	    OnlineShop[playerid][eps_inx][i] = -1;
	    OnlineShop[playerid][eps_count][i] = 0;
	    OnlineShop[playerid][eps_price][i] = 0;
	    OnlineShop[playerid][eps_time][i] = 0;
	    OnlineShop[playerid][eps_vip][i] = 0;
	    OnlineShop[playerid][eps_acc][i] = 0;
	    OnlineShop[playerid][eps_type][i] = 0;
	}
	
	strmid(OnlineShop[playerid][eps_info_0], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_1], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_2], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_3], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_4], "", 0, 128, 129);
	strmid(OnlineShop[playerid][eps_info_5], "", 0, 128, 129);
    strmid(OnlineShop[playerid][eps_info_6], "", 0, 128, 129);
    strmid(OnlineShop[playerid][eps_info_7], "", 0, 128, 129);
    strmid(OnlineShop[playerid][eps_info_8], "", 0, 128, 129);
    strmid(OnlineShop[playerid][eps_info_9], "", 0, 128, 129);
	
	for( i = 0; i < MAX_SELLING_INFO; i++) Player[playerid][isInSelling][i] = -1;
 	
    for( i = 0; i < 35; i++)
	{
		WeaponsInfo[playerid][WeaponColor][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_One][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Two][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Three][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Chance_One][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Time_One][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Time_Two][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Time_Three][i] = -1;
		WeaponsInfo[playerid][WeaponBuff_Power_One][i] = 0.0;
		WeaponsInfo[playerid][WeaponBuff_Power_Two][i] = 0.0;
		WeaponsInfo[playerid][WeaponBuff_Power_Three][i] = 0.0;
	}

    Player[playerid][pRefID] = 0;
    Player[playerid][PacketsLoss] = 0.0;
    e_ExclusionZone[playerid][e_ezRep] = 0;
    e_ExclusionZone[playerid][e_ezRank] = 0;
    for( i = 0; i < 10; i++) e_ExclusionZone[playerid][e_ezMission][i] = 0;
    for( i = 0; i < 23; i++) pSkills[playerid][e_skills:i] = 0;
    for( i = 0; i < 30; i++) pSkills[playerid][e_sWasUnlocked][e_skills:i] = 0;
    Player[playerid][AbilityAffectedID] = INVALID_PLAYER_ID;
    Player[playerid][CheckForProtect] = INVALID_PLAYER_ID;
    
    if(MyFantom[playerid] > -1)
	{
		DestroyActor(MyFantom[playerid]);
        Delete3DTextLabel(FantomHelp[playerid]);
        MyFantom[playerid] = -1;
	}
	
    Player[playerid][pUpgPoints] = 0;
    
    for( i = 0; i < 6; i++ ) pActionsSelected[playerid][i] = -1;
	
	Player[playerid][pLastGangJoin] = 0;
    
    SelectReward[playerid] = true;
    Player[playerid][e_Days] = 0;
	Player[playerid][e_PrevLogin] = 0;
	//for( i = 0; i< FLYZOMBIE; i++) Player[playerid][e_Avoid][i]=0;
    Player[playerid][pChannel] = 0;
    Achievements[playerid][Jumper] = 0;
	Achievements[playerid][IronFist] = 0;
	Achievements[playerid][AdrenalineDose] = 0;
	Achievements[playerid][ac_InAirTime] = 0;
	Achievements[playerid][CuttingTheBrink] = 0;
	Achievements[playerid][ctg_time][0] = 0;
	Achievements[playerid][ctg_time][1] = 0;
	Achievements[playerid][TimeVictim] = 0;
	Achievements[playerid][ac_QuestsCompleted] = 0;
	Achievements[playerid][ac_PlayedTime] = 0;
	Achievements[playerid][ac_Ruler] = 0;
	Achievements[playerid][ac_Merchant] = 0;
	Achievements[playerid][ac_Pets] = 0;
	Achievements[playerid][ac_newPets] = 0;

	Player[playerid][SessionOnline][0] = 0;
    Player[playerid][SessionOnline][1] = 0;
    Player[playerid][SessionOnline][2] = 0;
    Player[playerid][pQuickSet] = 0;
    
    Player[playerid][eventMember] = -1;
    SetPlayerGravity(playerid, 0.008);
    ZombieMoveTime[playerid] = 0;
	Registered{playerid} = false;
    PreloadAnimations(playerid);
    IsPlayerDeadByWarMember[playerid] = INVALID_PLAYER_ID;
    DeletePVar(playerid, "colExchangeID");
    DeletePVar(playerid, "Pizdorvanka");
    DeletePVar(playerid, "SpeedHack");
    DeletePVar(playerid, "WeapHack");
    DeletePVar(playerid, "auto-log");
    DeletePVar(playerid,"DocFlood");
    DeletePVar(playerid, "stype");
	SetPVarInt(playerid, "pl", -1);
	DeletePVar(playerid, "inx");
	DeletePVar(playerid, "pr");
	DeletePVar(playerid, "vp");
	DeletePVar(playerid, "ct");
	ClearPlayerShopInfo(playerid);
	
	PlayerShowHisTrophyID[playerid] = -10;
	SetPVarInt(playerid, "sell_trophy", -1);
	SetPVarInt(playerid, "sell_trophy_id", -1);
	SetPVarInt(playerid, "sell_trophy_price", -1);
    DeletePVar(playerid, "ItemInvIndex");
    DeletePVar(playerid, "dwxc");
    DeletePVar(playerid, "UseGold");
    DeletePVar(playerid, "UseGoldID");
    SetPVarInt(playerid,  "dtrp_id", -1);
    DeletePVar(playerid, "QuestCoin");
    DeletePVar(playerid,  "AchievementTypeList");
    DeletePVar(playerid,  "QuestInx");
    for( i = 0; i < 4; i++ )
	{
		Player[playerid][AdminActivity][i] = 0;
		Player[playerid][PlayerActivity][i] = 0;
	}
	Player[playerid][AdminActivity][4] = 0;
    InGangWar{playerid} = false;
	InWarStage2{playerid} = false;
 	WarStageAgainst{playerid} = -1;
  	WarStageTeam{playerid} = -1;
    IsPlayerDead[playerid] = false;
	CommandFloodTimer[playerid][ShowGangMembers] = 0;
    HeroFieldTime[playerid][1] = 0;
    HeroFieldTime[playerid][0] = 0;
    WasZombieTimes[playerid] = 0;
    Player[playerid][FireBullet][0] = -1;
	Player[playerid][FireBullet][1] = 0;
    LasDeadTime[playerid] = 0;
    PlayerGuitarTime[playerid] = 0;
	AntiCheatVehicle[playerid] = false;
    if(DefenderText[playerid] > Text3D:-1) Delete3DTextLabel(DefenderText[playerid]),DefenderText[playerid]=Text3D:-1;
    for( i = 0; i < sizeof(svrCLHXP); i++) { PlayerClassUnlocked[playerid][TEAM_HUMAN][i] = 0; }
	for( i = 0; i < sizeof(svrCLZXP); i++) { PlayerClassUnlocked[playerid][TEAM_ZOMBIE][i] = 0; }

	for( i = 0; i < MAX_PLAYERS; i++ ) Abilitys[playerid][CanGiveArmour][i] = 1;
	
    if(GangName[playerid]>Text3D:-1) Delete3DTextLabel(GangName[playerid]),GangName[playerid]=Text3D:-1;

    Achievements[playerid][Hours] = 0;
	Achievements[playerid][Minutes] = 0;
	Achievements[playerid][Seconds] = 0;
	
	for( i = 0; i < 50; i++ ) GangPanelIDs[playerid][i] = -1;
	for( i = 0; i < 12; i++) TrophyInInv[playerid][plii_ID][i] = -1;
    for( i = 0; i < sizeof(achTrnsl[]); i++ ) TrophySlotUsed[playerid][i] = 0;
    
    GangPanelIDSelected[playerid] = -1;
    GangPanelName[playerid][0] = '\0';
	DayMission[playerid][dm_wType] = 0;
	DayMission[playerid][dm_counter] = 0;
	DayMission[playerid][dm_progress] = 0;
	DayMission[playerid][dm_classID] = 0;
	DayMission[playerid][dm_Killometers] = 0.0;
	DayMission[playerid][dm_objective_index] = 255;
    DayMission[playerid][dm_Repeating] = 0;
    DayMission[playerid][MultiplerTime] = 0;
    DayMission[playerid][dm_done] = 0;
    DayMission[playerid][dm_Etime] = 0;
    DayliMission[playerid] = 255;
    Player[playerid][pBalance] = 0.0;
    
	for( i = 0; i < MAX_PETS; i++ )
	{
	    UserPet[playerid][i][PI_Level] = 0;
	    UserPet[playerid][i][PI_Score] = 0;
	    UserPet[playerid][i][PI_Rare] = 4;
	    UserPet[playerid][i][PI_Type] = 0;
	    UserPet[playerid][i][PI_VIP] = 0;
	    strmid(UserPet[playerid][i][PI_Name], " ", 0, 32, 33);
	}
	
	for( i = 0; i < MAX_SLOTS; i++ )
	{
		Inventory[playerid][i][II_ID] = -1;
		Inventory[playerid][i][II_Count] = 0;
        Inventory[playerid][i][II_CHAOS_INDEX] = -1;
        Inventory[playerid][i][II_CHAOS_TYPE] = -1;
        Inventory[playerid][i][II_CHAOS_PROGRESS] = -1;
        Inventory[playerid][i][II_VIP] = 0;
       	Inventory[playerid][i][II_Time] = -1;
       	Inventory[playerid][i][II_CanNotDrop] = 0;
       	Inventory[playerid][i][II_XPN] = 0;
	}
	
	for( i = 0; i < (MAX_SLOTS*4); i++ )
	{
		GangInventory[playerid][i][II_ID] = -1;
		GangInventory[playerid][i][II_Count] = 0;
        GangInventory[playerid][i][II_CHAOS_INDEX] = -1;
        GangInventory[playerid][i][II_CHAOS_TYPE] = -1;
        GangInventory[playerid][i][II_CHAOS_PROGRESS] = -1;
        GangInventory[playerid][i][II_VIP] = 0;
       	GangInventory[playerid][i][II_Time] = -1;
       	GangInventory[playerid][i][II_CanNotDrop] = 0;
       	GangInventory[playerid][i][II_XPN] = 0;
	}
	
	PetUseds[playerid] = -1;
    meatDropsID[playerid] = -1;
    PlayerDamageChecker[playerid][DamageGiven] = 0.0;
   	HumanZombieBoss[playerid] = false;
	HumanHumanBoss[playerid] = false;
 	Healer[playerid] = false;
    PlayerDamageChecker[playerid][p_ID] = -1;
    PlayerDamageChecker[playerid][uAFK] = 0;
    LastMessagesTryed[playerid] = 0;
    Player[playerid][pIndentety] = false;
    //Player[playerid][LeatherFace][0] = 0;
    ZombieSpawnProtection[playerid] = 0;
    
    FakekillData[playerid][DeathCount] = 0;
    FakekillData[playerid][LastDeathTime] = 0;
    IsSpecing[playerid] = false;
    Player[playerid][PortalWasCreated] = false;
    Suspecting[playerid] = 0;
    IsSpecing[playerid] = false;
    if(spectatorid[playerid] > -1) IsBeingSpeced[spectatorid[playerid]] = false;
    strmid(PlayerText[playerid], "", 0, 128, 128);
    spectatorid[playerid] = -1;
    //PlayerDamagedWeap[playerid][Weapon] = -1;
    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	Player[playerid][Warnings] = 0;
	if(AdminVeh[playerid] > -1) DestroyVehicle(AdminVeh[playerid]);
    AdminVeh[playerid] = -1;
	Player[playerid][Jailed] = -1;
	Player[playerid][Accelerated] = -1;
    Player[playerid][pLogged] = false;
    DeletePVar(playerid, "frtime");
    Player[playerid][pAccountID] = 0;
    Player[playerid][Killstreak] = 0;
    if(IsValidPickup(meatDrops[playerid])) DestroyPickupEx(meatDrops[playerid], true);
    if(IsValidPickup(infectedMeat[playerid])) DestroyPickupEx(infectedMeat[playerid], true);
    infectedMeat[playerid] = -1;
    meatDrops[playerid] = -1;
    FakeData[playerid][0] = 0;
	FakeData[playerid][1] = 0;
 	FakeData[playerid][2] = 0;
	FakeData[playerid][3] = 0;
 	FakeData[playerid][4] = 0;
	FakeData[playerid][5] = 0;
	FakeData[playerid][6] = 0;
	FakeData[playerid][7] = 0;
	FakeData[playerid][8] = 0;
    strmid(LastMessage[playerid], "", 0, 1);
    Player[playerid][AntiSeeker] = false;
    Player[playerid][GunJammerAttack] = false;
    Player[playerid][Tasered] = false;
    Player[playerid][HeroField] = false;
    DuelReceived[playerid] = false;
    CockroachAbility[playerid] = false;
    SobeitTime[playerid] = 0;
    AntiSobeit[playerid] = 0;
    Player[playerid][GangBanned] = 0;
    IsBanned{playerid} = false;
    InGangHouse[playerid] = false;
    InGangWar{playerid} = false;
    InWarStage2{playerid} = false;
    WarStageAgainst{playerid} = -1;
    WarStageTeam{playerid} = -1;
    KilledInWar{playerid} = false;
    InWarDuel{playerid} = false;
    InGangAction{playerid} = false;
    IsPlayerOnDuel[playerid] = false;
	DuelerID[playerid] = -1;
	Player[playerid][ConnectedMap] = -1;
	Player[playerid][AntiFreeze] = false;
	Player[playerid][Muted] = 0;
	Player[playerid][AntiRadioctive] = false;
	Player[playerid][AntiBuring] = false;
	Player[playerid][AntiLegBreaks] = false;
	Player[playerid][AntiSpider] = false;
	Player[playerid][AntiScreamer] = false;
	foreach(Player, j) isReported[playerid][j] = false;
	Player[playerid][AntiBlind] = false;
	Player[playerid][Helmet] = false;
	Player[playerid][Fearlessness] = false;
	Player[playerid][Cursed] = false;
	Player[playerid][CanSpyPM] = false;
	Player[playerid][CanCheckCMD] = false;
    Player[playerid][pKills] = 0;
	Player[playerid][pKillstreakMax] = 0;
	Player[playerid][pPlayerKills] = 0;
	Player[playerid][totalPlayersKilledInGW] = 0;
	Player[playerid][pCardSet] = 0;
	Player[playerid][pPlayerKillsBack] = 0;
	Player[playerid][pSettings] = 0;
	Player[playerid][IsDefender] = 0;
	Player[playerid][DefenderSorryTime] = 0;
	Player[playerid][pHumanClassesUnlocked_0] = 0;
	Player[playerid][pHumanClassesUnlocked_1] = 0;
	Player[playerid][pZombieClassesUnlocked_0] = 0;
	Player[playerid][pZombieClassesUnlocked_1] = 0;
	Player[playerid][RoundsWin] = 0;
	Player[playerid][pVipSkin] = 0;
	Player[playerid][DuelsWin] = 0;
	Player[playerid][pAttID][0] = 0;
	Player[playerid][pAttID][2] = 0;
	Player[playerid][pAttID][4] = 0;
	Player[playerid][pAttID][6] = 0;
	Player[playerid][DuelsLose] = 0;
	Player[playerid][pVip] = 0;
	Player[playerid][pAdmin] = 0;
	Player[playerid][pRank] = 0;
	Player[playerid][pXP] = 0;
	Player[playerid][pClan] = 0;
	Player[playerid][pClanRank] = 0;
	Player[playerid][pClanWarns] = 0;
	Player[playerid][pLang] = 0;
	Player[playerid][pVipTime] = 0;
	Player[playerid][Blidness] = 0;
	
	Achievements[playerid][thropyManiac] = 0;
	Achievements[playerid][AbilityUses] = 0;
	Achievements[playerid][Runned] = 0.0;
	Achievements[playerid][Lucky] = 0;
    Achievements[playerid][eErgoProxy] = 0;
	Achievements[playerid][HumansKilled] = 0;
	Achievements[playerid][ZombiesKilled] = 0;
	Achievements[playerid][MeatsCollected] = 0;
	Achievements[playerid][eKillstreaks] = 0;
	Achievements[playerid][eKillstreaksFail] = 0;
	Achievements[playerid][Deaths] = 0;
	Achievements[playerid][CuredHumans] = 0;
	Achievements[playerid][Purchases] = 0;
	Achievements[playerid][ZombieClassesUses] = 0;
	Achievements[playerid][HumanClassesUses] = 0;
	Achievements[playerid][WrongResort] = 0;
	Achievements[playerid][esClan] = 0;
	Achievements[playerid][reportTimes] = 0;
	Achievements[playerid][AnimationsUsed] = 0;
	Achievements[playerid][BoxesBuilt] = 0;
	Achievements[playerid][AmmoGiven] = 0;
	
	Player[playerid][pClass][TEAM_HUMAN] = CIVILIAN;
	Player[playerid][pClass][TEAM_ZOMBIE+1] = STANDARDZOMBIE;
    Player[playerid][pClass][TEAM_HUMAN+1] = CIVILIAN;
	Player[playerid][pClass][TEAM_ZOMBIE+2] = STANDARDZOMBIE;
	
	new slot, weap[14];
 	for ( slot = 0; slot < 14; slot++ )
 	{
		SetPlayerWeaponPrint(playerid, weap[slot], 0);
	}
}

public OnPlayerEditAttachedObject( playerid, response, index, modelid, boneid, Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ )
{
    //SetPlayerAttachedObject(playerid,  5.50, 84.60, 83.7, 1.0, 1.0, 1.0, 0xC659B600);
	printf("SetPlayerAttachedObject(playerid, %d, %d, %d, %0.5f, %0.5f, %0.5f, %0.5f, %0.5f, %0.5f, %0.5f, %0.5f, %0.5f)", index, modelid, boneid, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ );

	if(384 <= modelid <= 393)
    {
        foreach(Player, i)
	    {
	        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Object Crasher #1", Player[playerid][UserName], playerid);
		}
		return 0;
    }
    
	switch(index)
	{
	    case 0:
	    {
				Player[playerid][pAttID][0] = modelid;
    			Player[playerid][pAttID][1] = boneid;
    			Player[playerid][pAttIDPos][0] = fOffsetX;
				Player[playerid][pAttIDPos][1] = fOffsetY;
				Player[playerid][pAttIDPos][2] = fOffsetZ;
				Player[playerid][pAttIDPos][3] = fRotX;
				Player[playerid][pAttIDPos][4] = fRotY;
				Player[playerid][pAttIDPos][5] = fRotZ;
				Player[playerid][pAttIDPos][6] = fScaleX;
				Player[playerid][pAttIDPos][7] = fScaleY;
				Player[playerid][pAttIDPos][8] = fScaleZ;
	    }
    	case 1:
	    {
				Player[playerid][pAttID][2] = modelid;
    			Player[playerid][pAttID][3] = boneid;
    			Player[playerid][pAttIDPos][9] = fOffsetX;
				Player[playerid][pAttIDPos][10] = fOffsetY;
				Player[playerid][pAttIDPos][11] = fOffsetZ;
				Player[playerid][pAttIDPos][12] = fRotX;
				Player[playerid][pAttIDPos][13] = fRotY;
				Player[playerid][pAttIDPos][14] = fRotZ;
				Player[playerid][pAttIDPos][15] = fScaleX;
				Player[playerid][pAttIDPos][16] = fScaleY;
				Player[playerid][pAttIDPos][17] = fScaleZ;
	    }
	    case 2:
	    {
				Player[playerid][pAttID][4] = modelid;
    			Player[playerid][pAttID][5] = boneid;
    			Player[playerid][pAttIDPos][18] = fOffsetX;
				Player[playerid][pAttIDPos][19] = fOffsetY;
				Player[playerid][pAttIDPos][20] = fOffsetZ;
				Player[playerid][pAttIDPos][21] = fRotX;
				Player[playerid][pAttIDPos][22] = fRotY;
				Player[playerid][pAttIDPos][23] = fRotZ;
				Player[playerid][pAttIDPos][24] = fScaleX;
				Player[playerid][pAttIDPos][25] = fScaleY;
				Player[playerid][pAttIDPos][26] = fScaleZ;
	    }
	    case 3:
	    {
				Player[playerid][pAttID][6] = modelid;
    			Player[playerid][pAttID][7] = boneid;
    			Player[playerid][pAttIDPos][27] = fOffsetX;
				Player[playerid][pAttIDPos][28] = fOffsetY;
				Player[playerid][pAttIDPos][29] = fOffsetZ;
				Player[playerid][pAttIDPos][30] = fRotX;
				Player[playerid][pAttIDPos][31] = fRotY;
				Player[playerid][pAttIDPos][32] = fRotZ;
				Player[playerid][pAttIDPos][33] = fScaleX;
				Player[playerid][pAttIDPos][34] = fScaleY;
				Player[playerid][pAttIDPos][35] = fScaleZ;
	    }
	}
	return 1;
}

stock AttachUserObjects(playerid)
{
    if(Player[playerid][pAttID][0] > 0) SetPlayerAttachedObject(playerid, 0,
	Player[playerid][pAttID][0], Player[playerid][pAttID][1],
	Player[playerid][pAttIDPos][0], Player[playerid][pAttIDPos][1],
	Player[playerid][pAttIDPos][2], Player[playerid][pAttIDPos][3],
	Player[playerid][pAttIDPos][4], Player[playerid][pAttIDPos][5],
	Player[playerid][pAttIDPos][6], Player[playerid][pAttIDPos][7],
	Player[playerid][pAttIDPos][8]);
	
	if(Player[playerid][pAttID][2] > 0) SetPlayerAttachedObject(playerid, 1,
	Player[playerid][pAttID][2], Player[playerid][pAttID][3],
	Player[playerid][pAttIDPos][9], Player[playerid][pAttIDPos][10],
	Player[playerid][pAttIDPos][11], Player[playerid][pAttIDPos][12],
	Player[playerid][pAttIDPos][13], Player[playerid][pAttIDPos][14],
	Player[playerid][pAttIDPos][15], Player[playerid][pAttIDPos][16],
	Player[playerid][pAttIDPos][17]);
	
	if(Player[playerid][pAttID][4] > 0) SetPlayerAttachedObject(playerid, 2,
	Player[playerid][pAttID][4], Player[playerid][pAttID][5],
	Player[playerid][pAttIDPos][18], Player[playerid][pAttIDPos][19],
	Player[playerid][pAttIDPos][20], Player[playerid][pAttIDPos][21],
	Player[playerid][pAttIDPos][22], Player[playerid][pAttIDPos][23],
	Player[playerid][pAttIDPos][24], Player[playerid][pAttIDPos][25],
	Player[playerid][pAttIDPos][26]);
	
	if(Player[playerid][pAttID][6] > 0) SetPlayerAttachedObject(playerid, 3,
	Player[playerid][pAttID][6], Player[playerid][pAttID][7],
	Player[playerid][pAttIDPos][27], Player[playerid][pAttIDPos][28],
	Player[playerid][pAttIDPos][29], Player[playerid][pAttIDPos][30],
	Player[playerid][pAttIDPos][31], Player[playerid][pAttIDPos][32],
	Player[playerid][pAttIDPos][33], Player[playerid][pAttIDPos][34],
	Player[playerid][pAttIDPos][35]);
	
	if(GetUnlockedSlot(Achievements[playerid][HumanClassesUses], 5) == 0 && Player[playerid][pAttID][0] > 0 && Player[playerid][pAttID][2] > 0 && Player[playerid][pAttID][4] > 0 && Player[playerid][pAttID][6] > 0)
	{
		UnlockAchievement(playerid, 62, 100);
     	SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 5, 1);
	}
	
	if(VipBuffs[playerid][vb_IMK][0] == 1 && gettime() < VipBuffs[playerid][vb_IMK][1] || Healer[playerid]) SetPlayerAttachedObject(playerid, 9, 11738, 7, 0.24300, 0.00000, -0.11999, 0.00000, -88.40001, 88.00001, 1.00000, 1.00000, 1.00000);
}

WepTint_GetChoiceIDFromWeapon(iWeaponID)
{
	new iChoiceID;
	switch(iWeaponID)
	{
		case 22: iChoiceID = 0;
		case 23: iChoiceID = 1;
		case 24: iChoiceID = 2;
		case 25: iChoiceID = 3;
		case 27: iChoiceID = 4;
		case 28: iChoiceID = 5;
		case 29: iChoiceID = 6;
		case 30: iChoiceID = 7;
		case 31: iChoiceID = 8;
		case 32: iChoiceID = 9;
		case 33: iChoiceID = 10;
		case 35: iChoiceID = 11;
		case 36: iChoiceID = 12;
		case 38: iChoiceID = 13;
		default: iChoiceID = 0;
	}
	return iChoiceID;
}

WepTint_OnPlayerChangeWeapon(playerid, newweapon)
{
	RemovePlayerAttachedObject(playerid, 7);
	if(WeaponInfo[playerid][p_iWepTints][WepTint_GetChoiceIDFromWeapon(newweapon)])
	{
		SetPlayerWeaponPrint(playerid, newweapon, WeaponInfo[playerid][p_iWepTints][WepTint_GetChoiceIDFromWeapon(newweapon)]);
	}
}

SetColorWeaponPrint(playerid, iWepID, color)
{
	switch(iWepID)
	{
	    case 9: SetPlayerAttachedObject(playerid, 7, 341, 6, 0.00000, -0.01200, 0.00299, 1.60000, 1.80000, 0.69999, 1.01800, 1.28100, 1.09000, colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 22: SetPlayerAttachedObject(playerid, 7, 346, 6, -0.004999, -0.003999, -0.006000, 0.000000, 0.000000, -1.800000, 1.007000, 1.337999, 1.069000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 23: SetPlayerAttachedObject(playerid, 7, 347, 6, -0.003999, -0.001999, -0.003999, 0.000000, 0.299999, -0.999999, 1.000000, 1.188000, 1.063000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 24: SetPlayerAttachedObject(playerid, 7, 348, 6, -0.006999, -0.004000, 0.002000, -1.600000, -0.200000, 0.400000, 1.019999, 1.146999, 1.027000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 25: SetPlayerAttachedObject(playerid, 7, 349, 6, 0.000000, -0.008999, -0.004000, 0.000000, 1.099999, 1.499999, 1.000000, 1.222000, 1.088000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 27: SetPlayerAttachedObject(playerid, 7, 351, 6, 0.003000, -0.014000, -0.003000, 0.000000, 0.000000, 2.199999, 1.000000, 1.371000, 1.023000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 28: SetPlayerAttachedObject(playerid, 7, 352, 6, -0.002000, -0.008000, -0.001999, -0.300000, 0.000000, 1.199999, 1.019999, 1.245000, 1.043000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 29: SetPlayerAttachedObject(playerid, 7, 353, 6, 0.000000, -0.009000, -0.009000, 0.000000, 0.099999, 2.100000, 1.000000, 1.290001, 1.053000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 30: SetPlayerAttachedObject(playerid, 7, 355, 6, 0.000000, -0.011000, 0.000000, 0.000000, 0.000000, 2.100000, 1.009000, 1.424000, 1.013000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 31: SetPlayerAttachedObject(playerid, 7, 356, 6, -0.002000, -0.005999, 0.001000, 0.000000, 0.899999, 1.699999, 0.997999, 1.318999, 1.088001,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 32: SetPlayerAttachedObject(playerid, 7, 372, 6, -0.003000, -0.009000, -0.001999, 0.000000, 0.400000, 0.800000, 1.015000, 1.232000, 1.055000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 33: SetPlayerAttachedObject(playerid, 7, 357, 6, 0.000000, -0.015000, -0.001999, 0.000000, 1.200000, 2.199999, 1.000000, 1.286001, 1.096001,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 35: SetPlayerAttachedObject(playerid, 7, 359, 6, 0.001999, -0.007000, -0.009000, 0.000000, -0.100000, 0.000000, 0.989999, 1.213001, 1.084001,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 36: SetPlayerAttachedObject(playerid, 7, 360, 6, 0.001000, -0.004999, -0.008000, 0.000000, 0.000000, 0.000000, 1.000000, 1.140000, 1.055000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		case 38: SetPlayerAttachedObject(playerid, 7, 362, 6, -0.041000, 0.001999, 0.012000, 0.000000, 0.999999, -0.599999, 1.085000, 1.189999, 1.134000,  colorNames[color][ci_code],  colorNames[color][ci_code]);
		default: return 1;
	}
	return 1;
}

SetPlayerWeaponPrint(playerid, iWepID, iChoice)
{
	switch(iWepID)
	{
	    case 9: SetPlayerAttachedObject(playerid, 7, 341, 6, 0.00000, -0.01200, 0.00299, 1.60000, 1.80000, 0.69999, 1.01800, 1.28100, 1.09000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 22: SetPlayerAttachedObject(playerid, 7, 346, 6, -0.004999, -0.003999, -0.006000, 0.000000, 0.000000, -1.800000, 1.007000, 1.337999, 1.069000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 23: SetPlayerAttachedObject(playerid, 7, 347, 6, -0.003999, -0.001999, -0.003999, 0.000000, 0.299999, -0.999999, 1.000000, 1.188000, 1.063000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 24: SetPlayerAttachedObject(playerid, 7, 348, 6, -0.006999, -0.004000, 0.002000, -1.600000, -0.200000, 0.400000, 1.019999, 1.146999, 1.027000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 25: SetPlayerAttachedObject(playerid, 7, 349, 6, 0.000000, -0.008999, -0.004000, 0.000000, 1.099999, 1.499999, 1.000000, 1.222000, 1.088000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 27: SetPlayerAttachedObject(playerid, 7, 351, 6, 0.003000, -0.014000, -0.003000, 0.000000, 0.000000, 2.199999, 1.000000, 1.371000, 1.023000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 28: SetPlayerAttachedObject(playerid, 7, 352, 6, -0.002000, -0.008000, -0.001999, -0.300000, 0.000000, 1.199999, 1.019999, 1.245000, 1.043000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 29: SetPlayerAttachedObject(playerid, 7, 353, 6, 0.000000, -0.009000, -0.009000, 0.000000, 0.099999, 2.100000, 1.000000, 1.290001, 1.053000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 30: SetPlayerAttachedObject(playerid, 7, 355, 6, 0.000000, -0.011000, 0.000000, 0.000000, 0.000000, 2.100000, 1.009000, 1.424000, 1.013000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 31: SetPlayerAttachedObject(playerid, 7, 356, 6, -0.002000, -0.005999, 0.001000, 0.000000, 0.899999, 1.699999, 0.997999, 1.318999, 1.088001, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 32: SetPlayerAttachedObject(playerid, 7, 372, 6, -0.003000, -0.009000, -0.001999, 0.000000, 0.400000, 0.800000, 1.015000, 1.232000, 1.055000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 33: SetPlayerAttachedObject(playerid, 7, 357, 6, 0.000000, -0.015000, -0.001999, 0.000000, 1.200000, 2.199999, 1.000000, 1.286001, 1.096001, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 35: SetPlayerAttachedObject(playerid, 7, 359, 6, 0.001999, -0.007000, -0.009000, 0.000000, -0.100000, 0.000000, 0.989999, 1.213001, 1.084001, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 36: SetPlayerAttachedObject(playerid, 7, 360, 6, 0.001000, -0.004999, -0.008000, 0.000000, 0.000000, 0.000000, 1.000000, 1.140000, 1.055000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		case 38: SetPlayerAttachedObject(playerid, 7, 362, 6, -0.041000, 0.001999, 0.012000, 0.000000, 0.999999, -0.599999, 1.085000, 1.189999, 1.134000, iWeaponTints[iChoice], iWeaponTints[iChoice]);
		default: return 1;
	}
	WeaponInfo[playerid][p_iWepTints][WepTint_GetChoiceIDFromWeapon(iWepID)] = iChoice;
	return 1;
}

stock CreateObjectsX(objectid,Float:px, Float:py, Float:pz, Float:rx, Float:ry, ammount, Float:radius, time, Float:angle=360.0, bool:circleangles=true, Float:rz=0.0)
{
	if(ammount <= 1 || 0.0 <= angle > 360.0 || radius<=0.0) return false;
	for(new i=0;i<=ammount;i++)
	{
		new obj;
		obj = CreateObject(objectid, px+floatsin((angle/ammount)*i, degrees)*radius, py+floatcos((angle/ammount)*i, degrees)*radius, pz, rx, ry, circleangles ? ((-angle/ammount)*i) : (rz));
        SetTimerEx("RemoveObject", time*1000, 0, "i", obj);
	}
	return 1;
}

stock CreatePickupsX(objectid,Float:px, Float:py, Float:pz, ammount, Float:radius, Float:angle=360.0)
{
	if(ammount <= 1 || 0.0 <= angle > 360.0 || radius<=0.0) return false;
	for(new j,i=0;i<=ammount;i++)
	{
		j = CreatePickupEx(objectid, 23, px+floatsin((angle/ammount)*i, degrees)*radius, py+floatcos((angle/ammount)*i, degrees)*radius, pz, -1);
        meatDropsID[j] = 2804;
	}
	return 1;
}

stock SetPlayerSkinAC(playerid, skin, isAbility = 0)
{
	Player[playerid][pSkin] = skin;
    if(Player[playerid][pVipSkin] > 0 && !isAbility) SetPlayerSkin(playerid, Player[playerid][pVipSkin]);
    else if(Player[playerid][pVip] <= 0 && VipBuffs[playerid][vb_Skin][0] > 0 && gettime() < VipBuffs[playerid][vb_Skin][1] && !isAbility) SetPlayerSkin(playerid, VipBuffs[playerid][vb_Skin][0]);
    else SetPlayerSkin(playerid, skin);
    ClearAnimations(playerid, 1);
}

stock KillTimerEx(timerid)
{
    KillTimer(timerid);
    timerid = -1;
}

stock GetTextUpperCount(const text[])
{
	new count;
    for(new i, j = strlen(text)-1; i < j; i ++)
    {
        if(('A' <= text[i] <= 'Z') && ('A' <= text[i+1] <= 'Z')) count++;
    }
    return count;
}

stock SetAbilityTimer(playerid, time, tm = TEAM_ZOMBIE)
{
	if(tm == TEAM_ZOMBIE) SetTimerEx("AbilityIsReady", time*1000, 0, "iii", playerid, Player[playerid][pClass][TEAM_ZOMBIE+1], tm);
	if(tm == TEAM_HUMAN) SetTimerEx("AbilityIsReady", time*1000, 0, "iii", playerid, Player[playerid][pClass][TEAM_HUMAN], tm);
	/*********************************************** CHAOS **********************************/
	for( new i; i < sizeof(NightEvent[evn_Mission]); i++)
	{
		if(NightEvent[evn_Mission][i] == ev_NONSTOP && e_ExclusionZone[playerid][e_ezMission][i] <= 149)
	    {
	        ++e_ExclusionZone[playerid][e_ezMission][i];
	        if(e_ExclusionZone[playerid][e_ezMission][i] == 150) ev_CompleteToNext(playerid, ev_NONSTOP);
			break;
	    }
	}
	/*************************************************************************************/
	return 1;
}

fun SetServerConfigs()
{
	if(cache_num_rows() > 0)
	{
	    static mcs[200], gevent[200], tchwrks[200], resreas[128]="";
	    cache_get_value_name(0, "tech_work", tchwrks);
	    cache_get_value_name(0, "merchant_set", mcs);
	    cache_get_value_name(0, "gevent", gevent);
	    
	    sscanf(tchwrks, "p<,>is[128]", ServerConfigs[0], resreas);
	    
	    /*
	    6 - day,
		1587499602 - time,
		
		/// Boosts
		1 - First Boost ID,
		100 - First Boost Price,
		3 - First Boost Time,

		4 - Second Boost ID,
		50 - Second Boost Price,
		3 - Second Boost Time,

		1 - Weapon ID (see table),
		25 - Weapon Price,
		3 - Weapon Time,

		-1 - First Class Info,
		-1 - Second Class Info,
		-1 - Third Class Info,
		-1 - Four Class Info,
		0 - Map to be arrived,
		-1 - Repeating?
	    */
		
		// 0,0, 2, 35, 3, 3, 35, 3, 6, 75, 3, 54, 3, 30, 0, 1, -1
		
		// 0,0, 2, 35, 3, 3, 35, 3, 6, 75, 3, 54, 3, 30, 0, 1, -1
		
	//	UNDERTAKER
	    
	    /*
	        new bsNames[][] =
{
	"{FFFFFF}Item #%d\t{F1C40F}Increased EXP\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 0
	"{FFFFFF}Item #%d\t{F1C40F}Increased Kills\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 1
	"{FFFFFF}Item #%d\t{F1C40F}Increased Chance To Be A Human Boss\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 2
	"{FFFFFF}Item #%d\t{F1C40F}Increased Chance To Be A Zombie Boss\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 3
	"{FFFFFF}Item #%d\t{F1C40F}Increased Ammo\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 4
	"{FFFFFF}Item #%d\t{F1C40F}Increased Chance To Be A Human\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 5
	"{FFFFFF}Item #%d\t{F1C40F}Increased Chance To Be A Zombie\t{F39C12}%d GC\t{DDDDDD}%d Days\n", // 6
	"{FFFFFF}Item #%d\t{F1C40F}Weapon: {FFFFFF}%s{F1C40F}\t{F39C12}%d GC\t{DDDDDD}%d Days\n" // 7
	
	new randomWeaponAmmo[][3] =
{
	{22, 250, 10},
	{18, 20, 60},
	{16, 10, 60},
	{26, 30, 80},
	{27, 30, 80},
	{28, 500, 30},
	{35, 5, 150},
	{36, 5, 150}
};
};
	    */
	    
	    
	    
	    sscanf(mcs, "p<,>iiiiiiiiiiiiiiiii", ServerConfigs[1], ServerConfigs[2],
		Merchant[mc_boost][0],
        Merchant[mc_price][0],
        Merchant[mc_buffTime][0],
        
        Merchant[mc_boost][1],
        Merchant[mc_price][1],
        Merchant[mc_buffTime][1],
        
        Merchant[mc_boost][2],
        Merchant[mc_price][2],
        Merchant[mc_buffTime][2],
        
        Merchant[mc_class][0],
        Merchant[mc_class][1],
        Merchant[mc_class][2],
        Merchant[mc_class][3],
        
		Merchant[mc_map],
		Merchant[mc_repeat]
		);
	    sscanf(gevent, "p<,>iii", ServerConfigs[3], ServerConfigs[4], ServerConfigs[5]);
	    
     	new minute, second;
	    gettime(_, minute, second);

	    new y, m, d, h, s, o, tm, td, th, a, b;
        TimestampToDate(gettime(), y, m, td, th, tm, s, 3);
		TimestampToDate(ServerConfigs[0], y, m, d, h, o, s, 3);
		s = (o - tm);
		a = (d - td);
		b = (h - th);

		if(a >= 1 && (minute == 30 && second == 0 || minute == 0 && second == 0) || b >= 1 && (minute == 0 && second == 0 || minute == 15 && second == 0 || minute == 30 && second == 0 || minute == 45 && second == 0) || a <= 0 && b <= 0 && (s == 1 || s == 5 || s == 10 || s == 15))
		{
		    SendClientMessageToAll(-1, "{d11aff}===============[{FFF000}WARNING]=======================");
			if(a >= 1) SendMessageFormatToAll(-1, "{e066ff}Server will become unavailable in {FFF000}%d day(s)", a);
			else
			{
			    if(a <= 0 && b >= 1) SendMessageFormatToAll(-1, "{e066ff}Server will become unavailable in {FFF000}%d hour(s)", b);
			    else if(a <= 0 && b <= 0 && s >= 1) SendMessageFormatToAll(-1, "{e066ff}Server will become unavailable in {FFF000}%d minute(s)", s);
			}
		    SendMessageFormatToAll(-1, "{e066ff}Exact server stop time: {FFF000}%d-%02d-%02d %02d:%02d", y, m, d, h, o);
		    SendClientMessageToAll(-1, " ");
		    if(strlen(resreas) >= 2) SendMessageFormatToAll(-1, "{e066ff}Reason for stopping:{e580ff}%s", resreas);
		    SendClientMessageToAll(-1, "{FFFFFF}Thank you for your attention!");
		    SendClientMessageToAll(-1, "{d11aff}===============================================");
		}
		
	    if((ServerConfigs[0]-gettime()) >= -7 && (ServerConfigs[0]-gettime()) <= 0 && restartTimes <= -1)
	    {
	        foreach(Player, i) SaveUserData(i);
	        restartTimes = 15;
		    SetTimer("TechRestart", 1000, 0);
			SaveGangs(true);
			SaveRulesPolicy();
		    foreach(Player, i)
			{
				PlayerPlaySound(i, 3401, 0.0, 0.0, 0.0);
				GameTextForPlayer(i, "~b~Server technical work starts in 15 seconds", 5000, 5);
		    }
		    SendClientMessageToAll(-1, "{C0C0C0}>> Server's Technical Work starts in 15 seconds");
	    }
	    else
	    {
	        /*if(GetWeekDay() >= 4)
	        {
	            if(isMerchantCame[0])
	            {
		            DestroyActor(Valintine[Merchant[mc_map]]);
		            Delete3DTextLabel(Merchant[mc_Text]);
		            
		            ServerConfigs[2] = 0;
		            isMerchantCame[0] = 0;
		            isMerchantCame[1] = 0;
		            GameTextForAll("~p~Merchant~n~~r~gone", 4000, 6);
				}
	        }
	        
	        if(GetWeekDay() == 3 && !isMerchantCame[0])
	        {
	            isMerchantCame[0] = 1;
                GameTextForAll("~p~Merchant~n~~w~arrived", 4000, 6);
				foreach(Player, i)
				{
					switch(Player[i][pLang])
					{
					    case 0: SendClientMessage(i, -1, "{d966ff}|): The merchant has arrived! (/maps) (/merchant to see items)");
					    case 1: SendClientMessage(i, -1, "{d966ff}|): Торговец прибыл! (/maps) (/merchant to see items)");
					    case 2: SendClientMessage(i, -1, "{d966ff}|): ?El comerciante ha llegado! (/maps) (/merchant to see items)");
					}
				}
			}*/
	        
	        /*if(gettime() >= ServerConfigs[5] && serverEventType == ServerConfigs[4])
	        {
	            DeleteValintines();
	            serverEventType = 0;
	            
	            switch(ServerConfigs[4])
                {
                    case 1:
                    {
                        EVENT_TIME = 0;
                        GameTextForAll("~r~~h~Valentine's day~n~~b~~h~end", 4000, 6);
                    }
                }
	        }*/
	        
	        /*if(gettime() >= ServerConfigs[3] && ServerConfigs[3] > 0 && serverEventType != ServerConfigs[4] && gettime() < ServerConfigs[5])
	        {
                serverEventType = ServerConfigs[4];
                DeleteValintines();
					
                switch(ServerConfigs[4])
                {
                    case 1:
                    {
                        EVENT_TIME = ServerConfigs[5];
                        GameTextForAll("~r~~h~Valentine's day~n~~b~~h~begun", 4000, 6);
                        CreateValintines();
                    }
                }
	        }*/
	    }
	}
	return 1;
}

fun AbilityIsReady(playerid, ClassID, tm)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && Player[playerid][pClass][TEAM_ZOMBIE+1] == ClassID)
	{
	    switch(Player[playerid][pLang])
	    {
	        case 0: TextDrawSetString(AIR[playerid], "~y~ABILITY~w~ IS~g~ READY!");
	        case 1: TextDrawSetString(AIR[playerid], RusToGame("~y~С_П_ОС_ОБНОСТЬ ~g~ГОТОВ_А!"));
	        case 2: TextDrawSetString(AIR[playerid], "~y~CAPACIDAD~w~ ESTA~g~ LISTO!");
		}
	    
	    TextDrawShowForPlayer(playerid, AIR[playerid]);
	    SetTimerEx("HideAbIsReady", 2000, 0, "i", playerid);
	    if(GetUnlockedSlot(Player[playerid][pSettings], PS_ABILITY_READY) == 1) PlayerPlaySound(playerid, 1056, 0.0, 0.0, 0.0);
	}
	if(GetPlayerTeamEx(playerid) == tm && Player[playerid][pClass][TEAM_HUMAN] == ClassID)
	{
	    TextDrawShowForPlayer(playerid, AIR[playerid]);
	    SetTimerEx("HideAbIsReady", 2000, 0, "i", playerid);
	    if(GetUnlockedSlot(Player[playerid][pSettings], PS_ABILITY_READY) == 1) PlayerPlaySound(playerid, 1056, 0.0, 0.0, 0.0);
	}
}

fun HideAbIsReady(playerid) return TextDrawHideForPlayer(playerid, AIR[playerid]);

stock RemoveObjects(playerid)
{
    RemoveBuildingForPlayer(playerid, 3338, 703.0938, 1334.8438, 10.5000, 0.25);
	RemoveBuildingForPlayer(playerid, 3244, 703.0938, 1334.8438, 10.5000, 0.25);
    RemoveBuildingForPlayer(playerid, 3794, -1404.8281, 499.8828, 10.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 3793, -1403.8984, 500.0859, 10.8203, 0.25);
	RemoveBuildingForPlayer(playerid, 3795, -1401.8359, 494.9063, 10.5469, 0.25);
	RemoveBuildingForPlayer(playerid, 3792, -1401.0078, 494.6875, 10.7500, 0.25);
	RemoveBuildingForPlayer(playerid, 3793, -1398.1797, 494.7734, 10.8203, 0.25);
	RemoveBuildingForPlayer(playerid, 3788, -1399.0625, 494.4453, 10.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 3789, -1403.6172, 504.0938, 10.5469, 0.25);
	RemoveBuildingForPlayer(playerid, 3791, -1289.9766, 494.7734, 10.6719, 0.25);
	RemoveBuildingForPlayer(playerid, 3795, -1294.1172, 499.3359, 10.5469, 0.25);
	RemoveBuildingForPlayer(playerid, 3791, -1290.5000, 496.4375, 10.6719, 0.25);
	RemoveBuildingForPlayer(playerid, 3787, -1290.2656, 499.9609, 10.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 3787, -1290.3125, 497.9609, 10.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 3787, -1300.6406, 504.0391, 10.7734, 0.25);
	RemoveBuildingForPlayer(playerid, 3789, -1301.5859, 511.1094, 10.5469, 0.25);
	RemoveBuildingForPlayer(playerid, 3792, -1301.5859, 511.9688, 10.7500, 0.25);
	RemoveBuildingForPlayer(playerid, 3794, -1305.3359, 511.1953, 10.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 3793, -1305.2891, 512.1484, 10.8203, 0.25);
	RemoveBuildingForPlayer(playerid, 3788, -1294.0156, 509.2188, 10.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 3793, -1294.0156, 510.1563, 10.8203, 0.25);
	RemoveBuildingForPlayer(playerid, 3794, -1294.6172, 501.3281, 10.7188, 0.25);
	RemoveBuildingForPlayer(playerid, 3795, -1290.3984, 503.4688, 10.5469, 0.25);
	RemoveBuildingForPlayer(playerid, 3792, -1289.7031, 503.9922, 10.7500, 0.25);
	RemoveBuildingForPlayer(playerid, 3793, -1294.3750, 503.1094, 10.4297, 0.25);

    RemoveBuildingForPlayer(playerid, 5906, 1213.7656, -1177.0938, 19.7500, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1038.0781, -1155.3750, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1053.1641, -1159.7031, 25.9063, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1092.6563, -1154.1641, 26.2188, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1083.0391, -1155.3750, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1012.6719, -1135.4141, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1045.6094, -1140.1641, 25.8594, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1052.6719, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1072.2578, -1140.1953, 25.7891, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1078.1250, -1128.6016, 26.3125, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1083.3906, -1130.2734, 25.9063, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1093.0703, -1140.2500, 25.9063, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1087.3359, -1118.8594, 26.4688, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1112.9688, -1154.1641, 26.2188, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1120.2188, -1155.3750, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1132.6563, -1154.1641, 26.2188, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1150.8906, -1155.3750, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1160.1328, -1154.1641, 26.2188, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1171.6328, -1149.8828, 25.7422, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1152.2734, -1140.1406, 25.8750, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1103.6016, -1135.4141, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1123.0938, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1143.6016, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1168.2344, -1135.2500, 25.8438, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1136.9141, -1135.0234, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1108.3594, -1135.0234, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1181.9688, -1154.1641, 26.2188, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1182.1719, -1155.3750, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1203.3984, -1154.1641, 26.2188, 0.25);
	RemoveBuildingForPlayer(playerid, 5804, 1213.7656, -1177.0938, 19.7500, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1215.6719, -1159.8672, 25.5703, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1226.8594, -1150.0469, 25.5156, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1243.6328, -1155.1641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1206.4844, -1140.2969, 25.9688, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1176.8438, -1135.4141, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1196.3438, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1216.8516, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1233.4141, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1240.0078, -1134.6875, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1182.1719, -1134.6875, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1261.6094, -1155.1641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1275.8125, -1149.7734, 25.8516, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1278.0234, -1155.1641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1295.1094, -1155.1641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1311.6719, -1155.1641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1252.6094, -1140.2266, 25.8516, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1274.5938, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1311.6719, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1295.1094, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1280.1719, -1134.8359, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1322.2734, -1155.9063, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1332.5703, -1149.9922, 25.8438, 0.25);
	RemoveBuildingForPlayer(playerid, 1223, 1332.1797, -1135.6641, 22.8125, 0.25);
	RemoveBuildingForPlayer(playerid, 717, 1322.2734, -1134.2344, 23.0000, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1257.8125, -1128.0625, 26.0703, 0.25);
	RemoveBuildingForPlayer(playerid, 1283, 1263.2891, -1130.7578, 25.8516, 0.25);
	RemoveBuildingForPlayer(playerid, 1297, 1267.0234, -1118.8594, 26.4688, 0.25);
	RemoveBuildingForPlayer(playerid, 1415, -619.6250, -473.4531, 24.5859, 0.25);
	RemoveBuildingForPlayer(playerid, 17020, -475.9766, -544.8516, 28.1172, 0.25);
	RemoveBuildingForPlayer(playerid, 1278, -471.5547, -479.9219, 38.6250, 0.25);
}

public OnIncomingRPC(playerid, rpcid, BitStream:bs)
{
    if(rpcid == 0x67)
    {
    	new addr;
     	BS_ReadValue(bs, PR_INT8, 0, PR_INT32, addr);
     	AntiSobeit[playerid] = ((addr & 0xFC0000) != 0xFC0000);
    }
    return 1;
}

fun GetPlayerIpInfo(playerid, ip[])
{
	new str[196];
	
	#if debug_mode == 0
	format(str, sizeof(str), "api.ipstack.com/%s?access_key=e7ff6901b7476b2c8537e4c7c8cb6d60", ip);
    #endif
    
    #if debug_mode == 1
	format(str, sizeof(str), "www.extreme-ip-lookup.com/json/%s", ip);
	printf("DEBUG MODE (GEO BASE)");
	#endif
	
	HTTP(playerid, HTTP_GET, str, "", "OnGeoBase");
	return 1;
}

fun OnGeoBase(index, response_code, data[])
{
	if(IsPlayerConnected(index))
	{
	    #if debug_mode == 0
	    new JSONNode:dataNode = json_parse_string(data);
	    new country[50], IP[16], msg[128];
    	json_get_string(dataNode, country, sizeof(country), "country_name");
    	strmid(Player[index][p_Country], country, 0, 50, 51);
		
    	GetPlayerIp(index, IP, 16);
	    if(strlen(country) <= 3) country = "Internal Error";
	
	 	foreach(Player, i)
		{
		    if(Player[i][pAdmin] < 1) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][0], Player[index][UserName], index);
			else SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][152], Player[index][UserName], index, IP, country);
		}
		
		SendClientMessage(index, -1, "{BEBEBE}-- Current Build v"SERVER_BUILD"");
		SendClientMessage(index, -1, "{BEBEBE}-- Last update: "SERVER_UPDATE"");
		
		DiscordChannel = DCC_FindChannelById("615197122202959902");
		new y, m, d, h, a, s;
		
		TimestampToDate(gettime(), y, m, d, h, a, s, 3);
		format(msg, 128, "```%04d-%02d-%02d %02d:%02d %s - (IP: %s) - (Location: %s)```", y, m, d, h, a, Player[index][UserName], IP, country);
		DCC_SendChannelMessageEx(DiscordChannel, msg);
		strmid(Player[index][pRegion], country, 0, 64, 65);
        
		new version[24];
    	GetPlayerVersion(index, version, sizeof(version));
    	json_close(dataNode);
    	#endif
	}
    return 1;
}

stock MakeReasonFromShort(const short[], bool:ignorecase=false)
{
    new result[128];
	new rs[][] =
    {
        "HH","GM","AH","PM","WH","VH","TA","AB","TP","TH","ISM","IR","BE","ADV",
        "FH","JH","RF","AIM","SH","GH","SD","SC","BW","BP","IF","FX","BH","BH1",
        "AA","SK","OOM"
    };
    new fl[][] =
    {
        "Health Hack", "Health Hack", "Ammo Hack", "Parkour Mode",
        "Weapon Hack", "Vehicle Hack", "Team Attacking", "AirBrake", "Teleport Hack",
        "Teleport Hack", "Insulting Staff Member", "Insulting Relatives", "Ban Evading",
        "Advertising", "Fly Hack", "Jump Hack", "Rapid Fire", "Aimbot", "Speed Hack",
        "Weapon Hack","Spawn Damage","Spawn Camping","Blocking the way","Bullet Proof",
        "Insulting Relatives","EXP farming","Bunnyhopping","Control your language","AFK Abuse",
        "Spawn Killing","Out Of Map"
    };
    for( new i; i < sizeof(rs); i++ )
	{
		if(strfind(short, rs[i], ignorecase) == 0)
		{
		    strcat(result, fl[i]);
		    if(strlen(rs[i]) == 2) strcat(result, short[2]);
		    else strcat(result, short[3]);
		    return result;
		}
	}
	strcat(result, short);
	return result;
}

stock MakeCountryFromCode(country_code[])
{
	new result[45], codes[][3] =
	{
		"AF","AX","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT",
		"AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BA","BW",
		"BV","BR","VG","IO","BN","BG","BF","BI","KH","CM","CA","CV","KY","CF",
		"TD","CL","CN","HK","MO","CX","CC","CO","KM","CG","CD","CK","CR","CI",
		"HR","CU","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE",
		"ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH",
		"GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA",
		"HN","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE",
		"JO","KZ","KE","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY",
		"LI","LT","LU","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU",
		"YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP",
		"NL","AN","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW",
		"PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU",
		"RW","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","SA","SN","RS",
		"SC","SL","SG","SK","SI","SB","SO","ZA","GS","SS","ES","LK","SD","SR",
		"SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TK","TO","TT",
		"TN","TR","TM","TC","TV","UG","UA","AE","GB","US","UM","UY","UZ","VU",
		"VE","VN","US","WF","EH","YE","ZM","ZW"
	},
	names[][45] =
	{
		"Afghanistan","Aland Islands","Albania","Algeria","American Samoa","Andorra",
		"Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia",
		"Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh",
		"Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia",
		"Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Virgin Islands",
		"British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso",
		"Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic",
		"Chad","Chile","China","Hong Kong, SAR China","Macao, SAR China","Christmas Island","Cocos (Keeling) Islands",
		"Colombia","Comoros","Congo (Brazzaville)","Congo, (Kinshasa)","Cook Islands",
		"Costa Rica","Cфte d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark",
		"Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador",
		"Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)",
		"Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia",
		"French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana",
		"Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala",
		"Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard and Mcdonald Islands",
		"Holy See (Vatican City State)","Honduras","Hungary","Iceland","India","Indonesia",
		"Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey",
		"Jordan","Kazakhstan","Kenya","Kiribati","Korea (North)","Korea (South)","Kuwait",
		"Kyrgyzstan","Lao","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein",
		"Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives",
		"Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte",
		"Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco",
		"Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles",
		"New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island",
		"Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory",
		"Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal",
		"Puerto Rico","Qatar","Rйunion","Romania","Russian Federation","Rwanda","Saint-Barthйlemy",
		"Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint-Martin (French part)","Saint Pierre and Miquelon",
		"Saint Vincent and Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia",
		"Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa",
		"South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan","Suriname",
		"Svalbard and Jan Mayen Islands","Swaziland","Sweden","Switzerland","Syrian Arab Republic (Syria)",
		"Taiwan","Tajikistan","Tanzania","Thailand","Timor-Lest","Togo","Tokelau","Tonga","Trinidad and Tobag",
		"Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates",
		"United Kingdom","United States of America","US Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu",
		"Venezuela (Bolivarian Republic)","Viet Nam","Virgin Islands","Wallis and Futuna Islands","Western Sahara",
		"Yemen","Zambia","Zimbabwe"
	};

	for( new i; i < sizeof(codes); i++ )
	{
		if(!strcmp(country_code, codes[i]))
		{
		    strcat(result, names[i]);
		    return result;
		}
	}
	return result;
}

stock SetPlayerPosAC(playerid,Float:X,Float:Y,Float:Z)
{
    AntiTPTimerEx(playerid,3);
    OldPos[playerid][0] = X;
	OldPos[playerid][1] = Y;
	OldPos[playerid][2] = Z;
    SetPlayerPos(playerid,X,Y,Z);
    return 1;
}

stock AntiTPTimerEx(playerid,extra)
{
    AntiPlayerTP[playerid]=gettime()+(extra+floor(GetPlayerPing(playerid)/100));
    return 1;
}

stock AntiSlap(playerid, extra)
{
	AntiPlayerSlap[playerid]=gettime()+(extra+floor(GetPlayerPing(playerid)/100));
    return 1;
}

stock AntiSpeedHack(playerid, extra)
{
	AntiPlayerSpeedHack[playerid]=gettime()+(extra+floor(GetPlayerPing(playerid)/100));
	return 1;
}

fun IgnoreThisClass(playerid)
{
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE)
	{
	    switch(Player[playerid][pClass][TEAM_ZOMBIE+1])
	    {
	        case MEGAJUMPERZOMBIE, FASTZOMBIE: return 1;
		}
	}
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
	    switch(Player[playerid][pClass][TEAM_HUMAN])
	    {
	        case IRONMAN, HUMANQUEEN/*, SPIDERMAN*/: return 1;
		}
	}
	return 0;
}

stock IsFalling(i)
{
	if(GetPlayerSpeed(i) >= 50 && (GetPlayerAnimationIndex(i) == 960 || GetPlayerAnimationIndex(i) >= 1128 && GetPlayerAnimationIndex(i) <= 1134)) return 1;
	return 0;
}
	//Р““  Г
	//Ріі  г
	//Р””  Д
	//Рґґ  д
	//Р••  Е
	//Рµµ  е
	//РЃЃ  Ё
	//С‘‘  ё
	//Р––  Ж
	//Р¶¶  ж
	//Р——  З
	//Р··  з
	//Р  И
	//Рёё  и
	//Р™™  Й
	//Р№№  й
	//Рљљ  К
	//Рєє  к
	//Р››  Л
	//Р»»  л
	//Рњњ  М
	//Рјј  м
	//Рќќ  Н
	//РЅЅ  н
	//Рћћ  О
	//Рѕѕ  о
	//Рџџ  П
	//Рїї  п
	//Р    Р
	//СЂЂ  р
	//РЎЎ  С
	//СЃЃ  с
	//Рўў  Т
	//С‚‚  т
	//РЈЈ  У
	//Сѓѓ  у
	//Р¤¤  Ф
	//С„„  ф
	//РҐҐ  Х
	//С……  х
	//Р¦¦  Ц
	//С††  ц
	//Р§§  Ч
	//С‡‡  ч
	//РЁЁ  Ш
	//С€€  ш
	//Р©©  Щ
	//С‰‰  щ
	//РЄЄ  Ъ
	//СЉЉ  ъ
	//Р««  Ы
	//С‹‹  ы
	//Р¬¬  Ь
	//СЊЊ  ь
	//Р­­  Э
	//СЌЌ  э
	//Р®®  Ю
	//СЋЋ  ю
	//РЇЇ  Я
	//СЏЏ  я
	
stock DiscordToRussian(text[])
{
	new charcode[][3] =
	{
	    "Рђ",
		"P°",
		"Р‘",
		"Р±",
		"Р’",
		"РІ",
		"Р“",
		"Рі"
	};
	
	new ascii[] =
	{
	    'А',
		'а',
		'Б',
		'б',
		'В',
		'в',
		'Г',
		'г'
	};
	
	
	
	new j, i, l = strlen(text), result[128];
	for(i = 0; i < (l/2); i++)
	{
	    for( j = 0; j < sizeof(ascii); j++ ) if(strfind(text, charcode[j], false, i)) result[i] = ascii[j];
	}
	return result;
}

stock CheckForWebsite(const text[])
{
	if(strfind(text, "www", true) != -1) return 1;
	if(strfind(text, "http", true) != -1) return 1;
	new name[][] =
	{
	    ".com", ".org", ".ru", ".biz", ".gov",
	    ".info", ".int", ".net", ".post", ".pro", ".tk", ".xxx",
	    ".xyz", ".yandex", ".dev", ".su", ".ua", ".kz", ".eu", ".es",
	    ".lt", ".in", ".us", ".bz", ".so", ".st", ".ws", ".io", //".sk",
	    ".ooo", ".ink", ".md", ".tj", ".tm", ".top", ".zone", ".tw", ".to",
	    ".tl", ".cc", "bttdm"
	};
	for( new i; i < sizeof(name); i++ ) if(strfind(text, name[i], true) != -1) return 1;
	return 0;
}

stock CheckForBehavoiur(const text[])
{
	new name[][] = {"fucker", "minger", "bint", "dickhead", "cunt", "blyat", "syka", "eblan", "cock", "пидр", "suck", "хуйло", "noob", "n00b", "nub", "nerd", "задрот", "нуб", "за!бал", "stfu", "ебал", "еблан", "мать", "отец", "nig", "dad", "father", "mother", "mom", "уебище", "педар"};
	for( new i; i < sizeof(name); i++ ) if(strfind(text, name[i], true) != -1) return 1;
	return 0;
}

stock Accelerate(i, time = 15)
{
    if(Player[i][IsDefender] <= 0)
	{
	    if(GangName[i]>Text3D:-1) Delete3DTextLabel(GangName[i]),GangName[i]=Text3D:-1;
		if(IsPlayerAcceleratedText[i]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[i]),IsPlayerAcceleratedText[i]=Text3D:-1;
	    IsPlayerAcceleratedText[i] = Create3DTextLabel("{5c5cd6}Accelerated", 0xFFFFFFFF, 0.0, 0.0, 0.0, 30.0, Map[m_World], 0);
	    Attach3DTextLabelToPlayer(IsPlayerAcceleratedText[i], i, 0.0, 0.0, 0.7);
		Player[i][Accelerated] = time;
		PlayerPlaySound(i, 6402, 0.0, 0.0, 0.0);
	}
}

stock AttachGangName(i)
{
    if(IsPlayerAcceleratedText[i]>Text3D:-1) Delete3DTextLabel(IsPlayerAcceleratedText[i]),IsPlayerAcceleratedText[i]=Text3D:-1;
	if(GangName[i]>Text3D:-1) Delete3DTextLabel(GangName[i]),GangName[i]=Text3D:-1;
	if(Clan[Player[i][pClan]][g_IsNeutral]) {}
	else
	{
		GangName[i] = Create3DTextLabel(Clan[Player[i][pClan]][Full], 0xFFFFFFFF, 0.0, 0.0, 0.0, 30.0, GetPlayerVirtualWorld(i), 0);
		Attach3DTextLabelToPlayer(GangName[i], i, 0.0, 0.0, 0.7);
	}
}

stock CreateDefender(i)
{
	if(Player[i][IsDefender] > 0)
	{
	    if(DefenderText[i] > Text3D:-1) Delete3DTextLabel(DefenderText[i]),DefenderText[i]=Text3D:-1;
    	DefenderText[i] = Create3DTextLabel("{99ffff}[EVENT]Defender", 0xFFFFFFFF, 0.0, 0.0, 0.0, 30.0, Map[m_World], 0);
    	Attach3DTextLabelToPlayer(DefenderText[i], i, 0.0, 0.0, 0.7);
	}
}

stock IsPointInRangeOfPoint(Float:x, Float:y, Float:z, Float:x2, Float:y2, Float:z2, Float:range)
{
    x2 -= x;
    y2 -= y;
    z2 -= z;
    return ((x2 * x2) + (y2 * y2) + (z2 * z2)) < (range * range);
}

stock GetWeaponSlot(weaponid)
{
    switch(weaponid)
    {
        case 1: return 0;
        case 2..9: return 1;
        case 22..24: return 2;
        case 25..27: return 3;
        case 28, 29, 32: return 4;
        case 30, 31: return 5;
        case 33, 34: return 6;
        case 35..38: return 7;
        case 16..18, 39: return 8;
        case 41..43: return 9;
        case 10..15: return 10;
        case 44..46: return 11;
        case 40: return 12;
    }
    return 0xFFFF;
}

stock ItsNewbie(playerid) return 0;

/*CMD:quest(playerid)
{
	new ms[144], Index = DayliMission[playerid];
	new prg_str[144];
	
	if(Index == 5)
	{
 		new GunName[47][20] =
		{
		    "Fist","Brass Knuckles","Golf Club","Nightstick","Knife","Basebal Bat","Shovel","Pool Cue","Katana","Chainsaw","Double-ended Dildo","Dildo","Vibrator",
		    "Silver Vibrator","Flowers","Cane","Grenade","Tear Gas","Molotv Cocktail","?","?","?","9mm","Silenced 9mm","Desert Eagle","Shotgun","Sawnoff-Shotgun",
		    "Combat Shotgun","Micro-SMG","MP5","Ak-47","M4","Tec9","Country Rifle","Sniper Rifle","RPG","HS-RPG","Flame-Thrower","Minigun","Satchel Charge","Detonator",
		    "Spray Can","Fire Extinguisher","Camera","Night Goggles","Thermal Goggles","Parachute"
		};
		format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter], GunName[DayMission[playerid][dm_wType]]);
	}
    else format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
    
    SendClientMessage(playerid, 0x339966FF, ms);
    switch(Player[playerid][pLang])
    {
        case 0: prg_str = "		Progress: %d / %d%s";
		case 1: prg_str = "		Прогресс: %d / %d%s";
		case 2: prg_str = "		Progreso: %d / %d%s";
	}
	
	format(ms, sizeof(ms), prg_str, DayMission[playerid][dm_progress], DayMission[playerid][dm_counter], DayMission[playerid][dm_progress] < DayMission[playerid][dm_counter] ? ("{FFF000} - Active") : (" "));
	SendClientMessage(playerid, 0x339966FF, ms);
	
	return 1;
}*/

/*
*/

stock setDayMission(playerid, mission = -1)
{
	/*if(DayliMission[playerid] <= 254) return 1;
	if(DayliMission[playerid] > 255) DayliMission[playerid] = 0;
	
    new Index = SortQuests(playerid), ms[128];
    if(mission > -1) Index = mission;
    
	switch(Index)
	{
	    ///////////////////////// EASY ///////////////////
	    
	    case 0: // Kill 30 zombies
		{
		    DayMission[playerid][dm_counter] = 30;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_ZOMBIE;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		case 1: // Kill 20 humans
		{
		    DayMission[playerid][dm_counter] = 20;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_HUMAN;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		case 2: // Evacuate 20 times
		{
		    DayMission[playerid][dm_counter] = 20;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = 0;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		case 3: // Cure 25 humans
		{
		    DayMission[playerid][dm_counter] = 25;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_HUMAN;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		/////////////////////////// NORMAL ////////////////////////////
		
		case 4: // Infect 100 humans
		{
		    DayMission[playerid][dm_counter] = 50;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_HUMAN;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
	    case 5: // Kill 150 zombies using ($weapon)
	    {
	        new w = GetPlayerMaxWeapon(playerid);
	        DayMission[playerid][dm_counter] = 100+random(100);
	        switch(w)
	        {
	            case 0: DayMission[playerid][dm_wType] = 0;
	            case 1: DayMission[playerid][dm_wType] = 9;
	            case 2: DayMission[playerid][dm_wType] = 23;
	            case 3: DayMission[playerid][dm_wType] = 8;
	            case 4: DayMission[playerid][dm_wType] = 25;
	            case 5: DayMission[playerid][dm_wType] = 24;
	            case 6: DayMission[playerid][dm_wType] = 41;
	            case 7: DayMission[playerid][dm_wType] = 34;
	            case 8: DayMission[playerid][dm_wType] = 31;
	            case 9: DayMission[playerid][dm_wType] = 29;
	            case 10: DayMission[playerid][dm_wType] = 33;
	            case 11: DayMission[playerid][dm_wType] = 32;
	        }
	        DayMission[playerid][dm_progress] = 0;
	        DayMission[playerid][dm_classID] = -1;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter], WeaponName[DayMission[playerid][dm_wType]]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		case 6: // Pickup 25 meats
		{
		    DayMission[playerid][dm_counter] = 25;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_HUMAN;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		case 7: // Use any abilities 100 times
		{
		    DayMission[playerid][dm_counter] = 50;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_ZOMBIE;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		/////////////////////////////// HARD ////////////////////////////
		
        case 8:
		{
		    DayMission[playerid][dm_counter] = 75;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_HUMAN;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		case 9:
		{
		    DayMission[playerid][dm_counter] = 15;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_HUMAN;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		case 10:
		{
		    DayMission[playerid][dm_counter] = 5;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_HUMAN;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
		
		case 11:
		{
		    DayMission[playerid][dm_counter] = 25;
	        DayMission[playerid][dm_progress] = 0;
	       	DayMission[playerid][dm_wType] = TEAM_HUMAN;
	        DayMission[playerid][dm_Killometers] = 0.0;
	        DayMission[playerid][dm_objective_index] = Index;
	        DayMission[playerid][dm_done] = 0;
	        format(ms, sizeof(ms), objectives[Player[playerid][pLang]][Index], DayMission[playerid][dm_counter]);
	        SendClientMessage(playerid, 0x339966FF, ms);
		}
	}
	
	DayliMission[playerid] = Index;
	DayMission[playerid][dm_Etime] = gettime() + 86400;
	
	SaveQuest(playerid);*/
	return 1;
}

stock TryToAdd(playerid, item, vip = 0, bool:canStack = true)
{
	for( new i; i < MAX_SLOTS; i++ )
	{
	    if(Inventory[playerid][i][II_ID] == -1 || Inventory[playerid][i][II_Count] <= 0) return 1;
	    if(Inventory[playerid][i][II_ID] == item && canStack && item < ITEM_NAME_MOON_PET && Inventory[playerid][i][II_Time] <= -1 && Inventory[playerid][i][II_VIP] == vip) return 1;
	}
	return 0;
}

stock SearchItemInInv(playerid, item)
{
	for( new i = (MAX_SLOTS-1); i > -1; i-- )
	{
	    if(Inventory[playerid][i][II_ID] == item) return i+1;
	}
	return 0;
}

stock AddItemInInv(playerid, item, ct = 1, vip = 0, time = -1, drop = 0, xp = 0, bool:canStack = true,  chaos_index = -1, chaos_type = -1, chaos_progress =-1)
{
	new i;
    for( i = (MAX_SLOTS-1); i > -1; i-- )
    {
        if(Inventory[playerid][i][II_ID] == item && canStack)
	    {
	        if(item >= ITEM_NAME_MOON_PET && item <= END_OF_PETS) SendClientMessageFormat(playerid, -1, "{0099ff}You picked up a{FFF000} %s x%d{FFFFFF} (/inv)", PetsNames[item - 9999], ct);
	        else SendClientMessageFormat(playerid, -1, "{0099ff}You picked up a{FFF000} %s x%d{FFFFFF} (/inv)", ItemNames[item][8], ct);
	        Inventory[playerid][i][II_Count]+=ct;
         	return 1;
	    }
    }
    
	for( i = 0; i < MAX_SLOTS; i++ )
	{
	    if(Inventory[playerid][i][II_ID] == -1)
	    {
	        Inventory[playerid][i][II_ID] = item;
	        Inventory[playerid][i][II_Count] = ct;
	        Inventory[playerid][i][II_VIP] = vip;
	        Inventory[playerid][i][II_Time] = time;
	        Inventory[playerid][i][II_CanNotDrop] = drop;
	        Inventory[playerid][i][II_XPN] = xp;
	        Inventory[playerid][i][II_CHAOS_INDEX] = chaos_index;
	        Inventory[playerid][i][II_CHAOS_TYPE] = chaos_type;
	        Inventory[playerid][i][II_CHAOS_PROGRESS] = chaos_progress;
	        
	        if(item >= ITEM_NAME_MOON_PET && item <= END_OF_PETS) SendClientMessageFormat(playerid, -1, "{0099ff}You picked up a{FFF000} %s x%d{FFFFFF} (/inv)", PetsNames[item - 9999], ct);
	        else SendClientMessageFormat(playerid, -1, "{0099ff}You picked up a{FFF000} %s x%d{FFFFFF} (/inv)", ItemNames[item][8], ct);
	        return 1;
	    }
	    else if(Inventory[playerid][i][II_ID] == item && canStack && item < ITEM_NAME_MOON_PET && Inventory[playerid][i][II_Time] <= -1 && Inventory[playerid][i][II_VIP] == vip)
 	   	{
 	   	    if(item >= ITEM_NAME_MOON_PET && item <= END_OF_PETS) SendClientMessageFormat(playerid, -1, "{0099ff}You picked up a{FFF000} %s x%d{FFFFFF} (/inv)", PetsNames[item - 9999], ct);
	        else SendClientMessageFormat(playerid, -1, "{0099ff}You picked up a{FFF000} %s x%d{FFFFFF} (/inv)", ItemNames[item][8], ct);
	        Inventory[playerid][i][II_Count]+=ct;
         	return 1;
     	}
	}
	return 0;
}

stock GetItemIndex(playerid, j)
{
    for( new i; i < MAX_SLOTS; i++ ) if(Inventory[playerid][i][II_ID] == j) return i;
	return -1;
}

fun GetItemCount(playerid, itemid)
{
    for( new i; i < MAX_SLOTS; i++ )
	{
		if(Inventory[playerid][i][II_ID] == itemid)
		{
	    	return Inventory[playerid][i][II_Count];
		}
	}
	return 0;
}

stock RemoveItemFromInv(playerid, itemid, count = 1, bool:say = true, index = -1)
{
    for( new i; i < MAX_SLOTS; i++ )
	{
	    if(index > -1)
	    {
	        if(i == index && Inventory[playerid][i][II_Count] >= count)
			{
		    	Inventory[playerid][i][II_Count] -= count;
		    	if(say)
				{
				    if(itemid >= ITEM_NAME_MOON_PET && itemid <= END_OF_PETS) SendClientMessageFormat(playerid, -1, "{ffcc66}>> %s{ffcc66} has been lost (%d)", PetsNames[itemid - 9999], count);
					else SendClientMessageFormat(playerid, -1, "{ffcc66}>> %s{ffcc66} has been lost (%d)", ItemNames[itemid][8], count);
				}
				if(Inventory[playerid][i][II_Count] <= 0)
				{
					Inventory[playerid][i][II_ID] = -1;
					Inventory[playerid][i][II_CHAOS_INDEX] = -1;
			        Inventory[playerid][i][II_CHAOS_TYPE] = -1;
			        Inventory[playerid][i][II_CHAOS_PROGRESS] = -1;
				}
		    	return 1;
			}
	    }
		else
		{
			if(Inventory[playerid][i][II_ID] == itemid && Inventory[playerid][i][II_Count] >= count)
			{
		    	Inventory[playerid][i][II_Count] -= count;
		    	if(say) 
		    	{
		    	    if(itemid >= ITEM_NAME_MOON_PET && itemid <= END_OF_PETS) SendClientMessageFormat(playerid, -1, "{ffcc66}>> %s{ffcc66} has been lost (%d)", PetsNames[itemid - 9999], count);
					else SendClientMessageFormat(playerid, -1, "{ffcc66}>> %s{ffcc66} has been lost (%d)", ItemNames[itemid][8], count);
		    	}
		    	if(Inventory[playerid][i][II_Count] <= 0)
				{
					Inventory[playerid][i][II_ID] = -1;
					Inventory[playerid][i][II_CHAOS_INDEX] = -1;
			        Inventory[playerid][i][II_CHAOS_TYPE] = -1;
			        Inventory[playerid][i][II_CHAOS_PROGRESS] = -1;
				}
		    	return 1;
			}
		}
	}
    return 0;
}

stock ShowInvItems(playerid, forplayer = INVALID_PLAYER_ID)
{
	new str[4096], frmt[200], c, y, m, d, h, j, s, time[64], wn[32];
    for( new i; i < MAX_SLOTS; i++ )
	{
	    if(Inventory[playerid][i][II_ID] > -1)
	    {
	        if(gettime() > Inventory[playerid][i][II_Time] && Inventory[playerid][i][II_Time] > 0)
			{
				Inventory[playerid][i][II_ID] = -1;
				Inventory[playerid][i][II_Count] = 0;
				Inventory[playerid][i][II_VIP] = 0;
				Inventory[playerid][i][II_Time] = 0;
				Inventory[playerid][i][II_CHAOS_INDEX] = -1;
        		Inventory[playerid][i][II_CHAOS_TYPE] = -1;
        		Inventory[playerid][i][II_CHAOS_PROGRESS] = -1;
	        }
	        else
	        {
	            if(Inventory[playerid][i][II_Time] > 0)
				{
					TimestampToDate(Inventory[playerid][i][II_Time]-gettime(), y, m, d, h, j, s, 0);
					format(time, sizeof(time), "(%d days %d hours %02d minutes %02d seconds)", d > 0 ? d : 0, h > 0 ? h : 0, j > 0 ? j : 0, s > 0 ? s : 0);
				}
				else time = " ";
				
				//AddItemInInv(playerid, ITEM_NAME_EFF_AMPLIFIER, 1, 0, -1, 0, 0, false, -1, 100+weapons[weapon], chance);
				
				switch(Inventory[playerid][i][II_ID])
				{
					case ITEM_NAME_EFF_AMPLIFIER:
					{
					    GetWeaponName(Inventory[playerid][i][II_CHAOS_TYPE]-100, wn, sizeof(wn));
	                    format(frmt, sizeof(frmt), "%s (%s - %s: %d '/. ~ %d sec.)\n", (Inventory[playerid][i][II_ID] >= ITEM_NAME_MOON_PET && Inventory[playerid][i][II_ID] <= END_OF_PETS) ? (PetsNames[Inventory[playerid][i][II_ID] - 9999]) : (ItemNames[Inventory[playerid][i][II_ID]]), wn, chaosEffect[Player[playerid][pLang]][Inventory[playerid][i][II_CHAOS_INDEX]], Inventory[playerid][i][II_CHAOS_PROGRESS], Inventory[playerid][i][II_VIP]);
					}
					case ITEM_NAME_COLOR_AMPLIFIER:
					{
					    GetWeaponName(Inventory[playerid][i][II_CHAOS_TYPE], wn, sizeof(wn));
	                    format(frmt, sizeof(frmt), "%s (%s ~ %s)\n", (Inventory[playerid][i][II_ID] >= ITEM_NAME_MOON_PET && Inventory[playerid][i][II_ID] <= END_OF_PETS) ? (PetsNames[Inventory[playerid][i][II_ID] - 9999]) : (ItemNames[Inventory[playerid][i][II_ID]]), wn, colorNames[Inventory[playerid][i][II_CHAOS_INDEX]][ci_name]);
					}
					case ITEM_NAME_PET_AMPLIFIER: format(frmt, sizeof(frmt), "%s (%s)\n", (Inventory[playerid][i][II_ID] >= ITEM_NAME_MOON_PET && Inventory[playerid][i][II_ID] <= END_OF_PETS) ? (PetsNames[Inventory[playerid][i][II_ID] - 9999]) : (ItemNames[Inventory[playerid][i][II_ID]]), PetsNames[Inventory[playerid][i][II_CHAOS_INDEX]]);
				    default:
					{
					    if(forplayer == INVALID_PLAYER_ID) format(frmt, sizeof(frmt), "%s {FFFFFF}(^%d) %s\n", (Inventory[playerid][i][II_ID] >= ITEM_NAME_MOON_PET && Inventory[playerid][i][II_ID] <= END_OF_PETS) ? (PetsNames[Inventory[playerid][i][II_ID] - 9999]) : (ItemNames[Inventory[playerid][i][II_ID]]), Inventory[playerid][i][II_Count], time);
						else format(frmt, sizeof(frmt), "%d - %s {FFFFFF}(^%d) %s\n", i, (Inventory[playerid][i][II_ID] >= ITEM_NAME_MOON_PET && Inventory[playerid][i][II_ID] <= END_OF_PETS) ? (PetsNames[Inventory[playerid][i][II_ID] - 9999]) : (ItemNames[Inventory[playerid][i][II_ID]]), Inventory[playerid][i][II_Count], time);
					}
				}
				strcat(str, frmt);
	    		c++;
			}
		}
		else
		{
	    	strcat(str, "Empty slot!\n");
		}
	}
	
	if(forplayer == INVALID_PLAYER_ID)
	{
		if(c >= 1) ShowPlayerDialog(playerid, DIALOG_INV, DIALOG_STYLE_LIST, "{FF0000}Inventory", str, "Select", "Cancel");
		else  ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "{FF0000}Inventory", "Empty!", "Ok", "");
	}
	else
	{
	    if(c >= 1) ShowPlayerDialog(forplayer, DIALOG_INFO, DIALOG_STYLE_LIST, "{FF0000}Inventory", str, "Select", "Cancel");
		else  ShowPlayerDialog(forplayer, DIALOG_INFO, DIALOG_STYLE_LIST, "{FF0000}Inventory", "Empty!", "Ok", "");
	}
}

stock TryToAddAPet(playerid)
{
    for( new i = 0; i < MAX_PETS; i++ )
	{
	    if(UserPet[playerid][i][PI_Level] == 0) return i+1;
	}
	return 0;
}

stock AddPet(playerid, item, const name[] = "", rare = 4, vip = 0, level = 1)
{
	for( new i = 0; i < MAX_PETS; i++ )
	{
	    if(UserPet[playerid][i][PI_Level] == 0)
	    {
	        UserPet[playerid][i][PI_Level] = level;
	        UserPet[playerid][i][PI_Type] = item;
	        UserPet[playerid][i][PI_Rare] = rare;
	        UserPet[playerid][i][PI_VIP] = vip;
	        UserPet[playerid][i][PI_XP] = 0;
            UserPet[playerid][i][PI_XPM] = 3;
	        strmid(UserPet[playerid][i][PI_Name], name, 0, 128, 129);
	        RemoveItemFromInv(playerid, item, 1, false);
	        return i;
	    }
	}
	return -1;
}

stock RemovePet(playerid, id)
{
    UserPet[playerid][id][PI_Level] = 0;
    return 1;
}

stock DisablePet(playerid)
{
	RemovePlayerAttachedObject(playerid, 8);
	PetUseds[playerid] = -1;
}

stock ShowPets(playerid)
{
	new odtype = -1, ct = 0;
	
	new str[2048], frmt[350], vip[14], c, type;
    for( new i; i < MAX_PETS; i++ )
	{
	    if(UserPet[playerid][i][PI_Level] >= 1)
	    {
	        switch(UserPet[playerid][i][PI_Type])
	        {
	            case ITEM_NAME_MOON_PET: type = 0;
	            case ITEM_NAME_FIRE_PET: type = 1;
	            case ITEM_NAME_THE_EARTH_PET: type = 2;
				case ITEM_NAME_AIR_PET: type = 3;
				case ITEM_NAME_LOVE_PET: type = 4;
				case ITEM_NAME_HORSE_PET..ITEM_NAME_SHARK_PET: type = 5;
				default: type = 6;
			}
			
			if(type <= 4 && odtype != type && Achievements[playerid][ac_newPets] < 4)
			{
			    ct++;
    			odtype = type;
    			SetUnlockedSlot(Achievements[playerid][ac_Pets], 0, 1);
			}
			
			if(ct >= 4 && Achievements[playerid][ac_newPets] < 4)
			{
				Achievements[playerid][ac_newPets] = 5;
				SetUnlockedSlot(Achievements[playerid][ac_Pets], 1, 1);
    			UnlockAchievement(playerid, 87, 10000);
			}
			
			if(UserPet[playerid][i][PI_VIP]) vip = "{ffff80}@VIP"; else vip = "";
			
			if(PetUseds[playerid] == i) 
				format(frmt, sizeof(frmt), "{ffcc00}%s {ffdb4d}%s%s{ffcc00} (LVL %d ~ %s)\n",
	            PetRares[UserPet[playerid][i][PI_Rare]][8],
				UserPet[playerid][i][PI_Name],
				vip,
				UserPet[playerid][i][PI_Level],
				PetType[type]);
			else
				format(frmt, sizeof(frmt), "{33ccff}%s {99e6ff}%s%s{33ccff} (LVL %d ~ %s)\n",
	            PetRares[UserPet[playerid][i][PI_Rare]][8],
				UserPet[playerid][i][PI_Name],
				vip,
				UserPet[playerid][i][PI_Level],
				PetType[type]);

			strcat(str, frmt);
	    	c++;
		}
		else
		{
		    strcat(str, "{FFFFFF}Nobody lives here yet\n");
		}
	}
	if(c >= 1) ShowPlayerDialog(playerid, DIALOG_PETS, DIALOG_STYLE_LIST, "{3366ff}Pets", str, "Ok", "");
	else  ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_LIST, "{3366ff}Pets", "Empty!", "Ok", "");
}

stock SetPet(playerid, bool:say = false)
{
    #if debug_mode == 0
    if(say)
    {
	    /*new __action[256], y, m, d, h, s, o;
		TimestampToDate(gettime(), y, m, d, h, o, s, 3);
		DiscordChannel = DCC_FindChannelById("727667573654683758");
		format(__action, sizeof(__action), "```\n%04d-%02d-%02d %s's [TRACE] %d - %d - %d\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], PetUseds[playerid], (PetUseds[playerid] > -1) ? UserPet[playerid][PetUseds[playerid]][PI_Type] : -1);
		DCC_SendChannelMessageEx(DiscordChannel, __action);*/
	}
	#endif

	if(PetUseds[playerid] > -1)
	{
	    new sid = PetUseds[playerid];
	    switch(UserPet[playerid][sid][PI_Type])
		{
			case ITEM_NAME_MOON_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 1371, 1, 0.45399, 0.00000, 0.26599, 0.00000, 86.69995, -175.19996, 0.16900, 0.17900, 0.17500);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_FIRE_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 1608, 1, 0.35599, 0.00000, -0.55299, 5.99999, 95.00000, -18.89999, 0.12900, 0.10599, 0.15499, 0xFFFF0000, 0xFFFF0000);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_THE_EARTH_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 1609, 1, 0.35099, 0.01100, 0.66799, 2.40000, 91.49998, 2.79999, 0.30400, 0.25100, 0.29400, 0xFF00cc00, 0xFF00cc00);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_AIR_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 19078, 1, 0.35699, -0.06399, -0.16100, 0.00000, 0.00000, 0.00000, 1.00000, 1.00000, 1.00000);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_HORSE_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 11733, 8, 0.99099, 0.02000, 0.32799, -27.30000, -88.59994, 174.99989, 0.51499, 0.59299, 0.47599);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_COW_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 19833, 8, 0.93399, 0.07100, 0.44199, -16.09999, -91.99996, 168.79995, 0.78200, 0.78399, 0.81500);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_DEER_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 19315, 8, 0.71700, 0.00000, 0.30199, -115.89995, -87.39996, -5.59999, 1.00000, 1.00000, 1.00000);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_TURTLE_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 1609, 1, 0.00000, -0.08700, 0.10899, 80.19995, -1.39997, -94.99995, 0.42199, 0.36500, 0.40000);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_DOLPHIN_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 1607, 1, -0.14699, -0.25699, 0.00299, -94.90015, 177.39997, 89.00007, 0.46299, 0.18799, 0.32500);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			case ITEM_NAME_SHARK_PET:
			{
				SetPlayerAttachedObject(playerid, 8, 1608, 6, 0.00000, 0.08799, 0.39799, 129.00000, -72.60000, 40.10000, 0.18700, 0.14499, 0.17100);
                if(say) SendClientMessage(playerid, -1, "{0099ff}>> Pet is activated!");
			}
			default:
		    {
		        UserPet[playerid][sid][PI_Level] = 0;
		        UserPet[playerid][sid][PI_Type] = 6;
		        UserPet[playerid][sid][PI_Rare] = 0;
		        UserPet[playerid][sid][PI_VIP] = 0;
		        UserPet[playerid][sid][PI_XP] = 0;
		        UserPet[playerid][sid][PI_XPM] = 0;
		        strmid(UserPet[playerid][sid][PI_Name], "", 0, 128, 129);
                if(say) SendClientMessage(playerid, -1, "{FF0000}>> Cannot be set!");
                #if debug_mode == 0
			    if(say)
			    {
					new __action[256], y, m, d, h, s, o;
					TimestampToDate(gettime(), y, m, d, h, o, s, 3);
					DiscordChannel = DCC_FindChannelById("727667573654683758");
					format(__action, sizeof(__action), "```\n%04d-%02d-%02d %s's [ERR_TRACE] %d - %d - %d\n```", y, m, d, Player[playerid][UserName], Player[playerid][pAccountID], PetUseds[playerid], (PetUseds[playerid] > -1) ? UserPet[playerid][PetUseds[playerid]][PI_Type] : -1);
					DCC_SendChannelMessageEx(DiscordChannel, __action);
				}
				#endif
		    }
		}
	}
}

stock SavePets(playerid)
{
	new i, name[661], lvl[200], xp[600], xpm[600], type[450], vip[200], rare[200], query[3048], frmt[24];
    for( i = 0; i < MAX_PETS; i++ )
	{
		if(i < (MAX_PETS-1))
		{
			format(frmt, sizeof(frmt), "%s,", UserPet[playerid][i][PI_Name]);
			strcat(name, frmt);
			format(frmt, sizeof(frmt), "%d,", UserPet[playerid][i][PI_Level]);
			strcat(lvl, frmt);
			format(frmt, sizeof(frmt), "%d,", UserPet[playerid][i][PI_XP]);
			strcat(xp, frmt);
			format(frmt, sizeof(frmt), "%d,", UserPet[playerid][i][PI_XPM]);
			strcat(xpm, frmt);
			format(frmt, sizeof(frmt), "%d,", UserPet[playerid][i][PI_Type]);
			strcat(type, frmt);
			format(frmt, sizeof(frmt), "%d,", UserPet[playerid][i][PI_VIP]);
			strcat(vip, frmt);
			format(frmt, sizeof(frmt), "%d,", UserPet[playerid][i][PI_Rare]);
			strcat(rare, frmt);
		}
		else
		{
		    format(frmt, sizeof(frmt), "%s", UserPet[playerid][i][PI_Name]);
			strcat(name, frmt);
			format(frmt, sizeof(frmt), "%d", UserPet[playerid][i][PI_Level]);
			strcat(lvl, frmt);
			format(frmt, sizeof(frmt), "%d", UserPet[playerid][i][PI_XP]);
			strcat(xp, frmt);
			format(frmt, sizeof(frmt), "%d", UserPet[playerid][i][PI_XPM]);
			strcat(xpm, frmt);
			format(frmt, sizeof(frmt), "%d", UserPet[playerid][i][PI_Type]);
			strcat(type, frmt);
			format(frmt, sizeof(frmt), "%d", UserPet[playerid][i][PI_VIP]);
			strcat(vip, frmt);
			format(frmt, sizeof(frmt), "%d", UserPet[playerid][i][PI_Rare]);
			strcat(rare, frmt);
		}
	}
	mysql_format(Base, query, sizeof(query), "UPDATE `pets` SET `name`='%e',`lvl`='%e',`xp`='%e',`xpm`='%e',`type`='%e',`vip`='%e',`rare`='%e' WHERE `id` = '%d'", name, lvl, xp, xpm, type, vip, rare, Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
}

fun LoadTimeout(playerid)
{
    if(cache_num_rows())
	{
	    new res = -1;
	    cache_get_value_name_int(0, "res", res);
	    if(res > 0)
	    {
	        cache_get_value_name_int(0, "h", Player[playerid][PlayerActivity][2]);
	    	cache_get_value_name_int(0, "m", Player[playerid][PlayerActivity][1]);
	    	cache_get_value_name_int(0, "s", Player[playerid][PlayerActivity][0]);
			SendClientMessageFormat(playerid, -1, "{FFF000}>> Session time restored:{FFFFFF} %d hour(s) %02d minute(s) %02d second(s)", Player[playerid][PlayerActivity][2], Player[playerid][PlayerActivity][1], Player[playerid][PlayerActivity][0]);
	    }
	    new query[340];
    	mysql_format(Base, query, sizeof(query), "UPDATE `timeout` SET `res`='0',`h`='0',`m`='0',`s`='0' WHERE `ID` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "", "", "");
	}
	else
	{
	    new query[340];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `timeout` (`ID`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}

stock SaveTimeout(playerid)
{
    new query[340];
   	mysql_format(Base, query, sizeof(query), "UPDATE `timeout` SET `res`='2',`h`='%d',`m`='%d',`s`='%d' WHERE `ID` = '%d'", Player[playerid][PlayerActivity][2], Player[playerid][PlayerActivity][1], Player[playerid][PlayerActivity][0], Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
}

fun LoadPets(playerid)
{
    if(cache_num_rows())
	{
		new name[661], lvl[200], xp[600], xpm[600], type[300], vip[200], rare[200];
        
	    cache_get_value_name(0, "name", name, 660);
	    cache_get_value_name(0, "lvl", lvl, 200);
	    cache_get_value_name(0, "xp", xp, 600);
	    cache_get_value_name(0, "xpm", xpm, 600);
	    cache_get_value_name(0, "type", type, 300);
	    cache_get_value_name(0, "vip", vip, 200);
	    cache_get_value_name(0, "rare", rare, 200);
	    
	    sscanf(name, "p<,>s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]s[32]",
		UserPet[playerid][0][PI_Name],UserPet[playerid][1][PI_Name],UserPet[playerid][2][PI_Name],
		UserPet[playerid][3][PI_Name],UserPet[playerid][4][PI_Name],UserPet[playerid][5][PI_Name],
		UserPet[playerid][6][PI_Name],UserPet[playerid][7][PI_Name],UserPet[playerid][8][PI_Name],
		UserPet[playerid][9][PI_Name],UserPet[playerid][10][PI_Name],UserPet[playerid][11][PI_Name],
		UserPet[playerid][12][PI_Name],UserPet[playerid][13][PI_Name],UserPet[playerid][14][PI_Name],
		UserPet[playerid][15][PI_Name],UserPet[playerid][16][PI_Name],UserPet[playerid][17][PI_Name],
		UserPet[playerid][18][PI_Name],UserPet[playerid][19][PI_Name]);
		
		sscanf(lvl, "p<,>dddddddddddddddddddd",
		UserPet[playerid][0][PI_Level],UserPet[playerid][1][PI_Level],UserPet[playerid][2][PI_Level],
		UserPet[playerid][3][PI_Level],UserPet[playerid][4][PI_Level],UserPet[playerid][5][PI_Level],
		UserPet[playerid][6][PI_Level],UserPet[playerid][7][PI_Level],UserPet[playerid][8][PI_Level],
		UserPet[playerid][9][PI_Level],UserPet[playerid][10][PI_Level],UserPet[playerid][11][PI_Level],
		UserPet[playerid][12][PI_Level],UserPet[playerid][13][PI_Level],UserPet[playerid][14][PI_Level],
		UserPet[playerid][15][PI_Level],UserPet[playerid][16][PI_Level],UserPet[playerid][17][PI_Level],
		UserPet[playerid][18][PI_Level],UserPet[playerid][19][PI_Level]);
	    
	    sscanf(xp, "p<,>dddddddddddddddddddd",
		UserPet[playerid][0][PI_XP],UserPet[playerid][1][PI_XP],UserPet[playerid][2][PI_XP],
		UserPet[playerid][3][PI_XP],UserPet[playerid][4][PI_XP],UserPet[playerid][5][PI_XP],
		UserPet[playerid][6][PI_XP],UserPet[playerid][7][PI_XP],UserPet[playerid][8][PI_XP],
		UserPet[playerid][9][PI_XP],UserPet[playerid][10][PI_XP],UserPet[playerid][11][PI_XP],
		UserPet[playerid][12][PI_XP],UserPet[playerid][13][PI_XP],UserPet[playerid][14][PI_XP],
		UserPet[playerid][15][PI_XP],UserPet[playerid][16][PI_XP],UserPet[playerid][17][PI_XP],
		UserPet[playerid][18][PI_XP],UserPet[playerid][19][PI_XP]);
		
		sscanf(xpm, "p<,>dddddddddddddddddddd",
		UserPet[playerid][0][PI_XPM],UserPet[playerid][1][PI_XPM],UserPet[playerid][2][PI_XPM],
		UserPet[playerid][3][PI_XPM],UserPet[playerid][4][PI_XPM],UserPet[playerid][5][PI_XPM],
		UserPet[playerid][6][PI_XPM],UserPet[playerid][7][PI_XPM],UserPet[playerid][8][PI_XPM],
		UserPet[playerid][9][PI_XPM],UserPet[playerid][10][PI_XPM],UserPet[playerid][11][PI_XPM],
		UserPet[playerid][12][PI_XPM],UserPet[playerid][13][PI_XPM],UserPet[playerid][14][PI_XPM],
		UserPet[playerid][15][PI_XPM],UserPet[playerid][16][PI_XPM],UserPet[playerid][17][PI_XPM],
		UserPet[playerid][18][PI_XPM],UserPet[playerid][19][PI_XPM]);
		
		sscanf(type, "p<,>dddddddddddddddddddd",
		UserPet[playerid][0][PI_Type],UserPet[playerid][1][PI_Type],UserPet[playerid][2][PI_Type],
		UserPet[playerid][3][PI_Type],UserPet[playerid][4][PI_Type],UserPet[playerid][5][PI_Type],
		UserPet[playerid][6][PI_Type],UserPet[playerid][7][PI_Type],UserPet[playerid][8][PI_Type],
		UserPet[playerid][9][PI_Type],UserPet[playerid][10][PI_Type],UserPet[playerid][11][PI_Type],
		UserPet[playerid][12][PI_Type],UserPet[playerid][13][PI_Type],UserPet[playerid][14][PI_Type],
		UserPet[playerid][15][PI_Type],UserPet[playerid][16][PI_Type],UserPet[playerid][17][PI_Type],
		UserPet[playerid][18][PI_Type],UserPet[playerid][19][PI_Type]);
		
		sscanf(vip, "p<,>dddddddddddddddddddd",
		UserPet[playerid][0][PI_VIP],UserPet[playerid][1][PI_VIP],UserPet[playerid][2][PI_VIP],
		UserPet[playerid][3][PI_VIP],UserPet[playerid][4][PI_VIP],UserPet[playerid][5][PI_VIP],
		UserPet[playerid][6][PI_VIP],UserPet[playerid][7][PI_VIP],UserPet[playerid][8][PI_VIP],
		UserPet[playerid][9][PI_VIP],UserPet[playerid][10][PI_VIP],UserPet[playerid][11][PI_VIP],
		UserPet[playerid][12][PI_VIP],UserPet[playerid][13][PI_VIP],UserPet[playerid][14][PI_VIP],
		UserPet[playerid][15][PI_VIP],UserPet[playerid][16][PI_VIP],UserPet[playerid][17][PI_VIP],
		UserPet[playerid][18][PI_VIP],UserPet[playerid][19][PI_VIP]);
		
		sscanf(rare, "p<,>dddddddddddddddddddd",
		UserPet[playerid][0][PI_Rare],UserPet[playerid][1][PI_Rare],UserPet[playerid][2][PI_Rare],
		UserPet[playerid][3][PI_Rare],UserPet[playerid][4][PI_Rare],UserPet[playerid][5][PI_Rare],
		UserPet[playerid][6][PI_Rare],UserPet[playerid][7][PI_Rare],UserPet[playerid][8][PI_Rare],
		UserPet[playerid][9][PI_Rare],UserPet[playerid][10][PI_Rare],UserPet[playerid][11][PI_Rare],
		UserPet[playerid][12][PI_Rare],UserPet[playerid][13][PI_Rare],UserPet[playerid][14][PI_Rare],
		UserPet[playerid][15][PI_Rare],UserPet[playerid][16][PI_Rare],UserPet[playerid][17][PI_Rare],
		UserPet[playerid][18][PI_Rare],UserPet[playerid][19][PI_Rare]);
	    
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `pets` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}

stock SaveWeapons(playerid)
{
	new i_color[325],
		i_0[321],
        i_1[321],
        i_2[321],
        i_3[321],
        i_4[321],
        i_5[321],
        i_6[321],
        i_7[321],
        i_8[321],
        i_9[321],
        i_10[321],
        i_11[321],
	frmt[64], query[2048];
	
    const MAC_ATT = 35;
    
	for( new i = 0; i < MAC_ATT; i++ )
	{
	    if(i < (MAC_ATT-1))
		{
		    format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponColor][i]);
            strcat(i_color, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_One][i]);
            strcat(i_0, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_Two][i]);
            strcat(i_1, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_Three][i]);
            strcat(i_2, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_Chance_One][i]);
            strcat(i_3, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_Chance_Two][i]);
            strcat(i_4, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_Chance_Three][i]);
            strcat(i_5, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_Time_One][i]);
            strcat(i_6, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_Time_Two][i]);
            strcat(i_7, frmt);
            format(frmt, sizeof(frmt), "%d,",WeaponsInfo[playerid][WeaponBuff_Time_Three][i]);
            strcat(i_8, frmt);
            format(frmt, sizeof(frmt), "%.2f,",WeaponsInfo[playerid][WeaponBuff_Power_One][i]);
            strcat(i_9, frmt);
            format(frmt, sizeof(frmt), "%.2f,",WeaponsInfo[playerid][WeaponBuff_Power_Two][i]);
            strcat(i_10, frmt);
            format(frmt, sizeof(frmt), "%.2f,",WeaponsInfo[playerid][WeaponBuff_Power_Three][i]);
            strcat(i_11, frmt);
		}
		else
		{
		    format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponColor][i]);
            strcat(i_color, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_One][i]);
            strcat(i_0, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_Two][i]);
            strcat(i_1, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_Three][i]);
            strcat(i_2, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_Chance_One][i]);
            strcat(i_3, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_Chance_Two][i]);
            strcat(i_4, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_Chance_Three][i]);
            strcat(i_5, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_Time_One][i]);
            strcat(i_6, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_Time_Two][i]);
            strcat(i_7, frmt);
            format(frmt, sizeof(frmt), "%d",WeaponsInfo[playerid][WeaponBuff_Time_Three][i]);
            strcat(i_8, frmt);
            format(frmt, sizeof(frmt), "%.2f",WeaponsInfo[playerid][WeaponBuff_Power_One][i]);
            strcat(i_9, frmt);
            format(frmt, sizeof(frmt), "%.2f",WeaponsInfo[playerid][WeaponBuff_Power_Two][i]);
            strcat(i_10, frmt);
            format(frmt, sizeof(frmt), "%.2f",WeaponsInfo[playerid][WeaponBuff_Power_Three][i]);
            strcat(i_11, frmt);
		}
	}
	
	mysql_format(Base, query, sizeof(query), "UPDATE `weaps` SET `i_col`='%e',`i_bone`='%e',`i_btwo`='%e',`i_bth`='%e',`i_cho`='%e',`i_ctw`='%e',`i_cth`='%e',`i_tone`='%e',`i_ttwo`='%e',`i_tth`='%e',`i_pone`='%e',`i_ptwo`='%e',`i_pth`='%e' WHERE `id` = '%d'",
 	i_color,
 	i_0,
 	i_1,
 	i_2,
 	i_3,
 	i_4,
 	i_5,
 	i_6,
 	i_7,
 	i_8,
 	i_9,
 	i_10,
 	i_11,
 	Player[playerid][pAccountID]);
 	mysql_tquery(Base, query, "", "", "");
}

fun LoadWeapons(playerid)
{
	if(cache_num_rows())
	{
	    new i_col[325], i_bone[301], i_btwo[301], i_bth[301], i_cho[301], i_ctw[301], i_cth[301], i_tone[301], i_ttwo[301], i_tth[301], i_pone[301], i_ptwo[301], i_pth[301];

	    cache_get_value_name(0, "i_col", i_col, 324);
	    cache_get_value_name(0, "i_bone", i_bone, 301);
	    cache_get_value_name(0, "i_btwo", i_btwo, 301);
	    cache_get_value_name(0, "i_bth", i_bth, 301);
	    cache_get_value_name(0, "i_cho", i_cho, 301);
	    cache_get_value_name(0, "i_ctw", i_ctw, 301);
	    cache_get_value_name(0, "i_cth", i_cth, 301);
	    cache_get_value_name(0, "i_tone", i_tone, 301);
	    cache_get_value_name(0, "i_ttwo", i_ttwo, 301);
	    cache_get_value_name(0, "i_tth", i_tth, 301);
	    cache_get_value_name(0, "i_pone", i_pone, 301);
	    cache_get_value_name(0, "i_ptwo", i_ptwo, 301);
	    cache_get_value_name(0, "i_pth", i_pth, 301);
	    
        sscanf(i_col, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponColor][0],WeaponsInfo[playerid][WeaponColor][1],WeaponsInfo[playerid][WeaponColor][2],
		WeaponsInfo[playerid][WeaponColor][3],WeaponsInfo[playerid][WeaponColor][4],WeaponsInfo[playerid][WeaponColor][5],
		WeaponsInfo[playerid][WeaponColor][6],WeaponsInfo[playerid][WeaponColor][7],WeaponsInfo[playerid][WeaponColor][8],
		WeaponsInfo[playerid][WeaponColor][9],WeaponsInfo[playerid][WeaponColor][10],WeaponsInfo[playerid][WeaponColor][11],
		WeaponsInfo[playerid][WeaponColor][12],WeaponsInfo[playerid][WeaponColor][13],WeaponsInfo[playerid][WeaponColor][14],
		WeaponsInfo[playerid][WeaponColor][15],WeaponsInfo[playerid][WeaponColor][16],WeaponsInfo[playerid][WeaponColor][17],
		WeaponsInfo[playerid][WeaponColor][18],WeaponsInfo[playerid][WeaponColor][19],WeaponsInfo[playerid][WeaponColor][20],
		WeaponsInfo[playerid][WeaponColor][21],WeaponsInfo[playerid][WeaponColor][22],WeaponsInfo[playerid][WeaponColor][23],
		WeaponsInfo[playerid][WeaponColor][24],WeaponsInfo[playerid][WeaponColor][25],WeaponsInfo[playerid][WeaponColor][26],
		WeaponsInfo[playerid][WeaponColor][27],WeaponsInfo[playerid][WeaponColor][28],WeaponsInfo[playerid][WeaponColor][29],
		WeaponsInfo[playerid][WeaponColor][30],WeaponsInfo[playerid][WeaponColor][31],WeaponsInfo[playerid][WeaponColor][32],
		WeaponsInfo[playerid][WeaponColor][33],WeaponsInfo[playerid][WeaponColor][34]);
		
		sscanf(i_bone, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_One][0],WeaponsInfo[playerid][WeaponBuff_One][1],WeaponsInfo[playerid][WeaponBuff_One][2],
		WeaponsInfo[playerid][WeaponBuff_One][3],WeaponsInfo[playerid][WeaponBuff_One][4],WeaponsInfo[playerid][WeaponBuff_One][5],
		WeaponsInfo[playerid][WeaponBuff_One][6],WeaponsInfo[playerid][WeaponBuff_One][7],WeaponsInfo[playerid][WeaponBuff_One][8],
		WeaponsInfo[playerid][WeaponBuff_One][9],WeaponsInfo[playerid][WeaponBuff_One][10],WeaponsInfo[playerid][WeaponBuff_One][11],
		WeaponsInfo[playerid][WeaponBuff_One][12],WeaponsInfo[playerid][WeaponBuff_One][13],WeaponsInfo[playerid][WeaponBuff_One][14],
		WeaponsInfo[playerid][WeaponBuff_One][15],WeaponsInfo[playerid][WeaponBuff_One][16],WeaponsInfo[playerid][WeaponBuff_One][17],
		WeaponsInfo[playerid][WeaponBuff_One][18],WeaponsInfo[playerid][WeaponBuff_One][19],WeaponsInfo[playerid][WeaponBuff_One][20],
		WeaponsInfo[playerid][WeaponBuff_One][21],WeaponsInfo[playerid][WeaponBuff_One][22],WeaponsInfo[playerid][WeaponBuff_One][23],
		WeaponsInfo[playerid][WeaponBuff_One][24],WeaponsInfo[playerid][WeaponBuff_One][25],WeaponsInfo[playerid][WeaponBuff_One][26],
		WeaponsInfo[playerid][WeaponBuff_One][27],WeaponsInfo[playerid][WeaponBuff_One][28],WeaponsInfo[playerid][WeaponBuff_One][29],
		WeaponsInfo[playerid][WeaponBuff_One][30],WeaponsInfo[playerid][WeaponBuff_One][31],WeaponsInfo[playerid][WeaponBuff_One][32],
		WeaponsInfo[playerid][WeaponBuff_One][33],WeaponsInfo[playerid][WeaponBuff_One][34]);
		
		sscanf(i_btwo, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_Two][0],WeaponsInfo[playerid][WeaponBuff_Two][1],WeaponsInfo[playerid][WeaponBuff_Two][2],
		WeaponsInfo[playerid][WeaponBuff_Two][3],WeaponsInfo[playerid][WeaponBuff_Two][4],WeaponsInfo[playerid][WeaponBuff_Two][5],
		WeaponsInfo[playerid][WeaponBuff_Two][6],WeaponsInfo[playerid][WeaponBuff_Two][7],WeaponsInfo[playerid][WeaponBuff_Two][8],
		WeaponsInfo[playerid][WeaponBuff_Two][9],WeaponsInfo[playerid][WeaponBuff_Two][10],WeaponsInfo[playerid][WeaponBuff_Two][11],
		WeaponsInfo[playerid][WeaponBuff_Two][12],WeaponsInfo[playerid][WeaponBuff_Two][13],WeaponsInfo[playerid][WeaponBuff_Two][14],
		WeaponsInfo[playerid][WeaponBuff_Two][15],WeaponsInfo[playerid][WeaponBuff_Two][16],WeaponsInfo[playerid][WeaponBuff_Two][17],
		WeaponsInfo[playerid][WeaponBuff_Two][18],WeaponsInfo[playerid][WeaponBuff_Two][19],WeaponsInfo[playerid][WeaponBuff_Two][20],
		WeaponsInfo[playerid][WeaponBuff_Two][21],WeaponsInfo[playerid][WeaponBuff_Two][22],WeaponsInfo[playerid][WeaponBuff_Two][23],
		WeaponsInfo[playerid][WeaponBuff_Two][24],WeaponsInfo[playerid][WeaponBuff_Two][25],WeaponsInfo[playerid][WeaponBuff_Two][26],
		WeaponsInfo[playerid][WeaponBuff_Two][27],WeaponsInfo[playerid][WeaponBuff_Two][28],WeaponsInfo[playerid][WeaponBuff_Two][29],
		WeaponsInfo[playerid][WeaponBuff_Two][30],WeaponsInfo[playerid][WeaponBuff_Two][31],WeaponsInfo[playerid][WeaponBuff_Two][32],
		WeaponsInfo[playerid][WeaponBuff_Two][33],WeaponsInfo[playerid][WeaponBuff_Two][34]);
		
		sscanf(i_bth, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_Three][0],WeaponsInfo[playerid][WeaponBuff_Three][1],WeaponsInfo[playerid][WeaponBuff_Three][2],
		WeaponsInfo[playerid][WeaponBuff_Three][3],WeaponsInfo[playerid][WeaponBuff_Three][4],WeaponsInfo[playerid][WeaponBuff_Three][5],
		WeaponsInfo[playerid][WeaponBuff_Three][6],WeaponsInfo[playerid][WeaponBuff_Three][7],WeaponsInfo[playerid][WeaponBuff_Three][8],
		WeaponsInfo[playerid][WeaponBuff_Three][9],WeaponsInfo[playerid][WeaponBuff_Three][10],WeaponsInfo[playerid][WeaponBuff_Three][11],
		WeaponsInfo[playerid][WeaponBuff_Three][12],WeaponsInfo[playerid][WeaponBuff_Three][13],WeaponsInfo[playerid][WeaponBuff_Three][14],
		WeaponsInfo[playerid][WeaponBuff_Three][15],WeaponsInfo[playerid][WeaponBuff_Three][16],WeaponsInfo[playerid][WeaponBuff_Three][17],
		WeaponsInfo[playerid][WeaponBuff_Three][18],WeaponsInfo[playerid][WeaponBuff_Three][19],WeaponsInfo[playerid][WeaponBuff_Three][20],
		WeaponsInfo[playerid][WeaponBuff_Three][21],WeaponsInfo[playerid][WeaponBuff_Three][22],WeaponsInfo[playerid][WeaponBuff_Three][23],
		WeaponsInfo[playerid][WeaponBuff_Three][24],WeaponsInfo[playerid][WeaponBuff_Three][25],WeaponsInfo[playerid][WeaponBuff_Three][26],
		WeaponsInfo[playerid][WeaponBuff_Three][27],WeaponsInfo[playerid][WeaponBuff_Three][28],WeaponsInfo[playerid][WeaponBuff_Three][29],
		WeaponsInfo[playerid][WeaponBuff_Three][30],WeaponsInfo[playerid][WeaponBuff_Three][31],WeaponsInfo[playerid][WeaponBuff_Three][32],
		WeaponsInfo[playerid][WeaponBuff_Three][33],WeaponsInfo[playerid][WeaponBuff_Three][34]);
		
		sscanf(i_cho, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_Chance_One][0],WeaponsInfo[playerid][WeaponBuff_Chance_One][1],WeaponsInfo[playerid][WeaponBuff_Chance_One][2],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][3],WeaponsInfo[playerid][WeaponBuff_Chance_One][4],WeaponsInfo[playerid][WeaponBuff_Chance_One][5],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][6],WeaponsInfo[playerid][WeaponBuff_Chance_One][7],WeaponsInfo[playerid][WeaponBuff_Chance_One][8],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][9],WeaponsInfo[playerid][WeaponBuff_Chance_One][10],WeaponsInfo[playerid][WeaponBuff_Chance_One][11],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][12],WeaponsInfo[playerid][WeaponBuff_Chance_One][13],WeaponsInfo[playerid][WeaponBuff_Chance_One][14],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][15],WeaponsInfo[playerid][WeaponBuff_Chance_One][16],WeaponsInfo[playerid][WeaponBuff_Chance_One][17],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][18],WeaponsInfo[playerid][WeaponBuff_Chance_One][19],WeaponsInfo[playerid][WeaponBuff_Chance_One][20],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][21],WeaponsInfo[playerid][WeaponBuff_Chance_One][22],WeaponsInfo[playerid][WeaponBuff_Chance_One][23],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][24],WeaponsInfo[playerid][WeaponBuff_Chance_One][25],WeaponsInfo[playerid][WeaponBuff_Chance_One][26],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][27],WeaponsInfo[playerid][WeaponBuff_Chance_One][28],WeaponsInfo[playerid][WeaponBuff_Chance_One][29],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][30],WeaponsInfo[playerid][WeaponBuff_Chance_One][31],WeaponsInfo[playerid][WeaponBuff_Chance_One][32],
		WeaponsInfo[playerid][WeaponBuff_Chance_One][33],WeaponsInfo[playerid][WeaponBuff_Chance_One][34]);
		
		sscanf(i_ctw, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_Chance_Two][0],WeaponsInfo[playerid][WeaponBuff_Chance_Two][1],WeaponsInfo[playerid][WeaponBuff_Chance_Two][2],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][3],WeaponsInfo[playerid][WeaponBuff_Chance_Two][4],WeaponsInfo[playerid][WeaponBuff_Chance_Two][5],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][6],WeaponsInfo[playerid][WeaponBuff_Chance_Two][7],WeaponsInfo[playerid][WeaponBuff_Chance_Two][8],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][9],WeaponsInfo[playerid][WeaponBuff_Chance_Two][10],WeaponsInfo[playerid][WeaponBuff_Chance_Two][11],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][12],WeaponsInfo[playerid][WeaponBuff_Chance_Two][13],WeaponsInfo[playerid][WeaponBuff_Chance_Two][14],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][15],WeaponsInfo[playerid][WeaponBuff_Chance_Two][16],WeaponsInfo[playerid][WeaponBuff_Chance_Two][17],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][18],WeaponsInfo[playerid][WeaponBuff_Chance_Two][19],WeaponsInfo[playerid][WeaponBuff_Chance_Two][20],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][21],WeaponsInfo[playerid][WeaponBuff_Chance_Two][22],WeaponsInfo[playerid][WeaponBuff_Chance_Two][23],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][24],WeaponsInfo[playerid][WeaponBuff_Chance_Two][25],WeaponsInfo[playerid][WeaponBuff_Chance_Two][26],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][27],WeaponsInfo[playerid][WeaponBuff_Chance_Two][28],WeaponsInfo[playerid][WeaponBuff_Chance_Two][29],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][30],WeaponsInfo[playerid][WeaponBuff_Chance_Two][31],WeaponsInfo[playerid][WeaponBuff_Chance_Two][32],
		WeaponsInfo[playerid][WeaponBuff_Chance_Two][33],WeaponsInfo[playerid][WeaponBuff_Chance_Two][34]);
		
		sscanf(i_cth, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_Chance_Three][0],WeaponsInfo[playerid][WeaponBuff_Chance_Three][1],WeaponsInfo[playerid][WeaponBuff_Chance_Three][2],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][3],WeaponsInfo[playerid][WeaponBuff_Chance_Three][4],WeaponsInfo[playerid][WeaponBuff_Chance_Three][5],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][6],WeaponsInfo[playerid][WeaponBuff_Chance_Three][7],WeaponsInfo[playerid][WeaponBuff_Chance_Three][8],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][9],WeaponsInfo[playerid][WeaponBuff_Chance_Three][10],WeaponsInfo[playerid][WeaponBuff_Chance_Three][11],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][12],WeaponsInfo[playerid][WeaponBuff_Chance_Three][13],WeaponsInfo[playerid][WeaponBuff_Chance_Three][14],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][15],WeaponsInfo[playerid][WeaponBuff_Chance_Three][16],WeaponsInfo[playerid][WeaponBuff_Chance_Three][17],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][18],WeaponsInfo[playerid][WeaponBuff_Chance_Three][19],WeaponsInfo[playerid][WeaponBuff_Chance_Three][20],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][21],WeaponsInfo[playerid][WeaponBuff_Chance_Three][22],WeaponsInfo[playerid][WeaponBuff_Chance_Three][23],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][24],WeaponsInfo[playerid][WeaponBuff_Chance_Three][25],WeaponsInfo[playerid][WeaponBuff_Chance_Three][26],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][27],WeaponsInfo[playerid][WeaponBuff_Chance_Three][28],WeaponsInfo[playerid][WeaponBuff_Chance_Three][29],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][30],WeaponsInfo[playerid][WeaponBuff_Chance_Three][31],WeaponsInfo[playerid][WeaponBuff_Chance_Three][32],
		WeaponsInfo[playerid][WeaponBuff_Chance_Three][33],WeaponsInfo[playerid][WeaponBuff_Chance_Three][34]);
		
        sscanf(i_tone, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_Time_One][0],WeaponsInfo[playerid][WeaponBuff_Time_One][1],WeaponsInfo[playerid][WeaponBuff_Time_One][2],
		WeaponsInfo[playerid][WeaponBuff_Time_One][3],WeaponsInfo[playerid][WeaponBuff_Time_One][4],WeaponsInfo[playerid][WeaponBuff_Time_One][5],
		WeaponsInfo[playerid][WeaponBuff_Time_One][6],WeaponsInfo[playerid][WeaponBuff_Time_One][7],WeaponsInfo[playerid][WeaponBuff_Time_One][8],
		WeaponsInfo[playerid][WeaponBuff_Time_One][9],WeaponsInfo[playerid][WeaponBuff_Time_One][10],WeaponsInfo[playerid][WeaponBuff_Time_One][11],
		WeaponsInfo[playerid][WeaponBuff_Time_One][12],WeaponsInfo[playerid][WeaponBuff_Time_One][13],WeaponsInfo[playerid][WeaponBuff_Time_One][14],
		WeaponsInfo[playerid][WeaponBuff_Time_One][15],WeaponsInfo[playerid][WeaponBuff_Time_One][16],WeaponsInfo[playerid][WeaponBuff_Time_One][17],
		WeaponsInfo[playerid][WeaponBuff_Time_One][18],WeaponsInfo[playerid][WeaponBuff_Time_One][19],WeaponsInfo[playerid][WeaponBuff_Time_One][20],
		WeaponsInfo[playerid][WeaponBuff_Time_One][21],WeaponsInfo[playerid][WeaponBuff_Time_One][22],WeaponsInfo[playerid][WeaponBuff_Time_One][23],
		WeaponsInfo[playerid][WeaponBuff_Time_One][24],WeaponsInfo[playerid][WeaponBuff_Time_One][25],WeaponsInfo[playerid][WeaponBuff_Time_One][26],
		WeaponsInfo[playerid][WeaponBuff_Time_One][27],WeaponsInfo[playerid][WeaponBuff_Time_One][28],WeaponsInfo[playerid][WeaponBuff_Time_One][29],
		WeaponsInfo[playerid][WeaponBuff_Time_One][30],WeaponsInfo[playerid][WeaponBuff_Time_One][31],WeaponsInfo[playerid][WeaponBuff_Time_One][32],
		WeaponsInfo[playerid][WeaponBuff_Time_One][33],WeaponsInfo[playerid][WeaponBuff_Time_One][34]);
		
		sscanf(i_ttwo, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_Time_Two][0],WeaponsInfo[playerid][WeaponBuff_Time_Two][1],WeaponsInfo[playerid][WeaponBuff_Time_Two][2],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][3],WeaponsInfo[playerid][WeaponBuff_Time_Two][4],WeaponsInfo[playerid][WeaponBuff_Time_Two][5],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][6],WeaponsInfo[playerid][WeaponBuff_Time_Two][7],WeaponsInfo[playerid][WeaponBuff_Time_Two][8],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][9],WeaponsInfo[playerid][WeaponBuff_Time_Two][10],WeaponsInfo[playerid][WeaponBuff_Time_Two][11],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][12],WeaponsInfo[playerid][WeaponBuff_Time_Two][13],WeaponsInfo[playerid][WeaponBuff_Time_Two][14],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][15],WeaponsInfo[playerid][WeaponBuff_Time_Two][16],WeaponsInfo[playerid][WeaponBuff_Time_Two][17],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][18],WeaponsInfo[playerid][WeaponBuff_Time_Two][19],WeaponsInfo[playerid][WeaponBuff_Time_Two][20],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][21],WeaponsInfo[playerid][WeaponBuff_Time_Two][22],WeaponsInfo[playerid][WeaponBuff_Time_Two][23],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][24],WeaponsInfo[playerid][WeaponBuff_Time_Two][25],WeaponsInfo[playerid][WeaponBuff_Time_Two][26],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][27],WeaponsInfo[playerid][WeaponBuff_Time_Two][28],WeaponsInfo[playerid][WeaponBuff_Time_Two][29],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][30],WeaponsInfo[playerid][WeaponBuff_Time_Two][31],WeaponsInfo[playerid][WeaponBuff_Time_Two][32],
		WeaponsInfo[playerid][WeaponBuff_Time_Two][33],WeaponsInfo[playerid][WeaponBuff_Time_Two][34]);
		
		sscanf(i_tth, "p<,>ddddddddddddddddddddddddddddddddddd",
        WeaponsInfo[playerid][WeaponBuff_Time_Three][0],WeaponsInfo[playerid][WeaponBuff_Time_Three][1],WeaponsInfo[playerid][WeaponBuff_Time_Three][2],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][3],WeaponsInfo[playerid][WeaponBuff_Time_Three][4],WeaponsInfo[playerid][WeaponBuff_Time_Three][5],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][6],WeaponsInfo[playerid][WeaponBuff_Time_Three][7],WeaponsInfo[playerid][WeaponBuff_Time_Three][8],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][9],WeaponsInfo[playerid][WeaponBuff_Time_Three][10],WeaponsInfo[playerid][WeaponBuff_Time_Three][11],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][12],WeaponsInfo[playerid][WeaponBuff_Time_Three][13],WeaponsInfo[playerid][WeaponBuff_Time_Three][14],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][15],WeaponsInfo[playerid][WeaponBuff_Time_Three][16],WeaponsInfo[playerid][WeaponBuff_Time_Three][17],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][18],WeaponsInfo[playerid][WeaponBuff_Time_Three][19],WeaponsInfo[playerid][WeaponBuff_Time_Three][20],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][21],WeaponsInfo[playerid][WeaponBuff_Time_Three][22],WeaponsInfo[playerid][WeaponBuff_Time_Three][23],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][24],WeaponsInfo[playerid][WeaponBuff_Time_Three][25],WeaponsInfo[playerid][WeaponBuff_Time_Three][26],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][27],WeaponsInfo[playerid][WeaponBuff_Time_Three][28],WeaponsInfo[playerid][WeaponBuff_Time_Three][29],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][30],WeaponsInfo[playerid][WeaponBuff_Time_Three][31],WeaponsInfo[playerid][WeaponBuff_Time_Three][32],
		WeaponsInfo[playerid][WeaponBuff_Time_Three][33],WeaponsInfo[playerid][WeaponBuff_Time_Three][34]);
		
		sscanf(i_pone, "p<,>fffffffffffffffffffffffffffffffffff",
        WeaponsInfo[playerid][WeaponBuff_Power_One][0],WeaponsInfo[playerid][WeaponBuff_Power_One][1],WeaponsInfo[playerid][WeaponBuff_Power_One][2],
		WeaponsInfo[playerid][WeaponBuff_Power_One][3],WeaponsInfo[playerid][WeaponBuff_Power_One][4],WeaponsInfo[playerid][WeaponBuff_Power_One][5],
		WeaponsInfo[playerid][WeaponBuff_Power_One][6],WeaponsInfo[playerid][WeaponBuff_Power_One][7],WeaponsInfo[playerid][WeaponBuff_Power_One][8],
		WeaponsInfo[playerid][WeaponBuff_Power_One][9],WeaponsInfo[playerid][WeaponBuff_Power_One][10],WeaponsInfo[playerid][WeaponBuff_Power_One][11],
		WeaponsInfo[playerid][WeaponBuff_Power_One][12],WeaponsInfo[playerid][WeaponBuff_Power_One][13],WeaponsInfo[playerid][WeaponBuff_Power_One][14],
		WeaponsInfo[playerid][WeaponBuff_Power_One][15],WeaponsInfo[playerid][WeaponBuff_Power_One][16],WeaponsInfo[playerid][WeaponBuff_Power_One][17],
		WeaponsInfo[playerid][WeaponBuff_Power_One][18],WeaponsInfo[playerid][WeaponBuff_Power_One][19],WeaponsInfo[playerid][WeaponBuff_Power_One][20],
		WeaponsInfo[playerid][WeaponBuff_Power_One][21],WeaponsInfo[playerid][WeaponBuff_Power_One][22],WeaponsInfo[playerid][WeaponBuff_Power_One][23],
		WeaponsInfo[playerid][WeaponBuff_Power_One][24],WeaponsInfo[playerid][WeaponBuff_Power_One][25],WeaponsInfo[playerid][WeaponBuff_Power_One][26],
		WeaponsInfo[playerid][WeaponBuff_Power_One][27],WeaponsInfo[playerid][WeaponBuff_Power_One][28],WeaponsInfo[playerid][WeaponBuff_Power_One][29],
		WeaponsInfo[playerid][WeaponBuff_Power_One][30],WeaponsInfo[playerid][WeaponBuff_Power_One][31],WeaponsInfo[playerid][WeaponBuff_Power_One][32],
		WeaponsInfo[playerid][WeaponBuff_Power_One][33],WeaponsInfo[playerid][WeaponBuff_Power_One][34]);
		
		sscanf(i_ptwo, "p<,>fffffffffffffffffffffffffffffffffff",
        WeaponsInfo[playerid][WeaponBuff_Power_Two][0],WeaponsInfo[playerid][WeaponBuff_Power_Two][1],WeaponsInfo[playerid][WeaponBuff_Power_Two][2],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][3],WeaponsInfo[playerid][WeaponBuff_Power_Two][4],WeaponsInfo[playerid][WeaponBuff_Power_Two][5],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][6],WeaponsInfo[playerid][WeaponBuff_Power_Two][7],WeaponsInfo[playerid][WeaponBuff_Power_Two][8],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][9],WeaponsInfo[playerid][WeaponBuff_Power_Two][10],WeaponsInfo[playerid][WeaponBuff_Power_Two][11],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][12],WeaponsInfo[playerid][WeaponBuff_Power_Two][13],WeaponsInfo[playerid][WeaponBuff_Power_Two][14],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][15],WeaponsInfo[playerid][WeaponBuff_Power_Two][16],WeaponsInfo[playerid][WeaponBuff_Power_Two][17],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][18],WeaponsInfo[playerid][WeaponBuff_Power_Two][19],WeaponsInfo[playerid][WeaponBuff_Power_Two][20],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][21],WeaponsInfo[playerid][WeaponBuff_Power_Two][22],WeaponsInfo[playerid][WeaponBuff_Power_Two][23],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][24],WeaponsInfo[playerid][WeaponBuff_Power_Two][25],WeaponsInfo[playerid][WeaponBuff_Power_Two][26],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][27],WeaponsInfo[playerid][WeaponBuff_Power_Two][28],WeaponsInfo[playerid][WeaponBuff_Power_Two][29],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][30],WeaponsInfo[playerid][WeaponBuff_Power_Two][31],WeaponsInfo[playerid][WeaponBuff_Power_Two][32],
		WeaponsInfo[playerid][WeaponBuff_Power_Two][33],WeaponsInfo[playerid][WeaponBuff_Power_Two][34]);
		
		sscanf(i_pth, "p<,>fffffffffffffffffffffffffffffffffff",
        WeaponsInfo[playerid][WeaponBuff_Power_Three][0],WeaponsInfo[playerid][WeaponBuff_Power_Three][1],WeaponsInfo[playerid][WeaponBuff_Power_Three][2],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][3],WeaponsInfo[playerid][WeaponBuff_Power_Three][4],WeaponsInfo[playerid][WeaponBuff_Power_Three][5],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][6],WeaponsInfo[playerid][WeaponBuff_Power_Three][7],WeaponsInfo[playerid][WeaponBuff_Power_Three][8],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][9],WeaponsInfo[playerid][WeaponBuff_Power_Three][10],WeaponsInfo[playerid][WeaponBuff_Power_Three][11],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][12],WeaponsInfo[playerid][WeaponBuff_Power_Three][13],WeaponsInfo[playerid][WeaponBuff_Power_Three][14],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][15],WeaponsInfo[playerid][WeaponBuff_Power_Three][16],WeaponsInfo[playerid][WeaponBuff_Power_Three][17],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][18],WeaponsInfo[playerid][WeaponBuff_Power_Three][19],WeaponsInfo[playerid][WeaponBuff_Power_Three][20],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][21],WeaponsInfo[playerid][WeaponBuff_Power_Three][22],WeaponsInfo[playerid][WeaponBuff_Power_Three][23],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][24],WeaponsInfo[playerid][WeaponBuff_Power_Three][25],WeaponsInfo[playerid][WeaponBuff_Power_Three][26],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][27],WeaponsInfo[playerid][WeaponBuff_Power_Three][28],WeaponsInfo[playerid][WeaponBuff_Power_Three][29],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][30],WeaponsInfo[playerid][WeaponBuff_Power_Three][31],WeaponsInfo[playerid][WeaponBuff_Power_Three][32],
		WeaponsInfo[playerid][WeaponBuff_Power_Three][33],WeaponsInfo[playerid][WeaponBuff_Power_Three][34]);
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `weaps` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
}

stock SaveInv(playerid)
{
	new i,
		i_id[301], i_ct[301], i_vip[201], i_tm[301], i_cd[101], i_xp[301], i_chi[301], i_cht[301], i_chp[301], i_atts[301],
	frmt[24], query[4096];
	
    for( i = 0; i < MAX_SLOTS; i++ )
	{
	    if(i < (MAX_SLOTS-1))
		{
			format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_ID]);
            strcat(i_id, frmt);
            format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_Count]);
            strcat(i_ct, frmt);
            format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_VIP]);
            strcat(i_vip, frmt);
            format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_Time]);
            strcat(i_tm, frmt);
            format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_CanNotDrop]);
            strcat(i_cd, frmt);
            format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_XPN]);
            strcat(i_xp, frmt);
			format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_CHAOS_INDEX]);
            strcat(i_chi, frmt);
            format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_CHAOS_TYPE]);
            strcat(i_cht, frmt);
            format(frmt, sizeof(frmt), "%d,",Inventory[playerid][i][II_CHAOS_PROGRESS]);
            strcat(i_chp, frmt);
		}
		else
		{
			format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_ID]);
            strcat(i_id, frmt);
            format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_Count]);
            strcat(i_ct, frmt);
            format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_VIP]);
            strcat(i_vip, frmt);
            format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_Time]);
            strcat(i_tm, frmt);
            format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_CanNotDrop]);
            strcat(i_cd, frmt);
            format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_XPN]);
            strcat(i_xp, frmt);
			format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_CHAOS_INDEX]);
            strcat(i_chi, frmt);
            format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_CHAOS_TYPE]);
            strcat(i_cht, frmt);
            format(frmt, sizeof(frmt), "%d",Inventory[playerid][i][II_CHAOS_PROGRESS]);
            strcat(i_chp, frmt);
		}
	}
	
	const MAC_ATT = 32;
	for( i = 0; i < MAC_ATT; i++ )
	{
	    if(i < (MAC_ATT-1))
		{
		    format(frmt, sizeof(frmt), "%d,",Player[playerid][pNewAttachments][i]);
            strcat(i_atts, frmt);
		}
		else
		{
		    format(frmt, sizeof(frmt), "%d",Player[playerid][pNewAttachments][i]);
            strcat(i_atts, frmt);
		}
	}
	
	mysql_format(Base, query, sizeof(query), "UPDATE `invs` SET `i_id`='%e',`i_ct`='%e',`i_tm`='%e',`i_vip`='%e',`i_cd`='%e',`i_xp`='%e',\
 	`i_chi`='%e',`i_cht`='%e',`i_chp`='%e',`i_atts`='%e' WHERE `id` = '%d'",
 	i_id, i_ct, i_tm, i_vip, i_cd, i_xp, i_chi, i_cht, i_chp, i_atts,
 	Player[playerid][pAccountID]);
 	
	mysql_tquery(Base, query, "", "", "");
	return 1;
}

fun LoadAdminActivity(playerid)
{
	if(Player[playerid][pAdmin] > 0)
	{
	    if(cache_num_rows())
		{
		    cache_get_value_name_int(0, "done", Player[playerid][AdminActivity][4]);
		    if(Player[playerid][AdminActivity][4] >= 0)
		    {
			    cache_get_value_name_int(0, "auto", Player[playerid][AdminActivity][3]);
			    cache_get_value_name_int(0, "h", Player[playerid][AdminActivity][2]);
	 	    	cache_get_value_name_int(0, "m", Player[playerid][AdminActivity][1]);
		 	    cache_get_value_name_int(0, "s", Player[playerid][AdminActivity][0]);
			}
		}
		else
		{
		    Player[playerid][AdminActivity][4] = 0;
		    Player[playerid][AdminActivity][3] = 0;
		    Player[playerid][AdminActivity][2] = 0;
		    Player[playerid][AdminActivity][1] = 0;
		    Player[playerid][AdminActivity][0] = 0;
	 	    
		    new m, query[512];
			getdate(_, m, _);
			mysql_format(Base, query, sizeof(query), "INSERT INTO `aactivity` (`month`,`id`) VALUES('%d','%d')", m, Player[playerid][pAccountID]);
			mysql_tquery(Base, query, "", "", "");
			/*Player[playerid][AdminActivity][3] = cache_insert_id();
			printf("%d", );*/
		}
	}
	return 1;
}

stock SaveAdminActivity(playerid)
{
    new y,m,d, query[624];
	getdate(y, m, d);
	if(Player[playerid][AdminActivity][4] >= 90)
	{
		mysql_format(Base, query, sizeof(query), "UPDATE `aactivity` SET `h`='%d',`m`='%d',`s`='%d',`joined`='1',`done`='-1280000' WHERE `id` = '%d' AND `month` = '%d'", Player[playerid][AdminActivity][2], Player[playerid][AdminActivity][1], Player[playerid][AdminActivity][0], Player[playerid][pAccountID], m);
		mysql_tquery(Base, query, "", "", "");
		Player[playerid][AdminActivity][4] = -1280000;
	}
	else
	{
	    if(Player[playerid][AdminActivity][4] >= 0)
	    {
	    	mysql_format(Base, query, sizeof(query), "UPDATE `aactivity` SET `h`='%d',`m`='%d',`s`='%d',`joined`='0',`done`='%d' WHERE `id` = '%d' AND `month` = '%d'", Player[playerid][AdminActivity][2], Player[playerid][AdminActivity][1], Player[playerid][AdminActivity][0], Player[playerid][AdminActivity][4], Player[playerid][pAccountID], m);
			mysql_tquery(Base, query, "", "", "");
		}
	}
}

// ON DUPLICATE KEY UPDATE `h`='%d',`m`='%d',`s`='%d',`month`='%d',`id` = '%d'

fun LoadInv(playerid)
{
	if(cache_num_rows() > 0)
	{
	    new i_id[301], i_ct[301], i_tm[301], i_vip[201], i_cd[101], i_xp[301], i_chi[301], i_cht[301], i_chp[301], i_atts[301];
	    
	    cache_get_value_name(0, "i_id", i_id, 300);
	    cache_get_value_name(0, "i_ct", i_ct, 300);
	    cache_get_value_name(0, "i_tm", i_tm, 300);
	    cache_get_value_name(0, "i_vip", i_vip, 200);
	    cache_get_value_name(0, "i_cd", i_cd, 100);
	    cache_get_value_name(0, "i_xp", i_xp, 300);
        cache_get_value_name(0, "i_chi", i_chi, 300);
        cache_get_value_name(0, "i_cht", i_cht, 300);
        cache_get_value_name(0, "i_chp", i_chp, 300);
        cache_get_value_name(0, "i_atts", i_atts, 300);
        
        sscanf(i_atts, "p<,>dddddddddddddddddddddddddddddddd",
        Player[playerid][pNewAttachments][0],Player[playerid][pNewAttachments][1],Player[playerid][pNewAttachments][2],
		Player[playerid][pNewAttachments][3],Player[playerid][pNewAttachments][4],Player[playerid][pNewAttachments][5],
		Player[playerid][pNewAttachments][6],Player[playerid][pNewAttachments][7],Player[playerid][pNewAttachments][8],
		Player[playerid][pNewAttachments][9],Player[playerid][pNewAttachments][10],Player[playerid][pNewAttachments][11],
		Player[playerid][pNewAttachments][12],Player[playerid][pNewAttachments][13],Player[playerid][pNewAttachments][14],
		Player[playerid][pNewAttachments][15],Player[playerid][pNewAttachments][16],Player[playerid][pNewAttachments][17],
		Player[playerid][pNewAttachments][18],Player[playerid][pNewAttachments][19],Player[playerid][pNewAttachments][20],
		Player[playerid][pNewAttachments][21],Player[playerid][pNewAttachments][22],Player[playerid][pNewAttachments][23],
		Player[playerid][pNewAttachments][24],Player[playerid][pNewAttachments][25],Player[playerid][pNewAttachments][26],
		Player[playerid][pNewAttachments][27],Player[playerid][pNewAttachments][28],Player[playerid][pNewAttachments][29],
		Player[playerid][pNewAttachments][30],Player[playerid][pNewAttachments][31]);
        
		sscanf(i_id, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_ID],Inventory[playerid][1][II_ID],Inventory[playerid][2][II_ID],
		Inventory[playerid][3][II_ID],Inventory[playerid][4][II_ID],Inventory[playerid][5][II_ID],
		Inventory[playerid][6][II_ID],Inventory[playerid][7][II_ID],Inventory[playerid][8][II_ID],
		Inventory[playerid][9][II_ID],Inventory[playerid][10][II_ID],Inventory[playerid][11][II_ID],
		Inventory[playerid][12][II_ID],Inventory[playerid][13][II_ID],Inventory[playerid][14][II_ID],
		Inventory[playerid][15][II_ID],Inventory[playerid][16][II_ID],Inventory[playerid][17][II_ID],
		Inventory[playerid][18][II_ID],Inventory[playerid][19][II_ID],Inventory[playerid][20][II_ID],
		Inventory[playerid][21][II_ID],Inventory[playerid][22][II_ID],Inventory[playerid][23][II_ID],
		Inventory[playerid][24][II_ID],Inventory[playerid][25][II_ID],Inventory[playerid][26][II_ID],
		Inventory[playerid][27][II_ID],Inventory[playerid][28][II_ID],Inventory[playerid][29][II_ID],
		Inventory[playerid][30][II_ID],Inventory[playerid][31][II_ID],Inventory[playerid][32][II_ID],
		Inventory[playerid][33][II_ID],Inventory[playerid][34][II_ID],Inventory[playerid][35][II_ID],
		Inventory[playerid][36][II_ID],Inventory[playerid][37][II_ID],Inventory[playerid][38][II_ID],
		Inventory[playerid][39][II_ID],Inventory[playerid][40][II_ID],Inventory[playerid][41][II_ID],
		Inventory[playerid][42][II_ID],Inventory[playerid][43][II_ID],Inventory[playerid][44][II_ID],
		Inventory[playerid][45][II_ID],Inventory[playerid][46][II_ID],Inventory[playerid][47][II_ID],
		Inventory[playerid][48][II_ID],Inventory[playerid][49][II_ID]);
		
		sscanf(i_ct, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_Count],Inventory[playerid][1][II_Count],Inventory[playerid][2][II_Count],
		Inventory[playerid][3][II_Count],Inventory[playerid][4][II_Count],Inventory[playerid][5][II_Count],
		Inventory[playerid][6][II_Count],Inventory[playerid][7][II_Count],Inventory[playerid][8][II_Count],
		Inventory[playerid][9][II_Count],Inventory[playerid][10][II_Count],Inventory[playerid][11][II_Count],
		Inventory[playerid][12][II_Count],Inventory[playerid][13][II_Count],Inventory[playerid][14][II_Count],
		Inventory[playerid][15][II_Count],Inventory[playerid][16][II_Count],Inventory[playerid][17][II_Count],
		Inventory[playerid][18][II_Count],Inventory[playerid][19][II_Count],Inventory[playerid][20][II_Count],
		Inventory[playerid][21][II_Count],Inventory[playerid][22][II_Count],Inventory[playerid][23][II_Count],
		Inventory[playerid][24][II_Count],Inventory[playerid][25][II_Count],Inventory[playerid][26][II_Count],
		Inventory[playerid][27][II_Count],Inventory[playerid][28][II_Count],Inventory[playerid][29][II_Count],
		Inventory[playerid][30][II_Count],Inventory[playerid][31][II_Count],Inventory[playerid][32][II_Count],
		Inventory[playerid][33][II_Count],Inventory[playerid][34][II_Count],Inventory[playerid][35][II_Count],
		Inventory[playerid][36][II_Count],Inventory[playerid][37][II_Count],Inventory[playerid][38][II_Count],
		Inventory[playerid][39][II_Count],Inventory[playerid][40][II_Count],Inventory[playerid][41][II_Count],
		Inventory[playerid][42][II_Count],Inventory[playerid][43][II_Count],Inventory[playerid][44][II_Count],
		Inventory[playerid][45][II_Count],Inventory[playerid][46][II_Count],Inventory[playerid][47][II_Count],
		Inventory[playerid][48][II_Count],Inventory[playerid][49][II_Count]);
		
		sscanf(i_tm, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_Time],Inventory[playerid][1][II_Time],Inventory[playerid][2][II_Time],
		Inventory[playerid][3][II_Time],Inventory[playerid][4][II_Time],Inventory[playerid][5][II_Time],
		Inventory[playerid][6][II_Time],Inventory[playerid][7][II_Time],Inventory[playerid][8][II_Time],
		Inventory[playerid][9][II_Time],Inventory[playerid][10][II_Time],Inventory[playerid][11][II_Time],
		Inventory[playerid][12][II_Time],Inventory[playerid][13][II_Time],Inventory[playerid][14][II_Time],
		Inventory[playerid][15][II_Time],Inventory[playerid][16][II_Time],Inventory[playerid][17][II_Time],
		Inventory[playerid][18][II_Time],Inventory[playerid][19][II_Time],Inventory[playerid][20][II_Time],
		Inventory[playerid][21][II_Time],Inventory[playerid][22][II_Time],Inventory[playerid][23][II_Time],
		Inventory[playerid][24][II_Time],Inventory[playerid][25][II_Time],Inventory[playerid][26][II_Time],
		Inventory[playerid][27][II_Time],Inventory[playerid][28][II_Time],Inventory[playerid][29][II_Time],
		Inventory[playerid][30][II_Time],Inventory[playerid][31][II_Time],Inventory[playerid][32][II_Time],
		Inventory[playerid][33][II_Time],Inventory[playerid][34][II_Time],Inventory[playerid][35][II_Time],
		Inventory[playerid][36][II_Time],Inventory[playerid][37][II_Time],Inventory[playerid][38][II_Time],
		Inventory[playerid][39][II_Time],Inventory[playerid][40][II_Time],Inventory[playerid][41][II_Time],
		Inventory[playerid][42][II_Time],Inventory[playerid][43][II_Time],Inventory[playerid][44][II_Time],
		Inventory[playerid][45][II_Time],Inventory[playerid][46][II_Time],Inventory[playerid][47][II_Time],
		Inventory[playerid][48][II_Time],Inventory[playerid][49][II_Time]);
		
		sscanf(i_vip, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_VIP],Inventory[playerid][1][II_VIP],Inventory[playerid][2][II_VIP],
		Inventory[playerid][3][II_VIP],Inventory[playerid][4][II_VIP],Inventory[playerid][5][II_VIP],
		Inventory[playerid][6][II_VIP],Inventory[playerid][7][II_VIP],Inventory[playerid][8][II_VIP],
		Inventory[playerid][9][II_VIP],Inventory[playerid][10][II_VIP],Inventory[playerid][11][II_VIP],
		Inventory[playerid][12][II_VIP],Inventory[playerid][13][II_VIP],Inventory[playerid][14][II_VIP],
		Inventory[playerid][15][II_VIP],Inventory[playerid][16][II_VIP],Inventory[playerid][17][II_VIP],
		Inventory[playerid][18][II_VIP],Inventory[playerid][19][II_VIP],Inventory[playerid][20][II_VIP],
		Inventory[playerid][21][II_VIP],Inventory[playerid][22][II_VIP],Inventory[playerid][23][II_VIP],
		Inventory[playerid][24][II_VIP],Inventory[playerid][25][II_VIP],Inventory[playerid][26][II_VIP],
		Inventory[playerid][27][II_VIP],Inventory[playerid][28][II_VIP],Inventory[playerid][29][II_VIP],
		Inventory[playerid][30][II_VIP],Inventory[playerid][31][II_VIP],Inventory[playerid][32][II_VIP],
		Inventory[playerid][33][II_VIP],Inventory[playerid][34][II_VIP],Inventory[playerid][35][II_VIP],
		Inventory[playerid][36][II_VIP],Inventory[playerid][37][II_VIP],Inventory[playerid][38][II_VIP],
		Inventory[playerid][39][II_VIP],Inventory[playerid][40][II_VIP],Inventory[playerid][41][II_VIP],
		Inventory[playerid][42][II_VIP],Inventory[playerid][43][II_VIP],Inventory[playerid][44][II_VIP],
		Inventory[playerid][45][II_VIP],Inventory[playerid][46][II_VIP],Inventory[playerid][47][II_VIP],
		Inventory[playerid][48][II_VIP],Inventory[playerid][49][II_VIP]);
		
		sscanf(i_cd, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_CanNotDrop],Inventory[playerid][1][II_CanNotDrop],Inventory[playerid][2][II_CanNotDrop],
		Inventory[playerid][3][II_CanNotDrop],Inventory[playerid][4][II_CanNotDrop],Inventory[playerid][5][II_CanNotDrop],
		Inventory[playerid][6][II_CanNotDrop],Inventory[playerid][7][II_CanNotDrop],Inventory[playerid][8][II_CanNotDrop],
		Inventory[playerid][9][II_CanNotDrop],Inventory[playerid][10][II_CanNotDrop],Inventory[playerid][11][II_CanNotDrop],
		Inventory[playerid][12][II_CanNotDrop],Inventory[playerid][13][II_CanNotDrop],Inventory[playerid][14][II_CanNotDrop],
		Inventory[playerid][15][II_CanNotDrop],Inventory[playerid][16][II_CanNotDrop],Inventory[playerid][17][II_CanNotDrop],
		Inventory[playerid][18][II_CanNotDrop],Inventory[playerid][19][II_CanNotDrop],Inventory[playerid][20][II_CanNotDrop],
		Inventory[playerid][21][II_CanNotDrop],Inventory[playerid][22][II_CanNotDrop],Inventory[playerid][23][II_CanNotDrop],
		Inventory[playerid][24][II_CanNotDrop],Inventory[playerid][25][II_CanNotDrop],Inventory[playerid][26][II_CanNotDrop],
		Inventory[playerid][27][II_CanNotDrop],Inventory[playerid][28][II_CanNotDrop],Inventory[playerid][29][II_CanNotDrop],
		Inventory[playerid][30][II_CanNotDrop],Inventory[playerid][31][II_CanNotDrop],Inventory[playerid][32][II_CanNotDrop],
		Inventory[playerid][33][II_CanNotDrop],Inventory[playerid][34][II_CanNotDrop],Inventory[playerid][35][II_CanNotDrop],
		Inventory[playerid][36][II_CanNotDrop],Inventory[playerid][37][II_CanNotDrop],Inventory[playerid][38][II_CanNotDrop],
		Inventory[playerid][39][II_CanNotDrop],Inventory[playerid][40][II_CanNotDrop],Inventory[playerid][41][II_CanNotDrop],
		Inventory[playerid][42][II_CanNotDrop],Inventory[playerid][43][II_CanNotDrop],Inventory[playerid][44][II_CanNotDrop],
		Inventory[playerid][45][II_CanNotDrop],Inventory[playerid][46][II_CanNotDrop],Inventory[playerid][47][II_CanNotDrop],
		Inventory[playerid][48][II_CanNotDrop],Inventory[playerid][49][II_CanNotDrop]);
		
		sscanf(i_xp, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_XPN],Inventory[playerid][1][II_XPN],Inventory[playerid][2][II_XPN],
		Inventory[playerid][3][II_XPN],Inventory[playerid][4][II_XPN],Inventory[playerid][5][II_XPN],
		Inventory[playerid][6][II_XPN],Inventory[playerid][7][II_XPN],Inventory[playerid][8][II_XPN],
		Inventory[playerid][9][II_XPN],Inventory[playerid][10][II_XPN],Inventory[playerid][11][II_XPN],
		Inventory[playerid][12][II_XPN],Inventory[playerid][13][II_XPN],Inventory[playerid][14][II_XPN],
		Inventory[playerid][15][II_XPN],Inventory[playerid][16][II_XPN],Inventory[playerid][17][II_XPN],
		Inventory[playerid][18][II_XPN],Inventory[playerid][19][II_XPN],Inventory[playerid][20][II_XPN],
		Inventory[playerid][21][II_XPN],Inventory[playerid][22][II_XPN],Inventory[playerid][23][II_XPN],
		Inventory[playerid][24][II_XPN],Inventory[playerid][25][II_XPN],Inventory[playerid][26][II_XPN],
		Inventory[playerid][27][II_XPN],Inventory[playerid][28][II_XPN],Inventory[playerid][29][II_XPN],
		Inventory[playerid][30][II_XPN],Inventory[playerid][31][II_XPN],Inventory[playerid][32][II_XPN],
		Inventory[playerid][33][II_XPN],Inventory[playerid][34][II_XPN],Inventory[playerid][35][II_XPN],
		Inventory[playerid][36][II_XPN],Inventory[playerid][37][II_XPN],Inventory[playerid][38][II_XPN],
		Inventory[playerid][39][II_XPN],Inventory[playerid][40][II_XPN],Inventory[playerid][41][II_XPN],
		Inventory[playerid][42][II_XPN],Inventory[playerid][43][II_XPN],Inventory[playerid][44][II_XPN],
		Inventory[playerid][45][II_XPN],Inventory[playerid][46][II_XPN],Inventory[playerid][47][II_XPN],
		Inventory[playerid][48][II_XPN],Inventory[playerid][49][II_XPN]);
		
		sscanf(i_chi, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_CHAOS_INDEX],Inventory[playerid][1][II_CHAOS_INDEX],Inventory[playerid][2][II_CHAOS_INDEX],
		Inventory[playerid][3][II_CHAOS_INDEX],Inventory[playerid][4][II_CHAOS_INDEX],Inventory[playerid][5][II_CHAOS_INDEX],
		Inventory[playerid][6][II_CHAOS_INDEX],Inventory[playerid][7][II_CHAOS_INDEX],Inventory[playerid][8][II_CHAOS_INDEX],
		Inventory[playerid][9][II_CHAOS_INDEX],Inventory[playerid][10][II_CHAOS_INDEX],Inventory[playerid][11][II_CHAOS_INDEX],
		Inventory[playerid][12][II_CHAOS_INDEX],Inventory[playerid][13][II_CHAOS_INDEX],Inventory[playerid][14][II_CHAOS_INDEX],
		Inventory[playerid][15][II_CHAOS_INDEX],Inventory[playerid][16][II_CHAOS_INDEX],Inventory[playerid][17][II_CHAOS_INDEX],
		Inventory[playerid][18][II_CHAOS_INDEX],Inventory[playerid][19][II_CHAOS_INDEX],Inventory[playerid][20][II_CHAOS_INDEX],
		Inventory[playerid][21][II_CHAOS_INDEX],Inventory[playerid][22][II_CHAOS_INDEX],Inventory[playerid][23][II_CHAOS_INDEX],
		Inventory[playerid][24][II_CHAOS_INDEX],Inventory[playerid][25][II_CHAOS_INDEX],Inventory[playerid][26][II_CHAOS_INDEX],
		Inventory[playerid][27][II_CHAOS_INDEX],Inventory[playerid][28][II_CHAOS_INDEX],Inventory[playerid][29][II_CHAOS_INDEX],
		Inventory[playerid][30][II_CHAOS_INDEX],Inventory[playerid][31][II_CHAOS_INDEX],Inventory[playerid][32][II_CHAOS_INDEX],
		Inventory[playerid][33][II_CHAOS_INDEX],Inventory[playerid][34][II_CHAOS_INDEX],Inventory[playerid][35][II_CHAOS_INDEX],
		Inventory[playerid][36][II_CHAOS_INDEX],Inventory[playerid][37][II_CHAOS_INDEX],Inventory[playerid][38][II_CHAOS_INDEX],
		Inventory[playerid][39][II_CHAOS_INDEX],Inventory[playerid][40][II_CHAOS_INDEX],Inventory[playerid][41][II_CHAOS_INDEX],
		Inventory[playerid][42][II_CHAOS_INDEX],Inventory[playerid][43][II_CHAOS_INDEX],Inventory[playerid][44][II_CHAOS_INDEX],
		Inventory[playerid][45][II_CHAOS_INDEX],Inventory[playerid][46][II_CHAOS_INDEX],Inventory[playerid][47][II_CHAOS_INDEX],
		Inventory[playerid][48][II_CHAOS_INDEX],Inventory[playerid][49][II_CHAOS_INDEX]);
		
		sscanf(i_cht, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_CHAOS_TYPE],Inventory[playerid][1][II_CHAOS_TYPE],Inventory[playerid][2][II_CHAOS_TYPE],
		Inventory[playerid][3][II_CHAOS_TYPE],Inventory[playerid][4][II_CHAOS_TYPE],Inventory[playerid][5][II_CHAOS_TYPE],
		Inventory[playerid][6][II_CHAOS_TYPE],Inventory[playerid][7][II_CHAOS_TYPE],Inventory[playerid][8][II_CHAOS_TYPE],
		Inventory[playerid][9][II_CHAOS_TYPE],Inventory[playerid][10][II_CHAOS_TYPE],Inventory[playerid][11][II_CHAOS_TYPE],
		Inventory[playerid][12][II_CHAOS_TYPE],Inventory[playerid][13][II_CHAOS_TYPE],Inventory[playerid][14][II_CHAOS_TYPE],
		Inventory[playerid][15][II_CHAOS_TYPE],Inventory[playerid][16][II_CHAOS_TYPE],Inventory[playerid][17][II_CHAOS_TYPE],
		Inventory[playerid][18][II_CHAOS_TYPE],Inventory[playerid][19][II_CHAOS_TYPE],Inventory[playerid][20][II_CHAOS_TYPE],
		Inventory[playerid][21][II_CHAOS_TYPE],Inventory[playerid][22][II_CHAOS_TYPE],Inventory[playerid][23][II_CHAOS_TYPE],
		Inventory[playerid][24][II_CHAOS_TYPE],Inventory[playerid][25][II_CHAOS_TYPE],Inventory[playerid][26][II_CHAOS_TYPE],
		Inventory[playerid][27][II_CHAOS_TYPE],Inventory[playerid][28][II_CHAOS_TYPE],Inventory[playerid][29][II_CHAOS_TYPE],
		Inventory[playerid][30][II_CHAOS_TYPE],Inventory[playerid][31][II_CHAOS_TYPE],Inventory[playerid][32][II_CHAOS_TYPE],
		Inventory[playerid][33][II_CHAOS_TYPE],Inventory[playerid][34][II_CHAOS_TYPE],Inventory[playerid][35][II_CHAOS_TYPE],
		Inventory[playerid][36][II_CHAOS_TYPE],Inventory[playerid][37][II_CHAOS_TYPE],Inventory[playerid][38][II_CHAOS_TYPE],
		Inventory[playerid][39][II_CHAOS_TYPE],Inventory[playerid][40][II_CHAOS_TYPE],Inventory[playerid][41][II_CHAOS_TYPE],
		Inventory[playerid][42][II_CHAOS_TYPE],Inventory[playerid][43][II_CHAOS_TYPE],Inventory[playerid][44][II_CHAOS_TYPE],
		Inventory[playerid][45][II_CHAOS_TYPE],Inventory[playerid][46][II_CHAOS_TYPE],Inventory[playerid][47][II_CHAOS_TYPE],
		Inventory[playerid][48][II_CHAOS_TYPE],Inventory[playerid][49][II_CHAOS_TYPE]);
		
		sscanf(i_chp, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddd",
		Inventory[playerid][0][II_CHAOS_PROGRESS],Inventory[playerid][1][II_CHAOS_PROGRESS],Inventory[playerid][2][II_CHAOS_PROGRESS],
		Inventory[playerid][3][II_CHAOS_PROGRESS],Inventory[playerid][4][II_CHAOS_PROGRESS],Inventory[playerid][5][II_CHAOS_PROGRESS],
		Inventory[playerid][6][II_CHAOS_PROGRESS],Inventory[playerid][7][II_CHAOS_PROGRESS],Inventory[playerid][8][II_CHAOS_PROGRESS],
		Inventory[playerid][9][II_CHAOS_PROGRESS],Inventory[playerid][10][II_CHAOS_PROGRESS],Inventory[playerid][11][II_CHAOS_PROGRESS],
		Inventory[playerid][12][II_CHAOS_PROGRESS],Inventory[playerid][13][II_CHAOS_PROGRESS],Inventory[playerid][14][II_CHAOS_PROGRESS],
		Inventory[playerid][15][II_CHAOS_PROGRESS],Inventory[playerid][16][II_CHAOS_PROGRESS],Inventory[playerid][17][II_CHAOS_PROGRESS],
		Inventory[playerid][18][II_CHAOS_PROGRESS],Inventory[playerid][19][II_CHAOS_PROGRESS],Inventory[playerid][20][II_CHAOS_PROGRESS],
		Inventory[playerid][21][II_CHAOS_PROGRESS],Inventory[playerid][22][II_CHAOS_PROGRESS],Inventory[playerid][23][II_CHAOS_PROGRESS],
		Inventory[playerid][24][II_CHAOS_PROGRESS],Inventory[playerid][25][II_CHAOS_PROGRESS],Inventory[playerid][26][II_CHAOS_PROGRESS],
		Inventory[playerid][27][II_CHAOS_PROGRESS],Inventory[playerid][28][II_CHAOS_PROGRESS],Inventory[playerid][29][II_CHAOS_PROGRESS],
		Inventory[playerid][30][II_CHAOS_PROGRESS],Inventory[playerid][31][II_CHAOS_PROGRESS],Inventory[playerid][32][II_CHAOS_PROGRESS],
		Inventory[playerid][33][II_CHAOS_PROGRESS],Inventory[playerid][34][II_CHAOS_PROGRESS],Inventory[playerid][35][II_CHAOS_PROGRESS],
		Inventory[playerid][36][II_CHAOS_PROGRESS],Inventory[playerid][37][II_CHAOS_PROGRESS],Inventory[playerid][38][II_CHAOS_PROGRESS],
		Inventory[playerid][39][II_CHAOS_PROGRESS],Inventory[playerid][40][II_CHAOS_PROGRESS],Inventory[playerid][41][II_CHAOS_PROGRESS],
		Inventory[playerid][42][II_CHAOS_PROGRESS],Inventory[playerid][43][II_CHAOS_PROGRESS],Inventory[playerid][44][II_CHAOS_PROGRESS],
		Inventory[playerid][45][II_CHAOS_PROGRESS],Inventory[playerid][46][II_CHAOS_PROGRESS],Inventory[playerid][47][II_CHAOS_PROGRESS],
		Inventory[playerid][48][II_CHAOS_PROGRESS],Inventory[playerid][49][II_CHAOS_PROGRESS]);
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `invs` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}

stock GivePetGradeXP(playerid, exp, index = -1, isvip = -1)
{
	new a = 0, oldIndex = -1;
	if(index != -1)
	{
	    oldIndex = PetUseds[playerid];
 		PetUseds[playerid] = index;
	}
    if(PetUseds[playerid] > -1)
	{
	    if(UserPet[playerid][PetUseds[playerid]][PI_Type] == ITEM_NAME_MOON_PET)
	    {
			new r = UserPet[playerid][PetUseds[playerid]][PI_Rare];
			new l = UserPet[playerid][PetUseds[playerid]][PI_Level];
			new v = UserPet[playerid][PetUseds[playerid]][PI_VIP];
			if(isvip > -1) v = isvip;
			if(l >= 2)
			{
				switch(r)
				{
				    case 0: a = floor((v == 0) ? (((float(95)*float(l))/float(100))/float(100))*float(exp) : (((float(125)*float(l))/float(100))/float(100))*float(exp));
				    case 1: a = floor((v == 0) ? (((float(75)*float(l))/float(100))/float(100))*float(exp) : (((float(95)*float(l))/float(100))/float(100))*float(exp));
				    case 2: a = floor((v == 0) ? (((float(55)*float(l))/float(100))/float(100))*float(exp) : (((float(75)*float(l))/float(100))/float(100))*float(exp));
				    case 3: a = floor((v == 0) ? (((float(35)*float(l))/float(100))/float(100))*float(exp) : (((float(55)*float(l))/float(100))/float(100))*float(exp));
				    case 4: a = floor((v == 0) ? (((float(25)*float(l))/float(100))/float(100))*float(exp) : (((float(35)*float(l))/float(100))/float(100))*float(exp));
				}
			}
		}
	}
	if(index != -1)
	{
	    PetUseds[playerid] = oldIndex;
	}
	return a;
}

stock UnlockClass(playerid, plteam, classid, time)
{
    PlayerClassUnlocked[playerid][plteam][classid] = time;
    return 1;
}

fun LoadWeaponUpgrades(playerid)
{
    if(cache_num_rows() > 0)
	{
	    new z[512], a[256]="", b[256]="";
        cache_get_value_name(0, "lvl", z, 512);
        cache_get_value_name(0, "arm", a, 256);
        cache_get_value_name(0, "eff", b, 256);
        
	    sscanf(z, "p<,>iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii",
 		WeaponSkill[playerid][0], WeaponSkill[playerid][1], WeaponSkill[playerid][2],
	    WeaponSkill[playerid][3], WeaponSkill[playerid][4], WeaponSkill[playerid][5],
		WeaponSkill[playerid][6], WeaponSkill[playerid][7], WeaponSkill[playerid][8],
		WeaponSkill[playerid][9], WeaponSkill[playerid][10], WeaponSkill[playerid][11],
		WeaponSkill[playerid][12], WeaponSkill[playerid][13], WeaponSkill[playerid][14],
		WeaponSkill[playerid][15], WeaponSkill[playerid][16], WeaponSkill[playerid][17],
	    WeaponSkill[playerid][18], WeaponSkill[playerid][19], WeaponSkill[playerid][20],
		WeaponSkill[playerid][21], WeaponSkill[playerid][22], WeaponSkill[playerid][23],
		WeaponSkill[playerid][24], WeaponSkill[playerid][25], WeaponSkill[playerid][26],
		WeaponSkill[playerid][27], WeaponSkill[playerid][28], WeaponSkill[playerid][29],
		WeaponSkill[playerid][30], WeaponSkill[playerid][31], WeaponSkill[playerid][32],
		WeaponSkill[playerid][33], WeaponSkill[playerid][34], WeaponSkill[playerid][35],
		WeaponSkill[playerid][36], WeaponSkill[playerid][37], WeaponSkill[playerid][38]);
		
	 	sscanf(a, "p<,>iiii", CharacterSkill[playerid][0], CharacterSkill[playerid][1],
	 	CharacterSkill[playerid][2], CharacterSkill[playerid][3]);
	 	
	 	sscanf(b, "p<,>iiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii",
	 	CharArInfo[playerid][CharAR_Buff_One][0],
	 	CharArInfo[playerid][CharAR_Buff_Two][0],
	 	CharArInfo[playerid][CharAR_Buff_Three][0],
	 	CharArInfo[playerid][CharAR_Buff_Time_One][0],
	 	CharArInfo[playerid][CharAR_Buff_Time_Two][0],
	 	CharArInfo[playerid][CharAR_Buff_Time_Three][0],
	 	CharArInfo[playerid][CharAR_Power_One][0],
	 	CharArInfo[playerid][CharAR_Power_Two][0],
	 	CharArInfo[playerid][CharAR_Power_Three][0],

		CharArInfo[playerid][CharAR_Buff_One][1],
		CharArInfo[playerid][CharAR_Buff_Two][1],
		CharArInfo[playerid][CharAR_Buff_Three][1],
	 	CharArInfo[playerid][CharAR_Buff_Time_One][1],
	 	CharArInfo[playerid][CharAR_Buff_Time_Two][1],
	 	CharArInfo[playerid][CharAR_Buff_Time_Three][1],
	 	CharArInfo[playerid][CharAR_Power_One][1],
	 	CharArInfo[playerid][CharAR_Power_Two][1],
	 	CharArInfo[playerid][CharAR_Power_Three][1],
		 
	 	CharArInfo[playerid][CharAR_Buff_One][2],
	 	CharArInfo[playerid][CharAR_Buff_Two][2],
	 	CharArInfo[playerid][CharAR_Buff_Three][2],
	 	CharArInfo[playerid][CharAR_Buff_Time_One][2],
	 	CharArInfo[playerid][CharAR_Buff_Time_Two][2],
	 	CharArInfo[playerid][CharAR_Buff_Time_Three][2],
	 	CharArInfo[playerid][CharAR_Power_One][2],
	 	CharArInfo[playerid][CharAR_Power_Two][2],
	 	CharArInfo[playerid][CharAR_Power_Three][2],
	 	
		CharArInfo[playerid][CharAR_Buff_One][3],
		CharArInfo[playerid][CharAR_Buff_Two][3],
		CharArInfo[playerid][CharAR_Buff_Three][3],
	 	CharArInfo[playerid][CharAR_Buff_Time_One][3],
	 	CharArInfo[playerid][CharAR_Buff_Time_Two][3],
	 	CharArInfo[playerid][CharAR_Buff_Time_Three][3],
	 	CharArInfo[playerid][CharAR_Power_One][3],
	 	CharArInfo[playerid][CharAR_Power_Two][3],
	 	CharArInfo[playerid][CharAR_Power_Three][3]);
	 	
	 	/*for( new j = 0, frmt[64]; j < 4; j++ )
	 	{
	 	    format(frmt, sizeof(frmt), "%d,%d,%d,%d,%d,%d,%d,%d,%d",
			CharArInfo[playerid][CharAR_Buff_One][j],
	        CharArInfo[playerid][CharAR_Buff_Two][j],
	        CharArInfo[playerid][CharAR_Buff_Three][j],
	        CharArInfo[playerid][CharAR_Buff_Time_One][j],
	        CharArInfo[playerid][CharAR_Buff_Time_Two][j],
	        CharArInfo[playerid][CharAR_Buff_Time_Three][j],
	        CharArInfo[playerid][CharAR_Power_One][j],
	        CharArInfo[playerid][CharAR_Power_Two][j],
	        CharArInfo[playerid][CharAR_Power_Three][j]);
	        printf("%d: %s", j, frmt);
	 	}*/
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `sharpening` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
}

stock SaveWeaponUpgrades(playerid)
{
	new i, frmt[96] = "", i_color[512], i_arm[256], charAr[256], query[1500];
    for( i = 0; i < 39; i++ )
	{
	    if(i < 38)
		{
		    format(frmt, sizeof(frmt), "%d,", WeaponSkill[playerid][i]);
            strcat(i_color, frmt);
		}
		else
		{
		    format(frmt, sizeof(frmt), "%d", WeaponSkill[playerid][i]);
            strcat(i_color, frmt);
		}
	}
	
	frmt = "";
	for( i = 0; i < 4; i++ )
	{
	    if(i <= 2)
		{
		    format(frmt, sizeof(frmt), "%d,", CharacterSkill[playerid][i]);
            strcat(i_arm, frmt);
		}
		else
		{
		    format(frmt, sizeof(frmt), "%d", CharacterSkill[playerid][i]);
            strcat(i_arm, frmt);
		}
	}
	
	frmt = "";
	for( new j = 0; j < 4; j++ )
	{
	    if(j <= 2)
	    {
		    format(frmt, sizeof(frmt), "%d,%d,%d,%d,%d,%d,%d,%d,%d,",
			CharArInfo[playerid][CharAR_Buff_One][j],
	        CharArInfo[playerid][CharAR_Buff_Two][j],
	        CharArInfo[playerid][CharAR_Buff_Three][j],
	        CharArInfo[playerid][CharAR_Buff_Time_One][j],
	        CharArInfo[playerid][CharAR_Buff_Time_Two][j],
	        CharArInfo[playerid][CharAR_Buff_Time_Three][j],
	        CharArInfo[playerid][CharAR_Power_One][j],
	        CharArInfo[playerid][CharAR_Power_Two][j],
	        CharArInfo[playerid][CharAR_Power_Three][j]);
	     	strcat(charAr, frmt);
	     	//printf("%d: %s", j, frmt);
		}
		else
		{
		    format(frmt, sizeof(frmt), "%d,%d,%d,%d,%d,%d,%d,%d,%d",
			CharArInfo[playerid][CharAR_Buff_One][j],
	        CharArInfo[playerid][CharAR_Buff_Two][j],
	        CharArInfo[playerid][CharAR_Buff_Three][j],
	        CharArInfo[playerid][CharAR_Buff_Time_One][j],
	        CharArInfo[playerid][CharAR_Buff_Time_Two][j],
	        CharArInfo[playerid][CharAR_Buff_Time_Three][j],
	        CharArInfo[playerid][CharAR_Power_One][j],
	        CharArInfo[playerid][CharAR_Power_Two][j],
	        CharArInfo[playerid][CharAR_Power_Three][j]);
	     	strcat(charAr, frmt);
	     	//printf("%d: %s", j, frmt);
		}
	}
	
	mysql_format(Base, query, sizeof(query), "UPDATE `sharpening` SET `lvl`='%e',`arm`='%e',`eff`='%e' WHERE `id` = '%d'", i_color, i_arm, charAr, Player[playerid][pAccountID]);
 	mysql_tquery(Base, query, "", "", "");
}

fun LoadSkills(playerid)
{
    if(cache_num_rows() > 0)
	{
		new z[256], h[256];
        cache_get_value_name(0, "sks", z, 255);
	    cache_get_value_name(0, "aop", h, 255);

	    sscanf(z, "p<,>ddddddddddddddddddddddd",
        pSkills[playerid][e_sAmmunation], // 1
	    pSkills[playerid][e_sEvansion], // 2
	    pSkills[playerid][e_sPoision], // 3
	    pSkills[playerid][e_sRadiation], // 4
	    pSkills[playerid][e_sFire], // 5
	    pSkills[playerid][e_sImmunization], // 6
	    pSkills[playerid][e_sAdrenaline], // 7
	    pSkills[playerid][e_sImprovedAdrenaline], /// 8
	    pSkills[playerid][e_sBloodshed], // 9
	    pSkills[playerid][e_sIncreasedBloodshed], // 10
	    pSkills[playerid][e_sBloodthirstiness], // 11
	    pSkills[playerid][e_sExtraDamage], // 12
	    pSkills[playerid][e_sRage], // 13
	    pSkills[playerid][e_sImprovedRage], // 14
	    pSkills[playerid][e_sArmourDestruction], // 15
	    pSkills[playerid][e_sImprovedArmourDestruction], // 16
	    pSkills[playerid][e_sFireBullet], // 17
	    pSkills[playerid][e_sExplosion], // 18
	    pSkills[playerid][e_sRockSkin], // 19
	    pSkills[playerid][e_sIronSkin], // 20
	    pSkills[playerid][e_sShield], // 21
	    pSkills[playerid][e_sHawkeye], // 22
		pSkills[playerid][e_sDoubleCrit] // 23
		);

	    sscanf(h, "p<,>dddddddddddddddddddddddddddddd",
	    pSkills[playerid][e_sWasUnlocked][e_skills:0],
	    pSkills[playerid][e_sWasUnlocked][e_skills:1],
	    pSkills[playerid][e_sWasUnlocked][e_skills:2],
	    pSkills[playerid][e_sWasUnlocked][e_skills:3],
	    pSkills[playerid][e_sWasUnlocked][e_skills:4],
	    pSkills[playerid][e_sWasUnlocked][e_skills:5],
	    pSkills[playerid][e_sWasUnlocked][e_skills:6],
	    pSkills[playerid][e_sWasUnlocked][e_skills:7],
	    pSkills[playerid][e_sWasUnlocked][e_skills:8],
	    pSkills[playerid][e_sWasUnlocked][e_skills:9],
	    pSkills[playerid][e_sWasUnlocked][e_skills:10],
	    pSkills[playerid][e_sWasUnlocked][e_skills:11],
	    pSkills[playerid][e_sWasUnlocked][e_skills:12],
	    pSkills[playerid][e_sWasUnlocked][e_skills:13],
	    pSkills[playerid][e_sWasUnlocked][e_skills:14],
	    pSkills[playerid][e_sWasUnlocked][e_skills:15],
	    pSkills[playerid][e_sWasUnlocked][e_skills:16],
	    pSkills[playerid][e_sWasUnlocked][e_skills:17],
	    pSkills[playerid][e_sWasUnlocked][e_skills:18],
	    pSkills[playerid][e_sWasUnlocked][e_skills:19],
	    pSkills[playerid][e_sWasUnlocked][e_skills:20],
	    pSkills[playerid][e_sWasUnlocked][e_skills:21],
	    pSkills[playerid][e_sWasUnlocked][e_skills:22],
		pSkills[playerid][e_sWasUnlocked][e_skills:23],
		pSkills[playerid][e_sWasUnlocked][e_skills:24],
		pSkills[playerid][e_sWasUnlocked][e_skills:25],
		pSkills[playerid][e_sWasUnlocked][e_skills:26],
		pSkills[playerid][e_sWasUnlocked][e_skills:27],
		pSkills[playerid][e_sWasUnlocked][e_skills:28],
		pSkills[playerid][e_sWasUnlocked][e_skills:29]);
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `skills` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	    if(Player[playerid][pRank] >= 1) Player[playerid][pUpgPoints] = Player[playerid][pRank];
	}
}

stock SaveDMissions(playerid)
{
    new sks[256], query[600];
	format(sks, sizeof(sks), "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	e_ExclusionZone[playerid][e_ezMission][0], e_ExclusionZone[playerid][e_ezMission][1], e_ExclusionZone[playerid][e_ezMission][2],
	e_ExclusionZone[playerid][e_ezMission][3], e_ExclusionZone[playerid][e_ezMission][4], e_ExclusionZone[playerid][e_ezMission][5],
	e_ExclusionZone[playerid][e_ezMission][6], e_ExclusionZone[playerid][e_ezMission][7], e_ExclusionZone[playerid][e_ezMission][8],
	e_ExclusionZone[playerid][e_ezMission][9]);
	
	
	mysql_format(Base, query, sizeof(query), "UPDATE `nghpr` SET `mss`='%e',`rep`='%d',`rank`='%d',`rem`='%d',`rmm`='%d',`rhm`='%d' WHERE `id` = '%d'",
	sks,
	e_ExclusionZone[playerid][e_ezRep],
	e_ExclusionZone[playerid][e_ezRank],
	Player[playerid][resetEasyMissions],
	Player[playerid][resetMediumMissions],
	Player[playerid][resetHardMissions],
	Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
}

fun LoadDMissions(playerid)
{
    if(cache_num_rows() > 0)
	{
		new z[256];
        cache_get_value_name(0, "mss", z, 255);
	    cache_get_value_name_int(0, "rep", e_ExclusionZone[playerid][e_ezRep]);
	    cache_get_value_name_int(0, "rank", e_ExclusionZone[playerid][e_ezRank]);
	    cache_get_value_name_int(0, "rem", Player[playerid][resetEasyMissions]);
		cache_get_value_name_int(0, "rmm", Player[playerid][resetMediumMissions]);
		cache_get_value_name_int(0, "rhm", Player[playerid][resetHardMissions]);
		
	    sscanf(z, "p<,>iiiiiiiiii", e_ExclusionZone[playerid][e_ezMission][0], e_ExclusionZone[playerid][e_ezMission][1], e_ExclusionZone[playerid][e_ezMission][2],
		e_ExclusionZone[playerid][e_ezMission][3], e_ExclusionZone[playerid][e_ezMission][4], e_ExclusionZone[playerid][e_ezMission][5],
		e_ExclusionZone[playerid][e_ezMission][6], e_ExclusionZone[playerid][e_ezMission][7], e_ExclusionZone[playerid][e_ezMission][8],
		e_ExclusionZone[playerid][e_ezMission][9]);
		
		if(Player[playerid][resetEasyMissions])
		{
		    for( new i = 0; i < 4; i++) e_ExclusionZone[playerid][e_ezMission][i] = 0;
		    Player[playerid][resetEasyMissions] = 0;
		}
		
		if(Player[playerid][resetMediumMissions])
		{
		    for( new i = 0; i < 4; i++) e_ExclusionZone[playerid][e_ezMission][4 + i] = 0;
		    Player[playerid][resetMediumMissions] = 0;
		}
		
		if(Player[playerid][resetHardMissions])
		{
		    for( new i = 0; i < 2; i++) e_ExclusionZone[playerid][e_ezMission][8 + i] = 0;
		    Player[playerid][resetHardMissions] = 0;
		}
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `nghpr` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	    
	    /*switch(Player[playerid][pLang])
	    {
	        case 0: SendClientMessage(playerid, -1, "{ff3333}::Mr. D.:: The atmosphere of the local situation wants the best, I hear some cries and groans from the other side, help me atone for all the sins of mankind and I will reward you (/chaos)");
	        case 1: SendClientMessage(playerid, -1, "{ff3333}::Мистер Д.:: Атмосфера здешнего положения желает лучшего, я слышу одни крики и стоны с той стороны, помоги мне искупить все грехи человечества и я награжу тебя (/chaos)");
	        case 2: SendClientMessage(playerid, -1, "{ff3333}::Sir. D.:: La atmуsfera de la situaciуn local quiere lo mejor, escucho algunos gritos y gemidos del otro lado, ayъdame a expiar todos los pecados de la humanidad y te recompensarй (/chaos)");
		}*/
	}
	return 1;
}

stock SaveSkills(playerid)
{
	new frmt[6], sks[256], h[256], query[600];
	format(sks, sizeof(sks), "%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d",
	pSkills[playerid][e_sAmmunation], // 1
    pSkills[playerid][e_sEvansion], // 2
    pSkills[playerid][e_sPoision], // 3
    pSkills[playerid][e_sRadiation], // 4
    pSkills[playerid][e_sFire], // 5
    pSkills[playerid][e_sImmunization], // 6
    pSkills[playerid][e_sAdrenaline], // 7
    pSkills[playerid][e_sImprovedAdrenaline], /// 8
    pSkills[playerid][e_sBloodshed], // 9
    pSkills[playerid][e_sIncreasedBloodshed], // 10
    pSkills[playerid][e_sBloodthirstiness], // 11
    pSkills[playerid][e_sExtraDamage], // 12
    pSkills[playerid][e_sRage], // 13
    pSkills[playerid][e_sImprovedRage], // 14
    pSkills[playerid][e_sArmourDestruction], // 15
    pSkills[playerid][e_sImprovedArmourDestruction], // 16
    pSkills[playerid][e_sFireBullet], // 17
    pSkills[playerid][e_sExplosion], // 18
    pSkills[playerid][e_sRockSkin], // 19
    pSkills[playerid][e_sIronSkin], // 20
    pSkills[playerid][e_sShield], // 21
    pSkills[playerid][e_sHawkeye], // 22
	pSkills[playerid][e_sDoubleCrit] // 23
	);
	
	for(new i; i < 30; i++)
	{
        if(i <= 29)
        {
            format(frmt, sizeof(frmt), "%d,", pSkills[playerid][e_sWasUnlocked][e_skills:i]);
        	strcat(h, frmt);
        }
        else
        {
            format(frmt, sizeof(frmt), "%d", pSkills[playerid][e_sWasUnlocked][e_skills:i]);
        	strcat(h, frmt);
        }
	}
	
	mysql_format(Base, query, sizeof(query), "UPDATE `skills` SET `sks`='%e',`aop`='%e' WHERE `id` = '%d'", sks, h, Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
}

/*stock SaveClasses(playerid)
{
    new h[500], z[500], frmt[24], query[656];
    for(new i; i < sizeof(PlayerClassBought[][]); i++)
    {
        if(i <= 63)
        {
        	format(frmt, sizeof(frmt), "%d,", PlayerClassBought[playerid][TEAM_HUMAN][i]);
        	strcat(h, frmt);
        	format(frmt, sizeof(frmt), "%d,", PlayerClassBought[playerid][TEAM_ZOMBIE][i]);
        	strcat(z, frmt);
        }
        else
        {
            format(frmt, sizeof(frmt), "%d", PlayerClassBought[playerid][TEAM_HUMAN][i]);
        	strcat(h, frmt);
        	format(frmt, sizeof(frmt), "%d", PlayerClassBought[playerid][TEAM_ZOMBIE][i]);
        	strcat(z, frmt);
        }
	}
	mysql_format(Base, query, sizeof(query), "UPDATE `class` SET `z`='%e',`h`='%e' WHERE `id` = '%d'", z, h, Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
}

fun LoadClasses(playerid)
{
    if(cache_num_rows() > 0)
	{
		new z[500], h[500];
        cache_get_value_name(0, "z", z, 500);
	    cache_get_value_name(0, "h", h, 500);
	   
	    sscanf(h, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd",
	    PlayerClassBought[playerid][TEAM_HUMAN][0],PlayerClassBought[playerid][TEAM_HUMAN][1],
	    PlayerClassBought[playerid][TEAM_HUMAN][2],PlayerClassBought[playerid][TEAM_HUMAN][3],
	    PlayerClassBought[playerid][TEAM_HUMAN][4],PlayerClassBought[playerid][TEAM_HUMAN][5],
	    PlayerClassBought[playerid][TEAM_HUMAN][6],PlayerClassBought[playerid][TEAM_HUMAN][7],
	    PlayerClassBought[playerid][TEAM_HUMAN][8],PlayerClassBought[playerid][TEAM_HUMAN][9],
	    PlayerClassBought[playerid][TEAM_HUMAN][10],PlayerClassBought[playerid][TEAM_HUMAN][11],
	    PlayerClassBought[playerid][TEAM_HUMAN][12],PlayerClassBought[playerid][TEAM_HUMAN][13],
	    PlayerClassBought[playerid][TEAM_HUMAN][14],PlayerClassBought[playerid][TEAM_HUMAN][15],
	    PlayerClassBought[playerid][TEAM_HUMAN][16],PlayerClassBought[playerid][TEAM_HUMAN][17],
	    PlayerClassBought[playerid][TEAM_HUMAN][18],PlayerClassBought[playerid][TEAM_HUMAN][19],
	    PlayerClassBought[playerid][TEAM_HUMAN][20],PlayerClassBought[playerid][TEAM_HUMAN][21],
	    PlayerClassBought[playerid][TEAM_HUMAN][22],PlayerClassBought[playerid][TEAM_HUMAN][23],
	    PlayerClassBought[playerid][TEAM_HUMAN][24],PlayerClassBought[playerid][TEAM_HUMAN][25],
	    PlayerClassBought[playerid][TEAM_HUMAN][26],PlayerClassBought[playerid][TEAM_HUMAN][27],
	    PlayerClassBought[playerid][TEAM_HUMAN][28],PlayerClassBought[playerid][TEAM_HUMAN][29],
	    PlayerClassBought[playerid][TEAM_HUMAN][30],PlayerClassBought[playerid][TEAM_HUMAN][31],
	    PlayerClassBought[playerid][TEAM_HUMAN][32],PlayerClassBought[playerid][TEAM_HUMAN][33],
	    PlayerClassBought[playerid][TEAM_HUMAN][34],PlayerClassBought[playerid][TEAM_HUMAN][35],
	    PlayerClassBought[playerid][TEAM_HUMAN][36],PlayerClassBought[playerid][TEAM_HUMAN][37],
	    PlayerClassBought[playerid][TEAM_HUMAN][38],PlayerClassBought[playerid][TEAM_HUMAN][39],
	    PlayerClassBought[playerid][TEAM_HUMAN][40],PlayerClassBought[playerid][TEAM_HUMAN][41],
	    PlayerClassBought[playerid][TEAM_HUMAN][42],PlayerClassBought[playerid][TEAM_HUMAN][43],
	    PlayerClassBought[playerid][TEAM_HUMAN][44],PlayerClassBought[playerid][TEAM_HUMAN][45],
	    PlayerClassBought[playerid][TEAM_HUMAN][46],PlayerClassBought[playerid][TEAM_HUMAN][47],
	    PlayerClassBought[playerid][TEAM_HUMAN][48],PlayerClassBought[playerid][TEAM_HUMAN][49],
	    PlayerClassBought[playerid][TEAM_HUMAN][50],PlayerClassBought[playerid][TEAM_HUMAN][51],
	    PlayerClassBought[playerid][TEAM_HUMAN][52],PlayerClassBought[playerid][TEAM_HUMAN][53],
	    PlayerClassBought[playerid][TEAM_HUMAN][54],PlayerClassBought[playerid][TEAM_HUMAN][55],
	    PlayerClassBought[playerid][TEAM_HUMAN][56],PlayerClassBought[playerid][TEAM_HUMAN][57],
	    PlayerClassBought[playerid][TEAM_HUMAN][58],PlayerClassBought[playerid][TEAM_HUMAN][59],
	    PlayerClassBought[playerid][TEAM_HUMAN][60],PlayerClassBought[playerid][TEAM_HUMAN][61],
	    PlayerClassBought[playerid][TEAM_HUMAN][62],PlayerClassBought[playerid][TEAM_HUMAN][63]);

	    sscanf(z, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd",
	    PlayerClassBought[playerid][TEAM_ZOMBIE][0],PlayerClassBought[playerid][TEAM_ZOMBIE][1],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][2],PlayerClassBought[playerid][TEAM_ZOMBIE][3],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][4],PlayerClassBought[playerid][TEAM_ZOMBIE][5],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][6],PlayerClassBought[playerid][TEAM_ZOMBIE][7],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][8],PlayerClassBought[playerid][TEAM_ZOMBIE][9],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][10],PlayerClassBought[playerid][TEAM_ZOMBIE][11],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][12],PlayerClassBought[playerid][TEAM_ZOMBIE][13],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][14],PlayerClassBought[playerid][TEAM_ZOMBIE][15],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][16],PlayerClassBought[playerid][TEAM_ZOMBIE][17],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][18],PlayerClassBought[playerid][TEAM_ZOMBIE][19],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][20],PlayerClassBought[playerid][TEAM_ZOMBIE][21],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][22],PlayerClassBought[playerid][TEAM_ZOMBIE][23],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][24],PlayerClassBought[playerid][TEAM_ZOMBIE][25],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][26],PlayerClassBought[playerid][TEAM_ZOMBIE][27],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][28],PlayerClassBought[playerid][TEAM_ZOMBIE][29],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][30],PlayerClassBought[playerid][TEAM_ZOMBIE][31],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][32],PlayerClassBought[playerid][TEAM_ZOMBIE][33],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][34],PlayerClassBought[playerid][TEAM_ZOMBIE][35],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][36],PlayerClassBought[playerid][TEAM_ZOMBIE][37],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][38],PlayerClassBought[playerid][TEAM_ZOMBIE][39],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][40],PlayerClassBought[playerid][TEAM_ZOMBIE][41],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][42],PlayerClassBought[playerid][TEAM_ZOMBIE][43],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][44],PlayerClassBought[playerid][TEAM_ZOMBIE][45],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][46],PlayerClassBought[playerid][TEAM_ZOMBIE][47],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][48],PlayerClassBought[playerid][TEAM_ZOMBIE][49],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][50],PlayerClassBought[playerid][TEAM_ZOMBIE][51],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][52],PlayerClassBought[playerid][TEAM_ZOMBIE][53],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][54],PlayerClassBought[playerid][TEAM_ZOMBIE][55],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][56],PlayerClassBought[playerid][TEAM_ZOMBIE][57],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][58],PlayerClassBought[playerid][TEAM_ZOMBIE][59],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][60],PlayerClassBought[playerid][TEAM_ZOMBIE][61],
	    PlayerClassBought[playerid][TEAM_ZOMBIE][62],PlayerClassBought[playerid][TEAM_ZOMBIE][63]);
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `class` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}
*/

fun CheckUserForPayments()
{
    #if debug_mode == 0
	if(cache_num_rows() > 0)
    {
        DiscordChannel = DCC_FindChannelById("674323910648397894");
        new z, NN[24], ON[24], date, IP[16], y, m, d, h, i, s, type, amt, msg[200];
		for( z = 0; z < cache_num_rows(); z++)
		{
			cache_get_value_name(z, "from", NN);
		    cache_get_value_name(z, "whom", ON);
		    cache_get_value_name_int(z, "type", type);
		    cache_get_value_name_int(z, "amount", amt);
	        cache_get_value_name_int(z, "date", date);
	        cache_get_value_name(z, "ip", IP);
			TimestampToDate(date, y, m, d, h, i, s, 3);
			switch(type)
			{
				case 0: format(msg, 200, "```%04d-%02d-%02d %02d:%02d %s (/pay %d EXP) to %s (IP %s)\n```", y, m, d, h, i, NN, amt, ON, IP);
            	case 1: format(msg, 200, "```%04d-%02d-%02d %02d:%02d %s (/gang deposit %d EXP) to %s (IP %s)\n```", y, m, d, h, i, NN, amt, ON, IP);
				case 2: format(msg, 200, "```%04d-%02d-%02d %02d:%02d %s (/gang pay %d EXP) to %s (IP %s)\n```", y, m, d, h, i, NN, amt, ON, IP);
				case 3: format(msg, 200, "```%04d-%02d-%02d %02d:%02d %s (/givezaps %d ZAPS) to %s (IP %s)\n```", y, m, d, h, i, NN, amt, ON, IP);
			}
			DCC_SendChannelMessageEx(DiscordChannel, msg);
		}
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```No results found```");
	}
	#endif
	return 1;
}

fun ShowGangActivity(playerid)
{
	new size = cache_num_rows();
	if(size > 0)
	{
 		new i, User[MAX_PLAYER_NAME], lalog[24];
  		for( i = 0; i < size; i++ )
	 	{
   			cache_get_value_name(i, "Name", User, MAX_PLAYER_NAME);
 	    	cache_get_value_name(i, "lalog", lalog);
	 		SendClientMessageFormat(playerid, -1, "{E68687}>> %s - Last login: %s", User, lalog);
		}
	}
	return 1;
}

stock SaveDefender(playerid)
{
    new h[1000], z[1000], frmt[96], query[4000];
    for(new i; i < sizeof(PlayerClassUnlocked[][]); i++)
    {
        if(i < 64)
        {
        	format(frmt, sizeof(frmt), "%d,", PlayerClassUnlocked[playerid][TEAM_HUMAN][i]);
        	strcat(h, frmt);
        	format(frmt, sizeof(frmt), "%d,", PlayerClassUnlocked[playerid][TEAM_ZOMBIE][i]);
        	strcat(z, frmt);
        }
        else
        {
            format(frmt, sizeof(frmt), "%d", PlayerClassUnlocked[playerid][TEAM_HUMAN][i]);
        	strcat(h, frmt);
        	format(frmt, sizeof(frmt), "%d", PlayerClassUnlocked[playerid][TEAM_ZOMBIE][i]);
        	strcat(z, frmt);
        }
	}
	
	mysql_format(Base, query, sizeof(query), "UPDATE `event` SET `zoml`='%e',`huml`='%e' WHERE `id` = '%d'", z, h, Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
	return 1;
}

fun LoadDefender(playerid)
{
    if(cache_num_rows() > 0)
	{
		new z[500], h[500], buffs[200];
        cache_get_value_name(0, "zoml", z, 500);
	    cache_get_value_name(0, "huml", h, 500);
	    cache_get_value_name(0, "buff", buffs, 200);
	    cache_get_value_name_int(0, "defender", Player[playerid][IsDefender]);
	    cache_get_value_name_int(0, "sorry", Player[playerid][DefenderSorryTime]);
	    
	    sscanf(h, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd",
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][0],PlayerClassUnlocked[playerid][TEAM_HUMAN][1],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][2],PlayerClassUnlocked[playerid][TEAM_HUMAN][3],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][4],PlayerClassUnlocked[playerid][TEAM_HUMAN][5],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][6],PlayerClassUnlocked[playerid][TEAM_HUMAN][7],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][8],PlayerClassUnlocked[playerid][TEAM_HUMAN][9],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][10],PlayerClassUnlocked[playerid][TEAM_HUMAN][11],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][12],PlayerClassUnlocked[playerid][TEAM_HUMAN][13],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][14],PlayerClassUnlocked[playerid][TEAM_HUMAN][15],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][16],PlayerClassUnlocked[playerid][TEAM_HUMAN][17],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][18],PlayerClassUnlocked[playerid][TEAM_HUMAN][19],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][20],PlayerClassUnlocked[playerid][TEAM_HUMAN][21],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][22],PlayerClassUnlocked[playerid][TEAM_HUMAN][23],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][24],PlayerClassUnlocked[playerid][TEAM_HUMAN][25],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][26],PlayerClassUnlocked[playerid][TEAM_HUMAN][27],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][28],PlayerClassUnlocked[playerid][TEAM_HUMAN][29],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][30],PlayerClassUnlocked[playerid][TEAM_HUMAN][31],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][32],PlayerClassUnlocked[playerid][TEAM_HUMAN][33],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][34],PlayerClassUnlocked[playerid][TEAM_HUMAN][35],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][36],PlayerClassUnlocked[playerid][TEAM_HUMAN][37],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][38],PlayerClassUnlocked[playerid][TEAM_HUMAN][39],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][40],PlayerClassUnlocked[playerid][TEAM_HUMAN][41],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][42],PlayerClassUnlocked[playerid][TEAM_HUMAN][43],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][44],PlayerClassUnlocked[playerid][TEAM_HUMAN][45],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][46],PlayerClassUnlocked[playerid][TEAM_HUMAN][47],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][48],PlayerClassUnlocked[playerid][TEAM_HUMAN][49],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][50],PlayerClassUnlocked[playerid][TEAM_HUMAN][51],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][52],PlayerClassUnlocked[playerid][TEAM_HUMAN][53],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][54],PlayerClassUnlocked[playerid][TEAM_HUMAN][55],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][56],PlayerClassUnlocked[playerid][TEAM_HUMAN][57],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][58],PlayerClassUnlocked[playerid][TEAM_HUMAN][59],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][60],PlayerClassUnlocked[playerid][TEAM_HUMAN][61],
	    PlayerClassUnlocked[playerid][TEAM_HUMAN][62],PlayerClassUnlocked[playerid][TEAM_HUMAN][63]);
	    
	    sscanf(z, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd",
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][0],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][1],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][2],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][3],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][4],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][5],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][6],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][7],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][8],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][9],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][10],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][11],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][12],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][13],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][14],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][15],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][16],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][17],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][18],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][19],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][20],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][21],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][22],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][23],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][24],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][25],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][26],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][27],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][28],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][29],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][30],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][31],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][32],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][33],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][34],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][35],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][36],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][37],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][38],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][39],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][40],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][41],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][42],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][43],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][44],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][45],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][46],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][47],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][48],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][49],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][50],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][51],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][52],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][53],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][54],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][55],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][56],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][57],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][58],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][59],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][60],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][61],
	    PlayerClassUnlocked[playerid][TEAM_ZOMBIE][62],PlayerClassUnlocked[playerid][TEAM_ZOMBIE][63]);
	    
	    sscanf(buffs, "p<,>dddddddd", Defender[playerid][InfType][0], Defender[playerid][InfType][1],
	    Defender[playerid][NeiType][0], Defender[playerid][NeiType][1],Defender[playerid][AttType][0],
		Defender[playerid][AttType][1], Defender[playerid][DefType][0],Defender[playerid][DefType][1]);
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `event` (`id`,`defender`,`sorry`) VALUES ('%d','0','0')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}

stock ShowDamageTaken(playerid, Float:damage = 0.0)
{
	new s[13];
	format(s, sizeof(s), "-%.0f", damage);
    SetPlayerChatBubble(playerid, s, 0xd6d6c2FF, 20.0, 1000);
}

stock SaveTrophys(playerid)
{
	new i, query[600], ids[110], frmt[12];
	new tIDs[100], tTypes[100], tRares[100], tRanks[100], tNextRank[100], tMaxRank[100];

	for( i = 0; i < sizeof(achTrnsl[]); i++ )
	{
	    if(i < sizeof(achTrnsl[])-1)
		{
		    format(frmt, sizeof(frmt), "%d,", TrophySlotUsed[playerid][i]);
			strcat(ids, frmt);
		}
		else
		{
		    format(frmt, sizeof(frmt), "%d", TrophySlotUsed[playerid][i]);
			strcat(ids, frmt);
		}
	}
	for( i = 0; i < 12; i++ )
	{
	    if(i < 11)
	    {
	        format(frmt, sizeof(frmt), "%d,", TrophyInInv[playerid][plii_ID][i]);
			strcat(tIDs, frmt);
            format(frmt, sizeof(frmt), "%d,", TrophyInInv[playerid][plii_Type][i]);
			strcat(tTypes, frmt);
			format(frmt, sizeof(frmt), "%d,", TrophyInInv[playerid][plii_Rare][i]);
			strcat(tRares, frmt);
			format(frmt, sizeof(frmt), "%d,", TrophyInInv[playerid][plii_Rank][i]);
			strcat(tRanks, frmt);
			format(frmt, sizeof(frmt), "%d,", TrophyInInv[playerid][plii_RankToNext][i]);
			strcat(tNextRank, frmt);
			format(frmt, sizeof(frmt), "%d,", TrophyInInv[playerid][plii_MaxRank][i]);
			strcat(tMaxRank, frmt);
	    }
	    else
	    {
	        format(frmt, sizeof(frmt), "%d", TrophyInInv[playerid][plii_ID][i]);
			strcat(tIDs, frmt);
            format(frmt, sizeof(frmt), "%d", TrophyInInv[playerid][plii_Type][i]);
			strcat(tTypes, frmt);
			format(frmt, sizeof(frmt), "%d", TrophyInInv[playerid][plii_Rare][i]);
			strcat(tRares, frmt);
			format(frmt, sizeof(frmt), "%d", TrophyInInv[playerid][plii_Rank][i]);
			strcat(tRanks, frmt);
			format(frmt, sizeof(frmt), "%d", TrophyInInv[playerid][plii_RankToNext][i]);
			strcat(tNextRank, frmt);
			format(frmt, sizeof(frmt), "%d", TrophyInInv[playerid][plii_MaxRank][i]);
			strcat(tMaxRank, frmt);
	    }
	}
	mysql_format(Base, query, sizeof(query), "UPDATE `ptrophys` SET `tids`='%e',`ids`='%e',`types`='%e',`rares`='%e',`ranks`='%e',`toNext`='%e',`max_rank`='%e' WHERE `id` = '%d'", ids, tIDs, tTypes, tRares, tRanks, tNextRank, tMaxRank, Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "", "", "");
	return 1;
}

fun LoadTrophys(playerid)
{
	if(cache_num_rows())
	{
	    new tids[110], i_id[110], i_t[110], i_r[110], i_rks[110], i_tnx[110], i_imrks[110];

	    cache_get_value_name(0, "tids", tids, 110);
	    cache_get_value_name(0, "ids", i_id, 110);
	    cache_get_value_name(0, "types", i_t, 110);
	    cache_get_value_name(0, "rares", i_r, 110);
	    cache_get_value_name(0, "ranks", i_rks, 110);
	    cache_get_value_name(0, "toNext", i_tnx, 110);
	    cache_get_value_name(0, "max_rank", i_imrks, 110);
	    
	    sscanf(tids, "p<,>dddddddddddddddddddddddddddddddddddddddddddddddddddddddddd",
		TrophySlotUsed[playerid][0],TrophySlotUsed[playerid][1],TrophySlotUsed[playerid][2],
		TrophySlotUsed[playerid][3],TrophySlotUsed[playerid][4],TrophySlotUsed[playerid][5],
		TrophySlotUsed[playerid][6],TrophySlotUsed[playerid][7],TrophySlotUsed[playerid][8],
		TrophySlotUsed[playerid][9],TrophySlotUsed[playerid][10],TrophySlotUsed[playerid][11],
		TrophySlotUsed[playerid][12],TrophySlotUsed[playerid][13],TrophySlotUsed[playerid][14],
		TrophySlotUsed[playerid][15],TrophySlotUsed[playerid][16],TrophySlotUsed[playerid][17],
		TrophySlotUsed[playerid][18],TrophySlotUsed[playerid][19],TrophySlotUsed[playerid][20],
		TrophySlotUsed[playerid][21],TrophySlotUsed[playerid][22],TrophySlotUsed[playerid][23],
		TrophySlotUsed[playerid][24],TrophySlotUsed[playerid][25],TrophySlotUsed[playerid][26],
		TrophySlotUsed[playerid][27],TrophySlotUsed[playerid][28],TrophySlotUsed[playerid][29],
		TrophySlotUsed[playerid][30],TrophySlotUsed[playerid][31],TrophySlotUsed[playerid][32],
		TrophySlotUsed[playerid][33],TrophySlotUsed[playerid][34],TrophySlotUsed[playerid][35],
		TrophySlotUsed[playerid][36],TrophySlotUsed[playerid][37],TrophySlotUsed[playerid][38],
		TrophySlotUsed[playerid][39],TrophySlotUsed[playerid][40],TrophySlotUsed[playerid][41],
		TrophySlotUsed[playerid][42],TrophySlotUsed[playerid][43],TrophySlotUsed[playerid][44],
		TrophySlotUsed[playerid][45],TrophySlotUsed[playerid][46],TrophySlotUsed[playerid][47],
		TrophySlotUsed[playerid][48],TrophySlotUsed[playerid][49],TrophySlotUsed[playerid][50]
		,TrophySlotUsed[playerid][51],TrophySlotUsed[playerid][52],TrophySlotUsed[playerid][53]
		,TrophySlotUsed[playerid][54],TrophySlotUsed[playerid][55],TrophySlotUsed[playerid][56]
		,TrophySlotUsed[playerid][57]);

		sscanf(i_id, "p<,>dddddddddddd",
		TrophyInInv[playerid][plii_ID][0],TrophyInInv[playerid][plii_ID][1],TrophyInInv[playerid][plii_ID][2],
		TrophyInInv[playerid][plii_ID][3],TrophyInInv[playerid][plii_ID][4],TrophyInInv[playerid][plii_ID][5],
		TrophyInInv[playerid][plii_ID][6],TrophyInInv[playerid][plii_ID][7],TrophyInInv[playerid][plii_ID][8],
		TrophyInInv[playerid][plii_ID][9],TrophyInInv[playerid][plii_ID][10],TrophyInInv[playerid][plii_ID][11]);
		
		sscanf(i_t, "p<,>dddddddddddd",
		TrophyInInv[playerid][plii_Type][0],TrophyInInv[playerid][plii_Type][1],TrophyInInv[playerid][plii_Type][2],
		TrophyInInv[playerid][plii_Type][3],TrophyInInv[playerid][plii_Type][4],TrophyInInv[playerid][plii_Type][5],
		TrophyInInv[playerid][plii_Type][6],TrophyInInv[playerid][plii_Type][7],TrophyInInv[playerid][plii_Type][8],
		TrophyInInv[playerid][plii_Type][9],TrophyInInv[playerid][plii_Type][10],TrophyInInv[playerid][plii_Type][11]);

		sscanf(i_r, "p<,>dddddddddddd",
		TrophyInInv[playerid][plii_Rare][0],TrophyInInv[playerid][plii_Rare][1],TrophyInInv[playerid][plii_Rare][2],
		TrophyInInv[playerid][plii_Rare][3],TrophyInInv[playerid][plii_Rare][4],TrophyInInv[playerid][plii_Rare][5],
		TrophyInInv[playerid][plii_Rare][6],TrophyInInv[playerid][plii_Rare][7],TrophyInInv[playerid][plii_Rare][8],
		TrophyInInv[playerid][plii_Rare][9],TrophyInInv[playerid][plii_Rare][10],TrophyInInv[playerid][plii_Rare][11]);

		sscanf(i_rks, "p<,>dddddddddddd",
		TrophyInInv[playerid][plii_Rank][0],TrophyInInv[playerid][plii_Rank][1],TrophyInInv[playerid][plii_Rank][2],
		TrophyInInv[playerid][plii_Rank][3],TrophyInInv[playerid][plii_Rank][4],TrophyInInv[playerid][plii_Rank][5],
		TrophyInInv[playerid][plii_Rank][6],TrophyInInv[playerid][plii_Rank][7],TrophyInInv[playerid][plii_Rank][8],
		TrophyInInv[playerid][plii_Rank][9],TrophyInInv[playerid][plii_Rank][10],TrophyInInv[playerid][plii_Rank][11]);
		
		sscanf(i_tnx, "p<,>dddddddddddd",
		TrophyInInv[playerid][plii_RankToNext][0],TrophyInInv[playerid][plii_RankToNext][1],TrophyInInv[playerid][plii_RankToNext][2],
		TrophyInInv[playerid][plii_RankToNext][3],TrophyInInv[playerid][plii_RankToNext][4],TrophyInInv[playerid][plii_RankToNext][5],
		TrophyInInv[playerid][plii_RankToNext][6],TrophyInInv[playerid][plii_RankToNext][7],TrophyInInv[playerid][plii_RankToNext][8],
		TrophyInInv[playerid][plii_RankToNext][9],TrophyInInv[playerid][plii_RankToNext][10],TrophyInInv[playerid][plii_RankToNext][11]);
		
		sscanf(i_imrks, "p<,>dddddddddddd",
		TrophyInInv[playerid][plii_MaxRank][0],TrophyInInv[playerid][plii_MaxRank][1],TrophyInInv[playerid][plii_MaxRank][2],
		TrophyInInv[playerid][plii_MaxRank][3],TrophyInInv[playerid][plii_MaxRank][4],TrophyInInv[playerid][plii_MaxRank][5],
		TrophyInInv[playerid][plii_MaxRank][6],TrophyInInv[playerid][plii_MaxRank][7],TrophyInInv[playerid][plii_MaxRank][8],
		TrophyInInv[playerid][plii_MaxRank][9],TrophyInInv[playerid][plii_MaxRank][10],TrophyInInv[playerid][plii_MaxRank][11]);
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `ptrophys` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}

stock GetMaxPet(playerid, pet)
{
	new i, rare = 5, level = 0, vip = 0, id = -1;
	for( i = 0; i < MAX_PETS; i++ )
	{
	    if(UserPet[playerid][i][PI_Type] == pet)
		{
		    if(UserPet[playerid][i][PI_Rare] < rare)
		    {
		        id = i;
		        level = UserPet[playerid][i][PI_Level];
		        rare = UserPet[playerid][i][PI_Rare];
		        vip = UserPet[playerid][i][PI_VIP];
		    }
		    if(UserPet[playerid][i][PI_Level] > level && UserPet[playerid][i][PI_Type] == pet)
		    {
		        id = i;
		        level = UserPet[playerid][i][PI_Level];
		        vip = UserPet[playerid][i][PI_VIP];
		    }
		    if(UserPet[playerid][i][PI_Level] == level && UserPet[playerid][i][PI_Type] == pet && UserPet[playerid][i][PI_Level] > vip)
		    {
		        id = i;
		        level = UserPet[playerid][i][PI_Level];
		        vip = UserPet[playerid][i][PI_VIP];
		    }
		}
	}
	return id;
}

stock GetMaxTrophy(playerid, type)
{
	new id = -1, rare = 4, rank = 0, i;
	for( i = 0; i < 12; i++)
	{
	    if(TrophyInInv[playerid][plii_Type][i] == type)
	    {
	        if(TrophyInInv[playerid][plii_Rare][i] < rare)
			{
			    id = i;
                rank = TrophyInInv[playerid][plii_Rank][i];
				rare = TrophyInInv[playerid][plii_Rare][i];
			}
			if(TrophyInInv[playerid][plii_Rank][i] > rank && TrophyInInv[playerid][plii_Rare][i] == rare)
			{
			    id = i;
			    rank = TrophyInInv[playerid][plii_Rank][i];
			}
		}
	}
	return id;
}

/*static const TrophyName[][] =
{
	"Vitality Trophy",
	"Accuracy Trophy",
	"Evasion Trophy",
	"Warrior Trophy",
	"Trophy of a Titan",
	"Mirror Trophy"
};*/

stock SetGangBuff(id, members)
{
    if(members >= 15 && Clan[id][g_TimesPlayed] >= 3) Clan[id][g_Buff] = 1;
    if(members >= 30 && Clan[id][g_TimesPlayed] >= 3) Clan[id][g_Buff] = 2;
	if(members >= 50 && Clan[id][g_TimesPlayed] >= 3) Clan[id][g_Buff] = 3;
}

stock GiveGangBuff(id, buffid = -1)
{
	new a = 0;
	if(buffid == -1)
	{
	    switch(Clan[id][g_Buff])
		{
		    case 1: a = floor((5000.0*float(Clan[id][g_Level]))/100.0);
	        case 2: a = floor((350.0*float(Clan[id][g_Level]))/100.0);
	        case 3: a = floor((350.0*float(Clan[id][g_Level]))/100.0);
	        default: a = 0;
		}
	}
	else
	{
	    switch(buffid)
		{
		    case 1: a = floor((5000.0*float(Clan[id][g_Level]))/100.0);
	        case 2: a = floor((350.0*float(Clan[id][g_Level]))/100.0);
	        case 3: a = floor((350.0*float(Clan[id][g_Level]))/100.0);
	        default: a = 0;
		}
	}

	return a;
}

static s_AnimationLibraries[][] = {
    "AIRPORT",    "ATTRACTORS",   "BAR",              "BASEBALL",
    "BD_FIRE",    "BEACH",        "BENCHPRESS",       "BF_INJECTION",
    "BIKED",      "BIKEH",        "BIKELEAP",         "BIKES",
    "BIKEV",      "BIKE_DBZ",     "BMX",              "BOMBER",
    "BOX",        "BSKTBALL",     "BUDDY",            "BUS",
    "CAMERA",     "CAR",          "CARRY",            "CAR_CHAT",
    "CASINO",     "CHAINSAW",     "CHOPPA",           "CLOTHES",
    "COACH",      "COLT45",       "COP_AMBIENT",      "COP_DVBYZ",
    "CRACK",      "CRIB",         "DAM_JUMP",         "DANCING",
    "DEALER",     "DILDO",        "DODGE",            "DOZER",
    "DRIVEBYS",   "FAT",          "FIGHT_B",          "FIGHT_C",
    "FIGHT_D",    "FIGHT_E",      "FINALE",           "FINALE2",
    "FLAME",      "FLOWERS",      "FOOD",             "FREEWEIGHTS",
    "GANGS",      "GHANDS",       "GHETTO_DB",        "GOGGLES",
    "GRAFFITI",   "GRAVEYARD",    "GRENADE",          "GYMNASIUM",
    "HAIRCUTS",   "HEIST9",       "INT_HOUSE",        "INT_OFFICE",
    "INT_SHOP",   "JST_BUISNESS", "KART",             "KISSING",
    "KNIFE",      "LAPDAN1",      "LAPDAN2",          "LAPDAN3",
    "LOWRIDER",   "MD_CHASE",     "MD_END",           "MEDIC",
    "MISC",       "MTB",          "MUSCULAR",         "NEVADA",
    "ON_LOOKERS", "OTB",          "PARACHUTE",        "PARK",
    "PAULNMAC",   "PED",          "PLAYER_DVBYS",     "PLAYIDLES",
    "POLICE",     "POOL",         "POOR",             "PYTHON",
    "QUAD",       "QUAD_DBZ",     "RAPPING",          "RIFLE",
    "RIOT",       "ROB_BANK",     "ROCKET",           "RUSTLER",
    "RYDER",      "SCRATCHING",   "SHAMAL",           "SHOP",
    "SHOTGUN",    "SILENCED",     "SKATE",            "SMOKING",
    "SNIPER",     "SPRAYCAN",     "STRIP",            "SUNBATHE",
    "SWAT",       "SWEET",        "SWIM",             "SWORD",
    "TANK",       "TATTOOS",      "TEC",              "TRAIN",
    "TRUCK",      "UZI",          "VAN",              "VENDING",
    "VORTEX",     "WAYFARER",     "WEAPONS",          "WUZI",
    "WOP",        "GFUNK",        "RUNNINGMAN"
};

stock static PreloadActorAnimations(actorid){
    for(new i = 0; i < sizeof(s_AnimationLibraries); i ++){
        ApplyActorAnimation(actorid, s_AnimationLibraries[i], "null", 0.0, 0, 0, 0, 0, 0);
    }
}

stock static PreloadAnimations(playerid){
    for(new i = 0; i < sizeof(s_AnimationLibraries); i ++){
        ApplyAnimation(playerid, s_AnimationLibraries[i], "null", 0.0, 0, 0, 0, 0, 0);
    }
}

stock saveBuffs(playerid)
{
	new query[550];
    mysql_format(Base, query, sizeof(query), "UPDATE `buffs` SET\
	`itdp`='%d',`it_dpime`='%d',\
	`ie`='%d',`iet`='%d',\
 	`ik`='%d',`ikt`='%d',\
 	`ich`='%d',`icht`='%d',\
 	`ia`='%d',`iat`='%d',\
	`iar`='%d',`iart`='%d',\
	`mki`='%d',`mkit`='%d',\
	`ibs`='%d',`ibst`='%d',\
	`sk`='%d',`skt`='%d',\
	`wep`='%d',`wept`='%d'\
	WHERE `id` = '%d'",
	VipBuffs[playerid][vb_IID][0],
	VipBuffs[playerid][vb_IID][1],
	VipBuffs[playerid][vb_IEXP][0],
	VipBuffs[playerid][vb_IEXP][1],
	VipBuffs[playerid][vb_IKS][0],
	VipBuffs[playerid][vb_IKS][1],
	VipBuffs[playerid][vb_ICBH][0],
	VipBuffs[playerid][vb_ICBH][1],
	VipBuffs[playerid][vb_IAM][0],
	VipBuffs[playerid][vb_IAM][1],
	VipBuffs[playerid][vb_IAR][0],
	VipBuffs[playerid][vb_IAR][1],
	VipBuffs[playerid][vb_IMK][0],
	VipBuffs[playerid][vb_IMK][1],
	VipBuffs[playerid][vb_ICBHB][0],
	VipBuffs[playerid][vb_ICBHB][1],
	VipBuffs[playerid][vb_Skin][0],
	VipBuffs[playerid][vb_Skin][1],
	VipBuffs[playerid][vb_Weapon][0],
	VipBuffs[playerid][vb_Weapon][1],
	Player[playerid][pAccountID]);
	
	mysql_tquery(Base, query, "", "", "");
	return 1;
}

fun LoadBuffs(playerid)
{
    if(cache_num_rows())
	{
	    cache_get_value_name_int(0, "itdp", 	VipBuffs[playerid][vb_IID][0]);
	    cache_get_value_name_int(0, "it_dpime", VipBuffs[playerid][vb_IID][1]);
	    cache_get_value_name_int(0, "ie", 	VipBuffs[playerid][vb_IEXP][0]);
	    cache_get_value_name_int(0, "iet", VipBuffs[playerid][vb_IEXP][1]);
	    cache_get_value_name_int(0, "ik", 	VipBuffs[playerid][vb_IKS][0]);
	    cache_get_value_name_int(0, "ikt", VipBuffs[playerid][vb_IKS][1]);
	    cache_get_value_name_int(0, "ich", 	VipBuffs[playerid][vb_ICBH][0]);
	    cache_get_value_name_int(0, "icht", VipBuffs[playerid][vb_ICBH][1]);
	    cache_get_value_name_int(0, "ia", 	VipBuffs[playerid][vb_IAM][0]);
	    cache_get_value_name_int(0, "iat", VipBuffs[playerid][vb_IAM][1]);
	    cache_get_value_name_int(0, "iar", 	VipBuffs[playerid][vb_IAR][0]);
	    cache_get_value_name_int(0, "iart", VipBuffs[playerid][vb_IAR][1]);
	    cache_get_value_name_int(0, "mki", 	VipBuffs[playerid][vb_IMK][0]);
	    cache_get_value_name_int(0, "mkit", VipBuffs[playerid][vb_IMK][1]);
	    cache_get_value_name_int(0, "ibs", 	VipBuffs[playerid][vb_ICBHB][0]);
	    cache_get_value_name_int(0, "ibst", VipBuffs[playerid][vb_ICBHB][1]);
	    cache_get_value_name_int(0, "sk", 	VipBuffs[playerid][vb_Skin][0]);
	    cache_get_value_name_int(0, "skt", VipBuffs[playerid][vb_Skin][1]);
	    cache_get_value_name_int(0, "wep", 	VipBuffs[playerid][vb_Weapon][0]);
	    cache_get_value_name_int(0, "wept", VipBuffs[playerid][vb_Weapon][1]);
	}
	else
	{
	    new query[128];
	    mysql_format(Base, query, sizeof(query), "INSERT INTO `buffs` (`id`) VALUES ('%d')", Player[playerid][pAccountID]);
	    mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}

stock LevelUpGang(playerid)
{
	switch(InGangAction{playerid})
	{
	    case 200:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_QUEST_COIN) >= 2 && GetItemCount(playerid, ITEM_NAME_GLOOMY_DARK_STONE) >= 1)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_QUEST_COIN, 2);
          		RemoveItemFromInv(playerid, ITEM_NAME_GLOOMY_DARK_STONE, 1);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 201:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_QUEST_COIN) >= 5 && GetItemCount(playerid, ITEM_NAME_GLOOMY_DARK_STONE) >= 2)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_QUEST_COIN, 5);
          		RemoveItemFromInv(playerid, ITEM_NAME_GLOOMY_DARK_STONE, 2);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 202:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_QUEST_COIN) >= 8 && GetItemCount(playerid, ITEM_NAME_GLOOMY_DARK_STONE) >= 3)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_QUEST_COIN, 8);
          		RemoveItemFromInv(playerid, ITEM_NAME_GLOOMY_DARK_STONE, 3);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 203:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_RARE_QUEST_COIN) >= 2 && GetItemCount(playerid, ITEM_NAME_PRINT_SHADOW) >= 2)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_RARE_QUEST_COIN, 2);
          		RemoveItemFromInv(playerid, ITEM_NAME_PRINT_SHADOW, 2);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 204:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_RARE_QUEST_COIN) >= 5 && GetItemCount(playerid, ITEM_NAME_PRINT_SHADOW) >= 2)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_RARE_QUEST_COIN, 5);
          		RemoveItemFromInv(playerid, ITEM_NAME_PRINT_SHADOW, 2);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 205:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_RARE_QUEST_COIN) >= 8 && GetItemCount(playerid, ITEM_NAME_PRINT_SHADOW) >= 3)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_RARE_QUEST_COIN, 8);
          		RemoveItemFromInv(playerid, ITEM_NAME_PRINT_SHADOW, 3);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 206:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_RARE_QUEST_COIN) >= 12 && GetItemCount(playerid, ITEM_NAME_PRINT_SHADOW) >= 3)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_RARE_QUEST_COIN, 12);
          		RemoveItemFromInv(playerid, ITEM_NAME_PRINT_SHADOW, 3);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 207:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_EPIC_QUEST_COIN) >= 1 && GetItemCount(playerid, ITEM_NAME_RAY_OF_LIGHT) >= 7)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_EPIC_QUEST_COIN, 1);
          		RemoveItemFromInv(playerid, ITEM_NAME_RAY_OF_LIGHT, 7);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 208:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_EPIC_QUEST_COIN) >= 3 && GetItemCount(playerid, ITEM_NAME_RAY_OF_LIGHT) >= 8)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_EPIC_QUEST_COIN, 3);
          		RemoveItemFromInv(playerid, ITEM_NAME_RAY_OF_LIGHT, 8);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
				Clan[Player[playerid][pClan]][g_Level]++;
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
 				return 1;
            }
		}
		case 209:
	    {
	    	if(GetItemCount(playerid, ITEM_NAME_LEGENDARY_QUEST_COIN) >= 1 && GetItemCount(playerid, ITEM_NAME_SEAL_OF_LIGHT) >= 20)
      		{
        		RemoveItemFromInv(playerid, ITEM_NAME_LEGENDARY_QUEST_COIN, 1);
          		RemoveItemFromInv(playerid, ITEM_NAME_SEAL_OF_LIGHT, 20);
				SendClientMessage(playerid, -1, "{FFF000}>> Gang level up!");
		  		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
                Clan[Player[playerid][pClan]][g_Level]++;
			 	return 1;
            }
		}
	}
	return 1;
}

stock GangToNewLevel(playerid)
{
    if(Player[playerid][pClanRank] < Clan[Player[playerid][pClan]][g_RankToBan])
	{
	    ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_LIST, "{FF0000}Gang's Foreman", "Gang's Name\nGang's Mot\nGang's Rules\n-------------------------\nGang's Buffs\nRank Uping\nGang's Level Uping\nGang's Settings", "Select", "Cancel");
	    return 1;
    }
    
    new s[160], addItemIdCount, coins;
    switch(Clan[Player[playerid][pClan]][g_Level])
    {
        case 0:
        {
            coins = 2;
            addItemIdCount = 1;
            InGangAction{playerid} = 200;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {66ff33}Quest Coins{FFFFFF} and %d {4d4d4d}Gloomy Dark Stones{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        case 1:
        {
            coins = 5;
            addItemIdCount = 2;
            InGangAction{playerid} = 201;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {66ff33}Quest Coins{FFFFFF} and %d {4d4d4d}Gloomy Dark Stones{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        case 2:
        {
            coins = 8;
            addItemIdCount = 3;
            InGangAction{playerid} = 202;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {66ff33}Quest Coins{FFFFFF} and %d {4d4d4d}Gloomy Dark Stones{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        
        case 3:
        {
            coins = 2;
            addItemIdCount = 2;
            InGangAction{playerid} = 203;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {585CBF}[RARE] Quest Coins{FFFFFF} and %d {4d4d4d}Print Shadow{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        
        case 4:
        {
            coins = 5;
            addItemIdCount = 2;
            InGangAction{playerid} = 204;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {585CBF}[RARE] Quest Coins{FFFFFF} and %d {4d4d4d}Print Shadow{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        
        case 5:
        {
            coins = 8;
            addItemIdCount = 3;
            InGangAction{playerid} = 205;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {585CBF}[RARE] Quest Coins{FFFFFF} and %d {4d4d4d}Print Shadow{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        
        case 6:
        {
            coins = 12;
            addItemIdCount = 3;
            InGangAction{playerid} = 206;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {585CBF}[RARE] Quest Coins{FFFFFF} and %d {4d4d4d}Print Shadow{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        
        case 7:
        {
            coins = 1;
            addItemIdCount = 7;
            InGangAction{playerid} = 207;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {ff0066}[EPIC] Quest Coins{FFFFFF} and %d {ffd9b3}A Ray of Light{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        
        case 8:
        {
            coins = 3;
            addItemIdCount = 8;
            InGangAction{playerid} = 208;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {ff0066}[EPIC] Quest Coins{FFFFFF} and %d {ffd9b3}A Ray of Light{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
        
        case 9:
        {
            coins = 1;
            addItemIdCount = 20;
            InGangAction{playerid} = 209;
            format(s, sizeof(s), "{FFFFFF}Exchange %d {0080ff}[LEGENDARY] Quest Coin{FFFFFF} and %d {ffd9b3}Seal of Light{FFFFFF} to gang level %d?", coins, addItemIdCount, Clan[Player[playerid][pClan]][g_Level] + 1);
    		ShowPlayerDialog(playerid, DIALOG_GANG_FOREMAN, DIALOG_STYLE_MSGBOX, "{FF0000}Gang's Foreman", s, "Select", "Cancel");
        }
	}
	return 1;
}

stock ClearWarInfo()
{
	War[wi_TeamsInBattle][0] = -1;
	War[wi_TeamsInBattle][1] = -1;
	War[wi_GangWarIsStarted] = false;
	War[wi_Members][0] = 9999999;
	War[wi_Members][1] = 9999999;
	War[wi_Damage][0] = 0.0;
	War[wi_Damage][1] = 0.0;
	War[wi_Stage] = 0;
    War[wi_TimeBeforeStart] = 0;
    War[wi_AttEndTime] = 0;
    for( new i; i < 30; i++ )
	{
	    Clan[i][g_WarForCup] = -1;
		War[wi_GangSorted][i] = false;
		War[KickGang][i] = 0;
		War[wi_StageTime][i] = 0;
		War[wi_StageAgainst][i] = -1;
		for( new o; o < sizeof(WarSort[]); o++) WarSort[i][o] = INVALID_PLAYER_ID;
	}
}

/*stock ShowResultsWindow(playerid)
{
	if(Videos_Found[playerid] == 0) return SendClientMessage(playerid, COLOR_RED, "- No videos were found with the specified name!");
	new c = 0;
	for(new l = 0; l < Videos_Found[playerid]; l++)
	{
        if(l == 0) format(Dialog_String, sizeof(Dialog_String), "{FFFFFF}%s", Results_Names[playerid][l]);
        else
        {
            if(c == 0)
            {
            	format(Dialog_String, sizeof(Dialog_String), "%s\n{AFAFAF}%s", Dialog_String, Results_Names[playerid][l]);
             	c = 1;
            }
            else
            {
            	format(Dialog_String, sizeof(Dialog_String), "%s\n{FFFFFF}%s", Dialog_String, Results_Names[playerid][l]);
             	c = 0;
            }
        }
	}
    new title[64]; format(title, 64, "- Results for {80FF00}\"%s\":", Last_Search[playerid]);
    if(Request_Type[playerid] == 1) ShowPlayerDialog(playerid, YDIALOG + 1, DIALOG_STYLE_LIST, title, Dialog_String, "Play!", "Close");
    else ShowPlayerDialog(playerid, YDIALOG, DIALOG_STYLE_LIST, title, Dialog_String, "Play!", "Close");
    return 1;
}

*/

CMD:top(playerid, params[])
{
    new command[32], name[96], amount[96];
	sscanf(params, "S()[32]S()[96]S()[96]", command, name, amount);
	if(!strlen(command))
	{
	    SendClientMessage(playerid, -1, "/top rank");
	    SendClientMessage(playerid, -1, "/top kills");
	    SendClientMessage(playerid, -1, "/top xp");
	    SendClientMessage(playerid, -1, "/top evac");
	    SendClientMessage(playerid, -1, "/top duels");
	    SendClientMessage(playerid, -1, "/top active");
	    SendClientMessage(playerid, -1, "/top gang");
	    return 1;
	}

	if(strfind(command, "gang") == 0)
 	{
 	    new qu[128];
	    mysql_format(Base, qu, sizeof(qu), "SELECT count(`controlled`), `controlled` FROM `maps` GROUP BY `controlled` ORDER BY count(`controlled`) DESC");
		mysql_tquery(Base, qu, "ShowTopGangs", "i", playerid);
		return 1;
	}

	if(strfind(command, "active") == 0)
 	{
 	    new query[128];
	    mysql_format(Base, query, sizeof(query), "SELECT `h`, `m`, `s`, `ID` FROM `Achievements` WHERE `build`='"SERVER_BUILD"' ORDER BY `h` DESC, `m` DESC, `s` DESC LIMIT 10");
		mysql_tquery(Base, query, "ShowTopActivePlayers", "i", playerid);
		return 1;
 	}
	if(strfind(command, "duels") == 0)
 	{
 	    new query[128];
	    mysql_format(Base, query, sizeof(query), "SELECT `DuelWins`,`Name` FROM `users` WHERE `build`='"SERVER_BUILD"' ORDER BY `DuelWins` DESC LIMIT 10");
		mysql_tquery(Base, query, "ShowTopDuelPlayers", "i", playerid);
		return 1;
 	}
	if(strfind(command, "evac") == 0)
 	{
 	    new query[128];
	    mysql_format(Base, query, sizeof(query), "SELECT `RoundWins`,`Name` FROM `users` WHERE `build`='"SERVER_BUILD"' ORDER BY `RoundWins` DESC LIMIT 10");
		mysql_tquery(Base, query, "ShowTopEvacPlayers", "i", playerid);
		return 1;
 	}
	if(strfind(command, "xp") == 0)
 	{
 	    new query[128];
	    mysql_format(Base, query, sizeof(query), "SELECT `EXP`,`Name` FROM `users` WHERE `build`='"SERVER_BUILD"' ORDER BY `EXP` DESC LIMIT 10");
		mysql_tquery(Base, query, "ShowTopXPPlayers", "i", playerid);
		return 1;
 	}
	if(strfind(command, "kills") == 0)
 	{
 	    new query[128];
	    mysql_format(Base, query, sizeof(query), "SELECT `Kills`,`Name` FROM `users` WHERE `build`='"SERVER_BUILD"' ORDER BY `Kills` DESC LIMIT 10");
		mysql_tquery(Base, query, "ShowTopKillsPlayers", "i", playerid);
		return 1;
 	}
	if(strfind(command, "rank") == 0)
 	{
 	    new query[128];
	    mysql_format(Base, query, sizeof(query), "SELECT `Rank`,`Kills`,`Name` FROM `users` WHERE `build`='"SERVER_BUILD"' ORDER BY `Rank` DESC, `Kills` DESC LIMIT 10");
		mysql_tquery(Base, query, "ShowTopRankPlayers", "i", playerid);
		return 1;
 	}
 	return 1;
}

fun ShowTopGangs(playerid)
{
	switch(Player[playerid][pLang])
    {
        case 0: SendClientMessage(playerid, -1, "{FFD500}$------------- TOP GANGS -------------$");
        case 1: SendClientMessage(playerid, -1, "{FFD500}$------------- ТОП БАНД -------------$");
        case 2: SendClientMessage(playerid, -1, "{FFD500}$------------- Las Mejores Pandillas -------------$");
    }
    new i, mp = 1, c = 0;
    for( i = 0; i < cache_num_rows(); i++)
    {
        cache_get_value_name_int(i, "controlled", mp);
        if(strlen(Clan[mp][Full]) >= 1)
        {
        	SendClientMessageFormat(playerid, -1, "{FFD500}>> %d. %s (ID: %d) - /gang join %d", i+1, Clan[mp][Full], mp, mp);
		    c++;
		}
	}
	if(c <= 0)
	{
		switch(Player[playerid][pLang])
	    {
	        case 0: SendClientMessage(playerid, -1, "{FFD500}-- No gangs");
	        case 1: SendClientMessage(playerid, -1, "{FFD500}-- Ни одной");
	        case 2: SendClientMessage(playerid, -1, "{FFD500}-- No pandillas");
	    }
	}
	return 1;
}

fun ShowTopActivePlayers(playerid)
{
    new size = cache_num_rows();
	if(size > 0)
	{
 		switch(Player[playerid][pLang])
   		{
     		case 0: SendClientMessage(playerid, -1, "{FFD500}-- TOP 10 PLAYERS");
       		case 1: SendClientMessage(playerid, -1, "{FFD500}-- ТОП 10 ИГРОКОВ");
	        case 2: SendClientMessage(playerid, -1, "{FFD500}-- Las 10 Mejores Jugadores");
	    }
	    new h, i, m, s, id = 0, ch[64];
	    for( i = 0; i < size; i++ )
	 	{
	 	    cache_get_value_name_int(i, "h", h);
	 	    cache_get_value_name_int(i, "m", m);
	 	    cache_get_value_name_int(i, "s", s);
 	     	cache_get_value_name_int(i, "ID", id);
            mysql_format(Base, ch, sizeof(ch), "SELECT `Name` FROM `users` WHERE `ID` = '%d'", id);
            mysql_tquery(Base, ch, "ShowPlayerActivity", "iiiiii", i+1, id, h, m, s, playerid);
		}
	}
	return 1;
}

fun ShowTopDuelPlayers(playerid)
{
    new size = cache_num_rows();
	if(size > 0)
	{
 		switch(Player[playerid][pLang])
   		{
     		case 0: SendClientMessage(playerid, -1, "{FFD500}-- TOP 10 PLAYERS");
       		case 1: SendClientMessage(playerid, -1, "{FFD500}-- ТОП 10 ИГРОКОВ");
	        case 2: SendClientMessage(playerid, -1, "{FFD500}-- Las 10 Mejores Jugadores");
	    }
	    new User[MAX_PLAYER_NAME], k, i;
    	for( i = 0; i < size; i++ )
	 	{
	 	    cache_get_value_name(i, "Name", User, MAX_PLAYER_NAME);
	 	    cache_get_value_name_int(i, "DuelWins", k);
			SendClientMessageFormat(playerid, -1, "{FFD500}(%d place) >> %s (%d wins)", i+1, User, k);
		}
	}
	return 1;
}

fun ShowTopEvacPlayers(playerid)
{
    new size = cache_num_rows();
	if(size > 0)
	{
 		switch(Player[playerid][pLang])
   		{
     		case 0: SendClientMessage(playerid, -1, "{FFD500}-- TOP 10 PLAYERS");
       		case 1: SendClientMessage(playerid, -1, "{FFD500}-- ТОП 10 ИГРОКОВ");
	        case 2: SendClientMessage(playerid, -1, "{FFD500}-- Las 10 Mejores Jugadores");
	    }
	    new User[MAX_PLAYER_NAME], k, i;
    	for( i = 0; i < size; i++ )
	 	{
   			cache_get_value_name(i, "Name", User, MAX_PLAYER_NAME);
 	    	cache_get_value_name_int(i, "RoundWins", k);
			SendClientMessageFormat(playerid, -1, "{FFD500}(%d place) >> %s (%d evacs)", i+1, User, k);
		}
	}
	return 1;
}

fun ShowTopXPPlayers(playerid)
{
    new size = cache_num_rows();
	if(size > 0)
	{
 		switch(Player[playerid][pLang])
   		{
     		case 0: SendClientMessage(playerid, -1, "{FFD500}-- TOP 10 PLAYERS");
       		case 1: SendClientMessage(playerid, -1, "{FFD500}-- ТОП 10 ИГРОКОВ");
	        case 2: SendClientMessage(playerid, -1, "{FFD500}-- Las 10 Mejores Jugadores");
	    }
		new i, User[MAX_PLAYER_NAME], k;
		for( i = 0; i < size; i++ )
	 	{
	 	    cache_get_value_name(i, "Name", User, MAX_PLAYER_NAME);
	 	    cache_get_value_name_int(i, "EXP", k);
			SendClientMessageFormat(playerid, -1, "{FFD500}(%d place) >> %s (%d exp)", i+1, User, k);
		}
	}
	return 1;
}

fun ShowTopKillsPlayers(playerid)
{
    new size = cache_num_rows();
	if(size > 0)
	{
 		switch(Player[playerid][pLang])
   		{
     		case 0: SendClientMessage(playerid, -1, "{FFD500}-- TOP 10 PLAYERS");
       		case 1: SendClientMessage(playerid, -1, "{FFD500}-- ТОП 10 ИГРОКОВ");
	        case 2: SendClientMessage(playerid, -1, "{FFD500}-- Las 10 Mejores Jugadores");
	    }
	    new i, User[MAX_PLAYER_NAME], k;
    	for( i = 0; i < size; i++ )
	 	{
	 	    cache_get_value_name(i, "Name", User, MAX_PLAYER_NAME);
	 	    cache_get_value_name_int(i, "Kills", k);
			SendClientMessageFormat(playerid, -1, "{FFD500}(%d place) >> %s (%d kills)", i+1, User, k);
		}
	}
	return 1;
}

fun ShowTopRankPlayers(playerid)
{
    new size = cache_num_rows();
	if(size > 0)
	{
 		switch(Player[playerid][pLang])
   		{
     		case 0: SendClientMessage(playerid, -1, "{FFD500}-- TOP 10 PLAYERS");
       		case 1: SendClientMessage(playerid, -1, "{FFD500}-- ТОП 10 ИГРОКОВ");
	        case 2: SendClientMessage(playerid, -1, "{FFD500}-- Las 10 Mejores Jugadores");
	    }
	    new i, User[MAX_PLAYER_NAME], id, k;
    	for( i = 0; i < size; i++ )
		{
	 	    cache_get_value_name(i, "Name", User, MAX_PLAYER_NAME);
	 	    cache_get_value_name_int(i, "Rank", id);
	 	    cache_get_value_name_int(i, "Kills", k);
			SendClientMessageFormat(playerid, -1, "{FFD500}(%d place) >> %s - %s (%d) (%d kills)", i+1, User, PlayerRank[Player[playerid][pLang]][id], id, k);
		}
	}
	return 1;
}

stock GangSetTaxes(playerid, gangid, exp)
{
	new Float:txs = (float(GangsSettings[4])/100.0);
	new sum = exp - floor(exp * (TAXES-0.10));
	
	if(Clan[gangid][g_IsRulles]) return sum;
	else
	{
	    new Float:MinusTaxes = 0.0;
	    for( new i = 1; i < sizeof(Clan); i++ ) 
		{
		    if(Clan[i][g_IsRulles])
		    {
		        foreach(Player, j)
				{
					if(Player[j][pClan] == gangid && Player[j][pClanRank] <= 4 && Specialty[j][spc_level][SPECIALITY_DIPLOMAT] >= 2)
					{
                        MinusTaxes += (float(Specialty[j][spc_level][SPECIALITY_DIPLOMAT]) / 100.0);
					}
				}
		        
		        MinusTaxes = max(TAXES, MinusTaxes);
		        
			    foreach(Player, j)
			    {
			        if(Player[j][pClan] == i && Player[j][pClanRank] > 0)
			        {
               			SendClientMessageFormat(j, -1, "{C659B6}>> Gang %s has deposited %d EXP to your gang exp pot. Taxes: %d '/.", Clan[gangid][Short], floor(exp * (txs-MinusTaxes)), GangsSettings[4]-floor(MinusTaxes*100.0));
			        }
			    }
			    SendClientMessageFormat(playerid, -1, "{C659B6}>> You have deposited %d EXP to %s's gang exp pot. Taxes: %d '/.", floor(exp * (txs-MinusTaxes)), Clan[i][Short], GangsSettings[4]-floor(MinusTaxes*100.0));
				Clan[i][EXP] += floor(exp * (txs-MinusTaxes));
				return floor(exp * (txs-MinusTaxes));
			}
		}
		return floor(exp * (txs-MinusTaxes));
	}
}

stock CheckForIP(const message[])
{
    new i_numcount, i_period, i_pos;
    while(message[i_pos])
	{
        if('0' <= message[i_pos] <= '9') i_numcount ++;
        else if(message[i_pos] == '.') i_period ++;
        i_pos++;
    }
    if(i_numcount >= 5) return 1;
    return 0;
}

fun CreateValintines()
{
	for( new i = 0; i < sizeof(Valintine); i++)
	{
		//if(IsValidActor(Valintine[i])) DestroyActor(Valintine[i]);
		Valintine[i] = CreateActor(219, ValintinePoses[i][0], ValintinePoses[i][1], ValintinePoses[i][2], ValintinePoses[i][3]);
		SetActorFacingAngle(Valintine[i], ValintinePoses[i][3]);
    }
    return 1;
}

fun DeleteValintines()
{
    for( new i = 0; i < sizeof(Valintine); i++) if(IsValidActor(Valintine[i])) DestroyActor(Valintine[i]);
    return 1;
}

stock ClearEventsFromMemory()
{
    new eventID, i, newID;
	for( eventID = 0; eventID < 10; eventID ++)
	{
	    EventInfo[eventID][e_IsStarted] = false;
	    EventInfo[eventID][e_IsJoinsClosed] = false;
	    EventInfo[eventID][e_IsGangNeed] = false;
	    EventInfo[eventID][e_RequestToDelete] = false;
	    
	    EventInfo[eventID][e_VirtualWorld] = 0;
	   	EventInfo[eventID][e_minPlayers] = 0;
	   	EventInfo[eventID][e_maxPlayers] = MAX_PLAYERS;
	   	EventInfo[eventID][e_curPlayers] = 0;
	   	EventInfo[eventID][e_minRank] = 0;
	   	EventInfo[eventID][e_minExp] = 0;
	   	EventInfo[eventID][e_TimerCount] = 0;
	   	EventInfo[eventID][e_TimeToEnd] = -1;
	   	
	    for(i = 1; i < 6; i++) EventInfo[eventID][e_IsTeamActive][i] = false;
	    for(i = 0; i < 6; i++) EventInfo[eventID][e_Skin][i] = 0;
	   	for(i = 0; i < 3; i++) EventInfo[eventID][e_defaultPoses][i] = 0.0;
	   	EventInfo[eventID][e_Gravity] = 0.008;
	   	
	   	EventInfo[eventID][e_Time] = 12;
		EventInfo[eventID][e_Weather] = 0;
	   	
	   	for(i = 0; i < MAX_PLAYERS; i++) if(IsValidPickup(EventInfo[eventID][e_Pickups][i])) DestroyPickupEx(EventInfo[eventID][e_Pickups][i], true);
	   	
		for( i = 0; i < 18; i++)
		{
		    newID = (i-1) > -1 ? i * 2 : 0;
	    	if(EventInfo[eventID][e_CarProps][newID] > 0) DestroyVehicle(EventInfo[eventID][e_CarProps][newID]);
		}
	    for(i = 0; i < 36; i++) EventInfo[eventID][e_CarProps][i] = 0;
	    for(i = 0; i < 8; i++) EventInfo[eventID][e_RulersPermisions][i] = 0;
        for(i = 0; i < 10; i++) EventInfo[eventID][e_Rulers][i] = 0;
        
	    EventInfo[eventID][e_IsEnded] = true;
	    EventInfo[eventID][e_OwnerID] = -1;
	    strmid(EventInfo[eventID][e_Name], "", 0, 65, 65);

	    for(i = 0; i < 100; i++)
		{
			if(IsValidDynamicObject(EventInfo[eventID][e_Objects][i]))
		    {
				DestroyDynamicObject(EventInfo[eventID][e_Objects][i]);
				EventInfo[eventID][e_Objects][i] = INVALID_OBJECT_ID;
			}
		}
	}
}

stock IsWomanSkin(skinid)
{
	switch(skinid)
	{
	    case 9..13, 31, 39..41, 53..56, 63..65, 69, 75..77, 85, 87..93, 129..131, 138..141, 145, 148, 150..152, 157, 169, 172, 178, 190..199, 201, 205, 207, 211, 214..216, 218, 219, 224..226, 231..233, 237..238, 243..246, 251, 256, 257, 263, 298, 306..309: return 1;
		default: return 0;
	}
	return 0;
}

stock CreateTextDraws()
{
    new Float:DrawPos = 200.000000; // 26
  	for(new k = 0; k < sizeof(CheaterID[]); k++)
    {
        if(k > 0) DrawPos += 30.0;
        CheatShow[0][k] = TextDrawCreate(DrawPos, 412.000000,"-1");
        CheatShow[1][k] = TextDrawCreate(DrawPos, 423.000000,"-1");
        TextDrawColor(CheatShow[0][k], 0xef8100FF);
		TextDrawColor(CheatShow[1][k], 0xffffffFF);
        TextDrawFont(CheatShow[0][k], 1);
		TextDrawFont(CheatShow[1][k], 1);
        TextDrawSetOutline(CheatShow[0][k], 1);
		TextDrawSetOutline(CheatShow[1][k], 1);
        TextDrawLetterSize(CheatShow[0][k],0.3500,1.270);
		TextDrawLetterSize(CheatShow[1][k],0.3500,1.270);
        CheaterID[0][k] = -1;
		CheaterID[1][k] = -1;
    }
}

stock AddCheater(const playerid, line = 0)
{
	new str[6], k;
    for(k = (sizeof(CheaterID[])-1); k > -1; k--) if(CheaterID[0][k] == playerid || CheaterID[1][k] == playerid) return 0;
    for(k = 0; k < sizeof(CheaterID[]); k++)
    {
        if(CheaterID[line][k] <= -1)
        {
            CheaterID[line][k] = playerid;
            format(str, sizeof(str), "%d", CheaterID[line][k]);
            TextDrawSetString(CheatShow[line][k], str);
            return 1;
        }
    }
    return 0;
}

stock RemoveCheater(const playerid)
{
	new l, k;
	for(l = 0; l < 2; l++)
	{
	    for(k = (sizeof(CheaterID[])-1); k > -1; k--)
		{
			if(CheaterID[l][k] == playerid)
	    	{
	            CheaterID[l][k] = -1;
	            TextDrawSetString(CheatShow[l][k], "-1");
	    	}
		}
	}
	strmid(AC_Requests[playerid][ac_reason], "", 0, 128, 128);
	AC_Requests[playerid][ac_time] = 0;
	AC_Requests[playerid][ac_type] = 0;
	AC_Requests[playerid][ac_additional] = 0;
	AC_Requests[playerid][ac_pl] = 0.0;
}

/*CMD:merchant(playerid)
{
    if(GetWeekDay() == 3 && isMerchantCame[0])
    {
    	MerchantShop(playerid, false);
	 }
	 else
	 {
	    SendClientMessage(playerid, -1, "{FFF000}>> The seller is gone, wait for the next one");
	 }
	return 1;
}*/

stock MerchantShop(playerid, bool:canBuy = true)
{
    new s[244], name[244], dial[2048];
   	new GunName[47][20] =
	{
	    "Fist","Brass Knuckles","Golf Club","Nightstick","Knife","Basebal Bat","Shovel","Pool Cue","Katana","Chainsaw","Double-ended Dildo","Dildo","Vibrator",
	    "Silver Vibrator","Flowers","Cane","Grenade","Tear Gas","Molotv Cocktail","?","?","?","Colt 9mm","Silenced 9mm","Desert Eagle","Shotgun","Sawnoff-Shotgun",
	    "Combat Shotgun","Micro-SMG","MP5","Ak-47","M4","Tec9","Country Rifle","Sniper Rifle","RPG","HS-RPG","Flame-Thrower","Minigun","Satchel Charge","Detonator",
	    "Spray Can","Fire Extinguisher","Camera","Night Goggles","Thermal Goggles","Parachute"
	};
	
	format(name, sizeof(name), "Merchant Shop{ffd633} (%d Gold Coins)", GetItemCount(playerid, ITEM_NAME_GOLD_COIN));
	strcat(dial, "{FFFFFF}Number\t{F1C40F}Item Name\t{F39C12}Price\t{DDDDDD}Time:\n");
	if(Merchant[mc_boost][0] > -1)
	{
		format(s, sizeof(s), bsNames[Merchant[mc_boost][0]], 1, Merchant[mc_price][0], Merchant[mc_buffTime][0]);
		strcat(dial, s);
		format(s, sizeof(s), bsNames[Merchant[mc_boost][1]], 2, Merchant[mc_price][1], Merchant[mc_buffTime][1]);
		strcat(dial, s);
		format(s, sizeof(s), bsNames[7], 3, GunName[randomWeaponAmmo[Merchant[mc_boost][2]][0]], Merchant[mc_price][2], Merchant[mc_buffTime][2]);
		strcat(dial, s);
		if(Merchant[mc_class][0] > -1 && Merchant[mc_class][1] > -1)
		{
		    strcat(dial, "{DDDDDD}\t{DDDDDD}\t{DDDDDD}\t{DDDDDD}\n");
	        if(Merchant[mc_class][3] == 0)
				format(s, sizeof(s), "{FFFFFF}Human Class: \t{F1C40F}%s\t{F39C12}%d GC\t{DDDDDD}%d Days\n", humanClassesListNames[Player[playerid][pLang]][Merchant[mc_class][0]], Merchant[mc_class][2], Merchant[mc_class][1]);
			else
				format(s, sizeof(s), "{FFFFFF}Zombie Class: \t{F1C40F}%s\t{F39C12}%d GC\t{DDDDDD}%d Days\n", zombieClassesListNames[Player[playerid][pLang]][Merchant[mc_class][0]], Merchant[mc_class][2], Merchant[mc_class][1]);
			strcat(dial, s);
		}
		if(canBuy) ShowPlayerDialog(playerid, DIALOG_BUY_FROM_MERCHANT, DIALOG_STYLE_TABLIST_HEADERS, name, dial, "Buy", "Cancel");
		else ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_TABLIST_HEADERS, name, dial, "Ok", "");
	}
	return 1;
}

// The Key - Kill 300 players
// Collect

/*enum v_Buffs
{
	vb_IID[2], // Increased items drop
	vb_IEXP[2], // Increased exp
	vb_IKS[2], // Increased kills
	vb_ICBH[2], // Increased Chance to be a Human
	vb_IAM[2], // Increased Ammo
	vb_ICBHB[2], // Increased Chance to be a Human Boss
	vb_Weapon[2], // Time, type

};
new VipBuffs[MAX_PLAYERS][v_Buffs];

new randomWeaponAmmo[][3] =
{
	{22, 250, 10},s
	{18, 20, 60},
	{16, 10, 60},
	{26, 30, 80},
	{27, 30, 80},
	{28, 500, 30},
	{35, 5, 150},
	{36, 5, 150},
	{38, 100, 300}
};

// 2 - boosts
// 1 - weapon*/

fun GetMedicCount()
{
	foreach(Player, i)
	{
    	if(GetPlayerTeamEx(i) == TEAM_HUMAN && Player[i][pClass][TEAM_HUMAN] == MEDIC) return 1;
	}
	return 0;
}

fun ShowEverydayReward(playerid)
{
	printf("%d", Player[playerid][e_PrevLogin]);
	
    if(Player[playerid][e_PrevLogin] <= 0)
    {
		new i, s[17];
		switch(Player[playerid][pLang])
		{
			case 0: format(s, sizeof(s), "Day_%d", Player[playerid][e_Days]+1);
            case 1: format(s, sizeof(s), RusToGame("День_%d"), Player[playerid][e_Days]+1);
            case 2: format(s, sizeof(s), "Dia_%d", Player[playerid][e_Days]+1);
            default: format(s, sizeof(s), "Day_%d", Player[playerid][e_Days]+1);
		}
		TextDrawSetString(DayReward[3][playerid], s);
	    sortRewards(playerid);

		if(Player[playerid][e_Days] <= 5)
		{
			for( i = 4; i < 10; i++ )
			{
				if(i == (Player[playerid][e_Days]+4)) TextDrawColor(DayStars[i][playerid], -65281);
				else TextDrawColor(DayStars[i][playerid], -1061109505);
				TextDrawShowForPlayer (playerid, DayStars[i][playerid]);
			}
		}
		else
		{
			for( i = 0; i < 10; i++ )
			{
			    if(i == 4) TextDrawColor(DayStars[i][playerid], -65281);
			    else TextDrawColor(DayStars[i][playerid], -1061109505);
				TextDrawShowForPlayer(playerid, DayStars[i][playerid]);
			}
		}

		TextDrawShowForPlayer(playerid, DayReward[3][playerid]);
		if(Player[playerid][e_Days] >= 50)
		{
		 	if(DayRewards[playerid][0] > 0) TextDrawSetPreviewModel(DayReward[0][playerid], DayRewards[playerid][0]);
		 	if(DayRewards[playerid][1] > 0) TextDrawSetPreviewModel(DayReward[1][playerid], DayRewards[playerid][1]);
		 	if(DayRewards[playerid][2] > 0) TextDrawSetPreviewModel(DayReward[2][playerid], DayRewards[playerid][2]);
		 	for( i = 0; i < 3; i++ ) if(DayRewards[playerid][i] > 0) TextDrawShowForPlayer(playerid, DayReward[i][playerid]);
	   	}
	   	else
	   	{
	   	    if(DayRewards[playerid][0] > 0) TextDrawSetPreviewModel(DayReward[0][playerid], DayRewards[playerid][0]);
	   	    TextDrawShowForPlayer(playerid, DayReward[0][playerid]);
	   	}

	 	SelectTextDraw(playerid, 0xFF0000FF);
		SelectReward[playerid] = false;
		Player[playerid][e_Days]++;
		Player[playerid][e_PrevLogin] = 1;
	}
	else
	{
	    SelectReward[playerid] = true;
	    SetPlayerPosAC(playerid, 2415.5414,-50.4586,28.1535);
		SetPlayerFacingAngle(playerid, 1.4218);
		SetPlayerCameraPos(playerid, 2415.7615, -45.1561, 28.8247);
		SetPlayerCameraLookAt(playerid, 2415.7559, -46.1539, 28.6447);
	}
}

stock sortRewards(playerid)
{
	if(Player[playerid][e_Days] <= 49)
	{
	    new sort[] = {11738, 1575, 1242, 1314, 1254};
	    DayRewards[playerid][0] = sort[random(sizeof(sort))];
	    DayRewards[playerid][1] = 0;
	    DayRewards[playerid][2] = 0;
	}
	else
	{
	    new sort[] = {2061, 1313, 1575, 1578, 1579, 1580, 954, 1275, 1314, 1254};
	    DayRewards[playerid][0] = sort[random(sizeof(sort))];
	    DayRewards[playerid][1] = sort[random(sizeof(sort))];
	    DayRewards[playerid][2] = sort[random(sizeof(sort))];
	}
	
	if(Player[playerid][e_Days] == 24) DayRewards[playerid] = {19306, 0, 0}; // Flag
	if(Player[playerid][e_Days] == 49) DayRewards[playerid] = {19527, 0, 0}; // Witch's cauldron
	if(Player[playerid][e_Days] == 99) DayRewards[playerid] = {19528, 0, 0}; // Witch hat
	if(Player[playerid][e_Days] == 149) DayRewards[playerid] = {2976, 0, 0}; // Green Gloop
	if(Player[playerid][e_Days] == 199) DayRewards[playerid] = {2406, 0, 0}; // Surfboard
	if(Player[playerid][e_Days] == 249) DayRewards[playerid] = {1550, 0, 0}; // Money bag
	if(Player[playerid][e_Days] == 299) DayRewards[playerid] = {1276, 0, 0}; // Secret package
	if(Player[playerid][e_Days] == 349) DayRewards[playerid] = {19134, 0, 0}; // Slots up
}

stock TryToAvoidAnAbility(playerid, class)
{
	return 0;
}

//Total: 4,925,000 exp

fun swap(&a, &b)
{
	new temp = b;
	b = a;
	a = temp;
}

main()
{
	printf("ITEM_NAME_LCOOKIE: %d", ITEM_NAME_LCOOKIE);
	printf("ITEM_NAME_XMAS_MILK: %d", ITEM_NAME_XMAS_MILK);
}

stock ShowUpgrades(playerid)
{
	new s[196], str[4096], temp[196], loc[12];
	
	new indexes[] = {2,   			3,  		   4,    	  5,   				 7,   					  10,   				  15,   					17},
		st_vals[] = {5,   			5,   		   5,    	  5,   				 5,   					  5,    				  5,    					25},
		e_index[] = {e_sPoision,   e_sRadiation,   e_sFire,   e_sImmunization,   e_sImprovedAdrenaline,   e_sBloodthirstiness,    e_sArmourDestruction, 	0};
	
	switch(Player[playerid][pLang])
	{
	    case 0: loc = "Rank:";
	    case 1: loc = "Ранг:";
	    case 2: loc = "Ranjo:";
	}
	
	for( new i = 0, j, bool:f, l = Player[playerid][pLang]; i < sizeof(UpgradesNames[]); i++) // sizeof(UpgradesNames[])
	{
	    if(e_skills:i > e_sImprovedAdrenaline && Player[playerid][pClan] <= 0) break;
	    f = false;
	    for( j = 0; j < sizeof(indexes); j++)
		{
			if(i == indexes[j])
			{
			    f = true;
			    if(UpgradesDependence[i] > -1)
			    {
			        if(pSkills[playerid][e_sWasUnlocked][e_skills:i] >= 1)
			        {
			        	format(s, sizeof(s), UpgradesDesc[l][i], st_vals[j] * ((pSkills[playerid][e_skills:e_index[j]] == 0) ? 1 : pSkills[playerid][e_skills:e_index[j]]));
						format(temp, sizeof(temp), "{00b33c}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], s, pSkills[playerid][e_skills:i], UpgradesMax[i]);
					}
			        else
			        {
				        if(pSkills[playerid][e_skills:UpgradesDependence[i]] >= UpgradesMax[UpgradesDependence[i]] && Player[playerid][pRank] >= UpgradesRanks[i] && (pSkills[playerid][e_sWasUnlocked][e_skills:i] <= 0 || Player[playerid][pXP] < UpgradesExp[i]))
				        {
					        format(s, sizeof(s), UpgradesDesc[l][i], st_vals[j] * ((pSkills[playerid][e_skills:e_index[j]] == 0) ? 1 : pSkills[playerid][e_skills:e_index[j]]));
							format(temp, sizeof(temp), "{3385ff}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], s, pSkills[playerid][e_skills:i], UpgradesMax[i], UpgradesNames[l][UpgradesDependence[i]]);
						}
						else
						{
							format(s, sizeof(s), UpgradesDesc[l][i], st_vals[j] * ((pSkills[playerid][e_skills:e_index[j]] == 0) ? 1 : pSkills[playerid][e_skills:e_index[j]]));
							format(temp, sizeof(temp), "{ff3300}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], s, pSkills[playerid][e_skills:i], UpgradesMax[i]);
						}
					}
				}
			    else
			    {
			        if(pSkills[playerid][e_sWasUnlocked][e_skills:i] >= 1)
			        {
			        	format(s, sizeof(s), UpgradesDesc[l][i], st_vals[j] * ((pSkills[playerid][e_skills:e_index[j]] == 0) ? 1 : pSkills[playerid][e_skills:e_index[j]]));
						format(temp, sizeof(temp), "{00b33c}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], s, pSkills[playerid][e_skills:i], UpgradesMax[i]);
					}
					else
			        {
				        if(Player[playerid][pRank] >= UpgradesRanks[i] && (pSkills[playerid][e_sWasUnlocked][e_skills:i] <= 0 || Player[playerid][pXP] < UpgradesExp[i]))
				        {
					    	format(s, sizeof(s), UpgradesDesc[l][i], st_vals[j] * ((pSkills[playerid][e_skills:e_index[j]] == 0) ? 1 : pSkills[playerid][e_skills:e_index[j]]));
							format(temp, sizeof(temp), "{3385ff}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], s, pSkills[playerid][e_skills:i], UpgradesMax[i]);
						}
						else
						{
	    					format(s, sizeof(s), UpgradesDesc[l][i], st_vals[j] * ((pSkills[playerid][e_skills:e_index[j]] == 0) ? 1 : pSkills[playerid][e_skills:e_index[j]]));
							format(temp, sizeof(temp), "{ff3300}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], s, pSkills[playerid][e_skills:i], UpgradesMax[i]);
						}
					}
				}
				break;
			}
		}
		if(!f)
		{
		    if(UpgradesDependence[i] > -1)
			{
			    if(pSkills[playerid][e_sWasUnlocked][e_skills:i] >= 1) format(temp, sizeof(temp), "{00b33c}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], UpgradesDesc[l][i], pSkills[playerid][e_skills:i], UpgradesMax[i]);
				else
				{
				    if(pSkills[playerid][e_skills:UpgradesDependence[i]] >= UpgradesMax[UpgradesDependence[i]] && Player[playerid][pRank] >= UpgradesRanks[i] && (pSkills[playerid][e_sWasUnlocked][e_skills:i] <= 0 || Player[playerid][pXP] < UpgradesExp[i]))
						format(temp, sizeof(temp), "{3385ff}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], UpgradesDesc[l][i], pSkills[playerid][e_skills:i], UpgradesMax[i]);
					else
						format(temp, sizeof(temp), "{ff3300}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], UpgradesDesc[l][i], pSkills[playerid][e_skills:i], UpgradesMax[i]);
				}
			}
			else
			{
			    if(pSkills[playerid][e_sWasUnlocked][e_skills:i] >= 1) format(temp, sizeof(temp), "{00b33c}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], UpgradesDesc[l][i], pSkills[playerid][e_skills:i], UpgradesMax[i]);
				else
				{
					if(Player[playerid][pRank] >= UpgradesRanks[i] && (pSkills[playerid][e_sWasUnlocked][e_skills:i] <= 0 || Player[playerid][pXP] < UpgradesExp[i]))
						format(temp, sizeof(temp), "{3385ff}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], UpgradesDesc[l][i], pSkills[playerid][e_skills:i], UpgradesMax[i]);
					else
						format(temp, sizeof(temp), "{ff3300}%s (%s %d + %d EXP)\n\t{e6f0ff}- %s{e6f0ff} (%d/%d)\n", UpgradesNames[l][i], loc, UpgradesRanks[i], UpgradesExp[i], UpgradesDesc[l][i], pSkills[playerid][e_skills:i], UpgradesMax[i]);
				}
			}
		}
		strcat(str, temp);
	}
	
	switch(Player[playerid][pLang])
	{
	    case 0: format(s, sizeof(s), "{FFFFFF}Rank: %d | {FF0000}Points: %d", Player[playerid][pRank], Player[playerid][pUpgPoints]);
	    case 1: format(s, sizeof(s), "{FFFFFF}Ранг: %d | {FF0000}Очков: %d", Player[playerid][pRank], Player[playerid][pUpgPoints]);
	    case 2: format(s, sizeof(s), "{FFFFFF}Ranjo: %d | {FF0000}Puntos: %d", Player[playerid][pRank], Player[playerid][pUpgPoints]);
	}
	
	ShowPlayerDialog(playerid, DIALOG_UPGRADE_SKILLS, DIALOG_STYLE_LIST, s, str, "Read", "Back");
}

stock ResetGangnMembersToOptimal(gangid)
{
	foreach(Player, i)
	{
	    if(Player[i][pRank] < GangsSettings[6] && Player[i][pClan] == gangid && Player[i][pClanRank] <= 5)
	    {
	        Clan[Player[i][pClan]][g_MaxMembers]--;
	        SetGangBuff(Player[i][pClan], Clan[Player[i][pClan]][g_MaxMembers]);
	        Player[i][pClan] = 0;
	        Player[i][pClanRank] = 0;
	        SendClientMessage(i, -1, serverLang[Player[i][pLang]][124]);
	        if(GetPlayerTeamEx(i) == TEAM_HUMAN) SetPlayerColor(i, COLOR_HUMAN);
	    }
	}
	new query[128];
	mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Clan`='0',`ClanRank`='0' WHERE `Clan` = '%d' AND `Rank` < '%d' AND `ClanRank` < 6 AND `build`='"SERVER_BUILD"'", gangid, GangsSettings[6]);
	mysql_tquery(Base, query, "");
	
	mysql_format(Base, query, sizeof(query), "SELECT `Clan` FROM `users` WHERE `Clan` = '%d' AND `build`='"SERVER_BUILD"'", gangid);
	mysql_tquery(Base, query, "GetGangMembers", "i", gangid);
}

stock AssassinTeleport(playerid, targetid)
{
	new Float:pos[6], objectid;
	GetPlayerPos(playerid, pos[3], pos[4], pos[5]);
	objectid = CreateObject(18723, pos[3], pos[4], pos[5] - 1.2, 0.0, 0.0, 0.0);
    SetTimerEx("RemoveObject", 700, 0, "i", objectid);
	
	GetPlayerPos(targetid, pos[0], pos[1], pos[2]);
	GetXYBehindPlayer(targetid, pos[0], pos[1], 0.5);
	
	objectid = CreateObject(18723, pos[0], pos[1], pos[2] - 1.2, 0.0, 0.0, 0.0);
    SetTimerEx("RemoveObject", 700, 0, "i", objectid);
	
	SetPlayerPosAC(playerid, pos[0], pos[1], pos[2]);
	SetCameraBehindPlayer(playerid);
	SetCameraBehindPlayer(targetid);
    
    SetPlayerArmedWeapon(playerid, 4);
    
    ApplyAnimation(playerid, "KNIFE", "KILL_Knife_Player", 4.1, 0, 0, 0, 0, 2400, false); // Killer
    SetTimerEx("ReturnAKiller", 2400, 0, "ifff", playerid, pos[3], pos[4], pos[5]);
    
    new time = 1300;
	ApplyAnimation(targetid, "KNIFE", "KILL_Knife_Ped_Damage", 4.1, 0, 0, 0, 0, time, 1);
    SetTimerEx("DieFromAKnife", time-200, 0, "ii", targetid, playerid);
}

fun DieFromAKnife(playerid, killer)
{
    ApplyAnimation(playerid, "KNIFE", "KILL_Knife_Ped_Die", 4.1, 0, 0, 0, 1, 1800, 1);
	SetTimerEx("KillAPlayerAssassin", 2000, 0, "ii", killer, playerid);
}

fun ReturnAKiller(playerid, Float:x, Float:y, Float:z)
{
    SetPlayerPosAC(playerid, x, y, z);
	SetCameraBehindPlayer(playerid);
}

fun KillAPlayerAssassin(playerid, targetid)
{
	IsPlayerDeadByWarMember[targetid] = playerid;
	SendDeathMessage(playerid, targetid, 4);
	GivePlayerXP(playerid, 10);
	SpawnPlayer(targetid);
}

stock AddNewAttachement(playerid, attachID, item_id)
{
	for( new i = 31; i > -1; i--) if(Player[playerid][pNewAttachments][i] == attachID) { SendClientMessage(playerid, -1, "{FFF000}>> You already have this attachment!"); return 1; }
 	for( new i = 0; i < 32; i++)
    {
    	if(Player[playerid][pNewAttachments][i] == -1)
		{
			Player[playerid][pNewAttachments][i] = attachID;
			RemoveItemFromInv(playerid, item_id, 1);
			SendClientMessageFormat(playerid, -1, "%s has been added to your /att", newAttachement[attachID][attachname]);
			return 1;
		}
	}
	SendClientMessage(playerid, -1, "{FFF000}>> All slots are full!");
	return 1;
}

stock abs(value) return ((value < 0 ) ? (-value) : (value));

stock GetChanceToWeapon(weaponid, &buff, &chance)
{
	switch(weaponid)
	{
	    case 8:
	    {
			switch(buff)
			{
			    case chaos_POISONING: chance = -10;
			    case chaos_BLEEDING: chance = -35;
			    case chaos_RADIATION, chaos_HOLY_AMMO, chaos_BLESSING, chaos_ARSON, chaos_ARMOR_DESTRUCTION, chaos_KNOCK_OVER: chance = 50;
			    case chaos_TORMENT: chance = -25;
			    case chaos_DISCHARGE: chance = 50;
			}
	    }
	    case 9:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = -2;
			    case chaos_BLEEDING: chance = -40;
			    case chaos_RADIATION, chaos_HOLY_AMMO, chaos_BLESSING, chaos_ARSON, chaos_ARMOR_DESTRUCTION, chaos_KNOCK_OVER: chance = 50;
			    case chaos_TORMENT: chance = -15;
			    case chaos_DISCHARGE: chance = 50;
			}
	    }
	    case 4:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = -40;
			    case chaos_BLEEDING: chance = -15;
			    case chaos_RADIATION, chaos_HOLY_AMMO, chaos_BLESSING, chaos_ARSON, chaos_ARMOR_DESTRUCTION, chaos_KNOCK_OVER: chance = 65;
			    case chaos_TORMENT: chance = -50;
			    case chaos_DISCHARGE: chance = 30;
			}
	    }
	    case 10:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = 80;
			    case chaos_BLEEDING: chance = 80;
			    case chaos_RADIATION, chaos_HOLY_AMMO, chaos_BLESSING, chaos_ARSON, chaos_ARMOR_DESTRUCTION, chaos_KNOCK_OVER: chance = 80;
			    case chaos_TORMENT: chance = 80;
			    case chaos_DISCHARGE: chance = 80;
			}
	    }
		case 23:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = -10;
			    case chaos_BLEEDING: chance = -2;
			    case chaos_BLESSING: chance = -25;
			    case chaos_ARSON: chance = -25;
			    case chaos_RADIATION, chaos_HOLY_AMMO, chaos_ARMOR_DESTRUCTION, chaos_KNOCK_OVER: chance = 45;
			    case chaos_TORMENT: chance = 35;
			    case chaos_DISCHARGE: chance = -25;
			}
	    }
	    case 24:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = 45;
			    case chaos_BLEEDING: chance = 45;
			    case chaos_BLESSING: chance = -10;
			    case chaos_ARSON: chance = -10;
			    case chaos_ARMOR_DESTRUCTION: chance = -30;
			    case chaos_HOLY_AMMO: chance = -30;
			    case chaos_RADIATION, chaos_KNOCK_OVER: chance = 75;
			    case chaos_TORMENT: chance = 25;
			    case chaos_DISCHARGE: chance = -15;
			}
	    }
	    case 25, 27:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = 65;
			    case chaos_BLEEDING: chance = 5;
			    case chaos_BLESSING: chance = 65;
			    case chaos_ARSON: chance = 75;
			    case chaos_ARMOR_DESTRUCTION: chance = -40;
			    case chaos_HOLY_AMMO: chance = 85;
			    case chaos_RADIATION, chaos_KNOCK_OVER: chance = -25;
			    case chaos_TORMENT: chance = 85;
			    case chaos_DISCHARGE: chance = 85;
			}
	    }
	    case 29:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = 65;
			    case chaos_BLEEDING: chance = 65;
			    case chaos_BLESSING: chance = -45;
			    case chaos_ARSON: chance = -35;
			    case chaos_ARMOR_DESTRUCTION: chance = -2;
			    case chaos_HOLY_AMMO: chance = -25;
			    case chaos_RADIATION, chaos_KNOCK_OVER: chance = 45;
			    case chaos_TORMENT: chance = 45;
			    case chaos_DISCHARGE: chance = -5;
			}
	    }
     	case 30, 31:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = -5;
			    case chaos_BLEEDING: chance = -5;
			    case chaos_BLESSING: chance = -15;
			    case chaos_ARSON: chance = -5;
			    case chaos_ARMOR_DESTRUCTION: chance = 45;
			    case chaos_HOLY_AMMO: chance = -35;
			    case chaos_RADIATION, chaos_KNOCK_OVER: chance = 45;
			    case chaos_TORMENT: chance = -12;
			    case chaos_DISCHARGE: chance = -2;
			}
	    }
	    case 32:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = 45;
			    case chaos_BLEEDING: chance = 45;
			    case chaos_BLESSING: chance = -15;
			    case chaos_ARSON: chance = 54;
			    case chaos_ARMOR_DESTRUCTION: chance = 54;
			    case chaos_HOLY_AMMO: chance = -15;
			    case chaos_RADIATION, chaos_KNOCK_OVER: chance = 75;
			    case chaos_TORMENT: chance = 45;
			    case chaos_DISCHARGE: chance = -45;
			}
	    }
	    case 33, 34:
	    {
	        switch(buff)
			{
			    case chaos_POISONING: chance = 75;
			    case chaos_BLEEDING: chance = -45;
			    case chaos_BLESSING: chance = 75;
			    case chaos_ARSON: chance = 25;
			    case chaos_ARMOR_DESTRUCTION: chance = -25;
			    case chaos_HOLY_AMMO: chance = 85;
			    case chaos_RADIATION, chaos_KNOCK_OVER: chance = 100;
			    case chaos_TORMENT: chance = 95;
			    case chaos_DISCHARGE: chance = 100;
			}
	    }
	}
}

fun returnEffect(playerid, buff, weaponid)
{
    switch(buff)
	{
	    case chaos_POISONING: return PoisionAttack(playerid);
	    case chaos_BLEEDING: return BleedingAttack(playerid);
	    case chaos_BLESSING: return HolyAndBlessAttack(playerid);
	    case chaos_ARSON: return FireAttack(playerid);
	    
	    case chaos_ARMOR_DESTRUCTION: return ArmourDestruction(playerid);
		case chaos_HOLY_AMMO:  return HolyAndBlessAttack(playerid);
	    case chaos_RADIATION: return RadioactiveAttack(playerid);
		case chaos_KNOCK_OVER: if(random(3) == 0) return KnockAttack(playerid, 2000);
		
	    case chaos_TORMENT: return TormentAttack(playerid);
	    case chaos_DISCHARGE: return DischargeAttack(playerid);
	}
	return 0;
}

stock TormentAttack(playerid)
{
    SendClientMessage(playerid, -1, "{ccff33}| - Severe wounds prevent you from using your abilities (Weapon Effect)");
    TormentTime[playerid] = gettime()+15;
    return 1;
}

stock DischargeAttack(playerid)
{
	if(random(8) == 0)
	{
	    new gid = Player[playerid][pClan],
	        team = GetPlayerTeamEx(playerid);

	    new Float:pos[6], objectid;
	    GetPlayerPos(playerid, pos[3], pos[4], pos[5]);

	    foreach(Player, i)
	    {
	        if(IsPlayerInRangeOfPoint(i, 7.5, pos[3], pos[4], pos[5]) && (GetPlayerTeamEx(i) == team || Player[i][pClan] == gid && GetPlayerTeamEx(i) == TEAM_HUMAN))
	        {
	    		ClearAnimations(i);
	    		GetPlayerPos(i, pos[0], pos[1], pos[2]);
			    if(Time >= 1)
				{
			        objectid = CreateObject(18718, pos[0], pos[1], pos[2] - 2.5, 0.0, 0.0, 0.0);
			        SetTimerEx("RemoveObject", 8000, 0, "i", objectid);
				}
			    ClearAnimations(i, 1);
				ApplyAnimation(i, "CRACK", "CRCKIDLE2", 4.1, 0, 1, 1, 0, 4000, 1);
				Player[i][Tasered] = true;
				PlayerPlaySound(i, 6003, 0.0, 0.0, 0.0);
				SetTimerEx("UnfreezePlayer", 5000, 0, "i", i);
				SendClientMessage(i, -1, "{ccff33}| - Electricity attack disabled you (Weapon Effect)");
			}
		}
	}
    return 1;
}

stock ArmourDestruction(playerid)
{
    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
    {
        new Float:h;
        GetPlayerArmourEx(playerid, h);
        if(h - 15.0 >= 1.0) SetPlayerArmourAC(playerid, h - 15.0);
        else
        {
            SetPlayerArmourAC(playerid, 0.0);
            GetPlayerHealthEx(playerid, h);
            SetPlayerHealthAC(playerid, h - 0.5);
        }
    }
    else
    {
        new Float:h;
        GetPlayerHealthEx(playerid, h);
        SetPlayerHealthAC(playerid, h - 0.5);
    }
    ARDestructionTime[playerid] = gettime()+3;
    SendClientMessage(playerid, -1, "{ccff33}| - Your defense level has dropped dramatically (Weapon Effect)");
    return 1;
}

stock PoisionAttack(playerid)
{
    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
		Player[playerid][PoisionTimer] = SetTimerEx("PoisionFunction", 1500, 1, "ifi", playerid, 2.5, 3);
		TextDrawShowForPlayer(playerid, GreenScreen[playerid]);
		SendClientMessage(playerid, -1, "{ccff33}| - You have been Poisoned (Weapon Effect)");
	}
	else
	{
		Player[playerid][PoisionTimer] = SetTimerEx("PoisionFunction", 2000, 1, "ifi", playerid, 0.5, 3);
        TextDrawShowForPlayer(playerid, GreenScreen[playerid]);
		SendClientMessage(playerid, -1, "{ccff33}| - You have been Poisoned (Weapon Effect)");
	}
	return 1;
}

stock HolyAndBlessAttack(playerid)
{
	SendClientMessage(playerid, -1, "{ccff33}| - You've been exposed to the Holy bullet (Weapon Effect)");
    if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE) return 20;
    return -5;
    
}

stock RadioactiveAttack(playerid)
{
	new Float:h;
	GetPlayerArmour(playerid, h);
	if(h <= 0.0)
	{
	    KillTimer(Player[playerid][BleedingTimer]);
	    Player[playerid][hasBleedEffect] = true;
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
		{
			Player[playerid][BleedingTimer] = SetTimerEx("PoisionFunction", 2500, 1, "ifi", playerid, 1.5, 2);
			TextDrawShowForPlayer(playerid, Poision[playerid]);
			SendClientMessage(playerid, -1, "{ccff33}| - You are exposed to Radiation (Weapon Effect)");
		}
		else
		{
			Player[playerid][BleedingTimer] = SetTimerEx("PoisionFunction", 1500, 1, "ifi", playerid, 3.5, 2);
			TextDrawShowForPlayer(playerid, Poision[playerid]);
			SendClientMessage(playerid, -1, "{ccff33}| - You are exposed to Radiation (Weapon Effect)");
  		}
	}
  	return 1;
}

stock BleedingAttack(playerid)
{
    KillTimer(Player[playerid][BleedingTimer]);
    Player[playerid][hasBleedEffect] = true;
	if(GetPlayerTeamEx(playerid) == TEAM_HUMAN)
	{
		Player[playerid][BleedingTimer] = SetTimerEx("Infection", 1000, 1, "ifii", playerid, 3.5, 0, -1);
		TextDrawShowForPlayer(playerid, Infected[playerid]);
		SendClientMessage(playerid, -1, "{ccff33}| - You've been Bleeding (Weapon Effect)");
	}
	else
	{
		Player[playerid][BleedingTimer] = SetTimerEx("Infection", 2000, 1, "ifii", playerid, 1.5, 0, -1);
		TextDrawShowForPlayer(playerid, Infected[playerid]);
		SendClientMessage(playerid, -1, "{ccff33}| - You've been Bleeding (Weapon Effect)");
	}
	return 1;
}

stock KnockAttack(playerid, time)
{
	ApplyAnimation(playerid, "PED", "BIKE_fall_off", 4.1, 0, 1, 1, 1, time*1000, 1);
	TormentTime[playerid] = gettime()+5;
	SendClientMessage(playerid, -1, "{ccff33}| - You've been hit by a heavy bullet (Weapon Effect)");
	return 1;
}

stock FireAttack(playerid)
{
    SetPlayerAttachedObject(playerid,9,18689,1,0.000000,-0.130999,-1.650999,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000);
    Player[playerid][IsBurned][0] = 1;
	Player[playerid][IsBurned][1] = 2;
	
	SendClientMessage(playerid, -1, "{ccff33}| - You were set on fire (Weapon Effect)");
	return 1;
}


CMD:arshow(playerid, params[])
{
    if(sscanf(params, "i", params[0]))
	{
	    SendClientMessage(playerid, -1, "{FFFFFF}/arshow (0 = Helmet | 1 = Armour | 2 = Arms | 3 = Legs)");
		return 1;
	}
	if(params[0] < 0 || params[0] > 3)
	{
	    SendClientMessage(playerid, -1, "{FFFFFF}/arshow (0 = Helmet | 1 = Armour | 2 = Arms | 3 = Legs)");
		return 1;
	}
	
	new buff[32], weapid = params[0];
	switch(CharArInfo[playerid][CharAR_Buff_One][weapid])
	{
	    case 0: strcat(buff, chaos_ARwordsS[0]);
	    case 1: strcat(buff, chaos_ARwordsS[1]);
	    case 2: strcat(buff, chaos_ARwordsS[2]);
	    case 3: strcat(buff, chaos_ARwordsS[3]);
	    case 4: strcat(buff, chaos_ARwordsS[4]);
	    case 5: strcat(buff, chaos_ARwordsS[5]);
	    case 6: strcat(buff, chaos_ARwordsS[6]);
	    case 7: strcat(buff, chaos_ARwordsS[7]);
	    case 8: strcat(buff, chaos_ARwordsS[8]);
	    case 9: strcat(buff, chaos_ARwordsS[9]);
	    case 10: strcat(buff, chaos_ARwordsS[10]);
	    case 11: strcat(buff, chaos_ARwordsS[11]);
	    default: strcat(buff, "");
	}
    switch(CharArInfo[playerid][CharAR_Buff_Two][weapid])
	{
	    case 0: strcat(buff, chaos_ARwordsM[0]);
	    case 1: strcat(buff, chaos_ARwordsM[1]);
	    case 2: strcat(buff, chaos_ARwordsM[2]);
	    case 3: strcat(buff, chaos_ARwordsM[3]);
	    case 4: strcat(buff, chaos_ARwordsM[4]);
	    case 5: strcat(buff, chaos_ARwordsM[5]);
	    case 6: strcat(buff, chaos_ARwordsM[6]);
	    case 7: strcat(buff, chaos_ARwordsM[7]);
	    case 8: strcat(buff, chaos_ARwordsM[8]);
	    case 9: strcat(buff, chaos_ARwordsM[9]);
	    case 10: strcat(buff, chaos_ARwordsM[10]);
	    case 11: strcat(buff, chaos_ARwordsM[11]);
	    default: strcat(buff, "");
	}
	switch(CharArInfo[playerid][CharAR_Buff_Three][weapid])
	{
	    case 0: strcat(buff, chaos_ARwordsE[0]);
	    case 1: strcat(buff, chaos_ARwordsE[1]);
	    case 2: strcat(buff, chaos_ARwordsE[2]);
	    case 3: strcat(buff, chaos_ARwordsE[3]);
	    case 4: strcat(buff, chaos_ARwordsE[4]);
	    case 5: strcat(buff, chaos_ARwordsE[5]);
	    case 6: strcat(buff, chaos_ARwordsE[6]);
	    case 7: strcat(buff, chaos_ARwordsE[7]);
	    case 8: strcat(buff, chaos_ARwordsE[8]);
	    case 9: strcat(buff, chaos_ARwordsE[9]);
	    case 10: strcat(buff, chaos_ARwordsE[10]);
	    case 11: strcat(buff, chaos_ARwordsE[11]);
	    default: strcat(buff, "");
	}
	
	if(strlen(buff))
	{
	    SendMessageFormatToAll(-1, "{0099ff}>> %s shows his / her +%d %s %s {FFF000}(/look %d)", Player[playerid][UserName], CharacterSkill[playerid][weapid], chs_n[params[0]], buff, playerid);
     	Player[playerid][pShowWeapon][1] = gettime() + 30;
     	Player[playerid][pShowWeapon][0] = params[0];
	}
	else
	{
	    SendMessageFormatToAll(-1, "{0099ff}>> %s shows his / her +%d %s {FFF000}(/look %d)", Player[playerid][UserName], CharacterSkill[playerid][weapid], chs_n[params[0]], playerid);
     	Player[playerid][pShowWeapon][1] = gettime() + 30;
     	Player[playerid][pShowWeapon][0] = params[0];
	}
	
	return 1;
}

CMD:effshow(playerid, params[])
{
	if(sscanf(params, "i", params[0]))
	{
	    SendClientMessage(playerid, -1, "{FFFFFF}/effshow (weaponid)");
		return 1;
	}
	
	if(params[0] >= 0 && params[0] <= 3)
	{
	    new f[11];
	    format(f, sizeof(f), "%d", params[0]);
	    cmd::arshow(playerid, f);
	    return 1;
	}
	
	if(params[0] <= 3 || params[0] >= 35)
	{
	    SendClientMessage(playerid, -1, "{FFFFFF}/effshow (weaponid)");
		return 1;
	}
	
	new buff[32], weapid = params[0];
	switch(WeaponsInfo[playerid][WeaponBuff_One][weapid])
	{
	    case chaos_POISONING: strcat(buff, chaos_wordsS[chaos_POISONING]);
	    case chaos_BLEEDING: strcat(buff, chaos_wordsS[chaos_BLEEDING]);
	    case chaos_RADIATION: strcat(buff, chaos_wordsS[chaos_RADIATION]);
	    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsS[chaos_HOLY_AMMO]);
	    case chaos_BLESSING: strcat(buff, chaos_wordsS[chaos_BLESSING]);
	    case chaos_ARSON: strcat(buff, chaos_wordsS[chaos_ARSON]);
	    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsS[chaos_ARMOR_DESTRUCTION]);
	    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsS[chaos_KNOCK_OVER]);
	    case chaos_TORMENT: strcat(buff, chaos_wordsS[chaos_TORMENT]);
	    case chaos_DISCHARGE: strcat(buff, chaos_wordsS[chaos_DISCHARGE]);
	    default: strcat(buff, "");
	}
    switch(WeaponsInfo[playerid][WeaponBuff_Two][weapid])
	{
	    case chaos_POISONING: strcat(buff, chaos_wordsM[chaos_POISONING]);
	    case chaos_BLEEDING: strcat(buff, chaos_wordsM[chaos_BLEEDING]);
	    case chaos_RADIATION: strcat(buff, chaos_wordsM[chaos_RADIATION]);
	    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsM[chaos_HOLY_AMMO]);
	    case chaos_BLESSING: strcat(buff, chaos_wordsM[chaos_BLESSING]);
	    case chaos_ARSON: strcat(buff, chaos_wordsM[chaos_ARSON]);
	    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsM[chaos_ARMOR_DESTRUCTION]);
	    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsM[chaos_KNOCK_OVER]);
	    case chaos_TORMENT: strcat(buff, chaos_wordsM[chaos_TORMENT]);
	    case chaos_DISCHARGE: strcat(buff, chaos_wordsM[chaos_DISCHARGE]);
	    default: strcat(buff, "");
	}
	switch(WeaponsInfo[playerid][WeaponBuff_Three][weapid])
	{
	    case chaos_POISONING: strcat(buff, chaos_wordsE[chaos_POISONING]);
	    case chaos_BLEEDING: strcat(buff, chaos_wordsE[chaos_BLEEDING]);
	    case chaos_RADIATION: strcat(buff, chaos_wordsE[chaos_RADIATION]);
	    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsE[chaos_HOLY_AMMO]);
	    case chaos_BLESSING: strcat(buff, chaos_wordsE[chaos_BLESSING]);
	    case chaos_ARSON: strcat(buff, chaos_wordsE[chaos_ARSON]);
	    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsE[chaos_ARMOR_DESTRUCTION]);
	    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsE[chaos_KNOCK_OVER]);
	    case chaos_TORMENT: strcat(buff, chaos_wordsE[chaos_TORMENT]);
	    case chaos_DISCHARGE: strcat(buff, chaos_wordsE[chaos_DISCHARGE]);
	    default: strcat(buff, "");
	}
	
	if(strlen(buff))
	{
	    new wn[32];
	    GetWeaponName(weapid, wn, sizeof(wn));
	    SendMessageFormatToAll(-1, "{0099ff}>> %s shows his / her +%d %s %s {FFF000}(/look %d)", Player[playerid][UserName], WeaponSkill[playerid][weapid], wn, buff, playerid);
     	Player[playerid][pShowWeapon][1] = gettime() + 30;
     	Player[playerid][pShowWeapon][0] = weapid;
	}
	else
	{
	    //SendClientMessage(playerid, -1, "{FFF000}>> This weapon has not effects to show!");
	    new wn[32];
	    GetWeaponName(weapid, wn, sizeof(wn));
	    SendMessageFormatToAll(-1, "{0099ff}>> %s shows his / her +%d %s {FFF000}(/look %d)", Player[playerid][UserName], WeaponSkill[playerid][weapid], wn, playerid);
     	Player[playerid][pShowWeapon][1] = gettime() + 30;
     	Player[playerid][pShowWeapon][0] = weapid;
	}
	return 1;
}

CMD:look(playerid, params[])
{
    if(sscanf(params, "i", params[0]))
    {
        SendClientMessage(playerid, -1, "/look (playerid)");
		return 1;
    }
    if(!IsPlayerConnected(params[0]))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	if(gettime() > Player[params[0]][pShowWeapon][1])
	{
	    SendClientMessage(playerid, -1, "Player no longer shows weapon / armour");
		return 1;
	}
	if(Player[params[0]][pShowWeapon][0] <= -1)
	{
	    SendClientMessage(playerid, -1, "Player no longer shows weapon / armour");
		return 1;
	}
	
	new buff[48], str[1024], temp[144];
	
	new wid = Player[params[0]][pShowWeapon][0], pid = params[0];
	
	if(wid <= -1 || !IsPlayerConnected(pid))
	{
	    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{0099ff}OPS", "Something went wrong...", "Ok", "");
		return 1;
	}
	
	if(wid <= 3)
	{
	    new bdpt = 0, dodge, upgr = wid;
	    
	    switch(CharArInfo[pid][CharAR_Buff_One][wid])
		{
		    case 0: strcat(buff, chaos_ARwordsS[0]);
		    case 1: strcat(buff, chaos_ARwordsS[1]);
		    case 2: strcat(buff, chaos_ARwordsS[2]);
		    case 3: strcat(buff, chaos_ARwordsS[3]);
		    case 4: strcat(buff, chaos_ARwordsS[4]);
		    case 5: strcat(buff, chaos_ARwordsS[5]);
		    case 6: strcat(buff, chaos_ARwordsS[6]);
		    case 7: strcat(buff, chaos_ARwordsS[7]);
		    case 8: strcat(buff, chaos_ARwordsS[8]);
		    case 9: strcat(buff, chaos_ARwordsS[9]);
		    case 10: strcat(buff, chaos_ARwordsS[10]);
		    case 11: strcat(buff, chaos_ARwordsS[11]);
		    default: strcat(buff, "");
		}
	    switch(CharArInfo[pid][CharAR_Buff_Two][wid])
		{
		    case 0: strcat(buff, chaos_ARwordsM[0]);
		    case 1: strcat(buff, chaos_ARwordsM[1]);
		    case 2: strcat(buff, chaos_ARwordsM[2]);
		    case 3: strcat(buff, chaos_ARwordsM[3]);
		    case 4: strcat(buff, chaos_ARwordsM[4]);
		    case 5: strcat(buff, chaos_ARwordsM[5]);
		    case 6: strcat(buff, chaos_ARwordsM[6]);
		    case 7: strcat(buff, chaos_ARwordsM[7]);
		    case 8: strcat(buff, chaos_ARwordsM[8]);
		    case 9: strcat(buff, chaos_ARwordsM[9]);
		    case 10: strcat(buff, chaos_ARwordsM[10]);
		    case 11: strcat(buff, chaos_ARwordsM[11]);
		    default: strcat(buff, "");
		}
		switch(CharArInfo[pid][CharAR_Buff_Three][wid])
		{
		    case 0: strcat(buff, chaos_ARwordsE[0]);
		    case 1: strcat(buff, chaos_ARwordsE[1]);
		    case 2: strcat(buff, chaos_ARwordsE[2]);
		    case 3: strcat(buff, chaos_ARwordsE[3]);
		    case 4: strcat(buff, chaos_ARwordsE[4]);
		    case 5: strcat(buff, chaos_ARwordsE[5]);
		    case 6: strcat(buff, chaos_ARwordsE[6]);
		    case 7: strcat(buff, chaos_ARwordsE[7]);
		    case 8: strcat(buff, chaos_ARwordsE[8]);
		    case 9: strcat(buff, chaos_ARwordsE[9]);
		    case 10: strcat(buff, chaos_ARwordsE[10]);
		    case 11: strcat(buff, chaos_ARwordsE[11]);
		    default: strcat(buff, "");
		}
	    
	  	format(temp, sizeof(temp), "\n\n{0080ff}+%d %s %s\n\n", CharacterSkill[pid][upgr], chs_n[upgr], buff);
		strcat(str, temp);

		strcat(str, "{f8ecf2}* Each improvement of armor improves its characteristics and damage absorption\n\n");

		switch(upgr)
		{
		    case 0: bdpt = 9;
		    case 1: bdpt = 3;
		    case 2: bdpt = 5;
		    case 3: bdpt = 7;
		}

		dodge = GiveArmourDodge(pid, bdpt);
	    if(dodge <= -1)
		{
		    format(temp, sizeof(temp), "{6666ff}- The probability of crit. damage:{8080ff} -%d\n", abs(dodge));
			strcat(str, temp);
		    format(temp, sizeof(temp), "{e0ebeb}- Chance of additional damage absorption:{c1d7d7} %d '/.\n", min(75, floor((float(abs(dodge))/10.0)*100)));
			strcat(str, temp);
		}

		dodge = TakeAdditionalDamage(pid, bdpt);
		if(dodge >= 1)
		{
		    format(temp, sizeof(temp), "{e0ebeb}- Additional damage absorbed:{c1d7d7} %d\n", dodge);
			strcat(str, temp);
		}

		if(CharArInfo[pid][CharAR_Buff_One][upgr] > -1)
		{
		    format(temp, sizeof(temp), "\n{ffd11a}Effect #1: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[CharArInfo[pid][CharAR_Buff_One][upgr]], CharArInfo[pid][CharAR_Power_One][upgr]);
			strcat(str, temp);
		}
		else strcat(str, "\n{ffd11a}Effect #1: None\n");

		if(CharArInfo[pid][CharAR_Buff_Two][upgr] > -1)
		{
		    format(temp, sizeof(temp), "{ffd11a}Effect #2: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[CharArInfo[pid][CharAR_Buff_Two][upgr]], CharArInfo[pid][CharAR_Power_Two][upgr]);
			strcat(str, temp);
		}
		else strcat(str, "{ffd11a}Effect #2: None\n");

		if(CharArInfo[pid][CharAR_Buff_Three][upgr] > -1)
		{
		    format(temp, sizeof(temp), "{ffd11a}Effect #3: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[CharArInfo[pid][CharAR_Buff_Three][upgr]], CharArInfo[pid][CharAR_Power_Three][upgr]);
			strcat(str, temp);
		}
		else strcat(str, "{ffd11a}Effect #3: None\n");
		strcat(str, "\n\n");
		
		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{0099ff}ARMOUR", str, "Ok", "");
	}
	else
	{
	    new buff0 = -1, buff1 = -1, buff2 = -1,
	        chance0, chance1, chance2,
	        time0, time1, time2,
	        Float:power0,Float:power1,Float:power2,
			l = 0;


	    if(WeaponsInfo[pid][WeaponBuff_One][wid] > -1)
	    {
			switch(WeaponsInfo[pid][WeaponBuff_One][wid])
			{
			    case chaos_POISONING: strcat(buff, chaos_wordsS[chaos_POISONING]);
			    case chaos_BLEEDING: strcat(buff, chaos_wordsS[chaos_BLEEDING]);
			    case chaos_RADIATION: strcat(buff, chaos_wordsS[chaos_RADIATION]);
			    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsS[chaos_HOLY_AMMO]);
			    case chaos_BLESSING: strcat(buff, chaos_wordsS[chaos_BLESSING]);
			    case chaos_ARSON: strcat(buff, chaos_wordsS[chaos_ARSON]);
			    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsS[chaos_ARMOR_DESTRUCTION]);
			    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsS[chaos_KNOCK_OVER]);
			    case chaos_TORMENT: strcat(buff, chaos_wordsS[chaos_TORMENT]);
			    case chaos_DISCHARGE: strcat(buff, chaos_wordsS[chaos_DISCHARGE]);
			    default: strcat(buff, "");
			}
			buff0 = WeaponsInfo[pid][WeaponBuff_One][wid];
			chance0 = WeaponsInfo[pid][WeaponBuff_Chance_One][wid];
			time0 = WeaponsInfo[pid][WeaponBuff_Time_One][wid];
			power0 = WeaponsInfo[pid][WeaponBuff_Power_One][wid];
		}
		else strcat(buff, "");
		
		if(WeaponsInfo[pid][WeaponBuff_Two][wid] > -1)
	    {
		    switch(WeaponsInfo[pid][WeaponBuff_Two][wid])
			{
			    case chaos_POISONING: strcat(buff, chaos_wordsM[chaos_POISONING]);
			    case chaos_BLEEDING: strcat(buff, chaos_wordsM[chaos_BLEEDING]);
			    case chaos_RADIATION: strcat(buff, chaos_wordsM[chaos_RADIATION]);
			    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsM[chaos_HOLY_AMMO]);
			    case chaos_BLESSING: strcat(buff, chaos_wordsM[chaos_BLESSING]);
			    case chaos_ARSON: strcat(buff, chaos_wordsM[chaos_ARSON]);
			    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsM[chaos_ARMOR_DESTRUCTION]);
			    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsM[chaos_KNOCK_OVER]);
			    case chaos_TORMENT: strcat(buff, chaos_wordsM[chaos_TORMENT]);
			    case chaos_DISCHARGE: strcat(buff, chaos_wordsM[chaos_DISCHARGE]);
			    default: strcat(buff, "");
			}
			buff1 =  WeaponsInfo[pid][WeaponBuff_Two][wid];
			chance1 = WeaponsInfo[pid][WeaponBuff_Chance_Two][wid];
			time1 = WeaponsInfo[pid][WeaponBuff_Time_Two][wid];
			power1 = WeaponsInfo[pid][WeaponBuff_Power_Two][wid];
		}
		else strcat(buff, "");
		
		if(WeaponsInfo[pid][WeaponBuff_Three][wid] > -1)
		{
			switch(WeaponsInfo[pid][WeaponBuff_Three][wid])
			{
			    case chaos_POISONING: strcat(buff, chaos_wordsE[chaos_POISONING]);
			    case chaos_BLEEDING: strcat(buff, chaos_wordsE[chaos_BLEEDING]);
			    case chaos_RADIATION: strcat(buff, chaos_wordsE[chaos_RADIATION]);
			    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsE[chaos_HOLY_AMMO]);
			    case chaos_BLESSING: strcat(buff, chaos_wordsE[chaos_BLESSING]);
			    case chaos_ARSON: strcat(buff, chaos_wordsE[chaos_ARSON]);
			    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsE[chaos_ARMOR_DESTRUCTION]);
			    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsE[chaos_KNOCK_OVER]);
			    case chaos_TORMENT: strcat(buff, chaos_wordsE[chaos_TORMENT]);
			    case chaos_DISCHARGE: strcat(buff, chaos_wordsE[chaos_DISCHARGE]);
			    default: strcat(buff, "");
			}
			buff2 = WeaponsInfo[pid][WeaponBuff_Three][wid];
			chance2 = WeaponsInfo[pid][WeaponBuff_Chance_Three][wid];
			time2 = WeaponsInfo[pid][WeaponBuff_Time_Three][wid];
			power2 = WeaponsInfo[pid][WeaponBuff_Power_Three][wid];
		}
		else strcat(buff, "");

		new wn[32];
	 	GetWeaponName(wid, wn, sizeof(wn));
	  	format(temp, sizeof(temp), "{FFFFFF}+%d %s %s\n------------------------------------------------------------------\n\n", WeaponSkill[pid][wid], wn, buff);
		strcat(str, temp);

        strcat(str, "{f8ecf2}* Each improvement of weapon improves its characteristics and damage\n\n");

		new weapid = wid;
		new plid = params[0];

		new crc = GiveWeaponCriticalChance(plid, weapid);
	    if(crc >= 1)
	    {
		    format(temp, sizeof(temp), "{e0ebeb}- Critical Hit Chance:{c1d7d7} %d '/.\n", min(75, floor((float(crc)/10.0)*100)));
			strcat(str, temp);
			format(temp, sizeof(temp), "{6666ff}- Additional Critical Damage:{8080ff} %.0f\n\n", GiveWeaponCriticalDamage(plid, weapid));
			strcat(str, temp);
	    }

        for( new h, k, j = 0; j < 8; j++)
		{
			if(WeaponModule[playerid][weapid][j] >= 0)
			{
			    h = WeaponModule[playerid][weapid][j];
				format(temp, sizeof(temp), "{ffcc00}- %s: %s\n", WeaponModuleName[j], WeaponModuleNameEx[h]);
				strcat(str, temp);
			}
			else
			{
			    h = -1;
			    k = -1;
			    switch(j)
			    {
			        case 0: k = GiveWeaponPointer(weapid);
			        case 1: k = GiveWeaponMuffler(weapid);
			        case 2: k = GiveWeaponScope(weapid);
			        case 3: k = GiveWeaponTacticalUnit(weapid);
			        case 4: k = GiveWeaponGrip(weapid);
			        case 5: k = GiveWeaponStock(weapid);
			        case 6: k = GiveWeaponAmmoModule(weapid);
			        case 7: k =  GiveWeaponMagazine(weapid);
			        default: k = -1;
				}
			    
			    if(k > -1)
					format(temp, sizeof(temp), "{b3ccff}- (Default) %s: %s\n", WeaponModuleName[j], WeaponModuleNameEx[k]);
			    else
					format(temp, sizeof(temp), "{ffcc00}- %s: None\n", WeaponModuleName[j]);
			    
				strcat(str, temp);
			}
		}
		strcat(str, "\n");
		
		if(buff0 > -1 && buff0 < sizeof(chaosEffect[]))
		{
			format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n", chaosEffect[0][buff0], chance0, time0, power0);
	        strcat(str, temp);
		}
		else strcat(str, "{0099ff}- Effect #1: None\n");
		
		if(buff1 > -1 && buff1 < sizeof(chaosEffect[]))
		{
			format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n", chaosEffect[0][buff1], chance1, time1, power1);
			strcat(str, temp);
		}
		else strcat(str, "{0099ff}- Effect #2: None\n");
		
		if(buff2 > -1 && buff2 < sizeof(chaosEffect[]))
		{
			format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n\n", chaosEffect[0][buff2], chance2, time2, power2);
			strcat(str, temp);
		}
        else strcat(str, "{0099ff}- Effect #3: None\n");
        
		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{0099ff}WEAPON", str, "Ok", "");
	}
	return 1;
}

stock ApplyCustomDamage(issuerid, playerid, weaponid, Float:amount, bool:type = false, bodypart = 3)
{
	PlayerShotPlayer[issuerid][playerid] = true;
	PlayerDamageChecker[playerid][DamageGiven] += 0.5;
	
	if(Player[issuerid][aDuty] || Player[playerid][aDuty]) return 0;
	
	new weapname[32];
	GetWeaponName(weaponid, weapname, sizeof(weapname));
	if(GetPVarInt(issuerid, weapname) <= -2 && strlen(weapname) >= 2) return 0;
	
    new Float:hp, Float:am, Float:damage = amount;
    GetPlayerArmourEx(playerid, am);
    GetPlayerHealthEx(playerid, hp);
	KilledBy[playerid] = issuerid;
	KilledByWeapon[playerid] = weaponid;

	DamageApplyType[playerid][0] = type;
	DamageApplyType[playerid][1] = 0;

    switch(weaponid)
    {
		case 9: damage = (amount * 0.6);
		case 26: damage = (amount * 0.55);
		case 38: damage = (amount * 0.25);
    }
    
    if(GetPlayerTeamEx(issuerid) == TEAM_HUMAN && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && !Player[issuerid][KickBack] && Player[issuerid][pVip] >= 3)
    {
        for( new j; j < sizeof(Map[ZombieSpawnX]); j++ ) if(IsPlayerInRangeOfPoint(issuerid, 5.0, Map[ZombieSpawnX][j], Map[ZombieSpawnY][j], Map[ZombieSpawnZ][j])) {}
        else
        {
			if(weaponid >= 23 && weaponid <= 31 && weaponid != 27)
			{
			    if(Player[issuerid][pClass][TEAM_HUMAN] == ASSASSIN || Player[issuerid][pClass][TEAM_HUMAN] == DOCTOR || Player[issuerid][pClass][TEAM_HUMAN] == HUMANQUEEN || Player[issuerid][pClass][TEAM_HUMAN] == IRONMAN) {}
				else
				{
				    new Float:pos[4];
				    GetPlayerPos(issuerid, pos[0], pos[1], pos[2]);
					if(IsPlayerInRangeOfPoint(playerid, 12.0, pos[0], pos[1], pos[2]))
				    {
					    GetPlayerFacingAngle(issuerid, pos[3]);
						GetPlayerCameraFrontVector(issuerid, pos[0], pos[1], pos[2]);
			  			SetPlayerVelocity(playerid, pos[0]*0.10, pos[1]*0.10, pos[2]*0.10);
			  			SetPlayerFacingAngle(playerid, pos[3]);
			  			AntiTPTimerEx(playerid, 4);
						AntiSlap(playerid, 4);
						AntiSpeedHack(playerid, 3);
					}
				}
			}
		}
    }

    new Float:result = (am - damage), Float:fract = ((result) <= -0.001 ? float(abs(ceil(result))) : 0.0);
	if(am >= 0.001)
	{
	    if( am - damage >= 1.0) SetPlayerArmourAC(playerid, am - damage);
	    else SetPlayerArmourAC(playerid, 0.0);

		SetPlayerHealthAC(playerid, hp - fract);
	}
	else
	{
		SetPlayerArmourAC(playerid, 0.0);
		SetPlayerHealthAC(playerid, hp - damage);
	}
	
	ShowDamageTaken(playerid, damage);
	
    if(weaponid != 9 && GetPlayerTeamEx(playerid) != GetPlayerTeamEx(issuerid) && GetUnlockedSlot(Player[issuerid][pSettings], PS_DING) == 1) PlayerPlaySound(issuerid, 17802, 0.0, 0.0, 0.0);
	return 1;
}

stock GetPlayerFPS(playerid)
{
    SetPVarInt(playerid, "DrunkL", GetPlayerDrunkLevel(playerid));
    if(GetPVarInt(playerid, "DrunkL") < 100){
        SetPlayerDrunkLevel(playerid, 2000);}
    else
    {
        if(GetPVarInt(playerid, "LDrunkL") != GetPVarInt(playerid, "DrunkL"))
        {
            SetPVarInt(playerid, "FPS", (GetPVarInt(playerid, "LDrunkL") - GetPVarInt(playerid, "DrunkL")));
            SetPVarInt(playerid, "LDrunkL", GetPVarInt(playerid, "DrunkL"));
            if((GetPVarInt(playerid, "FPS") > 0) && (GetPVarInt(playerid, "FPS") < 256)){
            return GetPVarInt(playerid, "FPS") - 1;}
        }
    }
    return 0;
}

fun DeleteFromKillstreakList(playerid)
{
    for( new j = 2; j > -1; j-- )
	{
		if(KSList[j] == playerid)
		{
			KSList[j] = -15+j;
			KSListKS[j] = -15+j;
		}
	}
    UpdateKillstreaksList(playerid);
	return 1;
}

fun SortKillstreakList()
{
	new itterations = sizeof(KSList), j, i, userid;
	for( i = 0; i < itterations; i++ )
	{
	    userid = KSList[i];
		if(!IsPlayerConnected(userid))
		{
			userid = -15+i;
			KSListKS[i] = -15+i;
		}
		else if(Player[userid][Killstreak] <= 0)
		{
			userid = -15+i;
			KSListKS[i] = -15+i;
		}
	}
	
	while(itterations > 0)
	{
		for( j = 0; j < 3; j++ )
		{
			for( i = j+1; i < 3; i++ )
			{
			    if(KSListKS[i] > KSListKS[j])
				{
					swap(KSList[j], KSList[i]);
                    swap(KSListKS[j], KSListKS[i]);
				}
			}
		}
		itterations--;
	}
}

fun bool:FindUserInKsList(playerid) {
	for ( new i = 0; i < 3; i++ ) {
		if(KSList[i] == playerid) return true;
	}
	return false;
}

fun UpdateKillstreaksList(playerid)
{
	new j, string[164], xyeta_a_ne_compiler[] = "Player";
	new player0[MAX_PLAYER_NAME], player1[MAX_PLAYER_NAME], player2[MAX_PLAYER_NAME];
	
	strmid(player0, xyeta_a_ne_compiler, 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
 	strmid(player1, xyeta_a_ne_compiler, 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
  	strmid(player2, xyeta_a_ne_compiler, 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);

	SortKillstreakList();

	if(IsPlayerConnected(KSList[0])) if(Player[KSList[0]][Killstreak] >= 1) strmid(player0, Player[KSList[0]][UserName], 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
    if(IsPlayerConnected(KSList[1])) if(Player[KSList[1]][Killstreak] >= 1) strmid(player1, Player[KSList[1]][UserName], 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
	if(IsPlayerConnected(KSList[2])) if(Player[KSList[2]][Killstreak] >= 1) strmid(player2, Player[KSList[2]][UserName], 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);

	for( j = 2; j > -1; j-- )
	{
	    if(KSList[j] == playerid)
	    {
	        KSListKS[j] = Player[playerid][Killstreak];
			foreach(Player, i)
			{
				switch(Player[i][pLang])
				{
				    case 0,2:
				    {
					    format(string,sizeof(string), "~w~Killstreaks:_1._~r~%s_(%d)_~w~2._~r~%s_(%d)_~w~3._~r~%s_(%d)", player0, KSList[0] > -1 ? Player[KSList[0]][Killstreak] : 0,
					 	player1, KSList[1] > -1 ? Player[KSList[1]][Killstreak] : 0,
					  	player2, KSList[2] > -1 ? Player[KSList[2]][Killstreak] : 0);
		  	        }
		  	        case 1:
				    {
					    format(string,sizeof(string), RusToGame("~w~Топ убийств:_1._~r~%s_(%d)_~w~2._~r~%s_(%d)_~w~3._~r~%s_(%d)"), player0, KSList[0] > -1 ? Player[KSList[0]][Killstreak] : 0,
					 	player1, KSList[1] > -1 ? Player[KSList[1]][Killstreak] : 0,
					  	player2, KSList[2] > -1 ? Player[KSList[2]][Killstreak] : 0);
		  	        }
				}
				TextDrawSetString(DisplayInfo[1][i], string);
			}
			return 1;
	    }
	}
	
	for( j = 0; j < 3; j++ )
	{
	    if(KSList[j] <= -1 || Player[playerid][Killstreak] > KSListKS[j] && !FindUserInKsList(playerid))
	    {
	        KSList[j] = playerid;
	        KSListKS[j] = Player[playerid][Killstreak];
	        foreach(Player, i)
			{
				switch(Player[i][pLang])
				{
				    case 0,2:
				    {
					    format(string,sizeof(string), "~w~Killstreaks:_1._~r~%s_(%d)_~w~2._~r~%s_(%d)_~w~3._~r~%s_(%d)", player0, KSList[0] > -1 ? Player[KSList[0]][Killstreak] : 0,
					 	player1, KSList[1] > -1 ? Player[KSList[1]][Killstreak] : 0,
					  	player2, KSList[2] > -1 ? Player[KSList[2]][Killstreak] : 0);
		  	        }
		  	        case 1:
				    {
					    format(string,sizeof(string), RusToGame("~w~Топ убийств:_1._~r~%s_(%d)_~w~2._~r~%s_(%d)_~w~3._~r~%s_(%d)"), player0, KSList[0] > -1 ? Player[KSList[0]][Killstreak] : 0,
					 	player1, KSList[1] > -1 ? Player[KSList[1]][Killstreak] : 0,
					  	player2, KSList[2] > -1 ? Player[KSList[2]][Killstreak] : 0);
		  	        }
				}
				TextDrawSetString(DisplayInfo[1][i], string);
			}
			return 1;
		}
	}
	
	return 0;
}

fun UseDamageSystem(playerid, issuerid, Float: amount, weaponid, bodypart)
{
	if(GetPlayerTeamEx(issuerid) == TEAM_HUMAN && (Player[issuerid][pClass][TEAM_HUMAN] == ASSASSIN || Player[issuerid][pClass][TEAM_HUMAN] == SHARPSHOOTER && weaponid == 34) && GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && bodypart == 9 && !Player[playerid][Helmet])
	{
	    PlayerShotPlayer[issuerid][playerid] = true;
		PlayerDamageChecker[playerid][DamageGiven] += 0.5;

		KilledBy[playerid] = issuerid;
		KilledByWeapon[playerid] = weaponid;

		SetPlayerHealthAC(playerid, -0.0);

		ShowDamageTaken(playerid, 100.0);
		Player[playerid][AbilityAffectedID] = issuerid;
	}
	
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && GetPlayerTeamEx(issuerid) == TEAM_ZOMBIE) Player[issuerid][TimesDamage]++;
	if(GetPlayerTeamEx(playerid) == TEAM_ZOMBIE && GetPlayerTeamEx(issuerid) == TEAM_ZOMBIE && (weaponid == 9 && Player[issuerid][TimesDamage] >= 30 || weaponid != 9 && Player[issuerid][TimesDamage] >= 3))
    {
        PlayerShotPlayer[issuerid][playerid] = true;

        switch(Player[issuerid][pLang])
	    {
			case 0: GameTextForPlayer(issuerid, "~b~WTF ~g~zombie?", 2000, 5);
	        case 1: GameTextForPlayer(issuerid,RusToGame("~b~ЧТО ~g~ЗА ~r~Х ~g~ЗОМБИ?"), 2000, 5);
	        case 2: GameTextForPlayer(issuerid,"~b~WTF ~g~zombi?", 2000, 5);
		}

		ApplyAnimation(issuerid, "PED", "getup_front", 4.1, 0, 1, 1, 0, 0);
		Player[issuerid][TimesDamage] = 0;
    }

	if(GetPlayerTeamEx(issuerid) != GetPlayerTeamEx(playerid)) ApplyCustomDamage(issuerid, playerid, weaponid, amount, false, bodypart);
	return 1;
}

fun CreateNewUserInDB(playerid, const IP[])
{
	Player[playerid][pAccountID] = cache_insert_id();
	if(Player[playerid][pAccountID] > -1)
	{
	    new query[364];
 		KillTimer(RegisterTimer[playerid]);
	    SetPlayerTeamEx(playerid, TEAM_ZOMBIE);
	    Player[playerid][pClass][TEAM_HUMAN] = CIVILIAN;
		Player[playerid][pClass][TEAM_ZOMBIE+1] = STANDARDZOMBIE;
	    Player[playerid][pClass][TEAM_HUMAN+1] = CIVILIAN;
		Player[playerid][pClass][TEAM_ZOMBIE+2] = STANDARDZOMBIE;

		mysql_format(Base, query, sizeof(query), "INSERT INTO `userinfo` (`id`,`last_ip`,`reg_date`,`port`) VALUES ('%d','%e','%d','%d')",Player[playerid][pAccountID], IP, gettime(), Player[playerid][pPort]);
		mysql_tquery(Base, query, "", "", "");
		Player[playerid][pRegDate] = gettime();
		strmid(Player[playerid][pLastIP], IP, 0, 16, 17);

        /*mysql_format(Base, query, sizeof(query), "SELECT * FROM `event` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadDefender", "i", playerid);

		mysql_format(Base, query, sizeof(query), "SELECT * FROM `Achievements` WHERE `ID` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadAchievements", "i", playerid);

        mysql_format(Base, query, sizeof(query), "SELECT * FROM `pspec` WHERE `ID` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadSpeciality", "i", playerid);

		mysql_format(Base, query, sizeof(query), "SELECT * FROM `quest` WHERE `id` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadQuest", "i", playerid);*/

        mysql_format(Base, query, sizeof(query), "SELECT * FROM `invs` WHERE `id` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadInv", "i", playerid);

        /*mysql_format(Base, query, sizeof(query), "SELECT * FROM `weaps` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadWeapons", "i", playerid);*/

        new y,d,month;
		getdate(y, month, d);
		mysql_format(Base, query, sizeof(query), "SELECT * FROM `aactivity` WHERE `id` = '%d' AND `month` = '%d'", Player[playerid][pAccountID], month);
		mysql_tquery(Base, query, "LoadAdminActivity", "i", playerid);

 		/*mysql_format(Base, query, sizeof(query), "SELECT * FROM `pets` WHERE `id` = '%d'", Player[playerid][pAccountID]);
 		mysql_tquery(Base, query, "LoadPets", "i", playerid);

 		mysql_format(Base, query, sizeof(query), "SELECT * FROM `ptrophys` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadTrophys", "i", playerid);

        mysql_format(Base, query, sizeof(query), "SELECT * FROM `buffs` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadBuffs", "i", playerid);

		mysql_format(Base, query, sizeof(query), "SELECT * FROM `skills` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadSkills", "i", playerid);

        mysql_format(Base, query, sizeof(query), "SELECT * FROM `sharpening` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadWeaponUpgrades", "i", playerid);

		mysql_format(Base, query, sizeof(query), "SELECT * FROM `nghpr` WHERE `id` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadDMissions", "i", playerid);

        mysql_format(Base, query, sizeof(query), "SELECT * FROM `timeout` WHERE `ID` = '%d'", Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "LoadTimeout", "i", playerid);*/

	 	new Head[48];
		format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 4);
		ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_3, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][11], ServerRegisters[Player[playerid][pLang]][10], ServerRegisters[Player[playerid][pLang]][12]);
		return 1;
	}
	else
	{
		SendClientMessageFormat(playerid, -1, "{FFF000}>> Error! Code 0x%d", mysql_errno(Base));
		foreach(Player, j) if(Player[j][pAdmin] > 0 && Player[j][pLogged]) SendClientMessageFormat(j, 0x33CCFFFF, "{33CCFF}>> %s has been kicked [Reason: MySQL error (0x%d)]", Player[playerid][UserName], mysql_errno(Base));
	}
	PlayerKick(playerid);
	return 1;
}

fun TryToFindUserNamesFromDiscord()
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("674323910648397894");
    if(cache_num_rows() > 0)
    {
		new acc, msg[72], query[164];
		
  		cache_get_value_name_int(0, "account", acc);
  		format(msg, sizeof(msg), "```css\nAccount ID %d\n```", acc);
		DCC_SendChannelMessageEx(DiscordChannel, msg);
		if(acc > 0)
		{
			mysql_format(Base, query, sizeof(query), "SELECT * FROM `namechanger` WHERE `account` = '%d' AND `build`='"SERVER_BUILD"' ORDER BY `Date` DESC", acc);
			mysql_tquery(Base, query, "ShowNameChanges", "i", acc);
		}
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```No results found```");
		return 1;
	}
	#endif
	return 1;
}

fun CheckForOffStatsInInvDiscord(type)
{
    #if debug_mode == 0
	if(type == 0) DiscordChannel = DCC_FindChannelById("674323910648397894");
    else DiscordChannel = DCC_FindChannelById("613185790683513003");
    
	if(cache_num_rows() > 0)
	{
		new  year, month, day, stats[512];
		getdate(year, month, day);
	    new y, m, d, h, i, s, vip[21], msg[200], rd, IP[16];
	    new k, ksm, rw, dw, dl, vp, vpt, ad, rk, xp, cln, clnr, id, name[24], uIP[16], lalog[24];
		
		if(cache_num_rows() > 1)
		{
	        format(msg, sizeof(msg), "```\n%d matches found\n```", cache_num_rows());
			DCC_SendChannelMessageEx(DiscordChannel, msg);
		}
		
		for( new zpl = 0; zpl < cache_num_rows(); zpl++)
		{
			cache_get_value_name_int(zpl, "ID", id);
			cache_get_value_name(zpl, "Name", name);
		    cache_get_value_name_int(zpl, "Kills", k);
	        cache_get_value_name_int(zpl, "Killstreak", ksm);
	        cache_get_value_name_int(zpl, "RoundWins", rw);
	        cache_get_value_name_int(zpl, "DuelWins", dw);
	        cache_get_value_name_int(zpl, "DuelLoses", dl);
	        cache_get_value_name_int(zpl, "VIP", vp);
	        cache_get_value_name_int(zpl, "Admin", ad);
	        cache_get_value_name_int(zpl, "Rank", rk);
	        cache_get_value_name_int(zpl, "EXP", xp);
	        cache_get_value_name_int(zpl, "Clan", cln);
	        cache_get_value_name_int(zpl, "ClanRank", clnr);
	        cache_get_value_name_int(zpl, "VipTime", vpt);
	        cache_get_value_name(zpl, "IP", uIP);
	        cache_get_value_name(zpl, "lalog", lalog);
	        TimestampToDate(vpt, y, m, d, h, i, s, 3);
	        cache_get_value_name_int(zpl, "reg_date", rd);
			cache_get_value_name(zpl, "last_ip", IP, 17);

			switch(vp)
			{
			    case 0: vip = "No";
			    case 1: vip = "Bronze(1)";
			    case 2: vip = "Silver(2)";
			    case 3: vip = "Gold(3)";
			}

			strcat(stats, "```\n******** Player Status ********\n");
		 	format(msg, sizeof(msg), ">> Name: %s - Kills: %d - Best Killstreak: %d\n", name, k, ksm);
		 	strcat(stats, msg);
			format(msg, sizeof(msg), ">> Wins: %d - Duel Wins: %d - Duel Loses: %d\n", rw, dw, dl);
			strcat(stats, msg);
	        if(d > 0) format(msg, sizeof(msg), ">> EXP: %d - VIP: %s - VIP Expire: %02dD/%02dM/%dY\n", xp, vip, d, m, y);
			else format(msg, sizeof(msg), ">> EXP: %d - VIP: %s - VIP Expire: ---\n", xp, vip);
			strcat(stats, msg);
			format(msg, sizeof(msg), ">> Clan: (ID %d)(Rank: %d) - Account ID: %d\n", cln, clnr, id);
	        strcat(stats, msg);
	        format(msg, sizeof(msg), ">> Registered IP: %s - Last Login: %s\n```", uIP, lalog);
	        strcat(stats, msg);
	        
			DCC_SendChannelMessageEx(DiscordChannel, stats);
			stats = "";

	 		TimestampToDate(rd, y, m, d, h, i, s, 3);
    		format(msg, sizeof(msg), "```\n>> Registered: %04d-%02d-%02d - Last IP: %s\n```", y, m, d, IP);
			DCC_SendChannelMessageEx(DiscordChannel, msg);
		}
	}
	else
	{
		DCC_SendChannelMessageEx(DiscordChannel, "```This player(s) is not found, check the data```");
	}
	#endif
	return 1;
}

fun CheckForIpsInDiscord(type)
{
    #if debug_mode == 0
    if(type == 0) DiscordChannel = DCC_FindChannelById("674323910648397894");
    else DiscordChannel = DCC_FindChannelById("613185790683513003");
    
	new size = cache_num_rows();
	if(size > 0)
	{
	    new i, User[MAX_PLAYER_NAME], id, query[164];
		for( i = 0; i < size; i++ )
 		{
	 	    cache_get_value_name(i, "Name", User, MAX_PLAYER_NAME);
	 	    cache_get_value_name_int(i, "ID", id);
			mysql_format(Base, query, sizeof(query), "SELECT `Name` FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", User);
	 	    if(type == 0) mysql_tquery(Base, query, "CheckForBan", "isiii", id, User, 1, -1, 1);
	 	    if(type == 1) mysql_tquery(Base, query, "CheckForBan", "isiii", id, User, 1, -1, 0);
		}
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "No results found!");
	}
	#endif
	return 1;
}

fun MakeAdminOfflineDiscord(const userName[], const reason[], lvl)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("667021505846312960");
	if(cache_num_rows() > 0)
 	{
 	    new id, frm[128], query[164];
 	    cache_get_value_name_int(0, "Admin", id);
 	    if(id >= 5)
 	    {
 	        DCC_SendChannelMessageEx(DiscordChannel, "```!makeadminoffline (name) (0-4)```");
			return 1;
	    }
		mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Admin` = '%d' WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", lvl, reason);
		mysql_tquery(Base, query, "", "", "");
		format(frm, 128, "```\n>> %s set admin level of %s to %d\n```", userName, reason, lvl);
		DCC_SendChannelMessageEx(DiscordChannel, frm);
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```\nThis player is not found, check the data\n```");
	}
	#endif
	return 1;
}

fun CheckToUnbanIpFromDiscord(const reason[], const userName[])
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("667021505846312960");
	if(cache_num_rows() > 0)
	{
	    new query[128], msg[200];
 	    format(query, 128, "unbanip %s", reason);
		SendRconCommand(query);
		SendRconCommand("reloadbans");
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][142], userName, reason);
		mysql_format(Base, query, sizeof(query), "DELETE FROM `banip` WHERE `IP` = '%e'", reason);
		mysql_tquery(Base, query, "", "", "");
		
		format(msg, 128, "```yaml\n%s has unbanned IP %s\n```", userName, reason);
		DiscordChannel = DCC_FindChannelById("613185790683513003");
		DCC_SendChannelMessageEx(DiscordChannel, msg);
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```\nThis ip address is not blocked\n```");
	}
	#endif
	return 1;
}

fun TryToUnbanFromDiscord(const reason[], const userName[], type)
{
    #if debug_mode == 0
    if(type == 0) DiscordChannel = DCC_FindChannelById("667021505846312960");
    else DiscordChannel = DCC_FindChannelById("613185790683513003");
    
	if(cache_num_rows() > 0)
 	{
 	    new query[164], msg[200];
     	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][47], reason, userName);
		mysql_format(Base, query, sizeof(query), "DELETE FROM `banlist` WHERE `Name` = '%e' AND `build`='"SERVER_BUILD"'", reason);
		mysql_tquery(Base, query, "", "", "");
		format(msg, 128, "```%s has been unbanned by %s```", reason, userName);
		DCC_SendChannelMessageEx(DiscordChannel, msg);

		DiscordChannel = DCC_FindChannelById("624580613697175582");
		format(query, sizeof query, "```\n%s has been unbanned by %s (IRC)\n```", reason, userName);
		DCC_SendChannelMessageEx(DiscordChannel, query);
	}
	else
	{
		DCC_SendChannelMessageEx(DiscordChannel, "```This player is not found, check the data```");
	}
	#endif
	return 1;
}

fun TryToBanNameFromDiscord(const user[], const reason[], const userName[])
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("667021505846312960");
	if(cache_num_rows() > 0)
	{
	    new id;
        cache_get_value_name_int(0, "ID", id);
        if(id > 0)
		{
			new query[300], msg[200];
		    mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',1,0,'"SERVER_BUILD"')", user, userName, reason);
			mysql_tquery(Base, query, "", "", "");

			mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`build`) VALUES ('%d','%e','%e','%d','%d','%d','%e','"SERVER_BUILD"')", id, userName, reason, 0, 1, gettime(), user);
			mysql_tquery(Base, query, "", "", "");

			format(msg, 128, "```%s has been banned by %s [Reason: %s]```", user, userName, reason);
			DCC_SendChannelMessageEx(DiscordChannel, msg);

			DiscordChannel = DCC_FindChannelById("619186196718944256");
 			format(msg, sizeof msg, "```\n%s has been banned by %s [Reason: %s]\n```", user, userName, reason);
  			DCC_SendChannelMessageEx(DiscordChannel, msg);
		}
		else
		{
	    	DCC_SendChannelMessageEx(DiscordChannel, "```This player is not found, check the data```");
		}
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```This player is not found, check the data```");
	}
	#endif
	return 1;
}

fun TryToRemovePlayerEXPFromDiscord(const userName[], percent)
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("667021505846312960");
	if(cache_num_rows() > 0)
 	{
  		new id, user[24], ex, frm[128], query[128];
		cache_get_value_name_int(0, "ID", id);
		cache_get_value_name(0, "Name", user);
		cache_get_value_name_int(0, "EXP", ex);

        new Float:tsena = float(ex), skidka = percent;
        ex -= floatround(((tsena/100)*skidka), floatround_round);
        
		mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `EXP` = '%d' WHERE `ID` = '%d'", max(0, ex), id);
		mysql_tquery(Base, query, "", "", "");

		format(frm, 128, "```\n>> %s took %d percents of %s's EXP\n```", userName, percent, user);
		DCC_SendChannelMessageEx(DiscordChannel, frm);

	   	foreach(Player, i)
		{
			if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s took %d percents of {FFFFFF}%s’s EXP", userName, percent, user);
			if(!strcmp(user, Player[i][UserName]))
			{
	    		Player[i][pXP] -= floatround(((tsena/100)*skidka), floatround_round);
	    		if(Player[i][pXP] <= -1) Player[i][pXP] = 0;
			}
		}
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```\nThis player is not found, check the data\n```");
	}
	#endif
	return 1;
}

fun OfftbanUserInDiscord(const userName[], const name[], time, const reason[])
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("613185790683513003");
	if(cache_num_rows() > 0)
	{
	    new rank, id, query[264];
	   	cache_get_value_name_int(0, "Admin", rank);
	   	cache_get_value_name_int(0, "ID", id);
	   	if(rank >= 5)
  		{
		  	DCC_SendChannelMessageEx(DiscordChannel, "```Not enough rights```");
	    	return 1;
		}

        mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',0,'%d','"SERVER_BUILD"')", name, userName, reason, (time*3600)+gettime());
		mysql_tquery(Base, query, "", "", "");

        mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`build`) VALUES ('%d','%e','%e','%d','%d','%d','%e','"SERVER_BUILD"')", id, userName, reason, (time*3600)+gettime(), 0, gettime(), name);
		mysql_tquery(Base, query, "", "", "");

        DiscordChannel = DCC_FindChannelById("613185790683513003");
  		format(query, sizeof query, "```\n%s has been banned by %s for %d hour(s) [Reason: %s] (offline)\n```", name, userName, time, reason);
   		DCC_SendChannelMessageEx(DiscordChannel, query);

		DiscordChannel = DCC_FindChannelById("619186196718944256");
  		format(query, sizeof query, "```\n%s has been banned by %s for %d hour(s) [Reason: %s]\n```", name, userName, time, reason);
   		DCC_SendChannelMessageEx(DiscordChannel, query);

   		foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][149], name, userName, time, reason);
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```This player is not found, check the data```");
	}
	#endif
	return 1;
}


fun UnbanIPFromDiscord(const userName[], const reason[])
{
    #if debug_mode == 0
	new query[128], msg[200];
    format(query, 128, "unbanip %s", reason);
	SendRconCommand(query);
	SendRconCommand("reloadbans");
	foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, serverLang[Player[i][pLang]][142], userName, reason);
	
	if(cache_num_rows() > 0)
 	{
		mysql_format(Base, query, sizeof(query), "DELETE FROM `banip` WHERE `IP` = '%e'", reason);
		mysql_tquery(Base, query, "", "", "");
	}
	
	format(msg, 128, "```yaml\n%s has unbanned IP %s\n```", userName, reason);
	DiscordChannel = DCC_FindChannelById("613185790683513003");
	DCC_SendChannelMessageEx(DiscordChannel, msg);
	#endif
	return 1;
}

fun BanNameInIRC(const userName[], const user[], const reason[])
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("613185790683513003");
	new id;
	if(cache_num_rows() > 0)
	{
        cache_get_value_name_int(0, "ID", id);
        if(id > 0)
		{
		    new msg[200], query[400];
		    mysql_format(Base, query, sizeof(query), "INSERT INTO `banlist` (`Name`,`Admin`,`Why`,`Permanent`,`Time`,`build`) VALUES ('%e','%e','%e',1,0,'"SERVER_BUILD"')", user, userName, reason);
			mysql_tquery(Base, query, "", "", "");

			mysql_format(Base, query, sizeof(query), "INSERT INTO `banlog` (`acc`,`admin`,`reason`,`time`,`perm`,`initiated`,`name`,`build`) VALUES ('%d','%e','%e','%d','%d','%d','%e','"SERVER_BUILD"')", id, userName, reason, 0, 1, gettime(), user);
			mysql_tquery(Base, query, "", "", "");

			format(msg, 128, "```%s has been banned by %s [Reason: %s]```", user, userName, reason);
			DCC_SendChannelMessageEx(DiscordChannel, msg);

			DiscordChannel = DCC_FindChannelById("619186196718944256");
 			format(msg, sizeof msg, "```\n%s has been banned by %s [Reason: %s]\n```", user, userName, reason);
  			DCC_SendChannelMessageEx(DiscordChannel, msg);
		}
		else
		{
	    	DCC_SendChannelMessageEx(DiscordChannel, "```This player is not found, check the data```");
		}
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "```This player is not found, check the data```");
	}
	#endif
	return 1;
}

fun DiscordGetIpFromPlayer(const reason[])
{
    #if debug_mode == 0
    DiscordChannel = DCC_FindChannelById("613185790683513003");
	if(cache_num_rows() > 0)
 	{
     	new IP[16], msg[200];
 	    cache_get_value_name(0, "IP", IP);
 	    format(msg, 128, "```yaml\n%s's IP %s\n```", reason, IP);
        DCC_SendChannelMessageEx(DiscordChannel, msg);
	}
	else
	{
	    DCC_SendChannelMessageEx(DiscordChannel, "No results found!");
	}
	#endif
	return 1;
}


fun GetTheNextMap()
{
    if(cache_num_rows() > 0)
 	{
 	    cache_get_value_name_int(0, "ID", maps);
 	    if(mapid == 31) mapid = 32;
	    if(mapid >= (maps+1)) mapid = 0;

		new query[128];
	    mysql_format(Base, query, sizeof(query), "SELECT `Name` FROM `maps` WHERE `ID` = '%i'", mapid);
		mysql_tquery(Base, query, "GetTheNextMapName");
	}
	return 1;
}

fun GetTheNextMapName()
{
    if(cache_num_rows() > 0)
    {
		new name[32];
		cache_get_value_name(0, "Name", name, 32);
		foreach(Player, i) SendClientMessageFormat(i,-1,serverLang[Player[i][pLang]][36], name);
	}
	return 1;
}

stock ShowGangClasses(playerid)
{
    return 1;
}

fun GetRulerGangClasses(playerid)
{
	return 1;
}

fun OnSetPlayerEmail(playerid, const inputtext[])
{
	if(cache_num_rows() > 0)
	{
		ShowPlayerDialog(playerid, DIALOG_CREATE_MAIL, DIALOG_STYLE_INPUT, "Email", "Enter your new email address to be able to regain access to your account\n\nEmail you typed already exists!", "Ok", "Back");
	}
	else
	{
		for( new i = strlen(inputtext); i > -1; i--)
		{
			if(inputtext[i] == ' ')
			{
			    ShowPlayerDialog(playerid, DIALOG_CREATE_MAIL, DIALOG_STYLE_INPUT, "Email", "Enter your new email address to be able to regain access to your account\n\nInvalid Email", "Ok", "Back");
				return 1;
			}
		}
		if(strfind(inputtext, "@") >= 3)
        {
			new query[164];
	        strmid(Player[playerid][pEmail], inputtext, false, strlen(inputtext), strlen(inputtext)+1);
	        mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `Email` = '%e' WHERE `ID` = '%d' AND `build`='"SERVER_BUILD"'", inputtext, Player[playerid][pAccountID]);
	        mysql_tquery(Base, query, "", "");
		}
		else
		{
		    ShowPlayerDialog(playerid, DIALOG_CREATE_MAIL, DIALOG_STYLE_INPUT, "Email", "Enter your new email address to be able to regain access to your account\n\nInvalid Email", "Ok", "Back");
			return 1;
		}
	}
	return 1;
}

fun OnCheckForRegisterOrRecovery(playerid, const inputtext[])
{
	if(cache_num_rows() > 0)
	{
	    new st[2][128], recovery[2][65];
		cache_get_value_name_int(0, "Language", Player[playerid][pLang]);
		cache_get_value_name(0, "Salt", recovery[0]);
		cache_get_value_name(0, "Secret", recovery[1]);
		cache_get_value_name(0, "Name", NM[playerid], MAX_PLAYER_NAME);
		format(st[0], 128, serverLang[Player[playerid][pLang]][53], 1);
		format(st[1], 128, serverLang[Player[playerid][pLang]][54], NM[playerid]);
		strmid(Player[playerid][pSalt], recovery[0], false, strlen(recovery[0]), strlen(recovery[0])+1);
		strmid(Player[playerid][pKey], recovery[1], false, strlen(recovery[1]), strlen(recovery[1])+1);
    	ShowPlayerDialog(playerid, DIALOG_RESTORE_ACCESS_0, DIALOG_STYLE_INPUT, st[0], st[1], serverLang[Player[playerid][pLang]][55], serverLang[Player[playerid][pLang]][56]);
        attemptsToLog[playerid] = 3;
	}
	else
	{
		strmid(Player[playerid][pEmail], inputtext, false, strlen(inputtext), strlen(inputtext)+1);
		new Head[48];
		format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 3);
	    ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_2, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][5], serverLang[Player[playerid][pLang]][4], serverLang[Player[playerid][pLang]][56]);
	}
	return 1;
}

fun OnCheckForPromocode(playerid)
{
	if(cache_num_rows())
	{
	    new query[400], id;
		cache_get_value_name_int(0, "ID", id);
		Player[playerid][pRefID] = id;
		
	 	mysql_format(Base, query, sizeof(query), "UPDATE `users` SET `ref` = '%d' WHERE `ID` = '%d'", id, Player[playerid][pAccountID]);
 	 	mysql_tquery(Base, query);
 	 	SignCreate(playerid);
 	 	
     	playerOnline++;
     	configureClass(playerid);
		setupZombie(playerid);
		SetSpawnInfo(playerid,TEAM_ZOMBIE,252,Map[ZombieSpawnX][0],Map[ZombieSpawnY][0],Map[ZombieSpawnZ][0],0.0,0,0,0,0,0,0);
        ShowEverydayReward(playerid);
		Registered{playerid} = true;
		Player[playerid][pLogged] = true;
	}
	else
	{
	    new Head[48];
		format(Head, 48, ServerRegisters[Player[playerid][pLang]][0], 4);
		ShowPlayerDialog(playerid, DIALOG_REGISTER_STEP_3, DIALOG_STYLE_INPUT, Head, ServerRegisters[Player[playerid][pLang]][11], ServerRegisters[Player[playerid][pLang]][10], ServerRegisters[Player[playerid][pLang]][12]);
	}
	return 1;
}

#if debug_mode == 0
fun DCC_SendChannelMessageEx(DCC_Channel:MessageChannel, const message[])
{
    DCC_SendChannelMessage(MessageChannel, message);
}
#endif

stock AbilityWasUsed(playerid)
{
    ++Achievements[playerid][AbilityUses];
    if(Achievements[playerid][AbilityUses] == 1) UnlockAchievement(playerid, 2, 5);
	if(Achievements[playerid][AbilityUses] == 500) UnlockAchievement(playerid, 3, 500);
	if(Achievements[playerid][AbilityUses] == 1000) UnlockAchievement(playerid, 4, 1000);
	
	if(!DayMission[playerid][dm_done] && DayMission[playerid][dm_progress] < DayMission[playerid][dm_counter] && DayliMission[playerid] == 7) ++DayMission[playerid][dm_progress];
}

stock CreateGangHouse()
{
    new tmpobjid;
	tmpobjid = CreateDynamicObject(1536, 1236.279052, -666.875000, 1084.675903, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3603, "bevmans01_la", "lasbevcit7", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1237.025268, -671.441284, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1235.378906, -669.777099, 1086.347900, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1238.668457, -669.820068, 1086.347900, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1237.262939, -666.718688, 1086.347900, 0.000000, 0.000000, 90.239997, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(14409, 1237.065551, -681.418518, 1082.589233, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 5401, "jeffers4_lae", "flooringwd01_int", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1237.022705, -681.051635, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19394, 1234.122558, -675.470520, 1086.347900, 0.000000, 0.000000, -53.639999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1233.534790, -681.062072, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19394, 1229.557983, -679.804382, 1086.347900, 0.000000, 0.000000, -33.720008, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19356, 1231.642089, -677.444091, 1086.347900, 0.000000, 0.000000, -49.259990, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1233.530029, -671.443481, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1228.630737, -673.657714, 1086.347900, 0.000000, 0.000000, 38.700000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1231.035278, -670.290222, 1086.347900, 0.000000, 0.000000, 115.139968, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1230.044677, -671.436279, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1226.577392, -671.444091, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1230.055541, -681.048095, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1226.571166, -681.055297, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1223.106811, -671.486938, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 16103, "des_ne", "vgs_rockwall01_128", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1223.084106, -681.058837, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1224.045898, -680.118347, 1086.347900, 0.000000, 0.000000, 78.179946, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1223.940551, -676.160461, 1086.347900, 0.000000, 0.000000, 143.699935, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1230.655151, -681.405395, 1086.347900, 0.000000, 0.000000, 85.259918, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19356, 1235.355834, -683.337585, 1086.347900, 0.000000, 0.000000, -0.600000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19356, 1238.672729, -683.331970, 1086.347900, 0.000000, 0.000000, -0.600000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19379, 1233.469848, -688.068237, 1085.685546, 0.000000, 90.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14786, "ab_sfgymbeams", "knot_wood128", 0x00000000);
	tmpobjid = CreateDynamicObject(19378, 1243.999267, -669.811340, 1084.605957, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 6094, "canalsg_law", "ws_sheetwood_clean", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1243.511962, -669.589965, 1086.347900, 0.000000, 0.000000, 90.360000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3595, "dingbat01_la", "bambowal1_LA", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1245.263061, -669.741210, 1086.347900, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3595, "dingbat01_la", "bambowal1_LA", 0x00000000);
	tmpobjid = CreateDynamicObject(19450, 1246.529296, -674.559204, 1083.718383, 0.000000, 0.000000, 90.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3595, "dingbat01_la", "bambowal1_LA", 0x00000000);
	tmpobjid = CreateDynamicObject(2127, 1242.868774, -670.179870, 1084.692016, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 8034, "vgsswarhse04", "GB_truckdepot14", 0x00000000);
	tmpobjid = CreateDynamicObject(2128, 1239.410888, -672.463806, 1084.692260, 0.000000, 0.000000, 90.900016, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 19513, "whitephone", "whitephone", 0x00000000);
	tmpobjid = CreateDynamicObject(2129, 1239.382690, -670.308105, 1084.640136, 0.000000, 0.000000, -269.880065, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 8034, "vgsswarhse04", "GB_truckdepot14", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 2, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	tmpobjid = CreateDynamicObject(2130, 1240.842529, -670.172180, 1084.548828, 0.000000, 0.000000, 0.300009, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 8034, "vgsswarhse04", "GB_truckdepot14", 0xFFFFFFFF);
	SetDynamicObjectMaterial(tmpobjid, 2, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	tmpobjid = CreateDynamicObject(2129, 1239.384277, -671.295227, 1084.640136, 0.000000, 0.000000, -269.580078, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 8034, "vgsswarhse04", "GB_truckdepot14", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 2, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	tmpobjid = CreateDynamicObject(2207, 1244.053222, -673.534179, 1084.679077, 0.000000, 0.000000, 179.879943, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14786, "ab_sfgymbeams", "knot_wood128", 0x00000000);
	tmpobjid = CreateDynamicObject(2125, 1241.999511, -673.571228, 1084.995727, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, 14653, "ab_trukstpb", "met_supp", 0x00000000);
	tmpobjid = CreateDynamicObject(2125, 1243.143920, -672.602111, 1084.995727, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, 14653, "ab_trukstpb", "met_supp", 0x00000000);
	tmpobjid = CreateDynamicObject(2125, 1244.197631, -673.608886, 1084.995727, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, 14653, "ab_trukstpb", "met_supp", 0x00000000);
	tmpobjid = CreateDynamicObject(19378, 1244.010620, -679.435974, 1084.605957, 0.000000, 90.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14488, "dogsgym", "ah_yelplnks", 0x00000000);
	tmpobjid = CreateDynamicObject(19394, 1240.196411, -674.572265, 1086.347900, 0.000000, 0.000000, -89.819976, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3595, "dingbat01_la", "bambowal1_LA", 0x00000000);
	tmpobjid = CreateDynamicObject(19450, 1246.609252, -674.559204, 1089.094970, 0.000000, 0.000000, 90.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3595, "dingbat01_la", "bambowal1_LA", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1238.833862, -669.821472, 1086.347900, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3595, "dingbat01_la", "bambowal1_LA", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1242.194213, -678.521972, 1086.347900, 0.000000, 0.000000, 132.779922, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19356, 1245.228027, -676.152160, 1086.347900, 0.000000, 0.000000, -1.259999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(1707, 1230.622314, -674.705810, 1084.653320, 0.000000, 0.000000, 128.700027, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14701, "lahss2int2", "WH_carpet4", 0x00000000);
	tmpobjid = CreateDynamicObject(2081, 1230.284423, -670.776428, 1084.694213, 0.000000, 0.000000, -155.640029, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14706, "labig2int2", "flooringwd02_int", 0x00000000);
	tmpobjid = CreateDynamicObject(2081, 1230.513305, -675.580017, 1084.694213, 0.000000, 0.000000, -52.500000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14706, "labig2int2", "flooringwd02_int", 0x00000000);
	tmpobjid = CreateDynamicObject(2184, 1226.449951, -678.038940, 1084.705444, 0.000000, 0.000000, 52.320011, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14771, "int_brothelint3", "GB_midbar09", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 14771, "int_brothelint3", "GB_nastybar12", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1235.205810, -669.826782, 1086.347900, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1228.753540, -673.547363, 1086.347900, 0.000000, 0.000000, 38.700000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(19579, 1226.169067, -677.661499, 1085.351806, 0.000000, 0.000000, -1.919999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, -1, "none", "none", 0xFF000000);
	tmpobjid = CreateDynamicObject(19610, 1226.164550, -677.669555, 1085.495971, -90.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, -1, "none", "none", 0xF0000000);
	tmpobjid = CreateDynamicObject(2269, 1226.167846, -677.189697, 1085.563476, 0.000000, 0.000000, 179.819931, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, -1, "none", "none", 0xFF000000);
	SetDynamicObjectMaterial(tmpobjid, 1, -1, "none", "none", 0xFFFFFFFF);
	tmpobjid = CreateDynamicObject(2269, 1226.139526, -678.169799, 1085.563476, 0.000000, 0.000000, -0.600000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, -1, "none", "none", 0xFF000000);
	SetDynamicObjectMaterial(tmpobjid, 1, -1, "none", "none", 0xFFFFFFFF);
	tmpobjid = CreateDynamicObject(1574, 1227.267944, -672.679687, 1084.694335, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 4, 14668, "711c", "gun_ceiling3", 0x00000000);
	tmpobjid = CreateDynamicObject(19356, 1235.355834, -683.337585, 1089.839111, 0.000000, 0.000000, -0.600000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19356, 1238.672729, -683.331970, 1089.839111, 0.000000, 0.000000, -0.600000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1230.600952, -684.945495, 1087.408691, 0.000000, 0.000000, 90.959907, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1238.648681, -689.720092, 1087.405761, 0.000000, 0.000000, -0.060079, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1233.869140, -692.933654, 1087.405761, 0.000000, 0.000000, 90.119903, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1229.059814, -689.804260, 1087.405761, 0.000000, 0.000000, -0.060079, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19786, 1232.355468, -684.942504, 1087.533813, 0.000000, 0.000000, 0.899999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, -1, "none", "none", 0xFF000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 1560, "7_11_door", "CJ_CHROME2", 0x00000000);
	tmpobjid = CreateDynamicObject(2313, 1231.670043, -685.215881, 1085.764892, 0.000000, 0.000000, 1.320000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 2, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(1709, 1235.093505, -691.317138, 1085.773193, 0.000000, 0.000000, 180.480041, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14652, "ab_trukstpa", "CJ_CORD", 0xFFFFFFFF);
	tmpobjid = CreateDynamicObject(11724, 1229.591552, -688.310974, 1086.289550, 0.000000, 0.000000, 89.819999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3314, "ce_burbhouse", "sw_wallbrick_06", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 3314, "ce_burbhouse", "sw_wallbrick_06", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 2, 3314, "ce_burbhouse", "sw_wallbrick_06", 0x00000000);
	tmpobjid = CreateDynamicObject(19443, 1229.310302, -689.357604, 1084.332031, 0.000000, 0.000000, -88.379997, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14584, "ab_abbatoir01", "carpet5kb", 0x00000000);
	tmpobjid = CreateDynamicObject(19443, 1229.303710, -687.314514, 1084.332031, 0.000000, 0.000000, -88.379997, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14584, "ab_abbatoir01", "carpet5kb", 0x00000000);
	tmpobjid = CreateDynamicObject(970, 1228.022338, -689.313964, 1086.080932, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14584, "ab_abbatoir01", "ab_vent1", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 14584, "ab_abbatoir01", "ab_vent1", 0x00000000);
	tmpobjid = CreateDynamicObject(970, 1227.992919, -687.286682, 1086.080932, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14584, "ab_abbatoir01", "ab_vent1", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 14584, "ab_abbatoir01", "ab_vent1", 0x00000000);
	tmpobjid = CreateDynamicObject(2315, 1231.836791, -690.987121, 1085.772949, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14652, "ab_trukstpa", "wood01", 0xFFFFFFFF);
	tmpobjid = CreateDynamicObject(3498, 1233.671264, -684.750244, 1085.772216, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(3498, 1231.025634, -684.795043, 1085.772216, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(2230, 1234.001464, -685.872253, 1085.768676, 0.000000, 0.000000, -43.500000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 2, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(2230, 1231.215942, -685.531250, 1085.768676, 0.000000, 0.000000, 28.260009, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 2, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(3498, 1230.864257, -684.792297, 1088.318725, 0.000000, 90.000000, 0.899999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(3498, 1230.864257, -684.792297, 1086.769775, 0.000000, 90.000000, 0.899999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1238.624389, -688.066284, 1084.626831, 0.000000, 0.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1238.624389, -688.066284, 1090.379028, 0.000000, 0.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1229.129638, -688.144775, 1084.626831, 0.000000, 0.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1229.129638, -688.144775, 1090.379028, 0.000000, 0.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1234.037963, -692.893066, 1084.626831, 0.000000, 0.000000, 90.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1234.037963, -692.893127, 1090.379028, 0.000000, 0.000000, 90.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1230.601318, -684.948608, 1084.626831, 0.000000, 0.000000, 90.959999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1230.601318, -684.948608, 1090.379028, 0.000000, 0.000000, 90.959999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19355, 1232.584716, -688.374145, 1085.688232, 0.000000, 90.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14803, "bdupsnew", "Bdup2_Rug", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1237.118652, -689.570617, 1087.405761, 0.000000, 0.000000, -21.000070, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1236.884765, -690.134155, 1084.626831, 0.000000, 0.000000, -21.120000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(19463, 1237.234985, -689.261962, 1090.379028, 0.000000, 0.000000, -21.000009, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2755, "ab_dojowall", "mp_apt1_roomfloor", 0x00000000);
	tmpobjid = CreateDynamicObject(640, 1236.734985, -689.182495, 1086.405639, 0.000000, 0.000000, 158.559936, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 19622, "broom1", "cj_smallbat", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, -1, "none", "none", 0xFF439909);
	SetDynamicObjectMaterial(tmpobjid, 2, 19622, "broom1", "cj_smallbat", 0x00000000);
	tmpobjid = CreateDynamicObject(2010, 1234.337768, -685.491027, 1085.771850, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, -1, "none", "none", 0xFF439909);
	tmpobjid = CreateDynamicObject(2010, 1230.497558, -685.494628, 1085.771850, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, -1, "none", "none", 0xFF439909);
	tmpobjid = CreateDynamicObject(11724, 1229.213989, -688.310607, 1086.289550, 0.000000, 0.000000, 89.820037, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3314, "ce_burbhouse", "sw_wallbrick_06", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 3314, "ce_burbhouse", "sw_wallbrick_06", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 2, 3314, "ce_burbhouse", "sw_wallbrick_06", 0x00000000);
	tmpobjid = CreateDynamicObject(19443, 1229.139526, -688.259643, 1088.367797, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 3314, "ce_burbhouse", "sw_wallbrick_06", 0x00000000);
	tmpobjid = CreateDynamicObject(2259, 1234.182861, -680.598327, 1085.467529, 0.000000, 0.000000, 173.160079, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 1569, "adam_v_doort", "ws_guardhousedoor", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 14737, "whorewallstuff", "ah_painting1", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 2, 1569, "adam_v_doort", "ws_guardhousedoor", 0x00000000);
	tmpobjid = CreateDynamicObject(2125, 1233.868896, -680.388183, 1085.009033, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14652, "ab_trukstpa", "mp_diner_wood", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 14650, "ab_trukstpc", "Gen_Sacki", 0x00000000);
	tmpobjid = CreateDynamicObject(1819, 1234.359741, -681.071105, 1084.693481, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14650, "ab_trukstpc", "Gen_Sacki", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 14652, "ab_trukstpa", "mp_diner_wood", 0x00000000);
	tmpobjid = CreateDynamicObject(640, 1238.202880, -671.962829, 1085.347900, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 19622, "broom1", "cj_smallbat", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, -1, "none", "none", 0xFF439909);
	tmpobjid = CreateDynamicObject(640, 1235.844848, -671.876342, 1085.347900, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 19622, "broom1", "cj_smallbat", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, -1, "none", "none", 0xFF439909);
	tmpobjid = CreateDynamicObject(2257, 1231.657226, -677.589721, 1086.465454, 0.000000, 0.000000, 40.619968, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, 19525, "weddingcake1", "bngdecoration1", 0x00000000);
	tmpobjid = CreateDynamicObject(2257, 1238.528076, -684.480163, 1087.458007, 0.000000, 0.000000, -90.299949, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, 14737, "whorewallstuff", "AH_paintbond", 0x00000000);
	tmpobjid = CreateDynamicObject(11714, 1241.735717, -678.796875, 1086.284667, 0.000000, 0.000000, -47.520011, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18028, "cj_bar2", "GB_nastybar13", 0x00000000);
	tmpobjid = CreateDynamicObject(19439, 1240.503417, -679.979858, 1085.856323, 0.000000, 0.000000, -47.700000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14713, "lahss2aint2", "HS2_Curt3", 0x00000000);
	tmpobjid = CreateDynamicObject(19439, 1242.993652, -677.692138, 1085.842895, 0.000000, 0.000000, -47.700000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14713, "lahss2aint2", "HS2_Curt3", 0x00000000);
	tmpobjid = CreateDynamicObject(19962, 1240.858032, -679.646057, 1087.562744, 0.000000, 90.000000, 42.780010, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 2562, "cj_hotel_sw", "CJ-COUCHL1", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, 2562, "cj_hotel_sw", "CJ-COUCHL1", 0x00000000);
	tmpobjid = CreateDynamicObject(638, 1241.502075, -678.546569, 1085.383056, 0.000000, 0.000000, -47.459999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 19622, "broom1", "cj_smallbat", 0x00000000);
	SetDynamicObjectMaterial(tmpobjid, 1, -1, "none", "none", 0xFF439909);
	tmpobjid = CreateDynamicObject(19379, 1233.469848, -688.068237, 1090.054443, 0.000000, 90.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18065, "ab_sfammumain", "plywood_gym", 0x00000000);
	tmpobjid = CreateDynamicObject(19379, 1226.668579, -676.835449, 1088.174194, 0.000000, 90.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18065, "ab_sfammumain", "plywood_gym", 0x00000000);
	tmpobjid = CreateDynamicObject(19379, 1237.157714, -676.867004, 1088.174194, 0.000000, 90.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18065, "ab_sfammumain", "plywood_gym", 0x00000000);
	tmpobjid = CreateDynamicObject(19379, 1231.389770, -667.228149, 1088.174194, 0.000000, 90.000000, -0.300000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18065, "ab_sfammumain", "plywood_gym", 0x00000000);
	tmpobjid = CreateDynamicObject(19379, 1241.856323, -667.257019, 1088.174194, 0.000000, 90.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18065, "ab_sfammumain", "plywood_gym", 0x00000000);
	tmpobjid = CreateDynamicObject(19379, 1247.655273, -676.895141, 1088.174194, 0.000000, 90.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18065, "ab_sfammumain", "plywood_gym", 0x00000000);
	tmpobjid = CreateDynamicObject(19356, 1237.011230, -682.720642, 1089.484741, 0.000000, -40.000000, 89.939987, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18065, "ab_sfammumain", "plywood_gym", 0x00000000);
	tmpobjid = CreateDynamicObject(19356, 1238.683959, -680.139099, 1089.839111, 0.000000, 0.000000, -0.600000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 18787, "matramps", "cardboard4", 0x00000000);
	tmpobjid = CreateDynamicObject(19448, 1230.655151, -681.405395, 1089.779785, 0.000000, 0.000000, 85.259918, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 0, 14777, "int_casinoint3", "GB_midbar05", 0x00000000);
	tmpobjid = CreateDynamicObject(1494, 1233.550048, -675.944580, 1084.590576, 0.000000, 0.000000, 36.360000, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, 14581, "ab_mafiasuitea", "wood02S", 0x00000000);
	tmpobjid = CreateDynamicObject(1494, 1229.189208, -680.448730, 1084.590576, 0.000000, 0.000000, 57.299999, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, 14581, "ab_mafiasuitea", "wood02S", 0x00000000);
	tmpobjid = CreateDynamicObject(2257, 1229.674438, -674.423034, 1086.941040, 0.000000, 0.000000, 128.760131, -1, -1, -1, 300.00, 300.00);
	SetDynamicObjectMaterial(tmpobjid, 1, 18835, "mickytextures", "smileyface2", 0x00000000);
	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	tmpobjid = CreateDynamicObject(19325, 1244.780639, -674.582580, 1086.032470, 0.000000, 0.000000, 89.999969, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2142, 1233.008789, -669.599548, 1084.692504, 0.000000, 0.000000, 26.640050, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2025, 1234.692382, -669.526245, 1084.692260, 0.000000, 0.000000, -90.240020, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2299, 1232.293945, -673.627136, 1084.692871, 0.000000, 0.000000, 24.720010, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(14455, 1226.398925, -673.012573, 1086.318359, 0.000000, 0.000000, -126.480026, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(14455, 1223.006835, -677.670532, 1086.318359, 0.000000, 0.000000, -126.480026, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(14455, 1230.807250, -676.707458, 1086.318359, 0.000000, 0.000000, -231.480026, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(1714, 1225.827148, -676.172851, 1084.659912, 0.000000, 0.000000, 48.720020, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2066, 1223.518310, -679.804809, 1084.693847, 0.000000, 0.000000, -12.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2066, 1224.098388, -679.915100, 1084.693847, 0.000000, 0.000000, -12.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2066, 1224.695190, -680.036682, 1084.693847, 0.000000, 0.000000, -12.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2066, 1225.292602, -680.160827, 1084.693847, 0.000000, 0.000000, -12.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(1428, 1226.011474, -674.329895, 1085.943115, 0.000000, 0.000000, 53.520019, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19808, 1226.234130, -677.343688, 1085.494506, 0.000000, 0.000000, 177.539978, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2894, 1226.754516, -676.858154, 1085.480224, 0.000000, 0.000000, -122.279937, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(11705, 1227.152832, -676.060546, 1085.448852, 0.000000, 0.000000, -93.660003, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19174, 1226.986938, -680.653991, 1086.901489, 0.000000, 0.000000, -191.879989, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2001, 1228.665771, -680.316406, 1084.693237, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2001, 1229.929687, -678.563232, 1084.693237, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19894, 1227.223144, -676.494995, 1085.480224, 0.000000, 0.000000, -57.179969, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19172, 1226.948852, -680.901367, 1085.589111, 90.000000, 0.000000, 168.660095, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1228.205566, -680.773132, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19821, 1227.684570, -680.653747, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1227.330322, -680.597961, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.848632, -680.478942, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1228.263916, -680.557006, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1228.046142, -680.759826, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1228.104370, -680.543640, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1227.889770, -680.706542, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1227.946777, -680.510498, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19821, 1227.722778, -680.436096, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19821, 1227.508544, -680.598937, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19821, 1227.545043, -680.401123, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1227.386962, -680.401794, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1227.171020, -680.584716, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1227.229370, -680.368591, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1227.036254, -680.513244, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1227.071655, -680.335327, 1085.603271, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.876708, -680.365844, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.654296, -680.392089, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.695800, -680.254028, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.918212, -680.227783, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.445800, -680.393371, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.506225, -680.249389, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.308959, -680.288818, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1226.357788, -680.106750, 1085.603271, 0.000000, 0.000000, -8.699999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(11725, 1229.564453, -688.312133, 1086.063476, 0.000000, 0.000000, 88.739990, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19825, 1229.285156, -688.261352, 1087.962280, 0.000000, 0.000000, 89.820022, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2283, 1229.222412, -690.565185, 1087.727905, 0.000000, 0.000000, 89.759986, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2712, 1234.007568, -681.210937, 1085.163574, 1.440000, -15.779999, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2712, 1233.885375, -681.178771, 1085.163574, 4.739999, -4.980000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2712, 1234.149536, -681.241882, 1085.105834, -1.320000, -28.379980, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19173, 1232.245361, -681.215698, 1085.050170, 40.000000, 0.000000, -4.320000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2847, 1237.524902, -670.670898, 1084.694458, 0.000000, 0.000000, 89.699996, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2847, 1237.518310, -672.616760, 1084.694458, 0.000000, 0.000000, 89.699996, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2847, 1237.515991, -674.583618, 1084.694458, 0.000000, 0.000000, 89.699996, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2345, 1232.385253, -685.056518, 1086.625366, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19172, 1245.395751, -671.892211, 1085.264526, 90.000000, 0.000000, -90.480003, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19172, 1245.536621, -671.886413, 1085.895751, 90.000000, 0.000000, -90.480003, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19172, 1245.658325, -671.891967, 1086.498657, 90.000000, 0.000000, -90.480003, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.942382, -670.736755, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.943237, -670.908752, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.959228, -671.069335, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.951904, -671.214782, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.953369, -671.399169, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.969482, -671.559570, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1245.005981, -671.715393, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.990478, -671.864440, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.741577, -670.740234, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.768310, -670.903137, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19820, 1244.775390, -671.064270, 1085.277954, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1245.077148, -671.410034, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1245.003051, -671.194396, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1244.912353, -671.459289, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1245.081665, -671.644104, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1244.916870, -671.693298, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1245.092529, -671.859130, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1244.940551, -671.870666, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1244.946411, -672.050476, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1245.071655, -670.986022, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1245.010864, -672.188232, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1244.852661, -672.253540, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1244.957763, -672.390258, 1085.909179, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1245.087036, -672.228332, 1086.512329, 0.000000, 0.000000, -86.460006, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1245.061279, -672.406982, 1086.512329, 0.000000, 0.000000, -86.520011, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1245.027709, -673.088317, 1086.512329, 0.000000, 0.000000, -86.460006, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1245.074829, -672.893188, 1086.512329, 0.000000, 0.000000, -86.460006, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1244.975952, -672.879455, 1086.512329, 0.000000, 0.000000, -86.460006, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1245.105712, -672.675048, 1086.512329, 0.000000, 0.000000, -86.460006, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1244.972290, -672.616088, 1086.512329, 0.000000, 0.000000, -86.460006, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1244.962158, -672.393249, 1086.512329, 0.000000, 0.000000, -86.520011, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1244.996337, -672.155090, 1086.512329, 0.000000, 0.000000, -86.460006, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19823, 1245.092041, -672.047302, 1086.512329, 0.000000, 0.000000, -86.460006, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19172, 1240.969604, -669.415832, 1086.445678, 90.000000, 0.000000, -0.059999, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(11718, 1242.012329, -669.881835, 1086.473876, 0.000000, 0.000000, 34.019931, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(11719, 1241.698486, -669.912170, 1086.459350, 0.000000, 0.000000, 34.679981, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(11719, 1241.438964, -669.907775, 1086.459350, 0.000000, 0.000000, 34.799980, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(11719, 1241.183105, -669.858703, 1086.459350, 0.000000, 0.000000, 34.679981, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2267, 1231.990356, -681.395874, 1086.677368, 0.000000, 0.000000, 175.319976, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2265, 1230.949462, -680.848815, 1086.888061, 0.000000, 0.000000, 173.339904, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2266, 1230.793701, -680.823059, 1086.213134, 0.000000, 0.000000, 175.139785, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19806, 1232.762939, -688.168823, 1089.211791, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19583, 1240.641723, -669.880493, 1085.594482, -1.320000, 0.059999, -33.599998, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19583, 1240.724731, -669.913269, 1085.594482, -1.320000, 0.059999, -33.599998, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19583, 1240.829467, -669.964233, 1085.594482, -1.320000, 0.059999, -33.599998, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2822, 1241.192382, -670.044555, 1085.594482, 0.000000, 0.000000, 20.040000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19581, 1239.521728, -670.123535, 1085.686035, 0.000000, 0.000000, -52.259990, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19585, 1239.196289, -671.138732, 1085.885131, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19569, 1243.541870, -673.596069, 1085.455566, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19561, 1243.235839, -673.744995, 1085.455444, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2829, 1243.048828, -673.412536, 1085.455566, 0.000000, 0.000000, 212.699951, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2863, 1240.653320, -669.979919, 1086.458862, 0.000000, 0.000000, 40.439998, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19585, 1240.208740, -670.013305, 1086.662963, 0.000000, 0.000000, -98.579986, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(1210, 1234.980224, -680.474914, 1085.290527, 90.000000, 0.000000, -69.839988, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(1893, 1237.197387, -671.491943, 1088.355590, 0.000000, 0.000000, 91.439987, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(1893, 1242.928222, -672.048095, 1088.355590, 0.000000, 0.000000, 179.099960, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2069, 1227.641723, -675.516235, 1084.705810, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2853, 1233.183227, -690.940246, 1086.266967, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19824, 1231.854125, -690.927795, 1086.266967, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(19818, 1231.970703, -691.044860, 1086.351318, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2855, 1231.407836, -675.582397, 1084.746948, 0.000000, 0.000000, -5.760000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2855, 1230.064819, -671.549926, 1084.746948, 0.000000, 0.000000, -5.760000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2069, 1228.242431, -672.238708, 1084.707519, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2372, 1234.954467, -673.303710, 1084.692871, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2394, 1234.737060, -672.648254, 1085.421142, 0.000000, 0.000000, 90.059997, -1, -1, -1, 300.00, 300.00);
	tmpobjid = CreateDynamicObject(2845, 1231.510131, -672.103454, 1085.389648, 0.000000, 0.000000, 0.000000, -1, -1, -1, 300.00, 300.00);
    CreateObject(18692, 1229.32, -688.47, 1081.27, 0.00, 0.00, 0.00, 300.0);
}

fun SAMP_AC_SEND_WARNING_FOR_MODE(CALLERID, const SAMP_AC_NAME[], SAMP_AC_CODE, SAMP_AC_DOOM)
{
    if(gettime() > AntiCheat[CALLERID][ac_Tick])
    {
        AddCheater(CALLERID, 0);
		strmid(AC_Requests[CALLERID][ac_reason], SAMP_AC_NAME, 0, 128, 128);
		AC_Requests[CALLERID][ac_time] = gettime();
		AC_Requests[CALLERID][ac_type] = 1;
		AC_Requests[CALLERID][ac_additional] = 0;
		AC_Requests[CALLERID][ac_pl] = NetStats_PacketLossPercent(CALLERID);
		foreach(Player, p)
	    {
	        if(Player[p][pAdmin] > 0 && Player[p][pLogged])
	        {
	            SendClientMessageFormat(p, -1, "{6A8EE2}>> %s(%d) supposedly uses %s", Player[CALLERID][UserName], CALLERID, SAMP_AC_NAME);
	        }
	    }
	    AntiCheat[CALLERID][ac_Tick] = gettime()+1;
	}
    return true;
}

//[Кэлбэк оповещения о смерте игрока от огнестрельного оружия]
//forward SAMP_AC_PLAYER_DEATH(playerid, killerid, reason);
fun SAMP_AC_PLAYER_DEATH(playerid, killerid, reason)
{
	/*У кого AMX вставляем весь код из OnPlayerDeath(CTRL + C && CTRL + V), а из OnPlayerDeath не чего не удаляем!
	У кого PWN не надо создавать кэлбэк, он уже есть в античите и тоже самое (CTRL + C && CTRL + V)*/
	return true;
}

fun AC_CheckForAntiExplosions(playerid)
{
    if(Player[playerid][aDuty] || AFK[playerid] >= -2) {}
    else
    {
		if(AntiCheat[playerid][ex_OldHP] != 0.00)
		{
			new Float:zw;
		    GetPlayerHealthEx(playerid, zw);
			if(zw >= AntiCheat[playerid][ex_OldHP])
			{
			    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Health Hack (Explosions)", Player[playerid][UserName], playerid);
		        strmid(AC_Requests[playerid][ac_reason], "Health Hack", 0, 128, 128);
				AC_Requests[playerid][ac_time] = gettime();
				AC_Requests[playerid][ac_type] = 0;
				AC_Requests[playerid][ac_additional] = 0;
				AC_Requests[playerid][ac_pl] = NetStats_PacketLossPercent(playerid);
				AntiCheat[playerid][ac_Tick] = (gettime()+1);
				
				if(AntiCheatAlertMode)
				{
				    ++AntiCheat[playerid][ac_ex_warns];
				    if(AntiCheat[playerid][ac_ex_warns] > AC_MAX_EXPLOSION_PROOF_WARNINGS && AntiCheat[playerid][ac_health_hack] >= AC_MAX_REPORTS) BanPlayer(playerid, "Health Hack - Consensus");
				}
			}
		}
	}
	AntiCheat[playerid][ex_OldHP] = 0.0;
}

stock SendToBulletCheck(playerid)
{
	GetPlayerHealthEx(playerid, AntiCheat[playerid][weap_OldHP]);
	SetTimerEx("AC_CheckForAntiBullets", 4000, 0, "i", playerid);
}

fun AC_CheckForAntiBullets(playerid)
{
    if(Player[playerid][aDuty] || AFK[playerid] >= -2) {}
    else
    {
		if(AntiCheat[playerid][weap_OldHP] >= -99.0)
		{
			new Float:zw;
		    GetPlayerHealthEx(playerid, zw);
			if(zw >= AntiCheat[playerid][weap_OldHP] && AntiCheat[playerid][weap_OldHP] >= 2.5)
			{
			    AntiCheat[playerid][weap_bp_ticks]++;
			    if(AntiCheat[playerid][weap_bp_ticks] >= 3)
			    {
				    foreach(Player, i) if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Health Hack (Bullet Proof)", Player[playerid][UserName], playerid);
			        strmid(AC_Requests[playerid][ac_reason], "Health Hack", 0, 128, 128);
					AC_Requests[playerid][ac_time] = gettime();
					AC_Requests[playerid][ac_type] = 0;
					AC_Requests[playerid][ac_additional] = 0;
					AC_Requests[playerid][ac_pl] = NetStats_PacketLossPercent(playerid);
					AntiCheat[playerid][ac_Tick] = (gettime()+1);
					AntiCheat[playerid][weap_bp_ticks] = 0;
				}
			}
			
			if(AntiCheatAlertMode)
			{
			    ++AntiCheat[playerid][ac_bp_warns];
			    if(AntiCheat[playerid][ac_bp_warns] > AC_MAX_BULLET_PROOF_WARNINGS && AntiCheat[playerid][ac_health_hack] >= AC_MAX_REPORTS) BanPlayer(playerid, "Health Hack - Consensus");
			}
		}
	}
	AntiCheat[playerid][weap_OldHP] = -100.0;
}

stock IsValueNotAString(const str[])
{
	new i;
	for( i = strlen(str); i > -1; i-- ) if(str[i] == '%') return 1;
	for( i = strlen(str); i > -1; i-- ) if('0' <= str[i] <= '9') return 1;

	return 0;
}

stock StringHasSpaces(const str[])
{
	for( new i = 0; i < strlen(str); i++ ) if(str[i] == ' ') return 1;
	return 0;
}

new AC_ReasonFor[] =
{
	ac_weapon_hack, ac_weapon_hack, ac_weapon_hack,
	ac_weapon_hack, ac_weapon_hack, ac_weapon_hack,
	
	ac_teleport_hack, ac_teleport_hack, ac_teleport_hack,
	
	ac_jump_hack, ac_jump_hack, ac_jump_hack,
	ac_jump_hack, ac_jump_hack,
	
	ac_airbreak_hack, ac_airbreak_hack,
	ac_airbreak_hack, ac_airbreak_hack, ac_airbreak_hack,
	
	ac_airbreak_hack, ac_airbreak_hack, ac_airbreak_hack,
	
	ac_health_hack, ac_health_hack, ac_health_hack,
	ac_health_hack, ac_health_hack, ac_health_hack,
	
	ac_parkour, ac_parkour, ac_parkour, ac_parkour
};

static const ac_bans[][] =
{
	"WH","Weapon","Weapon Hack",
	"AM","Ammo","Ammo Hack",
	
	"TP","Teleport","Teleport Hack",

	"JH","Jump Hack","Jump",
	"Slap","Slapper",

	"AB","AirBreak",
	"Fly", "FH", "Fly Hack",

	"SH", "Speed Hack", "Speed",

	"HH", "Health", "Health Hack",
	"GM", "God", "God mode",
	
	"PM", "Parkour", "Parkour Hack", "Parkour Mode"
};

stock AC_CompareScales(playerid, reportedid, const reason[])
{
	if(!IsPlayerConnected(playerid)) return 0;
	if(!IsPlayerConnected(reportedid)) return 0;
	for( new i = 0; i < sizeof(ac_bans); i++)
	{
	    if(!strcmp(ac_bans[i], reason, false))
	    {
            ++AntiCheat[reportedid][e_ac:AC_ReasonFor[i]];
            return 1;
	    }
	}
	return 1;
}

stock TryToMakeAReportWithID_Collapse(playerid, const text[])
{
    if(!strcmp(text, "hack", false))
	{
	    SendClientMessage(playerid, -1, "{FFF000}>> Use /report to report a hacker");
	    return 1;
	}
	
	if(strfind(text, "id ", true) == 0)
	{
	    new t[128], id = -1, reason[64];
	    sscanf(text, "is[64]s[64]", t, id, reason);
	    if(IsPlayerConnected(id) && strlen(MakeReasonFromShort(reason, true)) >= 5)
	    {
		    format(t, sizeof(t), "%d %s", id, MakeReasonFromShort(reason, true));
		    cmd::report(playerid, t);
	    	return 1;
		}
		else return 0;
	}
	return 0;
}

stock TryToMakeAReport(playerid, const text[])
{
	if(strfind(text, "id ", true) == 0)
	{
	    new t[128], id = -1, reason[64];
	    sscanf(text, "s[128]is[64]", t, id, reason);
	    if(IsPlayerConnected(id) && strlen(MakeReasonFromShort(reason, true)) >= 5)
	    {
		    format(t, sizeof(t), "%d %s", id, MakeReasonFromShort(reason, true));
		    cmd::report(playerid, t);
	    	return 1;
		}
		else return 0;
	}
	return 0;
}

stock TryTomakeAReportWithoutID(playerid, const text[])
{
	new id = -1, reason[64];
    sscanf(text, "is[64]", id, reason);
    if(strlen(MakeReasonFromShort(reason, true)) >= 3 || !strcmp(reason, "Cheat", false) || !strcmp(reason, "Cheater", false) || !strcmp(reason, "Hacker", false) || !strcmp(reason, "Hack", false))
    {
        if(IsPlayerConnected(id) && strlen(MakeReasonFromShort(reason, true)) >= 5)
	    {
	        new t[128];
	        format(t, sizeof(t), "%d %s", id, MakeReasonFromShort(reason, true));
		    cmd::report(playerid, t);
		    return 1;
		}
		else return 0;
    }
	return 0;
}

CMD:show(playerid, params[])
{
	new pl;
    if(sscanf(params, "i", pl))
	{
	    SendClientMessage(playerid, -1, "/show (playerid)");
	    return 1;
	}
	if(!IsPlayerConnected(pl))
	{
		SendClientMessage(playerid, -1, serverLang[Player[playerid][pLang]][15]);
		return 1;
	}
	
    new listitem = PlayerShowHisTrophyID[pl];
    if(listitem <= -1)
    {
 		SendClientMessage(playerid, -1, "/show (playerid)");
	    return 1;
	}
	
	if(TrophyInInv[pl][plii_ID][listitem] > -1)
	{
	    new name[96], d, r = TrophyInInv[pl][plii_Rare][listitem], rm[500];
	    switch(TrophyInInv[pl][plii_Rare][listitem])
		{
		    case 4: d = 1;
		    case 3: d = 2;
		    case 2: d = 3;
		    case 1: d = 5;
		    case 0: d = 7;
		    default: d = 1;
		}

	    format(name, sizeof(name), "{0099ff}%s (%d / %d)", TrophyName[TrophyInInv[pl][plii_Type][listitem]],
	    TrophyInInv[pl][plii_Rank][listitem], TrophyInInv[pl][plii_MaxRank][listitem]);

	    new delim[] = "| ======================================================= |", buff[96];

	    switch(TrophyInInv[pl][plii_Type][listitem])
	    {
	    	case 0: format(buff, sizeof(buff), "{66c2ff}Additional Health / Regeneration:{FFFFFF} +%d / Max. +%d", d * TrophyInInv[pl][plii_Rank][listitem], d * TrophyInInv[pl][plii_MaxRank][listitem]);
            case 1,3: format(buff, sizeof(buff), "{66c2ff}Additional Damage:{FFFFFF} +%.2f / Max. +%.2f", (float(d * TrophyInInv[pl][plii_Rank][listitem]) / 9000.0)*100.0, (float(d * TrophyInInv[pl][plii_MaxRank][listitem]) / 9000.0) * 100.0);
            case 2,4,5: format(buff, sizeof(buff), "{66c2ff}Chance:{FFFFFF} +%.2f '/. / Max. +%.2f '/.", (float(d * TrophyInInv[pl][plii_Rank][listitem]) / 500.0)*100.0, (float(d * TrophyInInv[pl][plii_MaxRank][listitem]) / 500.0) * 100.0);
		}

       	format(rm, sizeof(rm), "{ccebff}This trophy was received for completing a daily quest and achievement\n%s\n\n{66c2ff}Rarity: {FFFFFF}%s\n{66c2ff}Desc: {FFFFFF}%s\n%s\n\n%s\n", delim, TrophyRares[r][8], TrophyDesc[TrophyInInv[pl][plii_Type][listitem]][8], buff, delim);
		ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, name, rm, "Ok", "");
	}
	return 1;
}

stock TryToAddOfflineApplication(playerid, gangid)
{
	if(gangid <= -1) return 0;
	new query[300];
	mysql_format(Base, query, sizeof(query), "SELECT `date` FROM `applications` WHERE `Clan` = '%d' AND `ID` = '%d' AND `build`='"SERVER_BUILD"' ORDER BY `date` DESC LIMIT 1;", gangid, Player[playerid][pAccountID]);
	mysql_tquery(Base, query, "CreateGangApplication", "ii", playerid, gangid);
    Player[playerid][GangRequest] = -1;
    return 1;
}

// SELECT DISTINCT applications.ID FROM applications WHERE applications.Clan = 1
// @1

fun CreateGangApplication(playerid, gangid)
{
    if(gangid <= -1) return 1;
	if(cache_num_rows() > 0)
	{
        new time;
	   	cache_get_value_name_int(0, "date", time);
	   	if(time > gettime())
  		{
		  	SendClientMessage(playerid, -1, "{0099ff}Your application is already being processed");
	    	return 1;
		}
		else
		{
		    new query[400];
  			SendClientMessage(playerid, -1, "{0099ff}There are currently no players in this gang who can accept your application");
       		SendClientMessage(playerid, -1, "{0099ff}Therefore, it was added to the list of waiting applications, {FFF000}as soon as it is approved{0099ff} - you will get into the gang");
            mysql_format(Base, query, sizeof(query), "INSERT INTO `applications` (`ID`, `Clan`,`date`) VALUES ('%d', '%d', '%d')", Player[playerid][pAccountID], gangid, gettime()+86400);
			mysql_tquery(Base, query);
		}
	}
	else
	{
	    new query[400];
		SendClientMessage(playerid, -1, "{0099ff}There are currently no players in this gang who can accept your application");
   		SendClientMessage(playerid, -1, "{0099ff}Therefore, it was added to the list of waiting applications, as soon as it is approved - you will get into the gang");
        mysql_format(Base, query, sizeof(query), "INSERT INTO `applications` (`ID`, `Clan`,`date`) VALUES ('%d', '%d', '%d')", Player[playerid][pAccountID], gangid, gettime()+86400);
		mysql_tquery(Base, query);
	}
	return 1;
}

fun GetGangApplicationsCount(playerid)
{
    if(cache_num_rows() > 0) SendClientMessageFormat(playerid, -1, "{0099ff}There are {FFF000}%d{0099ff} offline applications in your gang, check them with /gang applications", cache_num_rows());
    return 1;
}

fun GetGangApplications(playerid)
{
    for( new j = 0; j < 30; j++) AccountsToAccept[playerid][j] = -1;
    
    if(cache_num_rows() > 0)
	{
	    new i, date, clan, accountID, rank, Name[24], hours, str[4096], f[256];
	    
	    new y, m, d, h, s, o;
	    strcat(str, "{4dc3ff}Name\t{80d4ff}Rank\t{b3e6ff}Date\n");
	    for( i = 0; i < cache_num_rows(); i++ )
	    {
	        cache_get_value_name_int(i, "date", date);
	        cache_get_value_name_int(i, "Clan", clan);
	        cache_get_value_name_int(i, "ID", accountID);
	        cache_get_value_name_int(i, "Rank", rank);
	        cache_get_value_name_int(i, "h", hours);
	        cache_get_value_name(i, "Name", Name, 24);

			AccountsToAccept[playerid][i] = accountID;
            
			TimestampToDate(date, y, m, d, h, o, s, 3);
			format(f, sizeof(f), "{4dc3ff}%s\t{80d4ff}%d\t{b3e6ff}%04d-%02d-%02d %02d:%02d\n", Name, rank, y, m, d, h, o);
			strcat(str, f);
	    }
	    ShowPlayerDialog(playerid, DIALOG_SHOW_OFFLINE_MEMBERS, DIALOG_STYLE_TABLIST_HEADERS, "{0099ff}Gang's Applications{FFFFFF} (Offline)", str, "Select", "Cancel");
	}
	else
	{
	    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "{0099ff}Gang's Applications{FFFFFF} (Offline)", "{FFFFFF}Empty!", "Ok", "");
	}
	return 1;
}

stock CreatePlayerCard(playerid)
{
	switch(GetPlayerTeamEx(playerid))
	{
	    case TEAM_HUMAN:
	    {
	        switch(Player[playerid][pClass][TEAM_HUMAN])
	        {
	            case CIVILIAN: return ITEM_NAME_CIVIL_CARD;
	            //case SAMURAI: return ITEM_NAME_SAMURAI_CARD;
	            //case BOXER: return ITEM_NAME_BOXER_CARD;
				case POLICEMAN: return ITEM_NAME_POLICE_CARD;
				//case GANGSTER: return ITEM_NAME_GANG_CARD;
				//case ADVANCEDCIVILIAN: return ITEM_NAME_ADV_CIVI_CARD;
				case MEDIC: return ITEM_NAME_MEDIC_CARD;
				case SCOUT: return ITEM_NAME_SCOUT_CARD;
				case HEAVYSUPPORT: return ITEM_NAME_HEAVY_SUPP_CARD;
				//case HEAVYMEDIC: return ITEM_NAME_HEAVYMEDIC_CARD;
				//case HERO: return ITEM_NAME_HERO_CARD;
				case ENGINEER: return ITEM_NAME_ENGINEER_CARD;
				//case WARMPERSON: return ITEM_NAME_WARMPERSON_CARD;
				case ZOMBIEFAN: return ITEM_NAME_ZOMBIEFAN_CARD;
				case MI7: return ITEM_NAME_MI7_CARD;
				//case SCAVENGER: return ITEM_NAME_SCAVENGER_CARD;
				case FIREMANIAC: return ITEM_NAME_FIREMANIAC_CARD;
				case ADVANCEDENGINEER: return ITEM_NAME_ADVENGINEER_CARD;
				case SWAT: return ITEM_NAME_SWAT_CARD;
				//case TOUGHIE: return ITEM_NAME_TOUGHIE_CARD;
				//case ADVANCEDMEDIC: return ITEM_NAME_ADVMEDIC_CARD;
				//case ANTI-BOOMER: return ITE_NAME_ANTI_BOOMER_CARD;
				case RUNNER: return ITEM_NAME_RUNNER_CARD;
				case TERRORIST: return ITEM_NAME_TERRORIST_CARD;
				//case ROLLERSKATER: return ITEM_NAME_ROLLER_CARD;
				//case BUSINESSHUMAN: return ITEM_NAME_BUSINESSHUMAN_CARD;
				//case ADVANCEDSCOUT: return ITEM_NAME_ADVSCOUT_CARD;
				//case ROGUEHUMAN: return ITEM_NAME_ROGUEHUMAN_CARD;
				//case TOURIST: return ITEM_NAME_TOURIST_CARD;
				//case COPIER: return ITEM_NAME_COPIER_CARD;
				//case ADVANCEDZOMBIEFAN: return ITEM_NAME_ADVZOMBIEFAN_CARD;
				//case ADVANCEDBOXER: return ITEM_NAME_ADVBOXER_CARD;
				//case ADVANCEDSAMURAI: return ITEM_NAME_ADVSAMURAI_CARD;
				//case SENIORMEDIC: return ITEM_NAME_SENIORMEDIC_CARD;
				case ROCKETMAN: return ITEM_NAME_ROCKETMAN_CARD;
				//case ADVANCEDPOLICEMAN: return ITEM_NAME_ADVPOLICEMAN_CARD;
				//case SHARPSHOOTER: return ITEM_NAME_SHARPSHOOTER_CARD;
				//case SPIDERMAN: return ITEM_NAME_SPIDERMAN_CARD;
				//case NURSE: return ITEM_NAME_NURSE_CARD;
				//case POISONER: return ITEM_NAME_POISONER_CARD;
				case IRONMAN: return ITEM_NAME_IRONMAN_CARD;
				//case ADVANCEDENGINEER_2: return ITEM_NAME_ADVENGINEER_2_CARD;
				//case DOCTOR: return ITEM_NAME_DOCTOR_CARD;
				//case SHOTGUNNER: return ITEM_NAME_SHOTGUNNER_CARD;
				case HUMANQUEEN: return ITEM_NAME_HUMANQUEEN_CARD;
				//case ADVANCEDHERO: return ITEM_NAME_ADVHERO_CARD;
				//case OBJECT_02: return ITEM_NAME_OBJECT_CARD;
				//case ARMY: return ITEM_NAME_ARMY_CARD;
				//case ADVANCEDSUPPORTER: return ITEM_NAME_ADVSUPPORTER_CARD;
				//case ROCKERMAN: return ITEM_NAME_ROCKERMAN_CARD;
				//case BERSERKER: return ITEM_NAME_BERSERKER_CARD;
				//case VALENTINE: return ITEM_NAME_VALENTINE_CARD;
				//case AGGREGATOR: return ITEM_NAME_STIMULUS_CARD;
				//case GRAVITON: return ITEM_NAME_GRAVITON_CARD;
				case VIPHUMAN: return ITEM_NAME_VHUMAN_CARD;
				case ASSASSIN: return ITEM_NAME_VASSASSIN_CARD;
				//case PYROMANIAC: return ITEM_NAME_VPYROMANIAC_CARD;
				//case CRY: return ITEM_NAME_VCRY_CARD;
				//case UNDERTAKER: return ITEM_NAME_UNDERTAKER_CARD;
				//case FISHERMAN: return ITEM_NAME_FISHERMAN_CARD;
				
				default: return 0;
			}
	    }
		case TEAM_ZOMBIE:
		{
		    switch(Player[playerid][pClass][TEAM_ZOMBIE+1])
			{
			    case STANDARDZOMBIE: return ITEM_NAME_Z_STANDARD_CARD;
		        //case MUTATEDZOMBIE: return ITEM_NAME_Z_MUTATED_CARD;
			    case FASTZOMBIE: return ITEM_NAME_Z_FAST_CARD;
		        case REAPERZOMBIE: return ITEM_NAME_Z_REAPER_CARD;
		        case BOOMERZOMBIE: return ITEM_NAME_Z_BOOMER_CARD;
		        case STOMPERZOMBIE:  return ITEM_NAME_Z_STOMPER_CARD;
		        //case ADVANCEDMUTATED: return ITEM_NAME_Z_ADVMUTATED_CARD;
				//case KAMIKAZEZOMBIE: return ITEM_NAME_Z_KAMIKAZE_CARD;
				//case BUSINESSZOMBIE: return ITEM_NAME_Z_BUSINESS_CARD;
				case BLINDZOMBIE: return ITEM_NAME_Z_BLIND_CARD;
				case FLESHERZOMBIE: return ITEM_NAME_Z_FLESHER_CARD;
				//case ANTIFLAMETHOWER: return ITEM_NAME_Z_ANTIFLAME_CARD;
				//case TORNADOZOMBIE: return ITEM_NAME_Z_TORNADO_CARD;
	            //case PIRATEZOMBIE: return ITEM_NAME_Z_PIRATE_CARD;
	            //case CAMOUFLAGEZOMBIE: return ITEM_NAME_Z_CAMOUFLAGE_CARD;
	            //case REGENERATOR: return ITEM_NAME_Z_REGENERATOR_CARD;
	            case ROGUEZOMBIE: return ITEM_NAME_Z_ROGUE_CARD;
	            //case REMOVER: return ITEM_NAME_Z_REMOVER_CARD;
	            case MEGAJUMPERZOMBIE: return ITEM_NAME_Z_MEGAJUMPER_CARD;
	            //case DEMONZOMBIE: return ITEM_NAME_Z_DEMON_CARD;
	            //case JOKER: return ITEM_NAME_Z_JOKER_CARD;
	            //case CUREBLOCKER: return ITEM_NAME_Z_CUREBLOCKER_CARD;
	            //case ZOMBIESUPPORT: return ITEM_NAME_Z_SUPPORT_CARD;
	            case RADIOACTIVEZOMBIE: return ITEM_NAME_Z_RADIOACTIVE_CARD;
	            //case FREEZERZOMBIE: return ITEM_NAME_Z_FREEZER_CARD;
	            //case SEEKERZOMBIE: return ITEM_NAME_Z_SEEKER_CARD;
	            //case ADVANCEDSEEKERZOMBIE: return ITEM_NAME_Z_ADVANCEDSEEKER_CARD;
	            //case RISENDEAD: return ITEM_NAME_Z_RISENDEAD_CARD;
	            //case DEMOLISHER: return ITEM_NAME_Z_DEMOLISHER_CARD;
	            //case REINCARNATEZOMBIE: return ITEM_NAME_Z_REINCARNATE_CARD;
	            //case UNDEADBOXER: return ITEM_NAME_Z_UNDEADBOXER_CARD;
	            //case EARTHSHAKERZOMBIE: return ITEM_NAME_Z_EARTHSHAKER_CARD;
	            case SLOWZOMBIE: return ITEM_NAME_Z_SLOW_CARD;
	            //case SPOREZOMBIE: return ITEM_NAME_Z_SPORE_CARD;
	            //case SPITTERZOMBIE: return ITEM_NAME_Z_SPITTER_CARD;
	            //case RUNNERZOMBIE: return ITEM_NAME_Z_RUNNER_CARD;
				//case ACCELZOMBIE: return ITEM_NAME_Z_ACCEL_CARD;
	            //case GUNJAMMERZOMBIE: return ITEM_NAME_Z_GUNJAMMER_CARD;
	            //case PUNKZOMBIE: return ITEM_NAME_Z_PUNK_CARD;
	            //case SPACEBREAKERZOMBIE: return ITEM_NAME_Z_SPACEBREAKER_CARD;
	            //case STEALER: return ITEM_NAME_Z_STEALER_CARD;
	            //case LEGBREAKER: return ITEM_NAME_Z_LEGBREAKER_CARD;
				//case WIZARDZOMBIE: return ITEM_NAME_Z_WIZARD_CARD;
	            //case COCKROACH: return ITEM_NAME_Z_COCKROACH_CARD;
	            //case WITCHZOMBIE: return ITEM_NAME_Z_WITCH_CARD;
	            //case ENFORCER: return ITEM_NAME_Z_ENFORCER_CARD;
				//case BEEZOMBIE: return ITEM_NAME_Z_BEE_CARD;
	            //case SLENDERZOMBIE: return ITEM_NAME_Z_SLENDER_CARD;
	            //case MIRRORZOMBIE: return ITEM_NAME_Z_MIRROR_CARD;
	            //case SPWAPPERZOMBIE: return ITEM_NAME_Z_SPWAPPER_CARD;
	            //case FLYZOMBIE: return ITEM_NAME_Z_FLY_CARD;
	            //case NIGHTMARE: return ITEM_NAME_Z_NIGHTMARE_CARD;
	           // case BLACKEYEZOMBIE: return ITEM_NAME_Z_BLACKEYE_CARD;
	           // case JUSTICEZOMBIE: return ITEM_NAME_Z_REFEREE_CARD;
	            //case SPIDER: return ITEM_NAME_Z_SPIDER_CARD;
                case SCREAMERZOMBIE: return ITEM_NAME_VSCREAMER_ZOMBIE_CARD;
                //case TANKZOMBIE: return ITEM_NAME_VTANK_ZOMBIE_CARD;
                //case JUGGERNAUT: return ITEM_NAME_VJUGGER_ZOMBIE_CARD;
				default: return 0;
			}
		}
		default: return 0;
	}
	return 0;
}

stock ShowCards(playerid)
{
	new head[] = "{0099ff}Cards",
        i,
		s[64],
		cs_info[1024];
		
    for( i = 0; i < sizeof(CardBoxName[]); i++ )
    {
        format(s, sizeof(s), "{FFFFFF}%s\n", CardBoxName[0][i]);
		strcat(cs_info, s);
    }
    ShowPlayerDialog(playerid, DIALOG_CARDS, DIALOG_STYLE_LIST, head, cs_info, "Select", "Cancel");
    return 1;
}

fun Drugsoff(playerid)
{
    SetCameraBehindPlayer(playerid);
	SetPlayerDrunkLevel(playerid, 0);
	SetPlayerWeather(playerid, Map[m_Weather]);
	SetPlayerTime(playerid,Map[m_Time],0);
	
    return 0;
}

fun LoadSpeciality(playerid)
{
    if(cache_num_rows() > 0)
 	{
 	    new idx = -1, prog = 0, lvl = 0;
    	cache_get_value_name_int(0, "inx", idx);
        cache_get_value_name_int(0, "prog", prog);
        cache_get_value_name_int(0, "lvl", lvl);
        if(idx > -1)
        {
			Specialty[playerid][spc_level][idx] = lvl;
	        spec_minPercent[playerid][idx] = prog;
		}
	}
	else
	{
	    new query[128];
 	    mysql_format(Base, query, sizeof(query), "INSERT INTO `pspec` (`ID`) VALUE ('%d')", Player[playerid][pAccountID]);
  		mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}

stock SaveSpeciality(playerid)
{
	new inx, prog, lvl, query[450];
    for( new i = 0; i < sizeof(spec_maxRanks); i++)
	{
		if(Specialty[playerid][spc_level][i] > 0)
		{
		    inx = i;
		    prog = spec_minPercent[playerid][i];
            lvl = Specialty[playerid][spc_level][i];
		}
	}

	mysql_format(Base, query, sizeof(query), "UPDATE `pspec` SET `inx`='%d',`prog`='%d',`lvl`='%d' WHERE `ID`='%d'", inx, prog, lvl, Player[playerid][pAccountID]);
    mysql_tquery(Base, query, "", "", "");
}

public OnIncomingPacket(playerid, packetid, BitStream:bs)
{
	switch(packetid)
	{
    	case 200:
     	{
            new ac_cData[RAKNET_DRIVER_SYNC];
            BS_IgnoreBits(bs, 8);
            BS_ReadInCarSync(bs, ac_cData);
            if(!(1 <= ac_cData[RAKNET_VEHICLE] < MAX_VEHICLES))
            {
                foreach(Player, i)
			    {
			        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Vehicle Crasher #1", Player[playerid][UserName], playerid);
				}
				PlayerKick(playerid);
            }
            BS_ResetReadPointer(bs);
        }
        case 203:
        {
            new ac_aData[PR_AimSync];
            BS_IgnoreBits(bs, 8);
            BS_ReadAimSync(bs, ac_aData);
            if(ac_aData[PR_aimZ] != ac_aData[PR_aimZ])
            {
                ac_aData[PR_aimZ] = 0.0;
                BS_SetWriteOffset(bs, 8);
                BS_WriteAimSync(bs, ac_aData);
                BS_ResetWritePointer(bs);
            }
            BS_ResetReadPointer(bs);
        }
        case 207:
        {
            new ac_fData[RAKNET_ONFOOT_SYNC];
            BS_IgnoreBits(bs, 8);
            BS_ReadOnFootSync(bs, ac_fData);
            
            if(ac_fData[RAKNET_QUATERION_X] > 1.0 || ac_fData[RAKNET_QUATERION_X] < -1.0
			|| ac_fData[RAKNET_QUATERION_Y] > 1.0 || ac_fData[RAKNET_QUATERION_Y] < -1.0
			|| ac_fData[RAKNET_QUATERION_Z] > 1.0 || ac_fData[RAKNET_QUATERION_Z] < -1.0
			|| ac_fData[RAKNET_QUATERION_R] > 1.0 || ac_fData[RAKNET_QUATERION_R] < -1.0)
			{
				foreach(Player, i)
			    {
			        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Quaterion Crasher #1", Player[playerid][UserName], playerid);
				}
				BS_ResetReadPointer(bs);
				return 0;
			}
            
            if(ac_fData[RAKNET_SURFING_X] != ac_fData[RAKNET_SURFING_X] ||
            ac_fData[RAKNET_SURFING_Y] != ac_fData[RAKNET_SURFING_Y] ||
            ac_fData[RAKNET_SURFING_Z] != ac_fData[RAKNET_SURFING_Z])
            {
                ac_fData[RAKNET_SURFING_X] =
                ac_fData[RAKNET_SURFING_Y] =
                ac_fData[RAKNET_SURFING_Z] = 0.0;
                ac_fData[RAKNET_SURFING_CAR_ID] = 0;
                BS_SetWriteOffset(bs, 8);
                BS_WriteOnFootSync(bs, ac_fData);
                BS_ResetWritePointer(bs);
            }
            BS_ResetReadPointer(bs);
        }
        case 209:
        {
            new ac_uData[PR_UnoccupiedSync];
            BS_IgnoreBits(bs, 8);
            BS_ReadUnoccupiedSync(bs, ac_uData);
            if(ac_uData[PR_seatId] > 0 &&
            (!IsPlayerInVehicle(playerid, ac_uData[PR_vehicleId])) ||
            ac_uData[PR_roll][0] != ac_uData[PR_roll][0] ||
            ac_uData[PR_roll][1] != ac_uData[PR_roll][1] ||
            ac_uData[PR_roll][2] != ac_uData[PR_roll][2] ||
            ac_uData[PR_direction][0] != ac_uData[PR_direction][0] ||
            ac_uData[PR_direction][1] != ac_uData[PR_direction][1] ||
            ac_uData[PR_direction][2] != ac_uData[PR_direction][2] ||
            ac_uData[PR_angularVelocity][0] != ac_uData[PR_angularVelocity][0] ||
            ac_uData[PR_angularVelocity][1] != ac_uData[PR_angularVelocity][1] ||
            ac_uData[PR_angularVelocity][2] != ac_uData[PR_angularVelocity][2] ||
            floatabs(ac_uData[PR_roll][0]) >= 1.0 ||
            floatabs(ac_uData[PR_roll][1]) >= 1.0 ||
            floatabs(ac_uData[PR_roll][2]) >= 1.0 ||
            floatabs(ac_uData[PR_direction][0]) >= 1.0 ||
            floatabs(ac_uData[PR_direction][1]) >= 1.0 ||
            floatabs(ac_uData[PR_direction][2]) >= 1.0 ||
            floatabs(ac_uData[PR_angularVelocity][0]) >= 1.0 ||
            floatabs(ac_uData[PR_angularVelocity][1]) >= 1.0 ||
            floatabs(ac_uData[PR_angularVelocity][2]) >= 1.0 ||
            ac_uData[PR_roll][0] == ac_uData[PR_direction][0] &&
            ac_uData[PR_roll][1] == ac_uData[PR_direction][1] &&
            ac_uData[PR_roll][2] == ac_uData[PR_direction][2]) return 0;
            BS_ResetReadPointer(bs);
        }
		case 211:
        {
            new ac_pData[RAKNET_PASSENGER_SYNC];
            BS_IgnoreBits(bs, 8);
            BS_ReadPassengerSync(bs, ac_pData);
            if(ac_pData[PR_seatId] < 1 || !(1 <= ac_pData[RAKNET_VEHICLE] < MAX_VEHICLES))
            {
                foreach(Player, i)
			    {
			        if(Player[i][pAdmin] > 0 && Player[i][pLogged]) SendClientMessageFormat(i, -1, "{6A8EE2}>> %s(%d) supposedly uses Vehicle Crasher #3", Player[playerid][UserName], playerid);
				}
				PlayerKick(playerid);
            }
            BS_ResetReadPointer(bs);
        }
	}
    return 1;
}

enum eDisabledKeys
{
    Disable_LeftKey,
    Disable_RightKey,
    Disable_UpKey,
    Disable_DownKey,
    Disabled_Keys
};

new gPlayerDisabledKeys[MAX_PLAYERS][eDisabledKeys];

stock ProcessDisabledKeys(playerid, &lrKey, &udKey, &keys)
{
    if (
        (lrKey == KEY_LEFT && gPlayerDisabledKeys[playerid][Disable_LeftKey]) ||
        (lrKey == KEY_RIGHT && gPlayerDisabledKeys[playerid][Disable_RightKey])
    ) {
        lrKey = 0;
    }

    if (
        (udKey == KEY_UP && gPlayerDisabledKeys[playerid][Disable_UpKey]) ||
        (udKey == KEY_DOWN && gPlayerDisabledKeys[playerid][Disable_DownKey])
    ) {
        udKey = 0;
    }

    keys &= ~gPlayerDisabledKeys[playerid][Disabled_Keys];
}

stock SetPlayerDisableKeysSync(playerid, keys, left = false, right = false, up = false, down = false)
{
    gPlayerDisabledKeys[playerid][Disable_LeftKey] = left;
    gPlayerDisabledKeys[playerid][Disable_RightKey] = right;
    gPlayerDisabledKeys[playerid][Disable_UpKey] = up;
    gPlayerDisabledKeys[playerid][Disable_DownKey] = down;

    gPlayerDisabledKeys[playerid][Disabled_Keys] = keys;
}

stock DeattachSpider(playerid)
{
    return 0;
}

stock KickGangMembers()
{
	new query[300], DAYS = 14;
    mysql_format(Base, query, sizeof(query), "SELECT userinfo.last_log, userinfo.id FROM `userinfo` JOIN `users` ON users.id = userinfo.id WHERE `last_log` < %d - (86400*%d) AND users.ClanRank < 5 AND users.Clan > 0", gettime(), DAYS);
	mysql_tquery(Base, query, "KickMembers", "i", playerid);
}

// SELECT users.id FROM `users` JOIN `userinfo` ON users.id = userinfo.id WHERE `last_log` < 1577395469 - (86400*30) AND users.ClanRank < 5 AND users.Clan > 0

// UPDATE `users` SET Clan = 0, ClanRank = 0 WHERE ID = (SELECT users.id FROM `users` JOIN `userinfo` ON users.id = userinfo.id WHERE `last_log` < 1590942456 - (86400 * 30) AND users.ClanRank < 5 AND users.Clan > 0)

//UPDATE `users` SET `Clan=0, ClanRank=0` WHERE `users`.`ID` = (SELECT userinfo.id FROM `userinfo` JOIN `users` ON users.id = userinfo.id WHERE `last_log` < %d - (86400*%d) AND users.ClanRank < 5 AND users.Clan > 0

stock CheckForOldUser(playerid)
{
	if(SearchItemInInv(playerid, ITEM_NAME_RETURNEE) <= 0)
	{
		new DAYS = 61, query[300];
    	mysql_format(Base, query, sizeof(query), "SELECT `last_log`,`id` FROM `userinfo` WHERE `last_log` < %d", gettime() - (86400 * DAYS));
		mysql_tquery(Base, query, "IsOldUser", "i", playerid);
	}
}

fun IsOldUser(playerid)
{
	if(cache_num_rows())
	{
	    switch(Player[playerid][pLang])
	    {
	        case 0:
	        {
				SendClientMessage(playerid, -1, "{0080ff}>> Welcome back!");
				SendClientMessage(playerid, -1, "{0080ff}>> We noticed that you haven't joined the server for a long time");
				SendClientMessage(playerid, -1, "{0080ff}>> And we give you a bonus to make it easier to get into operation!");
				SendClientMessage(playerid, -1, "{0080ff}>> Check your {FFF000}Inventory{FFFFFF}(/inv)");
			}
			case 1:
	        {
				SendClientMessage(playerid, -1, "{0080ff}>> Сколько лет, сколько зим!");
				SendClientMessage(playerid, -1, "{0080ff}>> Мы заметили, что вы не заходили на сервер в течении долгого времени");
				SendClientMessage(playerid, -1, "{0080ff}>> И даём вам бонус, чтобы вы быстрее пришли в былой строй!");
				SendClientMessage(playerid, -1, "{0080ff}>> Проверьте ваш {FFF000}Инвентарь{FFFFFF}(/inv)");
			}
			case 2:
	        {
				SendClientMessage(playerid, -1, "{0080ff}>> Dar una buena acogida!");
				SendClientMessage(playerid, -1, "{0080ff}>> Notamos que no te has unido al servidor por mucho tiempo");
				SendClientMessage(playerid, -1, "{0080ff}>> Y le damos una bonificacion para que sea mas facil entrar en funcionamiento!");
				SendClientMessage(playerid, -1, "{0080ff}>> Revisar su {FFF000}Inventario{FFFFFF}(/inv)");
			}
		}
		
		if(TryToAdd(playerid, ITEM_NAME_RETURNEE, 0))
		{
			AddItemInInv(playerid, ITEM_NAME_RETURNEE, 1, 0, gettime() + (86400*30), 1, 1, false);
		}
		
		new query[256];
		mysql_format(Base, query, sizeof(query), "UPDATE `userinfo` SET `last_log`='%d' WHERE `id` = '%d'", gettime(), Player[playerid][pAccountID]);
		mysql_tquery(Base, query, "", "", "");
	}
	return 1;
}

stock GetPlayerVirtualWorldForPlayer(playerid) return PR_VirtualWorldForPlayer[playerid];
stock SetPlayerVirtualWorldForPlayer(toplayerid, playerid, worldid)
{
    PR_VirtualWorldForPlayer[playerid] = worldid;

    new BitStream:bs = BS_New();

    if(worldid != 0)
    {
	    BS_WriteValue(
	        bs,
	        PR_UINT16,
			playerid
	    );

	    BS_SetWriteOffset(bs, worldid);
		BS_RPC(bs, toplayerid, 163, PR_LOW_PRIORITY, PR_RELIABLE_ORDERED); // HIDE
	}
    else
	{
	    new Float:p[4];
	    GetPlayerPos(playerid, p[0], p[1], p[2]);
	    GetPlayerFacingAngle(playerid, p[3]);

	    BS_WriteValue(bs,
	    PR_UINT16, playerid,
		PR_UINT8, GetPlayerTeamEx(playerid),
		PR_UINT32, GetPlayerSkin(playerid),
		PR_FLOAT, p[0],
        PR_FLOAT, p[1],
        PR_FLOAT, p[2],
        PR_FLOAT, p[3],
        PR_UINT32, GetPlayerColor(playerid),
		PR_UINT8, GetPlayerFightingStyle(playerid));

		BS_RPC(bs, toplayerid, 32, PR_LOW_PRIORITY, PR_RELIABLE_ORDERED); // SHOW?
    }
    BS_Delete(bs);
    return 1;
}

stock CheckMerchantBuff(playerid, buffid)
{
	if(Merchant[mc_boost][buffid] > -1)
    {
        if(GetItemCount(playerid, ITEM_NAME_GOLD_COIN) < Merchant[mc_price][buffid])
        {
            ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "OPS", "Not enough Gold Coins (GC)", "Ok", "");
            return 1;
        }
        switch(Merchant[mc_boost][buffid])
        {
            case 0:
			{
				VipBuffs[playerid][vb_IEXP][0] = 1;
				VipBuffs[playerid][vb_IEXP][1] = gettime()+86400*Merchant[mc_buffTime][buffid];
				RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_price][buffid]);
				SendClientMessage(playerid, -1, "{FFF000}>> You have got Increased EXP buff!");
			}
			case 1:
			{
				VipBuffs[playerid][vb_IKS][0] = 1;
				VipBuffs[playerid][vb_IKS][1] = gettime()+86400*Merchant[mc_buffTime][buffid];
				RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_price][buffid]);
				SendClientMessage(playerid, -1, "{FFF000}>> You have got Increased Kills buff!");
			}
			case 2:
			{
				VipBuffs[playerid][vb_ICBHB][0] = 1;
				VipBuffs[playerid][vb_ICBHB][1] = gettime()+86400*Merchant[mc_buffTime][buffid];
				RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_price][buffid]);
				SendClientMessage(playerid, -1, "{FFF000}>> You have got Increased Chance To Be A Human Boss buff!");
			}
			case 3:
			{
				VipBuffs[playerid][vb_ICBHB][0] = 1;
				VipBuffs[playerid][vb_ICBHB][1] = gettime()+86400*Merchant[mc_buffTime][buffid];
				RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_price][buffid]);
				SendClientMessage(playerid, -1, "{FFF000}>> You have got Increased Chance To Be A Zombie Boss buff!");
			}
			case 4:
			{
				VipBuffs[playerid][vb_IAM][0] = 1;
				VipBuffs[playerid][vb_IAM][1] = gettime()+86400*Merchant[mc_buffTime][buffid];
				RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_price][buffid]);
				SendClientMessage(playerid, -1, "{FFF000}>> You have got Increased Ammo buff!");
			}
			case 5:
			{
				VipBuffs[playerid][vb_ICBH][0] = 1;
				VipBuffs[playerid][vb_ICBH][1] = gettime()+86400*Merchant[mc_buffTime][buffid];
				RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_price][buffid]);
				SendClientMessage(playerid, -1, "{FFF000}>> You have got Increased Chance To Be A Human buff!");
			}
			case 6:
			{
				VipBuffs[playerid][vb_ICBH][0] = 1;
				VipBuffs[playerid][vb_ICBH][1] = gettime()+86400*Merchant[mc_buffTime][buffid];
				RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_price][buffid]);
				SendClientMessage(playerid, -1, "{FFF000}>> You have got Increased Chance To Be A Zombie buff!");
			}
        }
    }
    return 1;
}

stock GiveMerchantAdditionalWeapon(playerid, buffid)
{
    if(Merchant[mc_boost][buffid] > -1)
    {
        if(GetItemCount(playerid, ITEM_NAME_GOLD_COIN) < Merchant[mc_price][buffid])
        {
            ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "OPS", "Not enough Gold Coins (GC)", "Ok", "");
            return 1;
        }
		VipBuffs[playerid][vb_Weapon][0] = Merchant[mc_boost][buffid];
		VipBuffs[playerid][vb_Weapon][1] = gettime()+86400*Merchant[mc_buffTime][buffid];
		RemoveItemFromInv(playerid, ITEM_NAME_GOLD_COIN, Merchant[mc_price][buffid]);
		SendClientMessage(playerid, -1, "{FFF000}>> You have got an additional weapon buff!");
	}
	return 1;
}

stock ClearPlayerShopInfo(playerid)
{
    SetPVarInt(playerid, "stype", -1);
	SetPVarInt(playerid, "pl", -1);
	SetPVarInt(playerid, "inx", -1);
	SetPVarInt(playerid, "pr", -1);
	SetPVarInt(playerid, "vp", -1);
	SetPVarInt(playerid, "ct", -1);
	SetPVarInt(playerid, "buyt", -1);
	SetPVarInt(playerid, "clbuy", -1);
}

stock RestoreAchievement(playerid, index, count = 0)
{
	switch(index)
	{
	    case 0: { Achievements[playerid][thropyManiac] = 0; return 0; }
	    case 1: { Achievements[playerid][AbilityUses] = count; return 0; }
	    case 2: { Achievements[playerid][AbilityUses] = count; return 0; }
	    case 3: { Achievements[playerid][AbilityUses] = count; return 0; }
	    case 4: { Achievements[playerid][Runned] = 0; return 0; }
	    case 5: { Achievements[playerid][Runned] = 49.999; return 0; }
	    case 6: { Achievements[playerid][Runned] = 199.999; return 0; }
	    case 7: { Achievements[playerid][Lucky] = count; return 0; }
	    case 8: { Achievements[playerid][Lucky] = count; return 0; }
	    case 9: { Achievements[playerid][Lucky] = count; return 0; }
	    case 10: { Achievements[playerid][HumansKilled] = count; return 0; }
	    case 11: { Achievements[playerid][HumansKilled] = count; return 0; }
	    case 12: { Achievements[playerid][HumansKilled] = count; return 0; }
		case 13: { Achievements[playerid][ZombiesKilled] = count; return 0; }
		case 14: { Achievements[playerid][ZombiesKilled] = count; return 0; }
		case 15: { Achievements[playerid][ZombiesKilled] = count; return 0; }
	    case 16: { return 0; }
	    case 17: { Achievements[playerid][MeatsCollected] = count; return 0; }
	    case 18: { Achievements[playerid][MeatsCollected] = count; return 0; }
	    case 19: { Achievements[playerid][MeatsCollected] = count; return 0; }
	    case 20: { Achievements[playerid][eKillstreaks] = count; return 0; }
	    case 21: { Achievements[playerid][eKillstreaks] = count; return 0; }
	    case 22: { Achievements[playerid][eKillstreaks] = count; return 0; }
		case 23: { Achievements[playerid][CuredHumans] = count; return 0; }
		case 24: { Achievements[playerid][CuredHumans] = count; return 0; }
		case 25: { Achievements[playerid][CuredHumans] = count; return 0; }
		case 26: { Player[playerid][DuelsWin] = count; return 0; }
		case 27: { Player[playerid][DuelsWin] = count; return 0; }
		case 28: { Player[playerid][DuelsWin] = count; return 0; }
		case 29: { Achievements[playerid][eKillstreaksFail] = count; return 0; }
		case 30: { Achievements[playerid][Deaths] = count; return 0; }
		case 31: { Achievements[playerid][Deaths] = count; return 0; }
		case 32: { Achievements[playerid][Deaths] = count; return 0; }
		case 33: { Achievements[playerid][WrongResort] = count; return 0; }
		case 34: { SetUnlockedSlot(Achievements[playerid][esClan], 0, count); return 0; }
		case 35: { SetUnlockedSlot(Achievements[playerid][esClan], 1, count); return 0; }
		case 36: { SetUnlockedSlot(Achievements[playerid][esClan], 2, count); return 0; }
		case 37: { SetUnlockedSlot(Achievements[playerid][HumanClassesUses], 0, count); return 0; }
		case 38: { Achievements[playerid][reportTimes] = count; return 0; }
		case 39: { Achievements[playerid][reportTimes] = count; return 0; }
		case 40: { Achievements[playerid][reportTimes] = count; return 0; }
		case 41: { Achievements[playerid][Purchases] = count; return 0; }
		case 42: { Achievements[playerid][Purchases] = count; return 0; }
		case 43: { Achievements[playerid][Purchases] = count; return 0; }
		case 44: { Player[playerid][RoundsWin] = count; return 0; }
		case 45: { Achievements[playerid][Hours] = count; return 0; }
		case 46: { Achievements[playerid][Hours] = count; return 0; }
		case 47: { Achievements[playerid][Hours] = count; return 0; }
		case 48: { Achievements[playerid][Jumper] = count; return 0; }
		case 49: { Achievements[playerid][Jumper] = count; return 0; }
		case 50: { Achievements[playerid][Jumper] = count; return 0; }
		case 51: { Achievements[playerid][IronFist] = count; return 0; }
		case 52: { Achievements[playerid][AdrenalineDose] = count; return 0; }
		case 53: { SetUnlockedSlot(Achievements[playerid][ac_InAirTime], 0, count); return 0; }
		case 54: { SetUnlockedSlot(Achievements[playerid][ac_InAirTime], 0, count); return 0; }
		case 55: { Achievements[playerid][CuttingTheBrink] = count; return 0; }
		case 56: { Achievements[playerid][TimeVictim] = count; return 0; }
		case 57: { Achievements[playerid][ac_QuestsCompleted] = count; return 0; }
		case 58: { Achievements[playerid][ac_QuestsCompleted] = count; return 0; }
		case 59: { Achievements[playerid][ac_QuestsCompleted] = count; return 0; }
		case 60: { Achievements[playerid][ac_QuestsCompleted] = count; return 0; }
		case 61: { SetUnlockedSlot(Achievements[playerid][ac_PlayedTime], 0, count); return 0; }
		case 62: { SetUnlockedSlot(Achievements[playerid][ac_PlayedTime], 1, count); return 0; }
		case 63: { SetUnlockedSlot(Achievements[playerid][ac_Ruler], 0, count); return 0; }
        case 64: { SetUnlockedSlot(Achievements[playerid][ac_Ruler], 1, count); return 0; }
        case 65: { Achievements[playerid][ac_Merchant] = count; return 0; }
  		case 66: { Achievements[playerid][ac_Merchant] = count; return 0; }
		case 67: { SetUnlockedSlot(Achievements[playerid][ac_Pets], 0, count); return 0; }
		case 68: { Achievements[playerid][ac_newPets] = count; return 0; }
		case 69: { SetUnlockedSlot(Achievements[playerid][ac_Pets], 2, count); return 0; }
	    default: return 0;
	}
	return 1;
}

stock OpenServerGift(playerid)
{
	new item = ServerGiftPrizes[random(sizeof(ServerGiftPrizes))];
	switch(item)
	{
	    case 0:
		{
			GivePlayerXP(playerid, 10);
			SendClientMessage(playerid, -1, "{FFF000}>> You opened a gift and earned 10 XP");
			RemoveItemFromInv(playerid, ITEM_NAME_SER_GIFT, 1);
			return 1;
		}
		case ITEM_NAME_AMETHYST..ITEM_NAME_BERSERKER_BOOK:
		{
		    if(TryToAdd(playerid, item, 0, false))
		    {
		        if(item >= ITEM_NAME_AMETHYST && item <= ITEM_NAME_PEARL)
				{
					AddItemInInv(playerid, item, 5);
		        	SendClientMessageFormat(playerid, -1, "{FFF000}>> You opened a gift and got %s x5", ItemNames[item][8]);
		        	RemoveItemFromInv(playerid, ITEM_NAME_SER_GIFT, 1);
					return 1;
		        }
		        else
		        {
		            new chance = random(1000);
		            if(item < ITEM_NAME_L_WEAPON_UPGRADER)
					{
					    if(chance <= 350)
					    {
						    AddItemInInv(playerid, item, 1);
				        	SendClientMessageFormat(playerid, -1, "{FFF000}>> You opened a gift and got %s x1", ItemNames[item][8]);
						}
						else
						{
						    GivePlayerXP(playerid, 10);
                            SendClientMessage(playerid, -1, "{FFF000}>> You opened a gift and earned 10 XP");
							//SendClientMessageFormat(playerid, -1, "{FFF000}>> You opened a gift and earned 10 XP (%s - %d '/.)", ItemNames[item][8], chance);
						}
						RemoveItemFromInv(playerid, ITEM_NAME_SER_GIFT, 1);
			        	return 1;
					}
					
					if(item >= ITEM_NAME_L_WEAPON_UPGRADER)
		            {
		                if(chance == 0)
		                {
		                    if(random(1000) == 0)
		                    {
					            AddItemInInv(playerid, item, 1);
					        	SendClientMessageFormat(playerid, -1, "{FFF000}>> You opened a gift and got %s x1", ItemNames[item][8]);
							}
							else
							{
							    GivePlayerXP(playerid, 10);
							    SendClientMessage(playerid, -1, "{FFF000}>> You opened a gift and earned 10 XP");
								//SendClientMessageFormat(playerid, -1, "{FFF000}>> You opened a gift and earned 10 XP (%s - %d '/.)", ItemNames[item][8], chance);
							}
						}
						else
						{
						    GivePlayerXP(playerid, 10);
						    SendClientMessage(playerid, -1, "{FFF000}>> You opened a gift and earned 10 XP");
							//SendClientMessageFormat(playerid, -1, "{FFF000}>> You opened a gift and earned 10 XP (%s - %d '/.)", ItemNames[item][8], chance);
						}
			        	RemoveItemFromInv(playerid, ITEM_NAME_SER_GIFT, 1);
			        	return 1;
					}
		        }
			}
			else
			{
			    SendClientMessage(playerid, -1, "{FFF000}>> Not enough slots!");
	            return 1;
			}
		}
  		default:
		{
		    GivePlayerXP(playerid, 10);
			SendClientMessage(playerid, -1, "{FFF000}>> You opened a gift and earned 10 XP");
			RemoveItemFromInv(playerid, ITEM_NAME_SER_GIFT, 1);
			return 1;
		}
	}
	return 1;
}

static const DefaultUpgraderRandomizer[] = {1,  4,  6, 10, 15, 38, 57, 74, 92, 120, 180, 235};
static const DefaultUpgraderChances[] =    {1,  1,  1,  2,  1,  1,  0,  0,  0,   0,   0,   0};

static const UniqueUpgraderRandomizer[] = {1,  1,  1,  1, 15, 38, 57, 74, 92, 120, 180, 235};
static const UniqueUpgraderChances[] =    {1,  1,  1,  1,  3,  3,  3,  3,  3,  1,   1,   1};

static const LegendaryUpgraderRandomizer[] = {1, 1, 1, 1, 1, 1, 57, 74, 92, 120, 180, 235};
static const LegendaryUpgraderChances[] =    {1, 1, 1, 1, 1, 1,  4,  4,  4,   3,   3,   3};

stock TryToUpgradeStat(playerid, weapon, upgrader)
{
    switch(upgrader)
	{
	    case 1:
	    {
	        new wpsk = CharacterSkill[playerid][weapon];
	        if(wpsk <= 11)
	        {
		        if(random(DefaultUpgraderRandomizer[wpsk]) <= DefaultUpgraderChances[wpsk])
		        {
		            SendClientMessageFormat(playerid, -1, "{FFF000}>> %s successfully upgraded", chs_n[weapon]);
				    SendClientMessageFormat(playerid, -1, "{FFF000}>> +%d %s changed to +%d %s!", CharacterSkill[playerid][weapon], chs_n[weapon], CharacterSkill[playerid][weapon] + 1, chs_n[weapon]);
					CharacterSkill[playerid][weapon]++;
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
		        }
		        else
		        {
	       			SendClientMessageFormat(playerid, -1, "{FF0000}>> Failure to upgrade +%d %s", CharacterSkill[playerid][weapon], chs_n[weapon]);
	       			CharacterSkill[playerid][weapon] = 0;
	               	PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
	               	
	               	new i = weapon;
			        CharArInfo[playerid][CharAR_Buff_One][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Three][i] = -1;

			        CharArInfo[playerid][CharAR_Buff_Time_One][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Time_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Time_Three][i] = -1;

			        CharArInfo[playerid][CharAR_Power_One][i] = -1;
			        CharArInfo[playerid][CharAR_Power_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Power_Three][i] = -1;
		        }
		        RemoveItemFromInv(playerid, ITEM_NAME_ARMOUR_UPGRADER, 1);
			}
		}
		case 2:
	    {
	        new wpsk = WeaponSkill[playerid][weapon];
	        if(wpsk <= 11)
	        {
		        if(random(UniqueUpgraderRandomizer[wpsk]) <= UniqueUpgraderChances[wpsk])
		        {
		            SendClientMessageFormat(playerid, -1, "{FFF000}>> %s successfully upgraded", chs_n[weapon]);
				    SendClientMessageFormat(playerid, -1, "{FFF000}>> +%d %s changed to +%d %s!", CharacterSkill[playerid][weapon], chs_n[weapon], CharacterSkill[playerid][weapon] + 1, chs_n[weapon]);
					CharacterSkill[playerid][weapon]++;
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
		        }
		        else
		        {
	       			SendClientMessageFormat(playerid, -1, "{FF0000}>> Failure to upgrade +%d %s", CharacterSkill[playerid][weapon], chs_n[weapon]);
	               	PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
	               	CharacterSkill[playerid][weapon] = 0;
	               	
	               	new i = weapon;
			        CharArInfo[playerid][CharAR_Buff_One][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Three][i] = -1;

			        CharArInfo[playerid][CharAR_Buff_Time_One][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Time_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Time_Three][i] = -1;

			        CharArInfo[playerid][CharAR_Power_One][i] = -1;
			        CharArInfo[playerid][CharAR_Power_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Power_Three][i] = -1;
		        }
		        RemoveItemFromInv(playerid, ITEM_NAME_U_ARMOUR_UPGRADER, 1);
			}
		}
		case 3:
	    {
	        new wpsk = WeaponSkill[playerid][weapon];
	        if(wpsk <= 11)
	        {
		        if(random(LegendaryUpgraderRandomizer[wpsk]) <= LegendaryUpgraderChances[wpsk])
		        {
		            SendClientMessageFormat(playerid, -1, "{FFF000}>> %s successfully upgraded", chs_n[weapon]);
				    SendClientMessageFormat(playerid, -1, "{FFF000}>> +%d %s changed to +%d %s!", CharacterSkill[playerid][weapon], chs_n[weapon], CharacterSkill[playerid][weapon] + 1, chs_n[weapon]);
					CharacterSkill[playerid][weapon]++;
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
		        }
		        else
		        {
	       			SendClientMessageFormat(playerid, -1, "{FF0000}>> Failure to upgrade +%d %s", CharacterSkill[playerid][weapon], chs_n[weapon]);
	       			CharacterSkill[playerid][weapon] = 0;
	               	PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
	               	
	               	new i = weapon;
			        CharArInfo[playerid][CharAR_Buff_One][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Three][i] = -1;

			        CharArInfo[playerid][CharAR_Buff_Time_One][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Time_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Buff_Time_Three][i] = -1;

			        CharArInfo[playerid][CharAR_Power_One][i] = -1;
			        CharArInfo[playerid][CharAR_Power_Two][i] = -1;
			        CharArInfo[playerid][CharAR_Power_Three][i] = -1;

		        }
		        RemoveItemFromInv(playerid, ITEM_NAME_L_ARMOUR_UPGRADER, 1);
			}
		}
	}
    PlayerSelectStatToUpgrade[playerid] = -1;
    PlayerSelectUpgraderToStat[playerid] = -1;
}

stock TryToUpgradeWeapon(playerid, weapon, upgrader)
{
    new wn[24];
    GetWeaponName(weapon, wn, sizeof(wn));
	switch(upgrader)
	{
	    case 1:
	    {
	        new wpsk = WeaponSkill[playerid][weapon];
	        if(wpsk <= 11)
	        {
		        if(random(DefaultUpgraderRandomizer[wpsk]) <= DefaultUpgraderChances[wpsk])
		        {
		            SendClientMessage(playerid, -1, "{FFF000}>> Weapon successfully upgraded");
				    SendClientMessageFormat(playerid, -1, "{FFF000}>> +%d %s changed to +%d %s!", WeaponSkill[playerid][weapon], wn, WeaponSkill[playerid][weapon] + 1, wn);
					WeaponSkill[playerid][weapon]++;
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
		        }
		        else
		        {
	       			SendClientMessageFormat(playerid, -1, "{FF0000}>> Failure to upgrade +%d %s", WeaponSkill[playerid][weapon], wn);
	       			WeaponSkill[playerid][weapon] = 0;
	               	PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
	               	
	               	WeaponsInfo[playerid][WeaponBuff_One][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_One][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_One][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_One][weapon] = 0.0;

	    			WeaponsInfo[playerid][WeaponBuff_Two][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_Two][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_Two][weapon] = 0.0;

	    			WeaponsInfo[playerid][WeaponBuff_Three][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_Three][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_Three][weapon] = 0.0;
	               	
		        }
		        RemoveItemFromInv(playerid, ITEM_NAME_WEAPON_UPGRADER, 1);
			}
		}
		case 2:
	    {
	        new wpsk = WeaponSkill[playerid][weapon];
	        if(wpsk <= 11)
	        {
		        if(random(UniqueUpgraderRandomizer[wpsk]) <= UniqueUpgraderChances[wpsk])
		        {
		            SendClientMessage(playerid, -1, "{FFF000}>> Weapon successfully upgraded");
				    SendClientMessageFormat(playerid, -1, "{FFF000}>> +%d %s changed to +%d %s!", WeaponSkill[playerid][weapon], wn, WeaponSkill[playerid][weapon] + 1, wn);
					WeaponSkill[playerid][weapon]++;
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
		        }
		        else
		        {
	       			SendClientMessageFormat(playerid, -1, "{FF0000}>> Failure to upgrade +%d %s", WeaponSkill[playerid][weapon], wn);
	       			WeaponSkill[playerid][weapon] = 0;
	       			WeaponsInfo[playerid][WeaponBuff_One][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_One][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_One][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_One][weapon] = 0.0;

	    			WeaponsInfo[playerid][WeaponBuff_Two][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_Two][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_Two][weapon] = 0.0;

	    			WeaponsInfo[playerid][WeaponBuff_Three][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_Three][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_Three][weapon] = 0.0;
	               	PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
		        }
		        RemoveItemFromInv(playerid, ITEM_NAME_U_WEAPON_UPGRADER, 1);
			}
		}
		case 3:
	    {
	        new wpsk = WeaponSkill[playerid][weapon];
	        if(wpsk <= 11)
	        {
		        if(random(LegendaryUpgraderRandomizer[wpsk]) <= LegendaryUpgraderChances[wpsk])
		        {
		            SendClientMessage(playerid, -1, "{FFF000}>> Weapon successfully upgraded");
				    SendClientMessageFormat(playerid, -1, "{FFF000}>> +%d %s changed to +%d %s!", WeaponSkill[playerid][weapon], wn, WeaponSkill[playerid][weapon] + 1, wn);
					WeaponSkill[playerid][weapon]++;
					PlayerPlaySound(playerid, 1058, 0.0, 0.0, 0.0);
		        }
		        else
		        {
	       			SendClientMessageFormat(playerid, -1, "{FF0000}>> Failure to upgrade +%d %s", WeaponSkill[playerid][weapon], wn);
	       			WeaponSkill[playerid][weapon] = 0;
	               	PlayerPlaySound(playerid, 6603, 0.0, 0.0, 0.0);
	               	WeaponsInfo[playerid][WeaponBuff_One][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_One][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_One][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_One][weapon] = 0.0;

	    			WeaponsInfo[playerid][WeaponBuff_Two][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_Two][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_Two][weapon] = 0.0;

	    			WeaponsInfo[playerid][WeaponBuff_Three][weapon] = -1;
				 	WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapon] = 0;
					WeaponsInfo[playerid][WeaponBuff_Time_Three][weapon] = -1;
	    			WeaponsInfo[playerid][WeaponBuff_Power_Three][weapon] = 0.0;
		        }
		        RemoveItemFromInv(playerid, ITEM_NAME_L_WEAPON_UPGRADER, 1);
			}
		}
	}
    PlayerSelectWeaponToUpgrade[playerid] = -1;
	PlayerSelectUpgraderToWeapon[playerid] = -1;
}

stock ShowArmourInfo(playerid, upgr)
{
    new bdpt = 0, dodge, temp[512], str[1024];
  	format(temp, sizeof(temp), "\n\n{0080ff}Do you want to sell{FFF000} +%d %s{0080ff} in {FFFFFF}/shop?\n\n", CharacterSkill[playerid][upgr], chs_n[upgr]);
	strcat(str, temp);

	switch(upgr)
	{
	    case 0: bdpt = 9;
	    case 1: bdpt = 3;
	    case 2: bdpt = 5;
	    case 3: bdpt = 7;
	}
	
	dodge = GiveArmourDodge(playerid, bdpt);
    if(dodge <= -1)
	{
	    format(temp, sizeof(temp), "{6666ff}- The probability of crit. damage:{8080ff} -%d\n", abs(dodge));
		strcat(str, temp);
	    format(temp, sizeof(temp), "{e0ebeb}- Chance of additional damage absorption:{c1d7d7} %d '/.\n", min(75, floor((float(abs(dodge))/10.0)*100)));
		strcat(str, temp);
	}
	
	dodge = TakeAdditionalDamage(playerid, bdpt);
	if(dodge >= 1)
	{
	    format(temp, sizeof(temp), "{e0ebeb}- Additional damage absorbed:{c1d7d7} %d\n", dodge);
		strcat(str, temp);
	}
	
	if(CharArInfo[playerid][CharAR_Buff_One][upgr] > -1)
	{
	    format(temp, sizeof(temp), "\n{ffd11a}Effect #1: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[CharArInfo[playerid][CharAR_Buff_One][upgr]], CharArInfo[playerid][CharAR_Power_One][upgr]);
		strcat(str, temp);
	}
	else strcat(str, "\n{ffd11a}Effect #1: None\n");
	
	if(CharArInfo[playerid][CharAR_Buff_Two][upgr] > -1)
	{
	    format(temp, sizeof(temp), "{ffd11a}Effect #2: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[CharArInfo[playerid][CharAR_Buff_Two][upgr]], CharArInfo[playerid][CharAR_Power_Two][upgr]);
		strcat(str, temp);
	}
	else strcat(str, "{ffd11a}Effect #2: None\n");
	
	if(CharArInfo[playerid][CharAR_Buff_Three][upgr] > -1)
	{
	    format(temp, sizeof(temp), "{ffd11a}Effect #3: %s lvl. %d:{c1d7d7} %d\n", CharAr_Name[CharArInfo[playerid][CharAR_Buff_Three][upgr]], CharArInfo[playerid][CharAR_Power_Three][upgr]);
		strcat(str, temp);
	}
	else strcat(str, "{ffd11a}Effect #3: None\n");
	
	strcat(str, "\n\n");
	
    ShowPlayerDialog(playerid, DIALOG_SELL_CHAR, DIALOG_STYLE_MSGBOX, "Armour - Upgrade - Selling", str, "Yes", "Close");
}

stock ShowWeaponInfo(playerid, weapid)
{
	new buff[32], temp[256], str[700];
    switch(WeaponsInfo[playerid][WeaponBuff_One][weapid])
	{
	    case chaos_POISONING: strcat(buff, chaos_wordsS[chaos_POISONING]);
	    case chaos_BLEEDING: strcat(buff, chaos_wordsS[chaos_BLEEDING]);
	    case chaos_RADIATION: strcat(buff, chaos_wordsS[chaos_RADIATION]);
	    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsS[chaos_HOLY_AMMO]);
	    case chaos_BLESSING: strcat(buff, chaos_wordsS[chaos_BLESSING]);
	    case chaos_ARSON: strcat(buff, chaos_wordsS[chaos_ARSON]);
	    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsS[chaos_ARMOR_DESTRUCTION]);
	    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsS[chaos_KNOCK_OVER]);
	    case chaos_TORMENT: strcat(buff, chaos_wordsS[chaos_TORMENT]);
	    case chaos_DISCHARGE: strcat(buff, chaos_wordsS[chaos_DISCHARGE]);
	    default: strcat(buff, "");
	}
    switch(WeaponsInfo[playerid][WeaponBuff_Two][weapid])
	{
	    case chaos_POISONING: strcat(buff, chaos_wordsM[chaos_POISONING]);
	    case chaos_BLEEDING: strcat(buff, chaos_wordsM[chaos_BLEEDING]);
	    case chaos_RADIATION: strcat(buff, chaos_wordsM[chaos_RADIATION]);
	    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsM[chaos_HOLY_AMMO]);
	    case chaos_BLESSING: strcat(buff, chaos_wordsM[chaos_BLESSING]);
	    case chaos_ARSON: strcat(buff, chaos_wordsM[chaos_ARSON]);
	    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsM[chaos_ARMOR_DESTRUCTION]);
	    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsM[chaos_KNOCK_OVER]);
	    case chaos_TORMENT: strcat(buff, chaos_wordsM[chaos_TORMENT]);
	    case chaos_DISCHARGE: strcat(buff, chaos_wordsM[chaos_DISCHARGE]);
	    default: strcat(buff, "");
	}
	switch(WeaponsInfo[playerid][WeaponBuff_Three][weapid])
	{
	    case chaos_POISONING: strcat(buff, chaos_wordsE[chaos_POISONING]);
	    case chaos_BLEEDING: strcat(buff, chaos_wordsE[chaos_BLEEDING]);
	    case chaos_RADIATION: strcat(buff, chaos_wordsE[chaos_RADIATION]);
	    case chaos_HOLY_AMMO: strcat(buff, chaos_wordsE[chaos_HOLY_AMMO]);
	    case chaos_BLESSING: strcat(buff, chaos_wordsE[chaos_BLESSING]);
	    case chaos_ARSON: strcat(buff, chaos_wordsE[chaos_ARSON]);
	    case chaos_ARMOR_DESTRUCTION: strcat(buff, chaos_wordsE[chaos_ARMOR_DESTRUCTION]);
	    case chaos_KNOCK_OVER: strcat(buff, chaos_wordsE[chaos_KNOCK_OVER]);
	    case chaos_TORMENT: strcat(buff, chaos_wordsE[chaos_TORMENT]);
	    case chaos_DISCHARGE: strcat(buff, chaos_wordsE[chaos_DISCHARGE]);
	    default: strcat(buff, "");
	}

	new buff0 = WeaponsInfo[playerid][WeaponBuff_One][weapid],
		buff1 =  WeaponsInfo[playerid][WeaponBuff_Two][weapid],
		buff2 = WeaponsInfo[playerid][WeaponBuff_Three][weapid],

		chance0 = WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid],
		time0 = WeaponsInfo[playerid][WeaponBuff_Time_One][weapid],
		Float:power0 = WeaponsInfo[playerid][WeaponBuff_Power_One][weapid],

		chance1 = WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid],
		time1 = WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid],
		Float:power1 = WeaponsInfo[playerid][WeaponBuff_Power_Two][weapid],

		chance2 = WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid],
		time2 = WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid],
		Float:power2 = WeaponsInfo[playerid][WeaponBuff_Power_Three][weapid],

		l = Player[playerid][pLang];


	new wn[32];
 	GetWeaponName(weapid, wn, sizeof(wn));
  	format(temp, sizeof(temp), "\n\n{0080ff}Do you want to sell{FFF000} +%d %s{0080ff} in {FFFFFF}/shop?\n\n", WeaponSkill[playerid][weapid], wn);
	strcat(str, temp);

	new crc = GiveWeaponCriticalChance(playerid, weapid);
    if(crc >= 1)
    {
	    format(temp, sizeof(temp), "{e0ebeb}- Critical Hit Chance:{c1d7d7} %d '/.\n", min(75, floor((float(crc)/10.0)*100)));
		strcat(str, temp);
		format(temp, sizeof(temp), "{6666ff}- Additional Critical Damage:{8080ff} %.0f\n\n", GiveWeaponCriticalDamage(playerid, weapid));
		strcat(str, temp);
    }

	if(buff0 > -1)
	{
		format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n", chaosEffect[l][buff0], chance0, time0, power0);
        strcat(str, temp);
	}
	if(time0 <= 0) strcat(temp, "{0099ff}- Effect #1: None\n");
	
	if(buff1 > -1)
	{
		format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n", chaosEffect[l][buff1], chance1, time1, power1);
		strcat(str, temp);
	}
	if(time1 <= 0) strcat(temp, "{0099ff}- Effect #2: None\n");
	
	if(buff2 > -1)
	{
		format(temp, sizeof(temp), "{0099ff}+ %s %d '/. %d sec ~ Power: %.2f\n\n", chaosEffect[l][buff2], chance2, time2, power2);
		strcat(str, temp);
	}
	if(time2 <= 0) strcat(temp, "{0099ff}- Effect #3: None\n\n");
	
    ShowPlayerDialog(playerid, DIALOG_SELL_WEAPON, DIALOG_STYLE_MSGBOX, "Weapons - Upgrade - Selling", str, "Yes", "Close");
}

stock ReturnArmourIDByBodypart(bodypart)
{
	switch(bodypart)
 	{
	    case 9: return 0;
	    case 3,4: return 1;
		case 5,6: return 2;
		case 7,8: return 3;
		default: return 1;
	}
	return 1;
}

stock GiveWeaponCriticalChance(playerid, weaponid)
{
	switch(weaponid)
	{
	    case 22,23,24,33,34:
	    {
			switch(WeaponSkill[playerid][weaponid])
			{
				case 5: return 1;
				case 6: return 2;
				case 7: return 3;
				case 8: return 4;
				case 9: return 5;
				case 10: return 6;
				case 11: return 7;
				case 12: return 8;
			}
		}
		case 25,26,27:
		{
		    switch(WeaponSkill[playerid][weaponid])
			{
				case 5: return 1;
				case 6: return 1;
				case 7: return 1;
				case 8: return 2;
				case 9: return 2;
				case 10: return 3;
				case 11: return 3;
				case 12: return 4;
			}
		}
		case 28,29,30,31:
		{
		    switch(WeaponSkill[playerid][weaponid])
			{
				case 7: return 1;
				case 8: return 1;
				case 9: return 1;
				case 10: return 2;
				case 11: return 2;
				case 12: return 3;
			}
		}
	}
 	return 0;
}

stock Float:GiveWeaponCriticalDamage(playerid, weaponid)
{
	switch(weaponid)
	{
	    case 28,29,30,31:
		{
		    switch(WeaponSkill[playerid][weaponid])
			{
				case 7: return 2.0;
				case 8: return 2.0;
				case 9: return 2.0;
				case 10: return 5.0;
				case 11: return 5.0;
				case 12: return 9.0;
			}
		}
	    case 24,33,34:
	    {
			switch(WeaponSkill[playerid][weaponid])
			{
				case 5: return 2.0;
				case 6: return 4.0;
				case 7: return 6.0;
				case 8: return 8.0;
				case 9: return 10.0;
				case 10: return 12.0;
				case 11: return 14.0;
				case 12: return 16.0;
			}
		}
		case 25,26,27:
		{
		    switch(WeaponSkill[playerid][weaponid])
			{
				case 5: return 8.0;
				case 6: return 10.0;
				case 7: return 12.0;
				case 8: return 15.0;
				case 9: return 15.0;
				case 10: return 18.0;
				case 11: return 18.0;
				case 12: return 25.0;
			}
		}
	}
	return 0.0;
}

stock GiveArmourDodge(&playerid, bodypart)
{
    switch(CharacterSkill[playerid][ReturnArmourIDByBodypart(bodypart)])
    {
        case 7: if(bodypart == 9) return -3; else return -1;
        case 8: if(bodypart == 9) return -4; else return -1;
        case 9: if(bodypart == 3) return -6; else return -3;
        case 10: if(bodypart == 3) return -7; else return -5;
        case 11: if(bodypart == 3) return -11; else return -8;
        case 12: if(bodypart == 3) return -21; else return -11;
        default: return 0;
    }
    return 0;
}

stock TakeAdditionalDamage(&playerid, bodypart)
{
    switch(CharacterSkill[playerid][ReturnArmourIDByBodypart(bodypart)])
    {
        case 7: return 3;
        case 8: return 5;
        case 9: return 8;
        case 10: return 11;
        case 11: return 15;
        case 12: return 21;
        default: return 0;
    }
    return 0;
}

stock GiveArmourDefence(&playerid, &Float:damage, arid)
{
    if(gettime() < ARDestructionTime[playerid])
    {
        damage += (damage * 1.5);
        switch(CharacterSkill[playerid][arid])
    	{
    	    case 7: damage -= 3.0;
            case 8: damage -= 5.0;
            case 9: damage -= 8.0;
            case 10: damage -= 11.0;
            case 11: damage -= 15.0;
            case 12: damage -= 21.0;
    	}
        return 1;
    }
    
    switch(CharacterSkill[playerid][arid])
    {
        case 0: damage += (damage * 1.5);
        case 1: damage += (damage * 1.221);
        case 2: damage += (damage * 1.125);
        case 3: damage += (damage * 1.04);
        case 4: damage += (damage * 0.96);
        case 5: damage -= (damage * 0.048);
        case 6: damage -= (damage * 0.091);
        case 7:
        {
            damage -= (damage * 0.131);
            if(random(2) == 0) damage -= 3.0;
        }
        case 8:
        {
            damage -= (damage * 0.14);
            if(random(2) == 0) damage -= 5.0;
        }
        case 9:
        {
            damage -= (damage * 0.20);
            if(random(2) == 0) damage -= 8.0;
        }
        case 10:
        {
            damage -= (damage * 0.259);
            if(random(2) == 0) damage -= 11.0;
        }
        case 11:
        {
            damage -= (damage * 0.31);
            if(random(2) == 0) damage -= 15.0;
        }
        case 12:
        {
            damage -= (damage * 0.375);
            if(random(2) == 0) damage -= 21.0;
        }
    }
    return 1;
}

fun TryToFindAnItemInShop(playerid)
{
	if(cache_num_rows() > 0)
	{
		new index = Player[playerid][isInBying][0], query[512];
		if(OnlineShop[playerid][eps_type][index] == 9)
	    {
	    	new iindex, itype, wbuff[3], chance[3], time[3];
	        switch(index)
	        {
	            case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
	            case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iiiiiiiiiii", iindex, itype, wbuff[0], wbuff[1], wbuff[2], chance[0], chance[1], chance[2], time[0], time[1], time[2]);
			}

			new weapid = iindex;
			CharacterSkill[playerid][weapid] = itype;

			CharArInfo[playerid][CharAR_Buff_One][weapid] = wbuff[0];
		 	CharArInfo[playerid][CharAR_Buff_Two][weapid] = wbuff[1];
			CharArInfo[playerid][CharAR_Buff_Three][weapid] = wbuff[2];

			CharArInfo[playerid][CharAR_Buff_Time_One][weapid] = chance[0];
			CharArInfo[playerid][CharAR_Buff_Time_Two][weapid] = chance[1];
		 	CharArInfo[playerid][CharAR_Buff_Time_Three][weapid] = chance[2];

			CharArInfo[playerid][CharAR_Power_One][weapid] = time[0];
			CharArInfo[playerid][CharAR_Power_Two][weapid] = time[1];
			CharArInfo[playerid][CharAR_Power_Three][weapid] = time[2];

	        mysql_format(Base, query, sizeof(query), "DELETE FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
	    	mysql_tquery(Base, query, "", "", "");

			Player[playerid][isInBying][0] = -1;

			return 1;
		}

		if(OnlineShop[playerid][eps_type][index] == 8)
	    {
	        new iindex, itype, wbuff[3], chance[3], time[3], Float:power[3];
	        switch(index)
	        {
	            case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
	            case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iiiiifiiifiiif", iindex, itype, wbuff[0], chance[0], time[0], power[0], wbuff[1], chance[1], time[1], power[1], wbuff[2], chance[2], time[2], power[2]);
			}

			new weapid = iindex;
			WeaponSkill[playerid][weapid] = itype;

		    WeaponsInfo[playerid][WeaponBuff_One][weapid] = wbuff[0];
		 	WeaponsInfo[playerid][WeaponBuff_Chance_One][weapid] = chance[0];
			WeaponsInfo[playerid][WeaponBuff_Time_One][weapid] = time[0];
			WeaponsInfo[playerid][WeaponBuff_Power_One][weapid] = power[0];

			WeaponsInfo[playerid][WeaponBuff_Two][weapid] = wbuff[1];
		 	WeaponsInfo[playerid][WeaponBuff_Chance_Two][weapid] = chance[1];
			WeaponsInfo[playerid][WeaponBuff_Time_Two][weapid] = time[1];
			WeaponsInfo[playerid][WeaponBuff_Power_Two][weapid] = power[1];

			WeaponsInfo[playerid][WeaponBuff_Three][weapid] = wbuff[2];
		 	WeaponsInfo[playerid][WeaponBuff_Chance_Three][weapid] = chance[2];
			WeaponsInfo[playerid][WeaponBuff_Time_Three][weapid] = time[2];
			WeaponsInfo[playerid][WeaponBuff_Power_Three][weapid] = power[2];

			mysql_format(Base, query, sizeof(query), "DELETE FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
	    	mysql_tquery(Base, query, "", "", "");

			Player[playerid][isInBying][0] = -1;

			return 1;
		}

		if(TryToAdd(playerid, OnlineShop[playerid][eps_inx][index], 0))
		{
	        switch(OnlineShop[playerid][eps_inx][index])
		    {
		        case ITEM_NAME_EFF_AMPLIFIER, ITEM_NAME_COLOR_AMPLIFIER, ITEM_NAME_PET_AMPLIFIER, ITEM_NAME_CHAOS_SMALL_CHEST, ITEM_NAME_CHAOS_BIG_CHEST, ITEM_NAME_CHAOS_CHEST:
		        {
		            new iindex, itype, iprog;
		            switch(index)
		            {
		                case 0: sscanf(OnlineShop[playerid][eps_info_0], "p<,>iii", iindex, itype, iprog);
	                    case 1: sscanf(OnlineShop[playerid][eps_info_1], "p<,>iii", iindex, itype, iprog);
	                    case 2: sscanf(OnlineShop[playerid][eps_info_2], "p<,>iii", iindex, itype, iprog);
	                    case 3: sscanf(OnlineShop[playerid][eps_info_3], "p<,>iii", iindex, itype, iprog);
	                    case 4: sscanf(OnlineShop[playerid][eps_info_4], "p<,>iii", iindex, itype, iprog);
	                    case 5: sscanf(OnlineShop[playerid][eps_info_5], "p<,>iii", iindex, itype, iprog);
	                    case 6: sscanf(OnlineShop[playerid][eps_info_6], "p<,>iii", iindex, itype, iprog);
	                    case 7: sscanf(OnlineShop[playerid][eps_info_7], "p<,>iii", iindex, itype, iprog);
	                    case 8: sscanf(OnlineShop[playerid][eps_info_8], "p<,>iii", iindex, itype, iprog);
	                    case 9: sscanf(OnlineShop[playerid][eps_info_9], "p<,>iii", iindex, itype, iprog);
					}
		            //AddItemInInv(playerid, OnlineShop[playerid][eps_inx][index], OnlineShop[playerid][eps_count][index], 0, -1, 0, 0, false, iindex, itype, iprog);
	                AddItemInInv(playerid, OnlineShop[playerid][eps_inx][index], OnlineShop[playerid][eps_count][index], OnlineShop[playerid][eps_vip][index], -1, 0, 0, false, iindex, itype, iprog);
				}
		        default: AddItemInInv(playerid, OnlineShop[playerid][eps_inx][index], OnlineShop[playerid][eps_count][index]);
			}
			mysql_format(Base, query, sizeof(query), "DELETE FROM `auction` WHERE `ID` = '%d'", OnlineShop[playerid][eps_id][index]);
	    	mysql_tquery(Base, query, "", "", "");
		}
	    Player[playerid][isInBying][0] = -1;
	}
	else
	{
	    ShowPlayerDialog(playerid, DIALOG_INFO, DIALOG_STYLE_MSGBOX, "OPS", "Something went wrong...", "Ok", "");
	}
	Player[playerid][isInBying][0] = -1;
	return 1;
}

stock TryToAddAmmoOrAntidote(playerid, dropper_id)
{
	if(IsPlayerConnected(dropper_id))
	{
    	if(GetPlayerTeamEx(dropper_id) == TEAM_ZOMBIE && Player[dropper_id][pClass][TEAM_ZOMBIE+1] == FLESHERZOMBIE && !Player[playerid][IsPlayerInfected])
		{
			if(classCanBeInfected(playerid) && Player[playerid][pClass][TEAM_HUMAN] != SCAVENGER)
 			{
				InfectPlayer(9999.9, playerid, dropper_id);
    			foreach(Player, j) SendClientMessageFormat(j, -1, serverLang[Player[j][pLang]][74], Player[playerid][UserName], Player[dropper_id][UserName]);
       			GivePlayerXP(dropper_id, 2);
          		return 1;
       		}
       		else{
   				TryToAddAmmoOrAntidote(playerid, -1);
   				return 1;
       		}
		}
	}

    if(random(3) == 0 && Player[playerid][IsPlayerInfected])
    {
        CurePlayer(playerid);
        GameTextForPlayer(playerid,"~g~ANTEDOTE TAKEN", 2000, 5);
        return 1;
    }
    else if(!Player[playerid][IsPlayerInfected])
	{
	    new slot, weap, ammo, randomammo = 0, scva = 0, gunname[32];
	    if(GetPlayerTeamEx(playerid) == TEAM_HUMAN && Player[playerid][pClass][TEAM_HUMAN] == SCAVENGER) scva = 5;
	    
	    for ( slot = 0; slot < 14; slot++ )
	    {
	        GetPlayerWeaponData(playerid, slot, weap, ammo);
	        if(IsValidWeapon(weap))
	        {
	        	if(weap != 24 && weap != 25) randomammo = (10+scva) + random(30);
	        	else randomammo = 2 + random(5+scva);
			}
			
	        GetWeaponName(weap, gunname, sizeof(gunname));
	        if(GetPVarInt(playerid, gunname) >= 1 && weap <= 32 && weap != 27 && weap != 16)
			{
				GivePlayerWeaponAC(playerid, weap, GetPVarInt(playerid, gunname) + randomammo, false);
				SetPlayerAmmoAC(playerid, weap, ammo + randomammo);
			}
		}
		switch(Player[playerid][pLang])
	    {
			case 0, 2: SendClientMessage(playerid, -1, "{FFFFFF}|: You picked up meat and you've found some ammo");
			case 1: SendClientMessage(playerid, -1, "{FFFFFF}|:  Вы подобрали мясо и нашли немного патронов");
		}
		return 1;
	}
	return 1;
}
/// FOR FS EVENTS
fun sf_GiveXP(playerid, exp, show)
{
	GivePlayerXP(playerid, exp);
	if(show) {
	    SendClientMessageFormat(playerid, -1, "You was given %d EXP!", exp);
	}
    return playerid+1;
}

fun sf_AddItemInInv(playerid, item, ct, vip, time, drop)
{
    if(TryToAdd(playerid, item, 0)) {
        AddItemInInv(playerid, item, ct, vip, time, drop);
        return 1;
	}
	return 0;
}

fun sf_RemoveItemFromInv(playerid, item, count, bool:say) {
    RemoveItemFromInv(playerid, item, count, say);
}

fun sf_ShowShop(playerid) {
	new str[2];
	format(str, sizeof(str), "");
	sf_ServerAuction(playerid, str);
}

fun sf_ShowInv(playerid) {
    ShowInvItems(playerid);
}

fun sf_SetEXPForMap(exp) {
    Map[m_XPType] = exp;
}
